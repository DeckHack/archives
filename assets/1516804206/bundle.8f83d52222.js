webpackJsonp([0],[,function(e,t,i){var n=i(12),s=i(74),r=i(50),o=i(51),a=i(65),c=function(e,t,i){var l,u,d,h,p=e&c.F,f=e&c.G,m=e&c.S,g=e&c.P,v=e&c.B,T=f?n:m?n[t]||(n[t]={}):(n[t]||{}).prototype,_=f?s:s[t]||(s[t]={}),y=_.prototype||(_.prototype={});f&&(i=t);for(l in i)u=!p&&T&&void 0!==T[l],d=(u?T:i)[l],h=v&&u?a(d,n):g&&"function"==typeof d?a(Function.call,d):d,T&&o(T,l,d,e&c.U),_[l]!=d&&r(_,l,h),g&&y[l]!=d&&(y[l]=d)};n.core=s,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},,function(e,t,i){"use strict";function n(e){e=e.replace(p,"/");var t=f[e];return void 0===t&&(t=l.getHogan(e),t=u.compile(t,m),f[e]=t),t}function s(e,t){var i=this.partials[e];return t=t||{},t[i.name]||(t[i.name]=n(i.name)),Hogan.Template.prototype.ep.call(this,e,t)}function r(e,t,i){for(var n=Hogan.parse.call(this,e,t,i),s="",r=0;r<n.length;r++)if("_v"===n[r].tag&&0===n[r].n.indexOf("%TRANSLATION-HINT")){var a=n.splice(r,1)[0];r--,s=a.n.substring(a.n.indexOf("mode=")+"mode=".length)}return o(n,s,t,i)}function o(e,t,i,n){for(var s=[],r=0;r<e.length;r++)if("#"===e[r].tag&&"_i"===e[r].n){var l=c(i.substring(e[r].i,e[r].end),t);"raw"===l.tag?s.push(l):Array.prototype.push.apply(s,Hogan.parse(Hogan.scan(l,n.delimiters),i,n))}else"#"===e[r].tag||"^"===e[r].tag||"<"===e[r].tag||"$"===e[r].tag?(e[r].nodes=o(e[r].nodes,t,i,n),s.push(e[r])):s.push(e[r]);return a(s)}function a(e){if(0===e.length)return e;for(var t=[e[0]],i=1;i<e.length;i++)if("_t"!==t[t.length-1].tag||"\n"!==e[i].tag&&"_t"!==e[i].tag)t.push(e[i]);else{var n=t[t.length-1],s=e[i].text;void 0===s&&(s="\n"),n.text+=""+s}return t}function c(e,t){var i;return i=""!==t?{text:e,mode:t}:e,TD.i(i,null,!0)}var l={};e.exports=l;var u,d,h,p=/\\/g,f={},m={sectionTags:[{o:"_i",c:"i"}]};h=function(e,t,i,n){this.ep=s,Hogan.Template.call(this,e,t,i,n)},h.prototype=Hogan.Template.prototype,d=function(){},d.prototype=Hogan,u=new d,u.template=h,u.parse=r,l.getHogan=function(e){var t=e+".mustache",i=TD.mustaches[t];return void 0===i?console.error('TD.mustaches["'+t+'"] is not defined'):i=i.trim(),i},l.render=function(e,t,i){var s,r=n(e),o=[];t=t||{};for(var a in TD.globalRenderOptions)void 0===t[a]&&(t[a]=TD.globalRenderOptions[a],o.push(a));return s=r.render(t,i),o.forEach(function(e){delete t[e]}),s.trim()},l.toHtml=function(e,t,i){return u.compile(e,m).render(t,i).trim()},l.toHtmlFromRaw=function(e,t){return Hogan.compile(e).render(t)},l.toURLFromRaw=function(e,t){return e.replace(/\{\{([^}]+?)\}\}/g,function(e,i){return encodeURIComponent(t[i])})}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({_isConnected:!1}),this.before("initialize",function(){this._isInitialized=!1}),this.after("initialize",function(){var e=this;this.attr._isConnected&&"function"!=typeof this.render&&!f&&(f=!0,console.warn('Connected components must have a render method. "'+this.toString()+'" does not have one.')),this._connectObservable=new m(this.state),this.attr._isConnected?this._connectAndGetProps():this.props={},this.around("replaceState",function(t,i){var n=e._isInitialized&&!(!i||"object"!==(void 0===i?"undefined":(0,a.default)(i)))&&e._shouldComponentUpdate(e.props,i);t.call(e,i),e._notifyAndRender({shouldRender:n})}),this._componentDidInitialize(),this._isInitialized=!0,this._render()}),this.after("didTeardownChild",function(){this._componentWillTeardown()}),this._connectAndGetProps=function(){"function"==typeof this.__connectAndGetProps&&this.__connectAndGetProps()},this._componentDidInitialize=function(){"function"==typeof this.componentDidInitialize&&this.componentDidInitialize()},this._shouldComponentUpdate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return"function"!=typeof this.shouldComponentUpdate||this.shouldComponentUpdate(e,t)},this._componentWillReceiveProps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if("function"==typeof this.componentWillReceiveProps)return void this.componentWillReceiveProps(e);void 0!==this.componentWillReceiveProps&&console.warn("componentWillReceiveProps expects to be a function.")},this._notifyAndRender=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shouldRender,i=void 0===t||t;this._notify(),i&&this._render()},this._notify=function(){this._connectObservable.next(this.state)},this._render=function(){"function"==typeof this.render&&this.render()},this._componentWillTeardown=function(){"function"==typeof this.componentWillTeardown&&this.componentWillTeardown()},this.connect=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e.prototype.mixedIn||[]).includes(s))throw new Error("Component passed into connect must use UiBase");return e.mixin(r(this._connectObservable,t))}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.mapStateToProps,n=void 0===i?function(){return{}}:i;return function(){var t=null;this.attributes({_isConnected:!0}),this.__connectAndGetProps=function(){this._boundObserver=this._observe.bind(this),t=e.subscribe(this._boundObserver)},this.after("teardown",function(){t&&t.unsubscribe(this._boundObserver)}),this._observe=function(e){var t=n(e,this.attr);this._componentWillReceiveProps(t);var i=this._isInitialized&&this._shouldComponentUpdate(t);this.props=t,this._notifyAndRender({shouldRender:i})}}}var o=i(105),a=n(o),c=i(79),l=n(c),u=i(80),d=n(u),h=i(89),p=n(h);e.exports=p.default.mixin(s);var f=!1,m=function(){function e(t){(0,l.default)(this,e),this.value=t,this.observers=[]}return(0,d.default)(e,[{key:"subscribe",value:function(e){var t=this;return this.observers.push(e),this._notify(e),{unsubscribe:function(e){t.observers=t.observers.filter(function(t){return t!==e})}}}},{key:"next",value:function(e){var t=this;this.value=e,this.observers.forEach(function(e){t._notify(e)})}},{key:"_notify",value:function(e){try{e(this.value)}catch(e){console.warn("Observer threw an error when called with value: ",this.value),console.error(e.stack)}}}]),e}();e.exports.connect=function(e){return function(t){return t.mixin(r(e,{mapStateToProps:function(e){return e}}))}}},,function(e,t,i){"use strict";var n=i(724),s=function(e){return e&&e.__esModule?e:{default:e}}(n);t.showErrorNotification=function(e){var t=e.timeoutDelayMs||7e3;return s.default.addDanger({bodyText:e.message,timeoutDelayMs:t})},t.showNotification=function(e){var t=e.timeoutDelayMs||3e3;return s.default.add({titleText:e.title,bodyText:e.message,timeoutDelayMs:t})},t.removeNotification=function(e){setTimeout(function(){s.default.remove(e.notification)},e.timeoutDelayMs||3e3)},t.updateNotification=function(e){s.default.update(e.notification,{bodyText:e.message}),e.remove&&t.removeNotification(e)}},,,,,function(e,t,i){var n=i(16);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(43),r=n(s),o=i(60),a=n(o),c=i(449),l=n(c),u=i(282);e.exports=function(){var e,t=0,i=/(.+)(?:_normal)\.(\w+)$/,n=new RegExp("<(?:.|\\n)*?>","gm"),s=/\B(?=(\d{3})+(?!\d))/g,o=/^[@\uff20]?/,c=/^https?:\/\/twitter\.com\/([a-zA-Z0-9_-]+)(?:(?:\/status(?:es)?\/([0-9]+))?|(?:(\/(?:lists|timelines)\/)|\/)?([a-zA-Z0-9_-]+))\/?(\?.*)?$/,d=/^#column=([a-zA-Z0-9+\/=]+)$/,h=/^https?:\/\/tweetdeck.twitter.com\/(#[a-zA-Z0-9+\/=]+)$/,p=["404","500","about","account","help","jobs","privacy","search","search-advanced","search-home","tos"],f=!isNaN(new Date("Mon Oct 08 16:34:01 +0000 2012").getTime());return $.subscribe("/date",function(e){var i=TD.util.parseDateString(e).getTime(),n=(new Date).getTime();t=i-n}),{ANCHOR_TAG_REGEXP:/href=/g,LT_REGEXP:/</g,GT_REGEXP:/>/g,SINGLE_QUOTE_REGEXP:/'/g,QUOTE_REGEXP:/"/g,TWITTER_USERNAME_REGEXP:/@([A-Za-z0-9_]+)/g,parseDateString:function(e){return!f&&e?new Date(Date.parse(e.replace(/( \+)/," UTC$1"))):new Date(e)},parseISO8601:function(e){return new Date(Date.parse(e))},iso8601:function(e){return(e||new Date).toISOString()},unixTime:function(e){return Math.round(e.getTime()/1e3)},prettyDateFromUnixTimestamp:function(e){return a.default.unix(e).format("D MMM YYYY")},prettyDate:function(e){var t=(0,a.default)().subtract(1,"week");return(0,a.default)().isSame(e,"year")?(0,a.default)(e).isBefore(t)?TD.util.prettyMonthDayString(e):TD.util.timeAgo(e.getTime(),{longForm:!1,adjustSystemTime:!0}):TD.util.prettyDateString(e)},quotedForRegExp:function(e){return String(e||"").replace(/([.\\+*?[^\]$(){}=!<>|:\/\-])/g,"\\$1")},clean:function(e){if(!e)return e;var t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.toString().replace(/[<>"']/g,function(e){return t[e]})},removeHTMLCodes:function(e){var t={"&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&#39;":"'","&amp;":"&"};return e.replace(/&(?:lt|gt|quot|apos|#39|amp);/g,function(e){return t[e]})},stripHTMLTags:function(e){return e.replace(n,"")},htmlToText:function(e){return $("<div>"+e+"</div>").text()},h:function(e){var t=$("<div/>"),i=function(e){return e?t.text(e).html().replace(/\"/gi,"&quot;"):e};return this.h=function(e){return i(e)},i(e)},transform:function(e,t){return e?(t=t||{},this.updateEntities(e,t),this.linkify(e,t)):""},cleanWithEmoji:function(e){return e?(e=this.clean(e),TD.decider.get("tweets_emoji")&&(e=l.default.parse(e)),e):""},updateEntities:function(e,t){var i,n,s,r,o,a=twttrTxt.modifyIndicesFromUnicodeToUTF16;if(t.convertedToUTF16)return t;for(t.convertedToUTF16=!0,t.media&&t.media.length?a(e,t.media):t.media=[],t.urls&&t.urls.length?a(e,t.urls):t.urls=[],t.hashtags&&t.hashtags.length?a(e,t.hashtags):t.hashtags=this.extractHashtagEntities(e),t.user_mentions&&t.user_mentions.length?a(e,t.user_mentions):t.user_mentions=[],t.cashtags=twttrTxt.extractCashtagsWithIndices(e),i=this.extractMentionEntities(e),n=0,s=i.length;n<s;n++)r=i[n],o=this.getEntityOverlap(r,t),o?r.list_slug&&r.indices[0]===o.indices[0]&&(o.indices=r.indices,o.list_slug=r.list_slug):t.user_mentions.push(r);return t},extractMentionEntities:function(e){var t=twttrTxt.extractMentionsOrListsWithIndices(e);return _.each(t,function(e){e.screen_name=e.screenName,e.list_slug=e.listSlug,delete e.screenName,delete e.listSlug}),t},extractHashtagEntities:function(e){var t=twttrTxt.extractHashtagsWithIndices(e);return _.each(t,function(e){e.text=e.hashtag,delete e.hashtag}),t},getEntityOverlap:function(e,t){var i=t.urls;i=i.concat(t.media),i=i.concat(t.user_mentions),i=i.concat(t.hashtags);for(var n=0,s=i.length;n<s;n++)if(e.indices[0]<i[n].indices[1]&&e.indices[1]>i[n].indices[0])return i[n];return null},linkify:function(e,t){var i,n,s,r,o,a,c="",l=[].concat(t.urls,t.media,t.user_mentions,t.hashtags,t.cashtags).filter(Boolean);l.sort(function(e,t){return t.indices[0]-e.indices[0]});for(var d=0,h=l.length;d<h;d++)if(r=l[d],i=e.substring(0,r.indices[0]),!(r.indices[1]>e.length)){n=e.substring(r.indices[0],r.indices[1]),s=e.substring(r.indices[1]),o="",r.url?o=n===r.url?this.createUrlAnchor(r):n:r.screen_name?o=r.list_slug?TD.ui.template.render("text/list_link_slug",{slug:r.list_slug.substr(1),user:{screenName:r.screen_name},fullName:"@"+r.screen_name+r.list_slug}):r.isImplicitMention?"":TD.ui.template.render("text/profile_link",{user:{screenName:r.screen_name}}):r.text?(a={searchTerm:r.text,symbol:"#",escapedSymbol:escape("#"),hashFlagUrl:TD.decider.get("hashflags")?(0,u.hashflags)().get(r.text):null},o=TD.ui.template.render("text/search_link",a)):r.cashtag&&(a={searchTerm:r.cashtag,symbol:"$",escapedSymbol:escape("$")},o=TD.ui.template.render("text/search_link",a)),c=o+this.cleanWithEmoji(s)+c;var p=d===l.length-1;e=p&&r.isImplicitMention?"":i}return(this.cleanWithEmoji(e)+c).trim()},extractTweetIdFromPermalink:function(e){if("string"==typeof e){var t,i=e.trim().match(c);return i&&(t=i[2]),t}},extractScreenNameFromPermalink:function(e){if("string"==typeof e){var t=void 0,i=e.trim().match(c);return i&&i[1]&&(t=i[1]),t}},extractTweetDeckSharedColumnFromFragment:function(e){var t=e.match(d);return t?t[1]:""},createUrlAnchor:function(e){var t,i=e.url,n="url";if(e.isUrlForAttachment&&TD.decider.get("tweet_hide_suffix"))return"";var s,r,o,a,l=e.expanded_url||e.url,u=l.match(c),d=l.match(h),f=d?this.extractTweetDeckSharedColumnFromFragment(d[1]):"";u&&(s=u[1],r=u[2],u[3]&&(o=u[3].replace(/\//g,"")),a=u[4]);var m=s&&a&&!(r||o);(-1!==p.indexOf(s)||m)&&(s=void 0,a=void 0,r=void 0,o=void 0,f=void 0),_.startsWith(i,"https://")||_.startsWith(i,"http://")||(i="http://"+i);return t='<a href="'+TD.util.escape(i)+'" target="_blank" class="url-ext" ',e.expanded_url&&(t+='data-full-url="'+TD.util.escape(e.expanded_url)+'" '),r?(n="tweet",t+='data-tweet-id="'+r+'" '):a?(t+='data-screen-name="'+s+'" ',n="timelines"===o?"viewCustomTimeline":"list",t+='data-slug="'+a+'" '):s?(n="user",t+='data-user-name="'+s+'" '):f&&(n="importSerializedColumn",t+='data-serialized-column="'+f+'" '),n&&n.includes("url")&&(n+=" noopener noreferrer"),t+='rel="'+n+'" ',e.display_url&&e.expanded_url&&8230==e.display_url.charCodeAt(e.display_url.length-1)&&(t+='title="'+TD.util.escape(e.expanded_url)+'" '),t+=">"+TD.util.escape(e.display_url||e.url)+"</a>"},isLinkToTwitterItem:function(e){return c.test(e)},pluralise:function(e,t,i){return 1!=i?t:e},atMentionify:function(e){return e.replace(o,"@")},deMentionify:function(e){return e.replace(o,"")},selectAttrsFrom:function(e,t){for(var i={},n=0;n<t.length;n++)i[t[n]]=e[t[n]];return i},values:function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t},isEmpty:_.isEmpty,isWeb:_.memoize(function(){return/^https?:\/\//.test(document.location)}),isMacApp:_.memoize(function(){return"mac"===TD.util.getAppEnv()}),isChromeApp:_.memoize(function(){return _.startsWith(window.location.href,"chrome-extension://")}),isChrome:_.memoize(function(){return window.navigator.userAgent.indexOf("Chrome")>-1}),isFirefox:_.memoize(function(){return window.navigator.userAgent.indexOf("Gecko/")>-1}),isWrapperApp:_.memoize(function(){return Boolean(window.deck&&deck.inApp())}),isSafari:_.memoize(function(){return!(window.navigator.userAgent.indexOf("Chrome")>-1)&&window.navigator.userAgent.indexOf("AppleWebKit")>-1}),getWebkitVersion:function(){var e=window.navigator.userAgent.match(/AppleWebKit\/([\d.]+)/);return e?parseFloat(e[1]):null},getTweetDeckUserAgentString:function(){var e={clientVersion:TD.version,platform:TD.util.getAppEnv(),platformVersion:TD.util.isWrapperApp()&&void 0!==deck?deck.getWrapperVersion():""};return TD.ui.template.toHtml("Twitter-TweetDeck-blackbird-chrome/{{{clientVersion}}} {{{platform}}}/{{{platformVersion}}}",e)},getTwitterCookieUserId:function(){var e=document.cookie.match(/(?:^|;\s*)twid="(.*?)"\s*(;|$)/);if(e){var t=e[1],i=t.split("|")[0];return TD.net.util.formDecode(i).u}return""},getBearerTokenAuthHeader:function(){return"Bearer "+TD.config.bearer_token},getCsrfTokenHeader:function(){var e=document.cookie.match(/(?:^|;\s*)ct0=([0-9a-f]+)\s*(?:;|$)/);return e?e[1]:""},visibilityChangeEventName:function(){return null==e&&(void 0!==document.hidden?e="visibilitychange":void 0!==document.mozHidden?e="mozvisibilitychange":void 0!==document.msHidden?e="msvisibilitychange":void 0!==document.webkitHidden&&(e="webkitvisibilitychange")),e},documentIsHidden:function(){return document.hidden||document.mozHidden||document.msHidden||document.webkitHidden},isTouchDevice:_.memoize(function(){return TD.config.force_touchdeck||TD.config.touchdeck&&TD.util.isiOSDevice()}),isiOSDevice:_.memoize(function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)}),isUnsupportedWebWrapperVersion:function(){var e,t,i=!1,n=Boolean(TD.util.isWrapperApp()&&deck.getWrapperVersion);if(n){switch(t=deck.getWrapperVersion(),TD.util.getAppEnv()){case"mac":e=TD.minWrapperVersionMac;break;case"win":e=TD.minWrapperVersionWin}i=!e||!t||TD.util.versionComparator(t,e)<0}return i},getFullVersionString:function(){var e={version:TD.version,buildIDShort:TD.buildIDShort,appEnv:TD.util.getAppEnv()};return TD.util.isWrapperApp()&&deck.getWrapperVersion&&(e.wrapperVersion=deck.getWrapperVersion()),TD.ui.template.render("version",e)},isRetina:function(){return window.devicePixelRatio>=1.5},shouldStream:function(){return"withCredentials"in new XMLHttpRequest&&TD.settings.getUseStream()&&!TD.decider.get("disable_streaming")&&!TD.config.disable_streaming},getCurrentLocation:function(e,t,i){var n,s,r,o=Number.MAX_VALUE,a=navigator.geolocation,c=function(e){var t=e.coords.accuracy;t<o&&(n=e,o=t),t<50&&(clearTimeout(r),l())},l=function(){a.clearWatch(s),n?t(n):i&&i()};r=setTimeout(l,e),s=a.watchPosition(c,i,{enableHighAccuracy:!0})},openURL:function(e,t){if(_.isString(e)&&(_.startsWith(e,"https://")||_.startsWith(e,"http://")))if(t&&(e=TD.net.util.addURLParameters(e,t)),window.navigator.standalone){var i=document.createElement("a");i.setAttribute("href",e),i.setAttribute("target","_blank");var n=document.createEvent("HTMLEvents");n.initEvent("click",!0,!0),i.dispatchEvent(n)}else{var s=window.open(e);s&&s.focus()}},maybeOpenClickExternally:function(e){var t=!1,i=$(e.currentTarget),n=i.prop("tagName"),s=i.attr("rel"),r=i.attr("target"),o=i.attr("href")||"",a=i.attr("data-full-url")||o,c=e.isTrigger,l=e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||0!==e.button;return"A"===n&&"_blank"===r&&(s&&s.includes("url")||l)&&(TD.util.isWrapperApp()||c?(TD.util.openURL(o),e.preventDefault(),e.stopImmediatePropagation()):e.stopImmediatePropagation(),t=!0,TD.controller.stats.linkClick(a,i)),t},openEmail:function(e,t,i){var n="mailto:",s={};t&&(s.subject=t),i&&(s.body=i),e&&(n+=e),n=n+"?"+TD.net.util.formEncode(s),window.open(n)},escape:function(e){return this.clean(e)},truncateText:function(e,t,i,n,s,r){t=void 0==t?"…":t,n=n||0,r=r||0;var o;if(e.length>i+n){var a=e.indexOf(" ",i-r-1);-1!=a&&(i=Math.min(i,a+1)),o=e.substr(0,i),s&&(o=this.transform(o)),o+=t}return o},timesCached:null,timeWords:function(){return TD.util.timesCached||(TD.util.timesCached={longFormPast:{singular:{now:TD.i("now",null,!0),seconds:TD.i("{{one}} second ago",null,!0),minutes:TD.i("{{one}} minute ago",null,!0),hours:TD.i("{{one}} hour ago",null,!0),days:TD.i("{{one}} day ago",null,!0)},plural:{now:TD.i("now",null,!0),seconds:TD.i("{{plural_number}} seconds ago",null,!0),minutes:TD.i("{{plural_number}} minutes ago",null,!0),hours:TD.i("{{plural_number}} hours ago",null,!0),days:TD.i("{{plural_number}} days ago",null,!0)}},longFormFuture:{singular:{now:TD.i("now",null,!0),seconds:TD.i("{{one}} second left",null,!0),minutes:TD.i("{{one}} minute left",null,!0),hours:TD.i("{{one}} hour left",null,!0),days:TD.i("{{one}} day left",null,!0)},plural:{now:TD.i("now",null,!0),seconds:TD.i("{{plural_number}} seconds left",null,!0),minutes:TD.i("{{plural_number}} minutes left",null,!0),hours:TD.i("{{plural_number}} hours left",null,!0),days:TD.i("{{plural_number}} days left",null,!0)}},shortForm:{singular:{now:TD.i("now",null,!0),seconds:TD.i("{{one}}s",null,!0),minutes:TD.i("{{one}}m",null,!0),hours:TD.i("{{one}}h",null,!0),days:TD.i("{{one}}d",null,!0)},plural:{now:TD.i("now",null,!0),seconds:TD.i("{{plural_number}}s",null,!0),minutes:TD.i("{{plural_number}}m",null,!0),hours:TD.i("{{plural_number}}h",null,!0),days:TD.i("{{plural_number}}d",null,!0)}}}),TD.util.timesCached},datesCached:null,dates:function(){return TD.util.datesCached||(TD.util.datesCached={months:[TD.i("Jan"),TD.i("Feb"),TD.i("Mar"),TD.i("Apr"),TD.i("May"),TD.i("Jun"),TD.i("Jul"),TD.i("Aug"),TD.i("Sep"),TD.i("Oct"),TD.i("Nov"),TD.i("Dec")],dates:[TD.i("1st"),TD.i("2nd"),TD.i("3rd"),TD.i("4th"),TD.i("5th"),TD.i("6th"),TD.i("7th"),TD.i("8th"),TD.i("9th"),TD.i("10th"),TD.i("11th"),TD.i("12th"),TD.i("13th"),TD.i("14th"),TD.i("15th"),TD.i("16th"),TD.i("17th"),TD.i("18th"),TD.i("19th"),TD.i("20th"),TD.i("21st"),TD.i("22nd"),TD.i("23rd"),TD.i("24th"),TD.i("25th"),TD.i("26th"),TD.i("27th"),TD.i("28th"),TD.i("29th"),TD.i("30th"),TD.i("31st")]}),TD.util.datesCached},timeLeft:function(e,t){return TD.util.timeDiff(e,{longForm:t.longForm,adjustSystemTime:t.adjustSystemTime,isFutureTime:!0})},timeAgo:function(e,t){return TD.util.timeDiff(e,{longForm:t.longForm,adjustSystemTime:t.adjustSystemTime,isFutureTime:!1})},timeDiff:function(e,i){i=i||{};var n,s,r,o=Date.now(),a=new Date(e).getTime(),c=i.longForm?i.isFutureTime?"longFormFuture":"longFormPast":"shortForm",l=TD.util.timeWords()[c];return i.adjustSystemTime&&(o+=t),n=i.isFutureTime?a-o:o-a,isNaN(n)||n<-5e3?"":(n<7e3?(r="",s="now"):n<6e4?(r=Math.floor(n/1e3),s="seconds"):n<36e5?(r=Math.floor(n/6e4),s="minutes"):n<864e5?(r=Math.floor(n/36e5),s="hours"):(r=Math.floor(n/864e5),s="days"),l=1===r?l.singular:l.plural,TD.ui.template.toHtml(l[s],{one:r,plural_number:r}))},getDayOfWeek:function(e){return[TD.i("Sunday"),TD.i("Monday"),TD.i("Tuesday"),TD.i("Wednesday"),TD.i("Thursday"),TD.i("Friday"),TD.i("Saturday")][e.getDay()]},prettyTime:function(e){return{month:TD.util.dates().months[e.getMonth()],hours24:e.getHours(),hours12:e.getHours()%12||12,minutes:TD.util.padLeadingZero(e.getMinutes()),amPm:e.getHours()<12?TD.i("am"):TD.i("pm"),date:TD.util.dates().dates[e.getDate()-1],day:e.getDate(),dayOfWeek:this.getDayOfWeek(e),year:e.getFullYear().toString().slice(2),fullYear:e.getFullYear()}},prettyTimeString:function(e){return TD.i("{{hours12}}:{{minutes}}{{amPm}} · {{day}} {{month}} {{fullYear}}",TD.util.prettyTime(e))},prettyTimeOrDateString:function(e){var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(1),e>=t?TD.util.prettyTimeOfDayString(e):e>=t-5184e5?TD.i("{{dayOfWeek}}, {{hours12}}:{{minutes}}{{amPm}}",TD.util.prettyTime(e)):TD.i("{{day}} {{month}} {{year}}, {{hours12}}:{{minutes}}{{amPm}}",TD.util.prettyTime(e))},prettyTimeOfDayString:function(e){return TD.i("{{hours12}}:{{minutes}}{{amPm}}",TD.util.prettyTime(e))},prettyDateString:function(e){return TD.i("{{day}} {{month}} {{fullYear}}",TD.util.prettyTime(e))},prettyDateShortString:function(e){return TD.i("{{month}} {{year}}",TD.util.prettyTime(e))},prettyMonthDayString:function(e){return TD.i("{{month}} {{day}}",TD.util.prettyTime(e))},padLeadingZero:function(e){return e.toString().replace(/^(\d)$/,"0$1")},prettyTimeOfDayOrDateString:function(e){return(new Date).toDateString()===e.toDateString()?TD.util.prettyTimeOfDayString(e):TD.util.prettyDateString(e)},isValidNumber:function(e,t){"string"==typeof e&&(e=parseFloat(e));var i=!_.get(t,"noNegativeNumbers")||e>=0;return"number"==typeof e&&isFinite(e)&&i},truncateNumber:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(!TD.util.isValidNumber(e))return"";var i=0,n=e;if(String(e).length<=t)return TD.util.prettyNumber(e);for(t-=1;t<String(Math.floor(n)).length;)++i,n/=1e3;return parseFloat(n.toPrecision(t))+["","K","M","B","T"][i]},prettyNumber:function(e,t){return TD.util.isValidNumber(e,t)?("string"==typeof e&&(e=parseInt(e,10)),e.toString().split(".")[0].replace(s,",")):""},chirpColumnSort:function(e,t){var i={before:-1,after:1},n=0,s=e.getSortIndex(),r=t.getSortIndex(),o=s.type;if(s.type!==r.type)return TD.config.internal_build&&console.warn("chirpColumnSort cannot compare",s.type,"to",r.type),0;switch(o){case"milliseconds":case"number":n=r.value-s.value;break;case"numericString":n=TD.util.numericStringComparator(r.value,s.value);break;default:TD.config.internal_build&&console.warn("chirpColumnSort unrecognised sort type:",o),n=0}if(!n){n=(i[s.conflictResolution]||0)-(i[r.conflictResolution]||0)}return n},chirpReverseColumnSort:function(e,t){return TD.util.chirpColumnSort(t,e)},getTopChirp:function(e){return e.reduce(function(e,t){return e&&t?e.belongsAbove(t)?e:t:e||t})},transformTwitterAvatar:function(e,t){return e.replace(i,"$1_"+t+".$2")},getOSName:function(){var e="";return this.isWrapperApp()?e=deck.osname():-1!=navigator.appVersion.indexOf("Win")?e="windows":-1!=navigator.appVersion.indexOf("Mac")?e="osx":-1!=navigator.appVersion.indexOf("Linux")&&(e="linux"),e},numericStringComparator:function(e,t){var i=e.length-t.length;return i||(e>t?i=1:e<t&&(i=-1)),i},hasFeature:function(e){switch(e){case"file":return!!window.File;case"filereader":return!!window.FileReader;default:return}},getAppEnv:function(){var e="unknown";if(this.isChromeApp())e="chrome";else if(this.isWrapperApp())switch(this.getOSName()){case"osx":e="mac";break;case"windows":e="win"}else _.startsWith(window.location.href,"file://")||(e="web");return e},checkAPIRoot:function(){if("http:"===window.location.protocol||"https:"===window.location.protocol){var e=window.location.protocol+"//"+window.location.host;e!==TD.config.api_root&&(console.log("NOTE: overwriting api_root of",TD.config.api_root,"with",e),TD.config.api_root=e)}},hasFixedScrollBars:function(){var e,t=$("<div>").css({width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"});return $("body").append(t),e=t[0].offsetWidth-t[0].clientWidth,t.remove(),Boolean(e)},bind:function(e,t){return function(){e.apply(t,arguments)}},random:function(e,t){return null==t&&(t=e,e=0),e+(0|Math.random()*(t-e+1))},extendObjectWith:function(e,t){_.each(t,function(t){e[t[0]]=t[1]})},insertLogDivider:_.debounce(function(){console.log(" ")},1),versionComparator:function(e,t){e=e.toString(),t=t.toString();for(var i,n,s=e.split("."),r=t.split("."),o=Math.min(s.length,r.length),a=0;a<o;a++){if(i=parseInt(s[a],10),n=parseInt(r[a],10),i>n)return 1;if(i<n)return-1}return s.length>r.length?1:s.length<r.length?-1:0},TpmCounter:function(e,t,i){var n=0,s=0,r=0,o=[],a=(new Date).getTime(),c=setInterval(function(){var e,c,l,u=(new Date).getTime(),d=u-t;for(o.push({renderedCount:r,startTime:a}),s+=r,r=0,a=u;o.length&&o[0].startTime<d;)e=o.shift(),s-=e.renderedCount;o.length&&(c=u-o[0].startTime,l=6e4/c,n=s*l,$(document).trigger(i,{itemsPerMinute:Math.round(n)}))},e);this.incrementCounter=function(e){r+=e},this.stop=function(){clearInterval(c)}},deterministicObjectHash:function(e){var t=TD.util.createHashableObject(e),i=(0,r.default)(t),n=TD.core.sha1(i);return n=n.substr(0,10)},createHashableObject:function(e){var t,i;if(Array.isArray(e))t=e.map(TD.util.createHashableObject),t.push("A");else if(e===Object(e)){t=[];for(var n in e)e.hasOwnProperty(n)&&(i=TD.util.createHashableObject(e[n]),t.push([n,i]));t.sort(function(e,t){return e[0].localeCompare(t[0])}),t.push("O")}else t=e;return t},isNetworkFailure:function(e){return 0===e.status||500===e.status&&"internal server error"===e.responseText},keyEquals:function(e,t){return function(i){return i[e]===t}},equals:function(e){return function(t){return e===t}},merge:function(){return _.assign.apply(_,[{}].concat([].slice.call(arguments)))},pluck:function(e){return function(t){return t&&t[e]}},unpluck:function(e){return function(t){var i={};return i[e]=t,i}},makeHasClass:function(e){return function(t){return $(t).hasClass(e)}},makeDate:function(e){return new Date(e)},effect:function(e){return function(t){return e.apply(this,arguments),t}},dEffect:function(e){return function(t){var i=this,n=[].slice.call(arguments);return TD.core.defer.maybeDeferred(function(){return e.apply(i,n)}).addCallback(function(){return t})}},metric:function(e,t,i){$(document).trigger("metric",{key:e,value:t,type:i})},getChirpId:function(e){return e.id.toString()},getXhrStatusFromSendRequestResult:function(e){return e=e||{},(e.req||e.xhr||{}).status},catch:function(e,t){return function(){try{return e.apply(this,arguments)}catch(e){t&&console.error(e.stack)}}}}}()},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){"use strict";t.__esModule=!0;var n=i(1292),s=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=s.default||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){function n(e,t,i){var n=null==e?void 0:s(e,r(t),t+"");return void 0===n?i:n}var s=i(389),r=i(397);e.exports=n},,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(15),r=n(s),o=i(235),a=n(o),c=i(27),l=n(c),u=i(13),d=n(u);e.exports=function(){var e={};return e.storageColumnTypes={OTHER:"other",HOME:"home",ME:"me",INBOX:"privateMe",SCHEDULED:"scheduled"},e.feedTypes={HOME:"home",USERTIMELINE:"usertimeline",INTERACTIONS:"interactions",MENTIONS:"mentions",SEARCH:"search",LIST:"list",CUSTOMTIMELINE:"customtimeline",DIRECT:"direct",USERTWEETS:"usertweets",FAVORITES:"favorites",NETWORKACTIVITY:"networkactivity",SCHEDULED:"scheduled",DATAMINR:"dataminr",LIVEVIDEO:"livevideo",EVENT:"event"},e.allFeedTypes=(0,l.default)(e.feedTypes).reduce(function(t,i){return t[e.feedTypes[i]]=!0,t},{}),e.nonExhaustibleFeedTypes={},d.default.extendObjectWith(e.nonExhaustibleFeedTypes,[[e.feedTypes.CUSTOMTIMELINE,!0],[e.feedTypes.FAVORITES,!0]]),e.gaplessFeedTypes={},d.default.extendObjectWith(e.gaplessFeedTypes,[[e.feedTypes.CUSTOMTIMELINE,!0],[e.feedTypes.DIRECT,!0],[e.feedTypes.SCHEDULED,!0]]),e.reorderableFeedTypes={},d.default.extendObjectWith(e.reorderableFeedTypes,[[e.feedTypes.CUSTOMTIMELINE,!0],[e.feedTypes.SCHEDULED,!0]]),e.followingFeedTypes={},d.default.extendObjectWith(e.followingFeedTypes,[[e.feedTypes.HOME,!0],[e.feedTypes.NETWORKACTIVITY,!0]]),e.columnMetaTypes={TIMELINE:"col_timeline",INTERACTIONS:"col_interactions",MENTIONS:"col_mentions",FOLLOWERS:"col_followers",SEARCH:"col_search",LIST:"col_list",CUSTOMTIMELINE:"col_customtimeline",MESSAGES:"col_messages",USERTWEETS:"col_usertweets",FAVORITES:"col_favorites",ACTIVITY:"col_activity",DATAMINR:"col_dataminr",LIVEVIDEO:"col_livevideo",EVENT:"col_event",HOME:"col_home",ME:"col_me",INBOX:"col_inbox",SCHEDULED:"col_scheduled",UNKNOWN:"col_unknown"},e.columnMetaTypeToScribeNamespace={},d.default.extendObjectWith(e.columnMetaTypeToScribeNamespace,[[e.columnMetaTypes.TIMELINE,{page:"home",section:""}],[e.columnMetaTypes.INTERACTIONS,{page:"connect",section:"activity"}],[e.columnMetaTypes.MENTIONS,{page:"connect",section:"mentions"}],[e.columnMetaTypes.SEARCH,{page:"search",section:"tweets"}],[e.columnMetaTypes.LIST,{page:"list",section:"tweets"}],[e.columnMetaTypes.USERTWEETS,{page:"profile_tweets",section:""}],[e.columnMetaTypes.FAVORITES,{page:"favorites",section:""}],[e.columnMetaTypes.ACTIVITY,{page:"network_activity",section:""}],[e.columnMetaTypes.DATAMINR,{page:"dataminr",section:"watchlist"}],[e.columnMetaTypes.HOME,{page:"home",section:""}],[e.columnMetaTypes.ME,{page:"connect",section:"mentions"}]]),e.columnIconClasses={TWITTER:"icon-twitter-bird",HASH:"icon-hash",CONTENT:"icon-content",USER:"icon-user",HOME:"icon-home",INTERACTIONS:"icon-notifications",ACTIVITY:"icon-activity",MENTIONS:"icon-mention",FOLLOWERS:"icon-follow",MESSAGES:"icon-message",SEARCH:"icon-search",LIST:"icon-list",TWEETS:"icon-tweets",FAVORITES:"icon-favorite",SCHEDULED:"icon-schedule",TRENDS:"icon-trending",CUSTOMTIMELINE:"icon-custom-timeline",DATAMINR:"icon-dataminr",LIVEVIDEO:"icon-play-video",EVENT:"icon-calendar"},e.columnClasses={TWITTER:"type-twitter",HOME:"column-type-home",INTERACTIONS:"column-type-interactions",ACTIVITY:"column-type-activity",MENTIONS:"column-type-mention",FOLLOWERS:"column-type-new-followers",MESSAGES:"column-type-message",SEARCH:"column-type-search",LIST:"column-type-list",CUSTOMTIMELINE:"column-type-customtimeline",TWEETS:"column-type-tweets",FAVORITES:"column-type-favorite",SCHEDULED:"column-type-scheduled",TRENDS:"column-type-trends"},e.columnMetaTypeToIconClass={},d.default.extendObjectWith(e.columnMetaTypeToIconClass,[[e.columnMetaTypes.TIMELINE,e.columnIconClasses.HOME],[e.columnMetaTypes.INTERACTIONS,e.columnIconClasses.INTERACTIONS],[e.columnMetaTypes.MENTIONS,e.columnIconClasses.MENTIONS],[e.columnMetaTypes.FOLLOWERS,e.columnIconClasses.FOLLOWERS],[e.columnMetaTypes.SEARCH,e.columnIconClasses.SEARCH],[e.columnMetaTypes.LIST,e.columnIconClasses.LIST],[e.columnMetaTypes.CUSTOMTIMELINE,e.columnIconClasses.CUSTOMTIMELINE],[e.columnMetaTypes.MESSAGES,e.columnIconClasses.MESSAGES],[e.columnMetaTypes.USERTWEETS,e.columnIconClasses.USER],[e.columnMetaTypes.FAVORITES,e.columnIconClasses.FAVORITES],[e.columnMetaTypes.ACTIVITY,e.columnIconClasses.ACTIVITY],[e.columnMetaTypes.HOME,e.columnIconClasses.HOME],[e.columnMetaTypes.ME,e.columnIconClasses.MENTIONS],[e.columnMetaTypes.INBOX,e.columnIconClasses.MESSAGES],[e.columnMetaTypes.SCHEDULED,e.columnIconClasses.SCHEDULED],[e.columnMetaTypes.UNKNOWN,e.columnIconClasses.TWITTER],[e.columnMetaTypes.DATAMINR,e.columnIconClasses.DATAMINR],[e.columnMetaTypes.LIVEVIDEO,e.columnIconClasses.LIVEVIDEO],[e.columnMetaTypes.EVENT,e.columnIconClasses.EVENT]]),e.columnMetaTypeToClass={},d.default.extendObjectWith(e.columnMetaTypeToClass,[[e.columnMetaTypes.TIMELINE,e.columnClasses.HOME],[e.columnMetaTypes.INTERACTIONS,e.columnClasses.INTERACTIONS],[e.columnMetaTypes.MENTIONS,e.columnClasses.MENTIONS],[e.columnMetaTypes.FOLLOWERS,e.columnClasses.FOLLOWERS],[e.columnMetaTypes.SEARCH,e.columnClasses.SEARCH],[e.columnMetaTypes.LIST,e.columnClasses.LIST],[e.columnMetaTypes.CUSTOMTIMELINE,e.columnClasses.CUSTOMTIMELINE],[e.columnMetaTypes.MESSAGES,e.columnClasses.MESSAGES],[e.columnMetaTypes.USERTWEETS,e.columnClasses.TWEETS],[e.columnMetaTypes.FAVORITES,e.columnClasses.FAVORITES],[e.columnMetaTypes.ACTIVITY,e.columnClasses.ACTIVITY],[e.columnMetaTypes.HOME,e.columnClasses.HOME],[e.columnMetaTypes.ME,e.columnClasses.MENTIONS],[e.columnMetaTypes.INBOX,e.columnClasses.MESSAGES],[e.columnMetaTypes.SCHEDULED,e.columnClasses.SCHEDULED],[e.columnMetaTypes.UNKNOWN,e.columnClasses.TWITTER]]),e.columnMetaTypeToTitleTemplateData={},d.default.extendObjectWith(e.columnMetaTypeToTitleTemplateData,[[e.columnMetaTypes.TIMELINE,{title:TD.i("Home",null,!0),needsUserAttribution:!0}],[e.columnMetaTypes.INTERACTIONS,{title:TD.i("Notifications",null,!0),needsUserAttribution:!0}],[e.columnMetaTypes.MENTIONS,{title:TD.i("Mentions",null,!0),needsUserAttribution:!0}],[e.columnMetaTypes.FOLLOWERS,{title:TD.i("Followers",null,!0),needsUserAttribution:!0}],[e.columnMetaTypes.SEARCH,{needsUserAttribution:!0}],[e.columnMetaTypes.LIST,{needsUserAttribution:!0}],[e.columnMetaTypes.CUSTOMTIMELINE,{needsUserAttribution:!0,editableFieldClass:"js-customtimeline-title",maxLength:25}],[e.columnMetaTypes.MESSAGES,{title:TD.i("Messages",null,!0),needsUserAttribution:!0}],[e.columnMetaTypes.USERTWEETS,{title:TD.i("User",null,!0),needsUserAttribution:!0}],[e.columnMetaTypes.FAVORITES,{title:TD.i("Likes",null,!0),needsUserAttribution:!0}],[e.columnMetaTypes.ACTIVITY,{title:TD.i("Activity",null,!0),needsUserAttribution:!0}],[e.columnMetaTypes.HOME,{title:TD.i("Home",null,!0)}],[e.columnMetaTypes.ME,{title:TD.i("Mentions",null,!0)}],[e.columnMetaTypes.INBOX,{title:TD.i("Messages",null,!0)}],[e.columnMetaTypes.SCHEDULED,{title:TD.i("Scheduled",null,!0),needsUserAttribution:!0}],[e.columnMetaTypes.DATAMINR,{needsUserAttribution:!0}],[e.columnMetaTypes.LIVEVIDEO,{title:TD.i("Live video",null,!0),needsUserAttribution:!0}],[e.columnMetaTypes.EVENT,{title:TD.i("General Election",null,!0),needsUserAttribution:!0}],[e.columnMetaTypes.UNKNOWN,{title:TD.i("Unknown Column",null,!0)}]]),e.embeddableColumnTypes=[e.columnMetaTypes.FAVORITES,e.columnMetaTypes.USERTWEETS,e.columnMetaTypes.SEARCH,e.columnMetaTypes.LIST,e.columnMetaTypes.CUSTOMTIMELINE],e.shareableColumnTypes=[e.columnMetaTypes.CUSTOMTIMELINE],e.viewableColumnTypes=[e.columnMetaTypes.CUSTOMTIMELINE],e.filterableColumnTypes=[e.columnMetaTypes.TIMELINE,e.columnMetaTypes.INTERACTIONS,e.columnMetaTypes.MENTIONS,e.columnMetaTypes.FOLLOWERS,e.columnMetaTypes.SEARCH,e.columnMetaTypes.LIST,e.columnMetaTypes.CUSTOMTIMELINE,e.columnMetaTypes.MESSAGES,e.columnMetaTypes.USERTWEETS,e.columnMetaTypes.FAVORITES,e.columnMetaTypes.ACTIVITY,e.columnMetaTypes.HOME,e.columnMetaTypes.ME,e.columnMetaTypes.INBOX,e.columnMetaTypes.SCHEDULED,e.columnMetaTypes.DATAMINR,e.columnMetaTypes.LIVEVIDEO,e.columnMetaTypes.EVENT],e.actionColumnTypes=[e.columnMetaTypes.INTERACTIONS,e.columnMetaTypes.MENTIONS,e.columnMetaTypes.ACTIVITY,e.columnMetaTypes.FOLLOWERS],e.notificationColumnTypes=new a.default([e.columnMetaTypes.INTERACTIONS,e.columnMetaTypes.MENTIONS,e.columnMetaTypes.FOLLOWERS,e.columnMetaTypes.ME]),e.notificationFeedTypes=new a.default([e.feedTypes.INTERACTIONS,e.feedTypes.MENTIONS]),e.singleActionColumnTypes=[e.columnMetaTypes.MENTIONS,e.columnMetaTypes.FOLLOWERS],e.mediaPreviewableColumnTypes=[e.columnMetaTypes.TIMELINE,e.columnMetaTypes.INTERACTIONS,e.columnMetaTypes.MENTIONS,e.columnMetaTypes.SEARCH,e.columnMetaTypes.LIST,e.columnMetaTypes.CUSTOMTIMELINE,e.columnMetaTypes.USERTWEETS,e.columnMetaTypes.FAVORITES,e.columnMetaTypes.ACTIVITY,e.columnMetaTypes.HOME,e.columnMetaTypes.ME,e.columnMetaTypes.DATAMINR,e.columnMetaTypes.LIVEVIDEO,e.columnMetaTypes.EVENT],e.combinedColumnTypes={},d.default.extendObjectWith(e.combinedColumnTypes,[[e.columnMetaTypes.ME,!0],[e.columnMetaTypes.INBOX,!0],[e.columnMetaTypes.SCHEDULED,!0]]),e.isTopHalfOfTweet=function(e){var t=e.event.originalEvent.pageY-e.parentOffset.top,i=e.$streamItem.height(),n=e.$streamItem.find("#"+e.dropIndicatorId),s=n.length,r=s?n.height():0,o=i-r,a=s?.08*o:0;return t+a<o/2||!(t-a<o/2)&&void 0},e.getDropIndicatorText=function(e,t){var i=this.getDropActionType(e,t),n={add:"Add here",copy:"Copy here",move:"Move here"};return TD.i(n[i])},e.getDropActionType=function(e,t){return e.attr("data-column")===t?"move":this.isColumnCustomTimeline(e)?"copy":"add"},e.isColumnCustomTimeline=function(t){var i=t.attr("data-column"),n=TD.storage.columnController.get(i),s=s?TD.storage.feedController.get(n.getFeedKeys()).getType():null;return"col_"+s===e.columnMetaTypes.CUSTOMTIMELINE},e.getColumnType=function(t){var i=t.model.getType(),n=t.getFeeds();switch(i){case e.storageColumnTypes.HOME:return e.columnMetaTypes.HOME;case e.storageColumnTypes.ME:return e.columnMetaTypes.ME;case e.storageColumnTypes.INBOX:return e.columnMetaTypes.INBOX;case e.storageColumnTypes.SCHEDULED:return e.columnMetaTypes.SCHEDULED;default:return 1===n.length?e._inferColumnTypeFromFeed(n[0],t):e.columnMetaTypes.UNKNOWN}},e.isMessageColumn=function(t){var i=e.getColumnType(t);return i===e.columnMetaTypes.MESSAGES||i===e.columnMetaTypes.INBOX},e._twitterFeedTypeToColumnMetaType={},d.default.extendObjectWith(e._twitterFeedTypeToColumnMetaType,[[e.feedTypes.HOME,e.columnMetaTypes.TIMELINE],[e.feedTypes.USERTIMELINE,e.columnMetaTypes.TIMELINE],[e.feedTypes.INTERACTIONS,e.columnMetaTypes.INTERACTIONS],[e.feedTypes.MENTIONS,e.columnMetaTypes.MENTIONS],[e.feedTypes.SEARCH,e.columnMetaTypes.SEARCH],[e.feedTypes.LIST,e.columnMetaTypes.LIST],[e.feedTypes.CUSTOMTIMELINE,e.columnMetaTypes.CUSTOMTIMELINE],[e.feedTypes.DIRECT,e.columnMetaTypes.MESSAGES],[e.feedTypes.USERTWEETS,e.columnMetaTypes.USERTWEETS],[e.feedTypes.FAVORITES,e.columnMetaTypes.FAVORITES],[e.feedTypes.NETWORKACTIVITY,e.columnMetaTypes.ACTIVITY],[e.feedTypes.DATAMINR,e.columnMetaTypes.DATAMINR],[e.feedTypes.LIVEVIDEO,e.columnMetaTypes.LIVEVIDEO],[e.feedTypes.EVENT,e.columnMetaTypes.EVENT]]),e._inferColumnTypeFromFeed=function(t,i){var n,s,r=t.getService(),o=t.getType(),a=t.getMetadata(),c=e.columnMetaTypes.UNKNOWN;if("twitter"===r)switch(c=e._twitterFeedTypeToColumnMetaType[o]||c,o){case e.feedTypes.SEARCH:var l=twttrTxt.extractMentionsWithIndices(a.term);if(1===l.length){var u=l[0];0===u.indices[0]&&u.indices[1]===a.term.length&&(c=e.columnMetaTypes.MENTIONS)}break;case e.feedTypes.INTERACTIONS:if(n=i.model.getFilters()){s=new TD.vo.ActionFilter(n.action);if(1===s.getActiveFacetCount(c)){var d=s.toJSONObject();d.showMentions?c=e.columnMetaTypes.MENTIONS:d.showFollowers&&(c=e.columnMetaTypes.FOLLOWERS)}}}return c},e.getColumnIconClassByColumnType=function(t){return e.columnMetaTypeToIconClass[t]},e.getColumnClassByColumnType=function(t){return e.columnMetaTypeToClass[t]},e.getColumnHeaderTitleHTML=function(t){var i=e.getColumnTitleArgs(t);return null===i?d.default.escape(t.model.getTitle()):t.hasEditableTitle()?TD.ui.template.render("column_title_editable",i):TD.ui.template.render("column_title",(0,r.default)({},i,{emojifiedTitle:d.default.cleanWithEmoji(i.title)}))},e.getColumnTitleHTML=function(t){var i=e.getColumnTitleArgs(t);return null===i?d.default.escape(t.model.getTitle()):TD.ui.template.render("column_title",(0,r.default)({},i,{emojifiedTitle:d.default.cleanWithEmoji(i.title)}))},e.getColumnTitleArgs=function(t){var i,n,s,r,o,a=t.getColumnType(),c=t.getFeeds(),l={},u=e.columnMetaTypeToTitleTemplateData[a];if(a===e.columnMetaTypes.FAVORITES&&(u.title=TD.i("Likes")),a===e.columnMetaTypes.UNKNOWN&&t.model.getTitle())return null;l.editableFieldClass=u.editableFieldClass,l.maxLength=u.maxLength;for(var h,p,f,m,g,v=0;v<c.length;v++){if(i=c[v],n=i.getType(),s=i.getMetadata())switch(n){case e.feedTypes.LIST:if(h=TD.cache.names.getScreenName(s.ownerId),!(m=TD.cache.names.getListName(s.listId,s.ownerId)))return null;l.title=m;break;case e.feedTypes.CUSTOMTIMELINE:h=TD.cache.names.getScreenName(s.ownerId),p=TD.storage.accountController.get(i.getAccountKey()).getProfileImageURL(),g=TD.cache.names.getCustomTimelineName(s.id),l.title=g;break;case e.feedTypes.SEARCH:if(p=TD.storage.accountController.get(i.getAccountKey()).getProfileImageURL(),a===e.columnMetaTypes.MENTIONS?h=s.term:f=s.baseQuery?s.baseQuery:s.term,!f)return null;l.title=f;break;case e.feedTypes.DATAMINR:l.title=s.watchlist.name;break;case e.feedTypes.LIVEVIDEO:case e.feedTypes.EVENT:l.title=s.title;break;default:if(s.id){if(!(h=TD.cache.names.getScreenName(s.id)))return null}else a===e.columnMetaTypes.SCHEDULED&&(h=TD.i("All accounts"));l.title=u.title}h||(r=TD.storage.accountController.get(i.getAccountKey()),"tweetdeck"!==(o=r.getType())&&(h=r.getUsername(),"twitter"===o&&(h=d.default.atMentionify(h))))}if(u.needsUserAttribution){if(!h)return null;l.needsUserAttribution=u.needsUserAttribution,l.screenName=h,l.profileImageURL=p}return l},e.inferFeedTypeFromActionFilter=function(t){var i=this.feedTypes.INTERACTIONS,n=t.getActiveFacetCount(e.columnMetaTypes.INTERACTIONS),s=t.toJSONObject();return 1===n&&s.showMentions&&(i=this.feedTypes.MENTIONS),i},e.getColumnFromElement=function(e){var t=$(e).closest("[data-column]").attr("data-column");return TD.controller.columnManager.get(t)},e}()},function(e,t,i){var n=i(232)("wks"),s=i(130),r=i(12).Symbol,o="function"==typeof r;(e.exports=function(e){return n[e]||(n[e]=o&&r[e]||(o?r:s)("Symbol."+e))}).store=n},function(e,t,i){"use strict";function n(e){return s(e)||o()}function s(e){return e?TD.controller.clients.getClient(e):o()}function r(e){return t.getClientByAccountKey(e.getKey())}function o(){return TD.controller.clients.getPreferredClient("twitter")}function a(e){return TD.controller.clients.getClientsByService(e)}function c(e){var t=a("twitter");return _.find(t,function(t){if(t.oauth.account.getUsername().toLowerCase()===e.toLowerCase())return t})}function l(e){var t=s(e);if(!t)return null;var i=t.oauth.account;return{accountKey:e,id:i.getUserID(),screenName:i.getUsername(),profileImageURL:i.getProfileImageURL()}}Object.defineProperty(t,"__esModule",{value:!0}),t.getClientByAccountKeyOrDefault=n,t.getClientByAccountKey=s,t.getClientByAccount=r,t.getTwitterClient=o,t.getClientsByService=a,t.getClientByScreenName=c,t.getAccountData=l},,function(e,t,i){e.exports=!i(14)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,i){var n=i(11),s=i(491),r=i(78),o=Object.defineProperty;t.f=i(24)?Object.defineProperty:function(e,t,i){if(n(e),t=r(t,!0),n(i),s)try{return o(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){var n=i(77),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},,function(e,t,i){var n=i(165),s=i(141),r=i(59),o=Object.prototype,a=o.toString,c=n(Array,"isArray"),l=c||function(e){return r(e)&&s(e.length)&&"[object Array]"==a.call(e)};e.exports=l},,,function(e,t,i){var n=i(75);e.exports=function(e){return Object(n(e))}},,,,function(e,t){function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=i},,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(105),r=n(s),o=i(27),a=n(o),c=i(18),l={};l.shallowEquals=function(){return function(e,t){try{return _.union((0,a.default)(e),(0,a.default)(t)).every(function(i){return t[i]===e[i]})}catch(e){return!0}}},l.existenceEquality=function(e,t){return Boolean(e)===Boolean(t)},l.filterKeys=function(e){return function(t){return e&&"object"===(void 0===t?"undefined":(0,r.default)(t))?e.reduce(function(e,i){return t.hasOwnProperty(i)&&(e[i]=t[i]),e},{}):t}},l.toDeferred=function(e){var t=new TD.core.defer.Deferred;return e.take(1).subscribe(function(e){return t.callback(e)},function(e){return t.errback(e)}),t},l.fromDeferred=function(e){var t=new c.AsyncSubject;return e.addCallbacksWith(t,function(e){t.next(e),t.complete()},t.error),t.asObservable()},l.makeFromDeferred=function(e,t){return function(){return l.fromDeferred(e.apply(t||this,arguments))}},l.fromEventOnce=function(e,t){var i=new c.AsyncSubject;return $(e).one(t,function(e){i.next(e),i.complete()}),i.asObservable()},e.exports=l},,,,function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){e.exports={default:i(1306),__esModule:!0}},,,,,,function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){var n=i(25),s=i(126);e.exports=i(24)?function(e,t,i){return n.f(e,t,s(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){var n=i(12),s=i(50),r=i(49),o=i(130)("src"),a=Function.toString,c=(""+a).split("toString");i(74).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,i,a){var l="function"==typeof i;l&&(r(i,"name")||s(i,"name",t)),e[t]!==i&&(l&&(r(i,o)||s(i,o,e[t]?""+e[t]:c.join(String(t)))),e===n?e[t]=i:a?e[t]?e[t]=i:s(e,t,i):(delete e[t],s(e,t,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||a.call(this)})},function(e,t,i){var n=i(1),s=i(14),r=i(75),o=/"/g,a=function(e,t,i,n){var s=String(r(e)),a="<"+t;return""!==i&&(a+=" "+i+'="'+String(n).replace(o,"&quot;")+'"'),a+">"+s+"</"+t+">"};e.exports=function(e,t){var i={};i[e]=t(a),n(n.P+n.F*s(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",i)}},,,,function(e,t,i){var n=i(179),s=i(126),r=i(58),o=i(78),a=i(49),c=i(491),l=Object.getOwnPropertyDescriptor;t.f=i(24)?l:function(e,t){if(e=r(e),t=o(t,!0),c)try{return l(e,t)}catch(e){}if(a(e,t))return s(!n.f.call(e,t),e[t])}},function(e,t,i){var n=i(49),s=i(31),r=i(307)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=s(e),n(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,i){var n=i(178),s=i(75);e.exports=function(e){return n(s(e))}},function(e,t){function i(e){return!!e&&"object"==typeof e}e.exports=i},function(e,t,i){(function(e){!function(t,i){e.exports=i()}(0,function(){"use strict";function t(){return yn.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e){var t;for(t in e)return!1;return!0}function o(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var i in t)u(t,i)&&(e[i]=t[i]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,i,n){return _t(e,t,i,n,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=p()),e._pf}function m(e){if(null==e._isValid){var t=f(e),i=bn.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function g(e){var t=h(NaN);return null!=e?d(f(t),e):f(t).userInvalidated=!0,t}function v(e,t){var i,n,s;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=f(t)),o(t._locale)||(e._locale=t._locale),Dn.length>0)for(i=0;i<Dn.length;i++)n=Dn[i],s=t[n],o(s)||(e[n]=s);return e}function T(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Cn&&(Cn=!0,t.updateOffset(this),Cn=!1)}function _(e){return e instanceof T||null!=e&&null!=e._isAMomentObject}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=y(t)),i}function b(e,t,i){var n,s=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0;for(n=0;n<s;n++)(i&&e[n]!==t[n]||!i&&w(e[n])!==w(t[n]))&&o++;return o+r}function D(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,i){var n=!0;return d(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),n){for(var s,r=[],o=0;o<arguments.length;o++){if(s="","object"==typeof arguments[o]){s+="\n["+o+"] ";for(var a in arguments[0])s+=a+": "+arguments[0][a]+", ";s=s.slice(0,-2)}else s=arguments[o];r.push(s)}D(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function S(e,i){null!=t.deprecationHandler&&t.deprecationHandler(e,i),Sn[e]||(D(i),Sn[e]=!0)}function E(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function I(e){var t,i;for(i in e)t=e[i],E(t)?this[i]=t:this["_"+i]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(e,t){var i,n=d({},e);for(i in t)u(t,i)&&(s(e[i])&&s(t[i])?(n[i]={},d(n[i],e[i]),d(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(i in e)u(e,i)&&!u(t,i)&&s(e[i])&&(n[i]=d({},n[i]));return n}function x(e){null!=e&&this.set(e)}function k(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return E(n)?n.call(t,i):n}function M(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function O(){return this._invalidDate}function R(e){return this._ordinal.replace("%d",e)}function L(e,t,i,n){var s=this._relativeTime[i];return E(s)?s(e,t,i,n):s.replace(/%d/i,e)}function F(e,t){var i=this._relativeTime[e>0?"future":"past"];return E(i)?i(t):i.replace(/%s/i,t)}function N(e,t){var i=e.toLowerCase();Rn[i]=Rn[i+"s"]=Rn[t]=e}function P(e){return"string"==typeof e?Rn[e]||Rn[e.toLowerCase()]:void 0}function j(e){var t,i,n={};for(i in e)u(e,i)&&(t=P(i))&&(n[t]=e[i]);return n}function U(e,t){Ln[e]=t}function $(e){var t=[];for(var i in e)t.push({unit:i,priority:Ln[i]});return t.sort(function(e,t){return e.priority-t.priority}),t}function B(e,i){return function(n){return null!=n?(z(this,e,n),t.updateOffset(this,i),this):H(this,e)}}function H(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function z(e,t,i){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](i)}function W(e){return e=P(e),E(this[e])?this[e]():this}function K(e,t){if("object"==typeof e){e=j(e);for(var i=$(e),n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit])}else if(e=P(e),E(this[e]))return this[e](t);return this}function V(e,t,i){var n=""+Math.abs(e),s=t-n.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}function G(e,t,i,n){var s=n;"string"==typeof n&&(s=function(){return this[n]()}),e&&(jn[e]=s),t&&(jn[t[0]]=function(){return V(s.apply(this,arguments),t[1],t[2])}),i&&(jn[i]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Y(e){var t,i,n=e.match(Fn);for(t=0,i=n.length;t<i;t++)jn[n[t]]?n[t]=jn[n[t]]:n[t]=q(n[t]);return function(t){var s,r="";for(s=0;s<i;s++)r+=E(n[s])?n[s].call(t,e):n[s];return r}}function Q(e,t){return e.isValid()?(t=J(t,e.localeData()),Pn[t]=Pn[t]||Y(t),Pn[t](e)):e.localeData().invalidDate()}function J(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(Nn.lastIndex=0;n>=0&&Nn.test(e);)e=e.replace(Nn,i),Nn.lastIndex=0,n-=1;return e}function X(e,t,i){is[e]=E(t)?t:function(e,n){return e&&i?i:t}}function Z(e,t){return u(is,e)?is[e](t._strict,t._locale):new RegExp(ee(e))}function ee(e){return te(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,s){return t||i||n||s}))}function te(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ie(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),a(t)&&(n=function(e,i){i[t]=w(e)}),i=0;i<e.length;i++)ns[e[i]]=n}function ne(e,t){ie(e,function(e,i,n,s){n._w=n._w||{},t(e,n._w,n,s)})}function se(e,t,i){null!=t&&u(ns,e)&&ns[e](t,i._a,i,e)}function re(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function oe(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||fs).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function ae(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[fs.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ce(e,t,i){var n,s,r,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=h([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===t?(s=ps.call(this._shortMonthsParse,o),-1!==s?s:null):(s=ps.call(this._longMonthsParse,o),-1!==s?s:null):"MMM"===t?-1!==(s=ps.call(this._shortMonthsParse,o))?s:(s=ps.call(this._longMonthsParse,o),-1!==s?s:null):-1!==(s=ps.call(this._longMonthsParse,o))?s:(s=ps.call(this._shortMonthsParse,o),-1!==s?s:null)}function le(e,t,i){var n,s,r;if(this._monthsParseExact)return ce.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=h([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}}function ue(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(t=e.localeData().monthsParse(t),!a(t))return e;return i=Math.min(e.date(),re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function de(e){return null!=e?(ue(this,e),t.updateOffset(this,!0),this):H(this,"Month")}function he(){return re(this.year(),this.month())}function pe(e){return this._monthsParseExact?(u(this,"_monthsRegex")||me.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=vs),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function fe(e){return this._monthsParseExact?(u(this,"_monthsRegex")||me.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Ts),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function me(){function e(e,t){return t.length-e.length}var t,i,n=[],s=[],r=[];for(t=0;t<12;t++)i=h([2e3,t]),n.push(this.monthsShort(i,"")),s.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(e),s.sort(e),r.sort(e),t=0;t<12;t++)n[t]=te(n[t]),s[t]=te(s[t]);for(t=0;t<24;t++)r[t]=te(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function ge(e){return ve(e)?366:365}function ve(e){return e%4==0&&e%100!=0||e%400==0}function Te(){return ve(this.year())}function _e(e,t,i,n,s,r,o){var a=new Date(e,t,i,n,s,r,o);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function ye(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function we(e,t,i){var n=7+t-i;return-(7+ye(e,0,n).getUTCDay()-t)%7+n-1}function be(e,t,i,n,s){var r,o,a=(7+i-n)%7,c=we(e,n,s),l=1+7*(t-1)+a+c;return l<=0?(r=e-1,o=ge(r)+l):l>ge(e)?(r=e+1,o=l-ge(e)):(r=e,o=l),{year:r,dayOfYear:o}}function De(e,t,i){var n,s,r=we(e.year(),t,i),o=Math.floor((e.dayOfYear()-r-1)/7)+1;return o<1?(s=e.year()-1,n=o+Ce(s,t,i)):o>Ce(e.year(),t,i)?(n=o-Ce(e.year(),t,i),s=e.year()+1):(s=e.year(),n=o),{week:n,year:s}}function Ce(e,t,i){var n=we(e,t,i),s=we(e+1,t,i);return(ge(e)-n+s)/7}function Se(e){return De(e,this._week.dow,this._week.doy).week}function Ee(){return this._week.dow}function Ie(){return this._week.doy}function Ae(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function xe(e){var t=De(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function ke(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Me(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Oe(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Re(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Le(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Fe(e,t,i){var n,s,r,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=h([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===t?(s=ps.call(this._weekdaysParse,o),-1!==s?s:null):"ddd"===t?(s=ps.call(this._shortWeekdaysParse,o),-1!==s?s:null):(s=ps.call(this._minWeekdaysParse,o),-1!==s?s:null):"dddd"===t?-1!==(s=ps.call(this._weekdaysParse,o))?s:-1!==(s=ps.call(this._shortWeekdaysParse,o))?s:(s=ps.call(this._minWeekdaysParse,o),-1!==s?s:null):"ddd"===t?-1!==(s=ps.call(this._shortWeekdaysParse,o))?s:-1!==(s=ps.call(this._weekdaysParse,o))?s:(s=ps.call(this._minWeekdaysParse,o),-1!==s?s:null):-1!==(s=ps.call(this._minWeekdaysParse,o))?s:-1!==(s=ps.call(this._weekdaysParse,o))?s:(s=ps.call(this._shortWeekdaysParse,o),-1!==s?s:null)}function Ne(e,t,i){var n,s,r;if(this._weekdaysParseExact)return Fe.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=h([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}}function Pe(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ke(e,this.localeData()),this.add(e-t,"d")):t}function je(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ue(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Me(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function $e(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Cs),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ss),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function He(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Es),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ze(){function e(e,t){return t.length-e.length}var t,i,n,s,r,o=[],a=[],c=[],l=[];for(t=0;t<7;t++)i=h([2e3,1]).day(t),n=this.weekdaysMin(i,""),s=this.weekdaysShort(i,""),r=this.weekdays(i,""),o.push(n),a.push(s),c.push(r),l.push(n),l.push(s),l.push(r);for(o.sort(e),a.sort(e),c.sort(e),l.sort(e),t=0;t<7;t++)a[t]=te(a[t]),c[t]=te(c[t]),l[t]=te(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function We(){return this.hours()%12||12}function Ke(){return this.hours()||24}function Ve(e,t){G(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ge(e,t){return t._meridiemParse}function qe(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ye(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}function Qe(e){return e?e.toLowerCase().replace("_","-"):e}function Je(e){for(var t,i,n,s,r=0;r<e.length;){for(s=Qe(e[r]).split("-"),t=s.length,i=Qe(e[r+1]),i=i?i.split("-"):null;t>0;){if(n=Xe(s.slice(0,t).join("-")))return n;if(i&&i.length>=t&&b(s,i,!0)>=t-1)break;t--}r++}return null}function Xe(t){var n=null;if(!Ms[t]&&void 0!==e&&e&&e.exports)try{n=Is._abbr,i(1764)("./"+t),Ze(n)}catch(e){}return Ms[t]}function Ze(e,t){var i;return e&&(i=o(t)?it(e):et(e,t))&&(Is=i),Is._abbr}function et(e,t){if(null!==t){var i=ks;if(t.abbr=e,null!=Ms[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Ms[e]._config;else if(null!=t.parentLocale){if(null==Ms[t.parentLocale])return Os[t.parentLocale]||(Os[t.parentLocale]=[]),Os[t.parentLocale].push({name:e,config:t}),null;i=Ms[t.parentLocale]._config}return Ms[e]=new x(A(i,t)),Os[e]&&Os[e].forEach(function(e){et(e.name,e.config)}),Ze(e),Ms[e]}return delete Ms[e],null}function tt(e,t){if(null!=t){var i,n=ks;null!=Ms[e]&&(n=Ms[e]._config),t=A(n,t),i=new x(t),i.parentLocale=Ms[e],Ms[e]=i,Ze(e)}else null!=Ms[e]&&(null!=Ms[e].parentLocale?Ms[e]=Ms[e].parentLocale:null!=Ms[e]&&delete Ms[e]);return Ms[e]}function it(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Is;if(!n(e)){if(t=Xe(e))return t;e=[e]}return Je(e)}function nt(){return An(Ms)}function st(e){var t,i=e._a;return i&&-2===f(e).overflow&&(t=i[rs]<0||i[rs]>11?rs:i[os]<1||i[os]>re(i[ss],i[rs])?os:i[as]<0||i[as]>24||24===i[as]&&(0!==i[cs]||0!==i[ls]||0!==i[us])?as:i[cs]<0||i[cs]>59?cs:i[ls]<0||i[ls]>59?ls:i[us]<0||i[us]>999?us:-1,f(e)._overflowDayOfYear&&(t<ss||t>os)&&(t=os),f(e)._overflowWeeks&&-1===t&&(t=ds),f(e)._overflowWeekday&&-1===t&&(t=hs),f(e).overflow=t),e}function rt(e){var t,i,n,s,r,o,a=e._i,c=Rs.exec(a)||Ls.exec(a);if(c){for(f(e).iso=!0,t=0,i=Ns.length;t<i;t++)if(Ns[t][1].exec(c[1])){s=Ns[t][0],n=!1!==Ns[t][2];break}if(null==s)return void(e._isValid=!1);if(c[3]){for(t=0,i=Ps.length;t<i;t++)if(Ps[t][1].exec(c[3])){r=(c[2]||" ")+Ps[t][0];break}if(null==r)return void(e._isValid=!1)}if(!n&&null!=r)return void(e._isValid=!1);if(c[4]){if(!Fs.exec(c[4]))return void(e._isValid=!1);o="Z"}e._f=s+(r||"")+(o||""),ht(e)}else e._isValid=!1}function ot(e){var t,i,n,s,r,o,a,c,l={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},u="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),i=Us.exec(t)){if(n=i[1]?"ddd"+(5===i[1].length?", ":" "):"",s="D MMM "+(i[2].length>10?"YYYY ":"YY "),r="HH:mm"+(i[4]?":ss":""),i[1]){var d=new Date(i[2]),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][d.getDay()];if(i[1].substr(0,3)!==h)return f(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(i[5].length){case 2:0===c?a=" +0000":(c=u.indexOf(i[5][1].toUpperCase())-12,a=(c<0?" -":" +")+(""+c).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:a=l[i[5]];break;default:a=l[" GMT"]}i[5]=a,e._i=i.splice(1).join(""),o=" ZZ",e._f=n+s+r+o,ht(e),f(e).rfc2822=!0}else e._isValid=!1}function at(e){var i=js.exec(e._i);if(null!==i)return void(e._d=new Date(+i[1]));rt(e),!1===e._isValid&&(delete e._isValid,ot(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}function ct(e,t,i){return null!=e?e:null!=t?t:i}function lt(e){var i=new Date(t.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function ut(e){var t,i,n,s,r=[];if(!e._d){for(n=lt(e),e._w&&null==e._a[os]&&null==e._a[rs]&&dt(e),null!=e._dayOfYear&&(s=ct(e._a[ss],n[ss]),(e._dayOfYear>ge(s)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),i=ye(s,0,e._dayOfYear),e._a[rs]=i.getUTCMonth(),e._a[os]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=n[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[as]&&0===e._a[cs]&&0===e._a[ls]&&0===e._a[us]&&(e._nextDay=!0,e._a[as]=0),e._d=(e._useUTC?ye:_e).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[as]=24)}}function dt(e){var t,i,n,s,r,o,a,c;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)r=1,o=4,i=ct(t.GG,e._a[ss],De(yt(),1,4).year),n=ct(t.W,1),((s=ct(t.E,1))<1||s>7)&&(c=!0);else{r=e._locale._week.dow,o=e._locale._week.doy;var l=De(yt(),r,o);i=ct(t.gg,e._a[ss],l.year),n=ct(t.w,l.week),null!=t.d?((s=t.d)<0||s>6)&&(c=!0):null!=t.e?(s=t.e+r,(t.e<0||t.e>6)&&(c=!0)):s=r}n<1||n>Ce(i,r,o)?f(e)._overflowWeeks=!0:null!=c?f(e)._overflowWeekday=!0:(a=be(i,n,s,r,o),e._a[ss]=a.year,e._dayOfYear=a.dayOfYear)}function ht(e){if(e._f===t.ISO_8601)return void rt(e);if(e._f===t.RFC_2822)return void ot(e);e._a=[],f(e).empty=!0;var i,n,s,r,o,a=""+e._i,c=a.length,l=0;for(s=J(e._f,e._locale).match(Fn)||[],i=0;i<s.length;i++)r=s[i],n=(a.match(Z(r,e))||[])[0],n&&(o=a.substr(0,a.indexOf(n)),o.length>0&&f(e).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),l+=n.length),jn[r]?(n?f(e).empty=!1:f(e).unusedTokens.push(r),se(r,n,e)):e._strict&&!n&&f(e).unusedTokens.push(r);f(e).charsLeftOver=c-l,a.length>0&&f(e).unusedInput.push(a),e._a[as]<=12&&!0===f(e).bigHour&&e._a[as]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[as]=pt(e._locale,e._a[as],e._meridiem),ut(e),st(e)}function pt(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?(n=e.isPM(i),n&&t<12&&(t+=12),n||12!==t||(t=0),t):t}function ft(e){var t,i,n,s,r;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(s=0;s<e._f.length;s++)r=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[s],ht(t),m(t)&&(r+=f(t).charsLeftOver,r+=10*f(t).unusedTokens.length,f(t).score=r,(null==n||r<n)&&(n=r,i=t));d(e,i||t)}function mt(e){if(!e._d){var t=j(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ut(e)}}function gt(e){var t=new T(st(vt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function vt(e){var t=e._i,i=e._f;return e._locale=e._locale||it(e._l),null===t||void 0===i&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new T(st(t)):(c(t)?e._d=t:n(i)?ft(e):i?ht(e):Tt(e),m(e)||(e._d=null),e))}function Tt(e){var i=e._i;o(i)?e._d=new Date(t.now()):c(i)?e._d=new Date(i.valueOf()):"string"==typeof i?at(e):n(i)?(e._a=l(i.slice(0),function(e){return parseInt(e,10)}),ut(e)):s(i)?mt(e):a(i)?e._d=new Date(i):t.createFromInputFallback(e)}function _t(e,t,i,o,a){var c={};return!0!==i&&!1!==i||(o=i,i=void 0),(s(e)&&r(e)||n(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=a,c._l=i,c._i=e,c._f=t,c._strict=o,gt(c)}function yt(e,t,i,n){return _t(e,t,i,n,!1)}function wt(e,t){var i,s;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return yt();for(i=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](i)||(i=t[s]);return i}function bt(){return wt("isBefore",[].slice.call(arguments,0))}function Dt(){return wt("isAfter",[].slice.call(arguments,0))}function Ct(e){for(var t in e)if(-1===zs.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var i=!1,n=0;n<zs.length;++n)if(e[zs[n]]){if(i)return!1;parseFloat(e[zs[n]])!==w(e[zs[n]])&&(i=!0)}return!0}function St(){return this._isValid}function Et(){return Kt(NaN)}function It(e){var t=j(e),i=t.year||0,n=t.quarter||0,s=t.month||0,r=t.week||0,o=t.day||0,a=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=Ct(t),this._milliseconds=+u+1e3*l+6e4*c+1e3*a*60*60,this._days=+o+7*r,this._months=+s+3*n+12*i,this._data={},this._locale=it(),this._bubble()}function At(e){return e instanceof It}function xt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function kt(e,t){G(e,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+V(~~(e/60),2)+t+V(~~e%60,2)})}function Mt(e,t){var i=(t||"").match(e);if(null===i)return null;var n=i[i.length-1]||[],s=(n+"").match(Ws)||["-",0,0],r=60*s[1]+w(s[2]);return 0===r?0:"+"===s[0]?r:-r}function Ot(e,i){var n,s;return i._isUTC?(n=i.clone(),s=(_(e)||c(e)?e.valueOf():yt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),t.updateOffset(n,!1),n):yt(e).local()}function Rt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Lt(e,i,n){var s,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Mt(Zn,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&i&&(s=Rt(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),r!==e&&(!i||this._changeInProgress?Qt(this,Kt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Rt(this)}function Ft(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Nt(e){return this.utcOffset(0,e)}function Pt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Rt(this),"m")),this}function jt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Mt(Xn,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Ut(e){return!!this.isValid()&&(e=e?yt(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function $t(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Bt(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),e=vt(e),e._a){var t=e._isUTC?h(e._a):yt(e._a);this._isDSTShifted=this.isValid()&&b(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ht(){return!!this.isValid()&&!this._isUTC}function zt(){return!!this.isValid()&&this._isUTC}function Wt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Kt(e,t){var i,n,s,r=e,o=null;return At(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(r={},t?r[t]=e:r.milliseconds=e):(o=Ks.exec(e))?(i="-"===o[1]?-1:1,r={y:0,d:w(o[os])*i,h:w(o[as])*i,m:w(o[cs])*i,s:w(o[ls])*i,ms:w(xt(1e3*o[us]))*i}):(o=Vs.exec(e))?(i="-"===o[1]?-1:1,r={y:Vt(o[2],i),M:Vt(o[3],i),w:Vt(o[4],i),d:Vt(o[5],i),h:Vt(o[6],i),m:Vt(o[7],i),s:Vt(o[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(s=qt(yt(r.from),yt(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),n=new It(r),At(e)&&u(e,"_locale")&&(n._locale=e._locale),n}function Vt(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Gt(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function qt(e,t){var i;return e.isValid()&&t.isValid()?(t=Ot(t,e),e.isBefore(t)?i=Gt(e,t):(i=Gt(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function Yt(e,t){return function(i,n){var s,r;return null===n||isNaN(+n)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),i="string"==typeof i?+i:i,s=Kt(i,n),Qt(this,s,e),this}}function Qt(e,i,n,s){var r=i._milliseconds,o=xt(i._days),a=xt(i._months);e.isValid()&&(s=null==s||s,r&&e._d.setTime(e._d.valueOf()+r*n),o&&z(e,"Date",H(e,"Date")+o*n),a&&ue(e,H(e,"Month")+a*n),s&&t.updateOffset(e,o||a))}function Jt(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function Xt(e,i){var n=e||yt(),s=Ot(n,this).startOf("day"),r=t.calendarFormat(this,s)||"sameElse",o=i&&(E(i[r])?i[r].call(this,n):i[r]);return this.format(o||this.localeData().calendar(r,this,yt(n)))}function Zt(){return new T(this)}function ei(e,t){var i=_(e)?e:yt(e);return!(!this.isValid()||!i.isValid())&&(t=P(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())}function ti(e,t){var i=_(e)?e:yt(e);return!(!this.isValid()||!i.isValid())&&(t=P(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())}function ii(e,t,i,n){return n=n||"()",("("===n[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===n[1]?this.isBefore(t,i):!this.isAfter(t,i))}function ni(e,t){var i,n=_(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=P(t||"millisecond"),"millisecond"===t?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))}function si(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function ri(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function oi(e,t,i){var n,s,r,o;return this.isValid()?(n=Ot(e,this),n.isValid()?(s=6e4*(n.utcOffset()-this.utcOffset()),t=P(t),"year"===t||"month"===t||"quarter"===t?(o=ai(this,n),"quarter"===t?o/=3:"year"===t&&(o/=12)):(r=this-n,o="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-s)/864e5:"week"===t?(r-s)/6048e5:r),i?o:y(o)):NaN):NaN}function ai(e,t){var i,n,s=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(s,"months");return t-r<0?(i=e.clone().add(s-1,"months"),n=(t-r)/(r-i)):(i=e.clone().add(s+1,"months"),n=(t-r)/(i-r)),-(s+n)||0}function ci(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function li(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?Q(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):E(Date.prototype.toISOString)?this.toDate().toISOString():Q(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ui(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s=t+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+s)}function di(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=Q(this,e);return this.localeData().postformat(i)}function hi(e,t){return this.isValid()&&(_(e)&&e.isValid()||yt(e).isValid())?Kt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pi(e){return this.from(yt(),e)}function fi(e,t){return this.isValid()&&(_(e)&&e.isValid()||yt(e).isValid())?Kt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mi(e){return this.to(yt(),e)}function gi(e){var t;return void 0===e?this._locale._abbr:(t=it(e),null!=t&&(this._locale=t),this)}function vi(){return this._locale}function Ti(e){switch(e=P(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function _i(e){return void 0===(e=P(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function wi(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function Di(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ci(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Si(){return this.isValid()?this.toISOString():null}function Ei(){return m(this)}function Ii(){return d({},f(this))}function Ai(){return f(this).overflow}function xi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function ki(e,t){G(0,[e,e.length],0,t)}function Mi(e){return Fi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Oi(e){return Fi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ri(){return Ce(this.year(),1,4)}function Li(){var e=this.localeData()._week;return Ce(this.year(),e.dow,e.doy)}function Fi(e,t,i,n,s){var r;return null==e?De(this,n,s).year:(r=Ce(e,n,s),t>r&&(t=r),Ni.call(this,e,t,i,n,s))}function Ni(e,t,i,n,s){var r=be(e,t,i,n,s),o=ye(r.year,0,r.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Pi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function ji(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Ui(e,t){t[us]=w(1e3*("0."+e))}function $i(){return this._isUTC?"UTC":""}function Bi(){return this._isUTC?"Coordinated Universal Time":""}function Hi(e){return yt(1e3*e)}function zi(){return yt.apply(null,arguments).parseZone()}function Wi(e){return e}function Ki(e,t,i,n){var s=it(),r=h().set(n,t);return s[i](r,e)}function Vi(e,t,i){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return Ki(e,t,i,"month");var n,s=[];for(n=0;n<12;n++)s[n]=Ki(e,n,i,"month");return s}function Gi(e,t,i,n){"boolean"==typeof e?(a(t)&&(i=t,t=void 0),t=t||""):(t=e,i=t,e=!1,a(t)&&(i=t,t=void 0),t=t||"");var s=it(),r=e?s._week.dow:0;if(null!=i)return Ki(t,(i+r)%7,n,"day");var o,c=[];for(o=0;o<7;o++)c[o]=Ki(t,(o+r)%7,n,"day");return c}function qi(e,t){return Vi(e,t,"months")}function Yi(e,t){return Vi(e,t,"monthsShort")}function Qi(e,t,i){return Gi(e,t,i,"weekdays")}function Ji(e,t,i){return Gi(e,t,i,"weekdaysShort")}function Xi(e,t,i){return Gi(e,t,i,"weekdaysMin")}function Zi(){var e=this._data;return this._milliseconds=nr(this._milliseconds),this._days=nr(this._days),this._months=nr(this._months),e.milliseconds=nr(e.milliseconds),e.seconds=nr(e.seconds),e.minutes=nr(e.minutes),e.hours=nr(e.hours),e.months=nr(e.months),e.years=nr(e.years),this}function en(e,t,i,n){var s=Kt(t,i);return e._milliseconds+=n*s._milliseconds,e._days+=n*s._days,e._months+=n*s._months,e._bubble()}function tn(e,t){return en(this,e,t,1)}function nn(e,t){return en(this,e,t,-1)}function sn(e){return e<0?Math.floor(e):Math.ceil(e)}function rn(){var e,t,i,n,s,r=this._milliseconds,o=this._days,a=this._months,c=this._data;return r>=0&&o>=0&&a>=0||r<=0&&o<=0&&a<=0||(r+=864e5*sn(an(a)+o),o=0,a=0),c.milliseconds=r%1e3,e=y(r/1e3),c.seconds=e%60,t=y(e/60),c.minutes=t%60,i=y(t/60),c.hours=i%24,o+=y(i/24),s=y(on(o)),a+=s,o-=sn(an(s)),n=y(a/12),a%=12,c.days=o,c.months=a,c.years=n,this}function on(e){return 4800*e/146097}function an(e){return 146097*e/4800}function cn(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=P(e))||"year"===e)return t=this._days+n/864e5,i=this._months+on(t),"month"===e?i:i/12;switch(t=this._days+Math.round(an(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function ln(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN}function un(e){return function(){return this.as(e)}}function dn(e){return e=P(e),this.isValid()?this[e+"s"]():NaN}function hn(e){return function(){return this.isValid()?this._data[e]:NaN}}function pn(){return y(this.days()/7)}function fn(e,t,i,n,s){return s.relativeTime(t||1,!!i,e,n)}function mn(e,t,i){var n=Kt(e).abs(),s=_r(n.as("s")),r=_r(n.as("m")),o=_r(n.as("h")),a=_r(n.as("d")),c=_r(n.as("M")),l=_r(n.as("y")),u=s<=yr.ss&&["s",s]||s<yr.s&&["ss",s]||r<=1&&["m"]||r<yr.m&&["mm",r]||o<=1&&["h"]||o<yr.h&&["hh",o]||a<=1&&["d"]||a<yr.d&&["dd",a]||c<=1&&["M"]||c<yr.M&&["MM",c]||l<=1&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=i,fn.apply(null,u)}function gn(e){return void 0===e?_r:"function"==typeof e&&(_r=e,!0)}function vn(e,t){return void 0!==yr[e]&&(void 0===t?yr[e]:(yr[e]=t,"s"===e&&(yr.ss=t-1),!0))}function Tn(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),i=mn(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)}function _n(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i,n=wr(this._milliseconds)/1e3,s=wr(this._days),r=wr(this._months);e=y(n/60),t=y(e/60),n%=60,e%=60,i=y(r/12),r%=12;var o=i,a=r,c=s,l=t,u=e,d=n,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(c?c+"D":"")+(l||u||d?"T":"")+(l?l+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var yn,wn;wn=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var bn=wn,Dn=t.momentProperties=[],Cn=!1,Sn={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var En;En=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)u(e,t)&&i.push(t);return i};var In,An=En,xn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},kn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Mn=/\d{1,2}/,On={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Rn={},Ln={},Fn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Nn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pn={},jn={},Un=/\d/,$n=/\d\d/,Bn=/\d{3}/,Hn=/\d{4}/,zn=/[+-]?\d{6}/,Wn=/\d\d?/,Kn=/\d\d\d\d?/,Vn=/\d\d\d\d\d\d?/,Gn=/\d{1,3}/,qn=/\d{1,4}/,Yn=/[+-]?\d{1,6}/,Qn=/\d+/,Jn=/[+-]?\d+/,Xn=/Z|[+-]\d\d:?\d\d/gi,Zn=/Z|[+-]\d\d(?::?\d\d)?/gi,es=/[+-]?\d+(\.\d{1,3})?/,ts=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,is={},ns={},ss=0,rs=1,os=2,as=3,cs=4,ls=5,us=6,ds=7,hs=8;In=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var ps=In;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),G("MMMM",0,0,function(e){return this.localeData().months(this,e)}),N("month","M"),U("month",8),X("M",Wn),X("MM",Wn,$n),X("MMM",function(e,t){return t.monthsShortRegex(e)}),X("MMMM",function(e,t){return t.monthsRegex(e)}),ie(["M","MM"],function(e,t){t[rs]=w(e)-1}),ie(["MMM","MMMM"],function(e,t,i,n){var s=i._locale.monthsParse(e,n,i._strict);null!=s?t[rs]=s:f(i).invalidMonth=e});var fs=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ms="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),gs="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),vs=ts,Ts=ts;G("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),N("year","y"),U("year",1),X("Y",Jn),X("YY",Wn,$n),X("YYYY",qn,Hn),X("YYYYY",Yn,zn),X("YYYYYY",Yn,zn),ie(["YYYYY","YYYYYY"],ss),ie("YYYY",function(e,i){i[ss]=2===e.length?t.parseTwoDigitYear(e):w(e)}),ie("YY",function(e,i){i[ss]=t.parseTwoDigitYear(e)}),ie("Y",function(e,t){t[ss]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var _s=B("FullYear",!0);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),U("week",5),U("isoWeek",5),X("w",Wn),X("ww",Wn,$n),X("W",Wn),X("WW",Wn,$n),ne(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=w(e)});var ys={dow:0,doy:6};G("d",0,"do","day"),G("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),G("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),G("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),X("d",Wn),X("e",Wn),X("E",Wn),X("dd",function(e,t){return t.weekdaysMinRegex(e)}),X("ddd",function(e,t){return t.weekdaysShortRegex(e)}),X("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,i,n){var s=i._locale.weekdaysParse(e,n,i._strict);null!=s?t.d=s:f(i).invalidWeekday=e}),ne(["d","e","E"],function(e,t,i,n){t[n]=w(e)});var ws="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bs="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ds="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Cs=ts,Ss=ts,Es=ts;G("H",["HH",2],0,"hour"),G("h",["hh",2],0,We),G("k",["kk",2],0,Ke),G("hmm",0,0,function(){return""+We.apply(this)+V(this.minutes(),2)}),G("hmmss",0,0,function(){return""+We.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),G("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),G("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)}),Ve("a",!0),Ve("A",!1),N("hour","h"),U("hour",13),X("a",Ge),X("A",Ge),X("H",Wn),X("h",Wn),X("k",Wn),X("HH",Wn,$n),X("hh",Wn,$n),X("kk",Wn,$n),X("hmm",Kn),X("hmmss",Vn),X("Hmm",Kn),X("Hmmss",Vn),ie(["H","HH"],as),ie(["k","kk"],function(e,t,i){var n=w(e);t[as]=24===n?0:n}),ie(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),ie(["h","hh"],function(e,t,i){t[as]=w(e),f(i).bigHour=!0}),ie("hmm",function(e,t,i){var n=e.length-2;t[as]=w(e.substr(0,n)),t[cs]=w(e.substr(n)),f(i).bigHour=!0}),ie("hmmss",function(e,t,i){var n=e.length-4,s=e.length-2;t[as]=w(e.substr(0,n)),t[cs]=w(e.substr(n,2)),t[ls]=w(e.substr(s)),f(i).bigHour=!0}),ie("Hmm",function(e,t,i){var n=e.length-2;t[as]=w(e.substr(0,n)),t[cs]=w(e.substr(n))}),ie("Hmmss",function(e,t,i){var n=e.length-4,s=e.length-2;t[as]=w(e.substr(0,n)),t[cs]=w(e.substr(n,2)),t[ls]=w(e.substr(s))});var Is,As=/[ap]\.?m?\.?/i,xs=B("Hours",!0),ks={calendar:xn,longDateFormat:kn,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Mn,relativeTime:On,months:ms,monthsShort:gs,week:ys,weekdays:ws,weekdaysMin:Ds,weekdaysShort:bs,meridiemParse:As},Ms={},Os={},Rs=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ls=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fs=/Z|[+-]\d\d(?::?\d\d)?/,Ns=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ps=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],js=/^\/?Date\((\-?\d+)/i,Us=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;t.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var $s=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()}),Bs=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}),Hs=function(){return Date.now?Date.now():+new Date},zs=["year","quarter","month","week","day","hour","minute","second","millisecond"];kt("Z",":"),kt("ZZ",""),X("Z",Zn),X("ZZ",Zn),ie(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=Mt(Zn,e)});var Ws=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Ks=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Vs=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Kt.fn=It.prototype,Kt.invalid=Et;var Gs=Yt(1,"add"),qs=Yt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ys=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ki("gggg","weekYear"),ki("ggggg","weekYear"),ki("GGGG","isoWeekYear"),ki("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),X("G",Jn),X("g",Jn),X("GG",Wn,$n),X("gg",Wn,$n),X("GGGG",qn,Hn),X("gggg",qn,Hn),X("GGGGG",Yn,zn),X("ggggg",Yn,zn),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=w(e)}),ne(["gg","GG"],function(e,i,n,s){i[s]=t.parseTwoDigitYear(e)}),G("Q",0,"Qo","quarter"),N("quarter","Q"),U("quarter",7),X("Q",Un),ie("Q",function(e,t){t[rs]=3*(w(e)-1)}),G("D",["DD",2],"Do","date"),N("date","D"),U("date",9),X("D",Wn),X("DD",Wn,$n),X("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ie(["D","DD"],os),ie("Do",function(e,t){t[os]=w(e.match(Wn)[0],10)});var Qs=B("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),U("dayOfYear",4),X("DDD",Gn),X("DDDD",Bn),ie(["DDD","DDDD"],function(e,t,i){i._dayOfYear=w(e)}),G("m",["mm",2],0,"minute"),N("minute","m"),U("minute",14),X("m",Wn),X("mm",Wn,$n),ie(["m","mm"],cs);var Js=B("Minutes",!1);G("s",["ss",2],0,"second"),N("second","s"),U("second",15),X("s",Wn),X("ss",Wn,$n),ie(["s","ss"],ls);var Xs=B("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),U("millisecond",16),X("S",Gn,Un),X("SS",Gn,$n),X("SSS",Gn,Bn);var Zs;for(Zs="SSSS";Zs.length<=9;Zs+="S")X(Zs,Qn);for(Zs="S";Zs.length<=9;Zs+="S")ie(Zs,Ui);var er=B("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var tr=T.prototype;tr.add=Gs,tr.calendar=Xt,tr.clone=Zt,tr.diff=oi,tr.endOf=_i,tr.format=di,tr.from=hi,tr.fromNow=pi,tr.to=fi,tr.toNow=mi,tr.get=W,tr.invalidAt=Ai,tr.isAfter=ei,tr.isBefore=ti,tr.isBetween=ii,tr.isSame=ni,tr.isSameOrAfter=si,tr.isSameOrBefore=ri,tr.isValid=Ei,tr.lang=Ys,tr.locale=gi,tr.localeData=vi,tr.max=Bs,tr.min=$s,tr.parsingFlags=Ii,tr.set=K,tr.startOf=Ti,tr.subtract=qs,tr.toArray=Di,tr.toObject=Ci,tr.toDate=bi,tr.toISOString=li,tr.inspect=ui,tr.toJSON=Si,tr.toString=ci,tr.unix=wi,tr.valueOf=yi,tr.creationData=xi,tr.year=_s,tr.isLeapYear=Te,tr.weekYear=Mi,tr.isoWeekYear=Oi,tr.quarter=tr.quarters=Pi,tr.month=de,tr.daysInMonth=he,tr.week=tr.weeks=Ae,tr.isoWeek=tr.isoWeeks=xe,tr.weeksInYear=Li,tr.isoWeeksInYear=Ri,tr.date=Qs,tr.day=tr.days=Pe,tr.weekday=je,tr.isoWeekday=Ue,tr.dayOfYear=ji,tr.hour=tr.hours=xs,tr.minute=tr.minutes=Js,tr.second=tr.seconds=Xs,tr.millisecond=tr.milliseconds=er,tr.utcOffset=Lt,tr.utc=Nt,tr.local=Pt,tr.parseZone=jt,tr.hasAlignedHourOffset=Ut,tr.isDST=$t,tr.isLocal=Ht,tr.isUtcOffset=zt,tr.isUtc=Wt,tr.isUTC=Wt,tr.zoneAbbr=$i,tr.zoneName=Bi,tr.dates=C("dates accessor is deprecated. Use date instead.",Qs),tr.months=C("months accessor is deprecated. Use month instead",de),tr.years=C("years accessor is deprecated. Use year instead",_s),tr.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ft),tr.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Bt);var ir=x.prototype;ir.calendar=k,ir.longDateFormat=M,ir.invalidDate=O,ir.ordinal=R,ir.preparse=Wi,ir.postformat=Wi,ir.relativeTime=L,ir.pastFuture=F,ir.set=I,ir.months=oe,ir.monthsShort=ae,ir.monthsParse=le,ir.monthsRegex=fe,ir.monthsShortRegex=pe,ir.week=Se,ir.firstDayOfYear=Ie,ir.firstDayOfWeek=Ee,ir.weekdays=Oe,ir.weekdaysMin=Le,ir.weekdaysShort=Re,ir.weekdaysParse=Ne,ir.weekdaysRegex=$e,ir.weekdaysShortRegex=Be,ir.weekdaysMinRegex=He,ir.isPM=qe,ir.meridiem=Ye,Ze("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=C("moment.lang is deprecated. Use moment.locale instead.",Ze),t.langData=C("moment.langData is deprecated. Use moment.localeData instead.",it);var nr=Math.abs,sr=un("ms"),rr=un("s"),or=un("m"),ar=un("h"),cr=un("d"),lr=un("w"),ur=un("M"),dr=un("y"),hr=hn("milliseconds"),pr=hn("seconds"),fr=hn("minutes"),mr=hn("hours"),gr=hn("days"),vr=hn("months"),Tr=hn("years"),_r=Math.round,yr={ss:44,s:45,m:45,h:22,d:26,M:11},wr=Math.abs,br=It.prototype;return br.isValid=St,br.abs=Zi,br.add=tn,br.subtract=nn,br.as=cn,br.asMilliseconds=sr,br.asSeconds=rr,br.asMinutes=or,br.asHours=ar,br.asDays=cr,br.asWeeks=lr,br.asMonths=ur,br.asYears=dr,br.valueOf=ln,br._bubble=rn,br.get=dn,br.milliseconds=hr,br.seconds=pr,br.minutes=fr,br.hours=mr,br.days=gr,br.weeks=pn,br.months=vr,br.years=Tr,br.humanize=Tn,br.toISOString=_n,br.toString=_n,br.toJSON=_n,br.locale=gi,br.localeData=vi,br.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",_n),br.lang=Ys,G("X",0,0,"unix"),G("x",0,0,"valueOf"),X("x",Jn),X("X",es),ie("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),ie("x",function(e,t,i){i._d=new Date(w(e))}),t.version="2.18.1",function(e){yn=e}(yt),t.fn=tr,t.min=bt,t.max=Dt,t.now=Hs,t.utc=h,t.unix=Hi,t.months=qi,t.isDate=c,t.locale=Ze,t.invalid=g,t.duration=Kt,t.isMoment=_,t.weekdays=Qi,t.parseZone=zi,t.localeData=it,t.isDuration=At,t.monthsShort=Yi,t.weekdaysMin=Xi,t.defineLocale=et,t.updateLocale=tt,t.locales=nt,t.weekdaysShort=Ji,t.normalizeUnits=P,t.relativeTimeRounding=gn,t.relativeTimeThreshold=vn,t.calendarFormat=Jt,t.prototype=tr,t})}).call(t,i(417)(e))},,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){return S}function r(){var e=[TD.config.twitter_api_base,"/",TD.config.twitter_api_version,"/help/settings.json"].join("");return _.default.request(e,{params:{settings_version:y}})}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=(0,l.default)({defaultValue:!1,settingsObservable:s()},t),t.settingsObservable.map(function(i){return(0,d.default)(i,["config",e,"value"],t.defaultValue)}).distinctUntilChanged()}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,d.default)(window,"TD.config.config_overlay",{}),i={tweetdeck_devel:{value:!1},tweetdeck_dogfood:{value:!1}};return(0,l.default)({},e,{config:(0,l.default)({},e.config,t,w?i:{})})}Object.defineProperty(t,"__esModule",{value:!0});var c=i(15),l=n(c),u=i(17),d=n(u);t.default=s,t.getStreamForFeatureFlag=o,t.injectOverrides=a;var h=i(18),p=n(h),f=i(55),m=n(f),g=i(38),v=n(g),T=i(119),_=n(T),y="",w=(0,m.default)(window.location.href).search(!0).no_dogfood,b=p.default.Observable.timer(0,3e5).flatMap(function(){return v.default.fromDeferred(r()).catch(function(e){return p.default.Observable.empty()})}).pluck("data").filter(Boolean).do(function(e){y=(0,d.default)(e,"versions.settings","")}).startWith({}).publishReplay(1).refCount(),D=b.mapTo(!0),C=p.default.Observable.fromEvent($(document),"debugRetriggerTwitterSettings").mapTo(!0),S=p.default.Observable.merge(D,C).mergeMap(function(){return b.take(1)}).map(a)},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t,i){var n=i(42);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,s){return e.call(t,i,n,s)}}return function(){return e.apply(t,arguments)}}},function(e,t,i){"use strict";var n=i(14);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},,,,,,function(e,t,i){function n(e){return null!=e&&r(s(e))}var s=i(395),r=i(141);e.exports=n},function(e,t,i){var n=i(65),s=i(178),r=i(31),o=i(26),a=i(292);e.exports=function(e,t){var i=1==e,c=2==e,l=3==e,u=4==e,d=6==e,h=5==e||d,p=t||a;return function(t,a,f){for(var m,g,v=r(t),T=s(v),_=n(a,f,3),y=o(T.length),w=0,b=i?p(t,y):c?p(t,0):void 0;y>w;w++)if((h||w in T)&&(m=T[w],g=_(m,w,v),e))if(i)b[w]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:b.push(m)}else if(u)return!1;return d?-1:l||u?u:b}}},function(e,t){var i=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=i)},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){var n=i(1),s=i(74),r=i(14);e.exports=function(e,t){var i=(s.Object||{})[e]||Object[e],o={};o[e]=t(i),n(n.S+n.F*r(function(){i(1)}),"Object",o)}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t,i){var n=i(16);e.exports=function(e,t){if(!n(e))return e;var i,s;if(t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;if("function"==typeof(i=e.valueOf)&&!n(s=i.call(e)))return s;if(!t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return v.query(e)}function r(){return a(v)}function o(e){return"string"==typeof e.label&&"function"==typeof e.apply}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[];return{add:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=i.filter(o);e&&e.add(n),t=[].concat((0,u.default)(t),(0,u.default)(n)),t=(0,f.default)(t,function(e){return e.label.toLowerCase()})},remove:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e&&e.remove(i),t=(0,h.default)(t,i)},removeAll:function(){e&&e.remove(t),t=[]},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=t.filter(function(e){return!e.canApply||e.canApply()});return(e?g.default.filter(i,e,{key:"label"}):i).map(function(t){var i=t.label+" ";return{original:t,string:(e?g.default.wrap(i,e,{wrap:{tagOpen:T,tagClose:T}}):t.label).trim()}})}}}function c(){this.before("initialize",function(){this._commandBag=r()}),this.before("teardown",function(){this._commandBag.removeAll()}),this.addCommands=function(e){this._commandBag.add(e)},this.removeCommands=function(e){this._commandBag.remove(e)},this.removeAllCommands=function(){this._commandBag.removeAll()}}Object.defineProperty(t,"__esModule",{value:!0}),t.MATCH_DELIMITER=void 0;var l=i(39),u=n(l),d=i(261),h=n(d),p=i(381),f=n(p);t.query=s,t.makeCommandBag=r,t.flightWithCommands=c;var m=i(423),g=n(m),v=a();v.add([{label:"Show Help",apply:function(){return window.open("https://support.twitter.com/articles/20169620")}}]);var T=t.MATCH_DELIMITER="<>>BANAN∆ANA¬NA!!!™•";window.cmd=t},function(e,t,i){"use strict";function n(){this.measureElementHeight=function(e,t){var i=$(e);return i.removeClass(t),i.height()},this.animateHeight=function(e,t,i,n){var s,r,o=this.measureElementHeight(e,t),a=function(){"function"==typeof i&&i(),"collapse"===n&&e.css("height","")};"expand"===n?(s=0,r=o):(s=o,r=0),this.animateHeightFromTo(e,s,r,t,a)},this.animateHeightFromTo=function(e,t,i,n,r){var o=function(){e.removeClass(n),e.css("height",""),e.trigger("uiTransitionExpandEnd"),"function"==typeof r&&r()};if(t===i)return void(r&&r());e.css({height:t}),_.defer(function(){e.addClass(n),e.trigger("uiTransitionExpandStart",{delta:i-t}),e.one(s.TRANSITION_END,o),e.height(i)})},this.animateElementContentHeight=function(e,t,i,n){var s=function(){e.html(t)};this.animateElementHeightChange(e,s,i,n)},this.animateElementHeightChange=function(e,t,i,n){var s,r=this.measureElementHeight(e,i);e.css({height:""}),t(),s=this.measureElementHeight(e),this.animateHeightFromTo(e,r,s,i,n)},this.deferredAnimateElementHeightChange=function(e,t,i){i=_.defaults(i||{},{isAnimatingClass:""});var n=new TD.core.defer.Deferred;return this.animateElementHeightChange(e,t,i.isAnimatingClass,n.callback.bind(n)),n},this.transitionExpand=function(e,t,i){this.animateHeight(e,t,i,"expand")},this.transitionCollapse=function(e,t,i){this.animateHeight(e,t,i,"collapse")},this.transitionTop=function(e,t,i,n){var r=function(){e.removeClass(t),"function"==typeof n&&n()};e.addClass(t),e.one(s.TRANSITION_END,r),e.css("top",i)},this.addAnimateClass=function(e,t,i){i=i||function(){},e.one(s.ANIMATION_END,function(){e.removeClass(t),i()}),e.addClass(t)},this.stopAnimation=function(e,t){e.off(s.ANIMATION_END),e.removeClass(t)}}var s=i(173);e.exports=n},function(e,t,i){"use strict";var n=i(2).component,s=i(61),r=i(30),o=i(19);e.exports=n(function(){},r,o,s)},function(e,t,i){"use strict";function n(){return f(TD.storage.store.getTwitterLoginAccount())}function s(){return f(TD.storage.accountController.getDefault())||null}function r(e){TD.storage.accountController.setDefault(e)}function o(e){return f(TD.storage.accountController.get(e))}function a(e){return f(TD.storage.accountController.getAccountFromId(e))}function c(e){e!==t.getDefaultAccount().accountKey?TD.controller.clients.removeClient(e):(r(t.getTwitterLoginAccount().accountKey),TD.storage.notification.flush().addCallback(function(){TD.controller.clients.removeClient(e)}))}function l(e){return m(TD.storage.accountController.getAccountsForService(e)).sort(g)}function u(){return t.getAccountsForService("twitter")}function d(e){return e.filter(function(e){return e.hasClient})}function h(e,t){var i=TD.storage.accountController.get(e);t.id===i.getUserID()&&(i.setUsername(t.screenName),i.setName(t.name),i.setProfileImageURL(t.profileImageURL),i.setIsPrivate(t.isProtected),i.setUpdated((new Date).getTime()))}function p(e,t){TD.storage.accountController.get(e).setIsAdmin(t)}function f(e){if(e){var t=TD.storage.accountController.getDefault(),i=TD.storage.store.getTwitterLoginAccount();return{name:e.getName(),emojifiedName:T.default.cleanWithEmoji(e.getName()),accountKey:e.getKey(),profileImageURL:e.getProfileImageURL(),userId:e.getUserID(),screenName:e.getUsername(),isProtected:e.getIsPrivate(),isDefault:e===t,isTwoginAccount:e===i,isAdmin:e.getIsAdmin(),isContributor:e.isContributor(),isCookieUser:e.isCookieUser(),isMissingUserData:e.isMissingUserData(),hasClient:!!TD.controller.clients.getClient(e.getKey())}}}function m(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(Boolean).map(f)}function g(e,t){var i=void 0,n=void 0;if(TD.storage.store.getTwitterLoginAccount()){if(e.isTwoginAccount)return-1;if(t.isTwoginAccount)return 1}else{if(e.isDefault)return-1;if(t.isDefault)return 1}return i=e.screenName.toLowerCase(),n=t.screenName.toLowerCase(),i<n?-1:i>n?1:0}Object.defineProperty(t,"__esModule",{value:!0}),t.getTwitterLoginAccount=n,t.getDefaultAccount=s,t.setDefaultAccount=r,t.getAccount=o,t.getAccountFromId=a,t.removeAccount=c,t.getAccountsForService=l,t.getTwitterAccounts=u,t.filterAccountsWithClient=d,t.updateAccount=h,t.setIsAdmin=p,t.serializeAccount=f,t.serializeAccounts=m,t.sortAccounts=g;var v=i(13),T=function(e){return e&&e.__esModule?e:{default:e}}(v)},function(e,t,i){var n=i(512),s=i(1),r=i(232)("metadata"),o=r.store||(r.store=new(i(515))),a=function(e,t,i){var s=o.get(e);if(!s){if(!i)return;o.set(e,s=new n)}var r=s.get(t);if(!r){if(!i)return;s.set(t,r=new n)}return r},c=function(e,t,i){var n=a(t,i,!1);return void 0!==n&&n.has(e)},l=function(e,t,i){var n=a(t,i,!1);return void 0===n?void 0:n.get(e)},u=function(e,t,i,n){a(i,n,!0).set(e,t)},d=function(e,t){var i=a(e,t,!1),n=[];return i&&i.forEach(function(e,t){n.push(t)}),n},h=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},p=function(e){s(s.S,"Reflect",e)};e.exports={store:o,map:a,has:c,get:l,set:u,keys:d,key:h,exp:p}},function(e,t,i){"use strict";if(i(24)){var n=i(122),s=i(12),r=i(14),o=i(1),a=i(234),c=i(313),l=i(65),u=i(120),d=i(126),h=i(50),p=i(127),f=i(77),m=i(26),g=i(510),v=i(129),T=i(78),_=i(49),y=i(177),w=i(16),b=i(31),D=i(299),C=i(123),S=i(57),E=i(124).f,I=i(316),A=i(130),x=i(21),k=i(73),M=i(221),O=i(233),R=i(317),L=i(148),F=i(227),N=i(128),P=i(291),j=i(483),U=i(25),$=i(56),B=U.f,H=$.f,z=s.RangeError,W=s.TypeError,K=s.Uint8Array,V=Array.prototype,G=c.ArrayBuffer,q=c.DataView,Y=k(0),Q=k(2),J=k(3),X=k(4),Z=k(5),ee=k(6),te=M(!0),ie=M(!1),ne=R.values,se=R.keys,re=R.entries,oe=V.lastIndexOf,ae=V.reduce,ce=V.reduceRight,le=V.join,ue=V.sort,de=V.slice,he=V.toString,pe=V.toLocaleString,fe=x("iterator"),me=x("toStringTag"),ge=A("typed_constructor"),ve=A("def_constructor"),Te=a.CONSTR,_e=a.TYPED,ye=a.VIEW,we=k(1,function(e,t){return Ee(O(e,e[ve]),t)}),be=r(function(){return 1===new K(new Uint16Array([1]).buffer)[0]}),De=!!K&&!!K.prototype.set&&r(function(){new K(1).set({})}),Ce=function(e,t){var i=f(e);if(i<0||i%t)throw z("Wrong offset!");return i},Se=function(e){if(w(e)&&_e in e)return e;throw W(e+" is not a typed array!")},Ee=function(e,t){if(!(w(e)&&ge in e))throw W("It is not a typed array constructor!");return new e(t)},Ie=function(e,t){return Ae(O(e,e[ve]),t)},Ae=function(e,t){for(var i=0,n=t.length,s=Ee(e,n);n>i;)s[i]=t[i++];return s},xe=function(e,t,i){B(e,t,{get:function(){return this._d[i]}})},ke=function(e){var t,i,n,s,r,o,a=b(e),c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,h=I(a);if(void 0!=h&&!D(h)){for(o=h.call(a),n=[],t=0;!(r=o.next()).done;t++)n.push(r.value);a=n}for(d&&c>2&&(u=l(u,arguments[2],2)),t=0,i=m(a.length),s=Ee(this,i);i>t;t++)s[t]=d?u(a[t],t):a[t];return s},Me=function(){for(var e=0,t=arguments.length,i=Ee(this,t);t>e;)i[e]=arguments[e++];return i},Oe=!!K&&r(function(){pe.call(new K(1))}),Re=function(){return pe.apply(Oe?de.call(Se(this)):Se(this),arguments)},Le={copyWithin:function(e,t){return j.call(Se(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return X(Se(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return P.apply(Se(this),arguments)},filter:function(e){return Ie(this,Q(Se(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Se(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Se(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Y(Se(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ie(Se(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Se(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return le.apply(Se(this),arguments)},lastIndexOf:function(e){return oe.apply(Se(this),arguments)},map:function(e){return we(Se(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ae.apply(Se(this),arguments)},reduceRight:function(e){return ce.apply(Se(this),arguments)},reverse:function(){for(var e,t=this,i=Se(t).length,n=Math.floor(i/2),s=0;s<n;)e=t[s],t[s++]=t[--i],t[i]=e;return t},some:function(e){return J(Se(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ue.call(Se(this),e)},subarray:function(e,t){var i=Se(this),n=i.length,s=v(e,n);return new(O(i,i[ve]))(i.buffer,i.byteOffset+s*i.BYTES_PER_ELEMENT,m((void 0===t?n:v(t,n))-s))}},Fe=function(e,t){return Ie(this,de.call(Se(this),e,t))},Ne=function(e){Se(this);var t=Ce(arguments[1],1),i=this.length,n=b(e),s=m(n.length),r=0;if(s+t>i)throw z("Wrong length!");for(;r<s;)this[t+r]=n[r++]},Pe={entries:function(){return re.call(Se(this))},keys:function(){return se.call(Se(this))},values:function(){return ne.call(Se(this))}},je=function(e,t){return w(e)&&e[_e]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ue=function(e,t){return je(e,t=T(t,!0))?d(2,e[t]):H(e,t)},$e=function(e,t,i){return!(je(e,t=T(t,!0))&&w(i)&&_(i,"value"))||_(i,"get")||_(i,"set")||i.configurable||_(i,"writable")&&!i.writable||_(i,"enumerable")&&!i.enumerable?B(e,t,i):(e[t]=i.value,e)};Te||($.f=Ue,U.f=$e),o(o.S+o.F*!Te,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:$e}),r(function(){he.call({})})&&(he=pe=function(){return le.call(this)});var Be=p({},Le);p(Be,Pe),h(Be,fe,Pe.values),p(Be,{slice:Fe,set:Ne,constructor:function(){},toString:he,toLocaleString:Re}),xe(Be,"buffer","b"),xe(Be,"byteOffset","o"),xe(Be,"byteLength","l"),xe(Be,"length","e"),B(Be,me,{get:function(){return this[_e]}}),e.exports=function(e,t,i,c){c=!!c;var l=e+(c?"Clamped":"")+"Array",d="get"+e,p="set"+e,f=s[l],v=f||{},T=f&&S(f),_=!f||!a.ABV,b={},D=f&&f.prototype,I=function(e,i){var n=e._d;return n.v[d](i*t+n.o,be)},A=function(e,i,n){var s=e._d;c&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),s.v[p](i*t+s.o,n,be)},x=function(e,t){B(e,t,{get:function(){return I(this,t)},set:function(e){return A(this,t,e)},enumerable:!0})};_?(f=i(function(e,i,n,s){u(e,f,l,"_d");var r,o,a,c,d=0,p=0;if(w(i)){if(!(i instanceof G||"ArrayBuffer"==(c=y(i))||"SharedArrayBuffer"==c))return _e in i?Ae(f,i):ke.call(f,i);r=i,p=Ce(n,t);var v=i.byteLength;if(void 0===s){if(v%t)throw z("Wrong length!");if((o=v-p)<0)throw z("Wrong length!")}else if((o=m(s)*t)+p>v)throw z("Wrong length!");a=o/t}else a=g(i),o=a*t,r=new G(o);for(h(e,"_d",{b:r,o:p,l:o,e:a,v:new q(r)});d<a;)x(e,d++)}),D=f.prototype=C(Be),h(D,"constructor",f)):r(function(){f(1)})&&r(function(){new f(-1)})&&F(function(e){new f,new f(null),new f(1.5),new f(e)},!0)||(f=i(function(e,i,n,s){u(e,f,l);var r;return w(i)?i instanceof G||"ArrayBuffer"==(r=y(i))||"SharedArrayBuffer"==r?void 0!==s?new v(i,Ce(n,t),s):void 0!==n?new v(i,Ce(n,t)):new v(i):_e in i?Ae(f,i):ke.call(f,i):new v(g(i))}),Y(T!==Function.prototype?E(v).concat(E(T)):E(v),function(e){e in f||h(f,e,v[e])}),f.prototype=D,n||(D.constructor=f));var k=D[fe],M=!!k&&("values"==k.name||void 0==k.name),O=Pe.values;h(f,ge,!0),h(D,_e,l),h(D,ye,!0),h(D,ve,f),(c?new f(1)[me]==l:me in D)||B(D,me,{get:function(){return l}}),b[l]=f,o(o.G+o.W+o.F*(f!=v),b),o(o.S,l,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*r(function(){v.of.call(f,1)}),l,{from:ke,of:Me}),"BYTES_PER_ELEMENT"in D||h(D,"BYTES_PER_ELEMENT",t),o(o.P,l,Le),N(l),o(o.P+o.F*De,l,{set:Ne}),o(o.P+o.F*!M,l,Pe),n||D.toString==he||(D.toString=he),o(o.P+o.F*r(function(){new f(1).slice()}),l,{slice:Fe}),o(o.P+o.F*(r(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!r(function(){D.toLocaleString.call([1,2])})),l,{toLocaleString:Re}),L[l]=M?k:O,n||M||h(D,fe,O)}}else e.exports=function(){}},,,function(e,t,i){function n(e,t,i){var n=typeof e;return"function"==n?void 0===t?e:o(e,t,i):null==e?a:"object"==n?s(e):void 0===t?c(e):r(e,t)}var s=i(1699),r=i(1700),o=i(164),a=i(264),c=i(653);e.exports=n},function(e,t,i){function n(e){return s(e)?e:Object(e)}var s=i(35);e.exports=n},function(e,t,i){function n(e,t,i,n){i="function"==typeof i?r(i,n,3):void 0;var o=i?i(e,t):void 0;return void 0===o?s(e,t,i):!!o}var s=i(391),r=i(164);e.exports=n},,,,,function(e,t,i){var n=i(21)("unscopables"),s=Array.prototype;void 0==s[n]&&i(50)(s,n,{}),e.exports=function(e){s[n][e]=!0}},function(e,t,i){var n=i(130)("meta"),s=i(16),r=i(49),o=i(25).f,a=0,c=Object.isExtensible||function(){return!0},l=!i(14)(function(){return c(Object.preventExtensions({}))}),u=function(e){o(e,n,{value:{i:"O"+ ++a,w:{}}})},d=function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,n)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[n].i},h=function(e,t){if(!r(e,n)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[n].w},p=function(e){return l&&f.NEED&&c(e)&&!r(e,n)&&u(e),e},f=e.exports={KEY:n,NEED:!1,fastKey:d,getWeak:h,onFreeze:p}},,,,,,,,function(e,t,i){e.exports=i(1678)},function(e,t,i){function n(e,t,i){var n=a(e)?s:o;return t=r(t,i,3),n(e,t)}var s=i(1686),r=i(95),o=i(636),a=i(28);e.exports=n},function(e,t,i){function n(e,t,i){if(!o(i))return!1;var n=typeof t;if("number"==n?s(i)&&r(t,i.length):"string"==n&&t in i){var a=i[t];return e===e?e===a:a!==a}return!1}var s=i(72),r=i(262),o=i(35);e.exports=n},function(e,t,i){var n=i(165),s=i(72),r=i(35),o=i(1740),a=n(Object,"keys"),c=a?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&s(e)?o(e):r(e)?a(e):[]}:o;e.exports=c},,function(e,t,i){!function(t,n){e.exports=n(i(439))}(0,function(e){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,i){"use strict";t.__esModule=!0,t.default={ALIGN_BOTTOM:"Dropdown--bottom",ALIGN_RIGHT:"Dropdown--right",BASE:"Dropdown",CHECKMARK:"Icon--check",DETAIL_PANEL:"Dropdown-detailPanel",DIVIDER:"Dropdown-divider",ICON:"Icon",MENU_GROUP_LABEL:"Dropdown-menuGroupLabel",MENU_ITEM_CONTENT:"Dropdown-menuItemContent",MENU_ITEM_DETAIL:"Dropdown-menuItemDetail",MENU_ITEM_FOCUS:"is-focus",MENU_ITEM_LIST:"Dropdown-menuItemList",MENU_ITEM_GROUP:"Dropdown-menuItemGroup",MENU_ITEM_LIST_WITH_SCROLLBAR_Y:"Dropdown-menuItemList--withScrollbarY",MENU_ITEM:"Dropdown-menuItem",MODAL_BASE:"Modal",OPEN:"is-open",WITH_MENU_ITEM_LIST:"Dropdown--withMenuItemList",WITH_SCROLLBAR_X:"Dropdown--withScrollbarX",WITH_SCROLLBAR_Y:"Dropdown--withScrollbarY"}},function(e,t,i){"use strict";function n(e,t){return Object.keys(t).reduce(function(i,n){var s=t[n].newName||"";return i[n]=e+":"+n+":"+s+":"+a,i},{})}function s(e){if("string"==typeof e&&e.endsWith(a)){var t=e.split(":"),i=t[0],n=t[1],s=t[2],r=i+": Event `"+n+"` is deprecated.";s&&(r+=" Use `"+s+"` instead."),(0,o.default)(r)}}t.__esModule=!0,t.deprecatedEventNames=n,t.checkDeprecatedEventName=s;var r=i(6),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a="deprecated"},function(e,t,i){"use strict";t.__esModule=!0,t.default={A:65,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,BACKSPACE:8,DELETE:46,END:35,ENTER:13,ESCAPE:27,HOME:36,PAGE_DOWN:34,PAGE_UP:33,SPACE:32,TAB:9,Y:89,Z:90}},function(e,t){function i(e){function t(n,s){if(n===e.documentElement)return!1;for(var r=0,o=i.length;r<o;r++)if(i[r][0]===n)return i[r][1];s=s||e.defaultView.getComputedStyle(n);var a=!1;return"none"===s.display?a=!0:n.parentNode&&(a=t(n.parentNode)),i.push([n,a]),a}var i=[];return function(i){if(i===e.documentElement)return!1;var n=e.defaultView.getComputedStyle(i);return!!t(i,n)||"hidden"===n.visibility}}e.exports=function(e,t){t=t||{};var n=e.ownerDocument,s=[],r=[],o=i(n),a=["input","select","a[href]","textarea","button","[tabindex]"],c=e.querySelectorAll(a);if(t.includeContainer){var l=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;a.some(function(t){return l.call(e,t)})&&(c=Array.prototype.slice.apply(c),c.unshift(e))}for(var u,d,h=0,p=c.length;h<p;h++)u=c[h],(d=parseInt(u.getAttribute("tabindex"),10)||u.tabIndex)<0||"INPUT"===u.tagName&&"hidden"===u.type||u.disabled||o(u,n)||(0===d?s.push(u):r.push({index:h,tabIndex:d,node:u}));var f=r.sort(function(e,t){return e.tabIndex===t.tabIndex?e.index-t.index:e.tabIndex-t.tabIndex}).map(function(e){return e.node});return Array.prototype.push.apply(f,s),f}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){return e instanceof Element&&a.call(e,t)};var n=window.Element.prototype,s=n.matches,r=n.msMatchesSelector,o=n.webkitMatchesSelector,a=s||r||o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=i(0),u=n(l),d=i(1),h=i(7),p=n(h),f=i(4),m=n(f),g=i(14),v=n(g),T=i(16),_=n(T),y=i(17),w=n(y),b="."+u.default.ICON+"."+u.default.CHECKMARK,D="label."+u.default.MENU_ITEM_CONTENT+' > input[type="radio"]',C=D+" + "+b,S=document.createElement("span");S.className=u.default.ICON+" "+u.default.CHECKMARK;var E=function(e){function t(i){r(this,t);var n=o(this,e.call(this));n.defaultOptions=c({},t.defaultOptions,{$wrapper:null,el:null,menuItemKeyAttribute:"data-key"}),n.options=c({},n.defaultOptions,i),n._state={focusedMenuItemKey:null};var s=n.options.$wrapper;if(n.$el=s&&s.jquery?s:null,n.el=n.$el?n.$el[0]:n.options.el,!n.el)throw new TypeError("`el` option required");return(0,w.default)(n.el),n._id=n.el.id||n._id,n.el.id=n._id,n.el.setAttribute("role","menu"),n.el.tabIndex=-1,n._menuItemListEl=n.el.querySelector("."+u.default.MENU_ITEM_LIST),n._menuItemListEl&&n.el.classList.add(u.default.WITH_MENU_ITEM_LIST),n._initializeDetailPanel(),n._layer=new _.default,n}return a(t,e),t.prototype._initializeDetailPanel=function(){this._detailPanelEl=document.createElement("div"),this._detailPanelEl.className=u.default.DETAIL_PANEL,this._detailPanelEl.id=this._detailPanelId},t.prototype._getOptions=function(){return this.options},t.prototype._getState=function(){return this._state},t.prototype._setState=function(e){this._state=c({},this._state,e),this.render()},t.prototype._getMenuEl=function(){return this.el},t.prototype._getMenuItemListEl=function(){return this._menuItemListEl||this.el},t.prototype._getLayer=function(){return this._layer},t.prototype._triggerBlur=function(){this.trigger(t.events.BLUR)},t.prototype._triggerItemFocus=function(e){this.trigger(t.events.ITEM_FOCUS,{detail:e})},t.prototype.$=function(e){return this.$el?this.$el.find(e):this.el.querySelectorAll(e)},t.prototype.openOnClick=function(e){var t=this._getTargetElFromTargetArgument(e);return t.addEventListener("click",this._handleOpenOnClickTargetClick),this._initializeTarget(t),this._renderTarget(t),this},t.prototype.openOnClickOrHover=function(e){return this.openOnClick(e)._openOnHover(e)},t.prototype._openOnFocus=function(e){var t=this._getTargetElFromTargetArgument(e);return t.addEventListener("focus",this._handleOpenOnFocusTargetFocusCapture,!0),this._initializeTarget(t),this._renderTarget(t),this},t.prototype._openOnHover=function(e){var t=this._getTargetElFromTargetArgument(e);return t.addEventListener("mouseenter",this._handleOpenOnHoverTargetHover),t.addEventListener("mouseleave",this._handleOpenOnHoverTargetHover),this.el.addEventListener("mouseenter",this._handleOpenOnHoverMenuHover),this.el.addEventListener("mouseleave",this._handleOpenOnHoverMenuHover),this._initializeTarget(t),this._renderTarget(t),this},t.prototype._initializeTarget=function(e){e.addEventListener("blur",this._handleTargetBlurCaptureOrMenuBlurCapture,!0),e.addEventListener("keydown",this._handleTargetKeyDown)},t.prototype.open=function(e){var i=this._isOpen(),n=this._targetEl;return this._targetEl=this._getTargetElFromTargetArgument(e),i&&n!==this._targetEl&&this._renderTarget(n),this._initializeTarget(this._targetEl),i||(this.trigger(t.events.BEFORE_OPEN),this.trigger(t.events.BEFORE_SHOW),this._layer.render(this.el),this._setUpForOpen()),this.render(),this._bindMenuEventHandlers(),i||(this.trigger(t.events.AFTER_OPEN),this.trigger(t.events.SHOW)),this},t.prototype.close=function(){return this._isOpen()?(this._isTargetOrMenuFocused()&&this._focusTarget(),this.remove(),this._setState({focusedMenuItemKey:null}),this.trigger(t.events.AFTER_CLOSE),this.trigger(t.events.HIDE),this):this},t.prototype.remove=function(){return this._layer.remove(),this._cleanUpForClose(),this._unbindMenuEventHandlers(),this},t.prototype._bindMenuEventHandlers=function(){this.el.addEventListener("blur",this._handleTargetBlurCaptureOrMenuBlurCapture,!0),this.el.addEventListener("mousemove",this._handleMenuMouseMove),this.el.addEventListener("mouseout",this._handleMenuMouseOverMouseOut),this.el.addEventListener("mouseover",this._handleMenuMouseOverMouseOut)},t.prototype._unbindMenuEventHandlers=function(){this.el.removeEventListener("blur",this._handleTargetBlurCaptureOrMenuBlurCapture,!0),this.el.removeEventListener("mousemove",this._handleMenuMouseMove),this.el.removeEventListener("mouseout",this._handleMenuMouseOverMouseOut),this.el.removeEventListener("mouseover",this._handleMenuMouseOverMouseOut)},t.prototype.render=function(){if(this._restoreMenuItemDetailFromDetailPanel(),this._isOpen()){if(this._renderMenuItems(),this._shouldAutoFocusMenuItem())return this._focusFirstMenuItem(),this;this._menuItemListEl&&this._hasMenuItemDetail?(this._moveMenuItemDetailToDetailPanel(),this.el.appendChild(this._detailPanelEl)):(0,w.default)(this._detailPanelEl),this.el.classList.add(u.default.OPEN),this._validateMenuItemKeys(),this._resizeMenu()}else this.el.classList.remove(u.default.OPEN),this._removeMenuItemCheckmarks();return this._targetEl&&this._renderTarget(),this},t.prototype._renderTarget=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._targetEl,t=e===this._targetEl,i=this._isOpen();e.setAttribute("aria-activedescendant",t&&i?this._focusedMenuItemContentId||"":""),e.setAttribute("aria-expanded",t&&i),e.setAttribute("aria-haspopup",!0),e.setAttribute("aria-owns",t&&i?this._id:"")},t.prototype._renderMenuItems=function(){this._focusedMenuItemEl=null,this._focusedMenuItemContentId=null,this._hasMenuItemDetail=!1,this._menuItemKeys=[],this._menuItemKeysByContentId={};var e=this._getMenuItemListEl();Array.from(e.children).forEach(this._renderMenuItemEl.bind(this))},t.prototype._renderMenuItemEl=function(e,t){var i=this.options.menuItemKeyAttribute,n=this._state.focusedMenuItemKey,s=e.querySelector("."+u.default.MENU_ITEM_CONTENT);if(e.classList.contains(u.default.MENU_ITEM)&&s){this._renderMenuItemContentEl(s,t);var r=e.getAttribute(i)||t;this._menuItemKeys.push(r),this._menuItemKeysByContentId[s.id]=r,r===n?(this._focusedMenuItemEl=e,this._focusedMenuItemContentId=s.id,e.classList.add(u.default.MENU_ITEM_FOCUS)):e.classList.remove(u.default.MENU_ITEM_FOCUS),this._hasMenuItemDetail=this._hasMenuItemDetail||!!e.querySelector("."+u.default.MENU_ITEM_DETAIL)}},t.prototype._renderMenuItemContentEl=function(e,t){var i=0===e.id.indexOf(this._menuItemContentIdPrefix);e.id=!i&&e.id?e.id:this._menuItemContentIdPrefix+"-"+t,e.tabIndex=-1,"label"===e.tagName.toLowerCase()&&e.firstElementChild&&"input"===e.firstElementChild.tagName.toLowerCase()&&this._renderMenuItemInputEl(e.firstElementChild)},t.prototype._renderMenuItemInputEl=function(e){var t="checkbox"===e.type,i="radio"===e.type;if((t||i)&&(e.tabIndex=-1),i&&!(0,m.default)(e.nextElementSibling,b)){var n=S.cloneNode();e.parentNode.insertBefore(n,e.nextSibling)}},t.prototype._removeMenuItemCheckmarks=function(){this._getMenuItemCheckmarkEls().forEach(function(e){(0,w.default)(e)})},t.prototype._moveMenuItemDetailToDetailPanel=function(){if(this._focusedMenuItemEl){var e=this._focusedMenuItemEl.querySelector("."+u.default.MENU_ITEM_CONTENT),t=this._focusedMenuItemEl.querySelector("."+u.default.MENU_ITEM_DETAIL);e&&(e.setAttribute("aria-describedby",this._detailPanelEl.id),this._detailPanelEl.setAttribute("aria-labelledby",e.id)),t&&this._detailPanelEl.appendChild(t)}},t.prototype._restoreMenuItemDetailFromDetailPanel=function(){if(this._focusedMenuItemEl){var e=this._focusedMenuItemEl.querySelector("."+u.default.MENU_ITEM_CONTENT),t=this._detailPanelEl.querySelector("."+u.default.MENU_ITEM_DETAIL);e&&e.removeAttribute("aria-describedby"),t&&(this._focusedMenuItemEl.appendChild(t),this._detailPanelEl.removeAttribute("aria-labelledby"))}},t.prototype._getTargetElFromTargetArgument=function(e){return e.jquery?e[0]:e},t.prototype._getMenuItemCheckmarkEls=function(){return Array.from(this.el.querySelectorAll(C))},t}((0,p.default)(v.default));E._deprecatedEvents=(0,d.deprecatedEventNames)("@twitter/feather-component-dropdown",{BEFORE_SHOW:{newName:"BEFORE_OPEN"},HIDE:{newName:"AFTER_CLOSE"},SHOW:{newName:"AFTER_OPEN"}}),E.events=c({},E._deprecatedEvents,{AFTER_CLOSE:"featherDropdownAfterClose",AFTER_OPEN:"featherDropdownAfterOpen",BEFORE_OPEN:"featherDropdownBeforeOpen",BLUR:"featherDropdownBlur",ITEM_FOCUS:"featherDropdownItemFocus"}),e.exports=E},function(e,t,i){"use strict";function n(e){s[e]||(console.warn(e),s[e]=!0)}t.__esModule=!0,t.default=n;var s={}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=i(0),u=n(l),d=i(8),h=n(d),p=i(10),f=n(p),m=i(11),g=n(m),v=i(12),T=n(v),_=i(2),y=n(_),w=i(3),b=n(w),D=i(13),C=n(D),S={BOTTOM:"bottom",LEFT:"left",RIGHT:"right",TOP:"top"};t.default=function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){function e(){a(this,e)}return e}();return t=e=function(e){function t(){var i,n,s;a(this,t);for(var o=arguments.length,c=Array(o),l=0;l<o;l++)c[l]=arguments[l];return i=n=r(this,e.call.apply(e,[this].concat(c))),n._id="feather-dropdown-"+(0,C.default)(),n._detailPanelId=n._id+"-detail-pane",n._menuItemContentIdPrefix=n._id+"-menu-item-content",n._menuItemKeys=[],n._menuItemKeysByContentId={},n._focusedMenuItemContentId=null,n._handleWindowResize=function(){n._isWindowResizeAnimationFrameScheduled||(n._isWindowResizeAnimationFrameScheduled=!0,window.requestAnimationFrame(n._handleWindowResizeAnimationFrame))},n._handleWindowResizeAnimationFrame=function(){n._isOpen()&&(n._resetMenuAlignment(),n._resizeMenu()),n._isWindowResizeAnimationFrameScheduled=!1},n._handleDocumentMouseDown=function(e){n._doesContainEl(e.target)||n.close()},n._handleDocumentScrollCapture=function(e){n._restoreCachedNodeScrollPosition(e.target)},n._handleDocumentWheel=function(e){e.preventDefault();var t=n._getMenuEl(),i=n._getMenuItemListEl(),s=void 0;if(n._targetEl.contains(e.target))s=n._targetEl;else if(t.contains(e.target))if(t===i)s=t;else if(e.target!==t)for(s=e.target;s.parentNode!==t;)s=s.parentNode;if(s){var r=(0,T.default)(e),o=r.deltaX,a=r.deltaY;s.scrollLeft+=o,s.scrollTop+=a}},n._handleTargetBlurCaptureOrMenuBlurCapture=function(){setTimeout(function(){n._isTargetOrMenuFocused()||(n._focusTargetEl&&(n._isOpen()&&n.close(),delete n._focusTargetEl),n._triggerBlur())},0)},n._handleOpenOnClickTargetClick=function(e){n._isOpen()?n._targetEl.contains(n._focusTargetEl)||n._targetEl.contains(n._hoverTargetEl)||n.close():n.open(e.currentTarget)},n._handleOpenOnFocusTargetFocusCapture=function(e){n._isOpen()||e.currentTarget===n._focusTargetEl||n.open(e.currentTarget),n._focusTargetEl=e.currentTarget},n._handleOpenOnHoverTargetHover=function(e){n._clearHoverTimers();var t=e.currentTarget,i=n._isOpen(),s=t===n._targetEl;"mouseenter"!==e.type||i&&s?"mouseleave"===e.type&&i&&n._startHoverCloseTimer():n._startHoverOpenTimer(t)},n._handleOpenOnHoverMenuHover=function(e){"mouseenter"===e.type?n._clearHoverTimers():n._startHoverCloseTimer()},n._handleHoverOpenTimerDone=function(e){n.open(e),n._hoverTargetEl=e},n._handleHoverCloseTimerDone=function(){n.close(),delete n._hoverTargetEl},n._handleMenuMouseOverMouseOut=function(e){var t=n._getClosestMenuItemContentEl(e.target);t&&("mouseover"===e.type?n._mousedOverMenuItemKey=n._menuItemKeysByContentId[t.id]:t.contains(e.relatedTarget)||(n._mousedOverMenuItemKey=null,n._getMenuEl().contains(e.relatedTarget)||n._focusMenuItemWithKey(null,{event:e})))},n._handleMenuMouseMove=function(e){n._getMenuItemListEl().scrollTop!==n._scrollTopFromScrollFocusedMenuItemIntoView&&n._focusMenuItemWithKey(n._mousedOverMenuItemKey,{event:e}),delete n._scrollTopFromScrollFocusedMenuItemIntoView},n._handleTargetKeyDown=function(e){var t=e.which;n._isOpen()||t!==y.default.ARROW_DOWN&&t!==y.default.ARROW_UP||(e.preventDefault(),n.open(e.currentTarget))},n._handleWindowKeyDown=function(e){if(!e.defaultPrevented){var t=n._getOptions(),i=t._clickFocusedMenuItemOnSpaceKey,s=e.which;if(s===y.default.ESCAPE)n.close();else if(s===y.default.TAB)n._handleWindowTabKeyDown(e);else if(n._menuItemKeys.length)if(s===y.default.ARROW_DOWN)e.preventDefault(),n._focusNextMenuItem({event:e});else if(s===y.default.ARROW_UP)e.preventDefault(),n._focusPreviousMenuItem({event:e});else if(s===y.default.END)e.preventDefault(),n._focusLastMenuItem({event:e});else if(s===y.default.HOME)e.preventDefault(),n._focusFirstMenuItem({event:e});else if(s===y.default.ENTER||s===y.default.SPACE&&i){var r=n._getFocusedMenuItemContentEl();if(r){var o=document,a=o.activeElement;e.preventDefault(),r.click(),r.contains(document.activeElement)&&a.focus()}}}},s=i,r(n,s)}return o(t,e),t.prototype._getOptions=function(){throw new Error("Dropdown must implement `_getOptions`")},t.prototype._getState=function(){throw new Error("Dropdown must implement `_getState`")},t.prototype._setState=function(){throw new Error("Dropdown must implement `_setState`")},t.prototype._getMenuEl=function(){throw new Error("Dropdown must implement `_getMenuEl`")},t.prototype._getMenuItemListEl=function(){throw new Error("Dropdown must implement `_getMenuItemListEl`")},t.prototype._getLayer=function(){throw new Error("Dropdown must implement `_getLayer`")},t.prototype._triggerBlur=function(){throw new Error("Dropdown must implement `_triggerBlur`")},t.prototype._triggerItemFocus=function(){throw new Error("Dropdown must implement `_triggerItemFocus`")},t.prototype.open=function(){throw new Error("Dropdown must implement `open`")},t.prototype.close=function(){throw new Error("Dropdown must implement `close`")},t.prototype._resizeMenu=function(){var e=this._getMenuEl(),t=this._getMenuItemListEl(),i=t.scrollLeft,n=t.scrollTop,s=this._getTargetMeasurements(),r=s.targetWidth;e.classList.remove(u.default.ALIGN_BOTTOM),e.classList.remove(u.default.ALIGN_RIGHT),e.classList.remove(u.default.WITH_SCROLLBAR_X),e.classList.remove(u.default.WITH_SCROLLBAR_Y),e.style.top="0",e.style.left="0",e.style.width="",e.style.height="",t.style.maxWidth="",t.style.minWidth=r+"px",t.classList.remove(u.default.MENU_ITEM_LIST_WITH_SCROLLBAR_Y),r>this._getMenuItemListMaxWidth()&&(t.style.maxWidth=r+"px");var o=c({},s,this._getMenuMeasurements(),this._getDocumentMeasurements());this._menuAlignment=this._menuAlignment||this._getMenuAlignment(o);var a=this._menuAlignment,l=a.horizontal,d=a.vertical;if(this._doesMenuOverflowViewport(l,o)){var h=this._getMenuMaxWidth(l,o);e.style.width=h+"px"}if(this._doesMenuOverflowViewport(d,o)){var p=this._getMenuMaxHeight(d,o);e.style.height=p+"px"}d===S.BOTTOM&&e.classList.add(u.default.ALIGN_BOTTOM),l===S.RIGHT&&e.classList.add(u.default.ALIGN_RIGHT),this._elHasOverflowX(e)&&e.classList.add(u.default.WITH_SCROLLBAR_X),this._elHasOverflowY(e)&&e.classList.add(u.default.WITH_SCROLLBAR_Y),t!==e&&this._elHasOverflowY(t)&&t.classList.add(u.default.MENU_ITEM_LIST_WITH_SCROLLBAR_Y),o=c({},o,this._getMenuMeasurements());var f=this._computeMenuTopOffset(d,o),m=this._computeMenuLeftOffset(l,o);e.style.top=f+"px",e.style.left=m+"px",t.scrollLeft=i,t.scrollTop=n},t.prototype._getTargetMeasurements=function(){var e=this._targetEl.getBoundingClientRect();return{targetHeight:e.height,targetLeft:e.left,targetTop:e.top,targetWidth:e.width}},t.prototype._getMenuMeasurements=function(){var e=this._getMenuEl(),t=window.getComputedStyle(e),i=t.marginBottom,n=t.marginTop;return{menuHeight:e.offsetHeight,menuMarginBottom:parseInt(i,10)||0,menuMarginTop:parseInt(n,10)||0,menuWidth:e.offsetWidth}},t.prototype._getDocumentMeasurements=function(){var e=document.documentElement;return{documentViewportHeight:e.clientHeight,documentViewportWidth:e.clientWidth}},t.prototype._getMenuItemListMaxWidth=function(){var e=this._getMenuItemListEl(),t=window.getComputedStyle(e),i=t.maxWidth;return parseInt(i,10)},t.prototype._getMenuAlignment=function(e){var t={horizontal:S.LEFT,vertical:S.TOP};return this._doesMenuOverflowViewport(t.horizontal,e)&&(t.horizontal=this._getMenuMaxWidth(S.LEFT,e)>this._getMenuMaxWidth(S.RIGHT,e)?S.LEFT:S.RIGHT),this._doesMenuOverflowViewport(t.vertical,e)&&(t.vertical=this._getMenuMaxHeight(S.TOP,e)>this._getMenuMaxHeight(S.BOTTOM,e)?S.TOP:S.BOTTOM),t},t.prototype._doesMenuOverflowViewport=function(e,t){var i=t.documentViewportHeight,n=t.documentViewportWidth,s=t.menuHeight,r=t.menuMarginBottom,o=t.menuMarginTop,a=t.menuWidth,c=t.targetHeight,l=t.targetLeft,u=t.targetTop,d=t.targetWidth;switch(e){case S.LEFT:return l+a+15>n;case S.RIGHT:return l+d-a-15<0;case S.TOP:return u+c+o+s+15>i;case S.BOTTOM:return u-r-s-15<0;default:return}},t.prototype._computeMenuTopOffset=function(e,t){var i=t.menuHeight,n=t.menuMarginBottom,s=t.menuMarginTop,r=t.targetHeight,o=t.targetTop;return e===S.TOP?o+r:o-i-n-s},t.prototype._computeMenuLeftOffset=function(e,t){var i=t.menuWidth,n=t.targetLeft,s=t.targetWidth;return e===S.LEFT?n:n+s-i},t.prototype._getMenuMaxWidth=function(e,t){var i=t.documentViewportWidth,n=t.targetLeft,s=t.targetWidth;switch(e){case S.LEFT:return i-n-15;case S.RIGHT:return n+s-15;default:return}},t.prototype._getMenuMaxHeight=function(e,t){var i=t.documentViewportHeight,n=t.menuMarginBottom,s=t.menuMarginTop,r=t.targetHeight,o=t.targetTop;switch(e){case S.TOP:return i-o-r-s-15;case S.BOTTOM:return o-n-15;default:return}},t.prototype._elHasOverflowX=function(e){return e&&e.scrollWidth>e.clientWidth},t.prototype._elHasOverflowY=function(e){return e&&e.scrollHeight>e.clientHeight},t.prototype._bindGlobalEventHandlers=function(){window.addEventListener("resize",this._handleWindowResize),window.addEventListener("keydown",this._handleWindowKeyDown),document.documentElement.addEventListener("mousedown",this._handleDocumentMouseDown),document.documentElement.addEventListener("scroll",this._handleDocumentScrollCapture,!0),document.documentElement.addEventListener("wheel",this._handleDocumentWheel)},t.prototype._unbindGlobalEventHandlers=function(){window.removeEventListener("resize",this._handleWindowResize),window.removeEventListener("keydown",this._handleWindowKeyDown),document.documentElement.removeEventListener("mousedown",this._handleDocumentMouseDown),document.documentElement.removeEventListener("scroll",this._handleDocumentScrollCapture,!0),document.documentElement.removeEventListener("wheel",this._handleDocumentWheel)},t.prototype._startHoverOpenTimer=function(e){this._hoverOpenTimer=setTimeout(this._handleHoverOpenTimerDone,150,e)},t.prototype._startHoverCloseTimer=function(){this._hoverCloseTimer=setTimeout(this._handleHoverCloseTimerDone,300)},t.prototype._clearHoverTimers=function(){clearTimeout(this._hoverCloseTimer),clearTimeout(this._hoverOpenTimer)},t.prototype._handleWindowTabKeyDown=function(e){var t=(0,b.default)(this._getMenuEl());if(this._targetEl.contains(document.activeElement))!e.shiftKey&&t.length?(e.preventDefault(),t[0].focus()):(this.close(),f.default.isActive&&(e.preventDefault(),f.default.focusNext(e.shiftKey)));else{var i=t.indexOf(document.activeElement);0===i&&e.shiftKey||-1===i?(e.preventDefault(),this._focusTarget()):i!==t.length-1||e.shiftKey||(e.preventDefault(),this.close())}},t.prototype._setUpForOpen=function(){this._getLayer().activate(),f.default.pause(),h.default.lock(),this._cacheAncestorScrollPositions(),this._bindGlobalEventHandlers()},t.prototype._cleanUpForClose=function(){this._getLayer().deactivate();var e=document.body.querySelectorAll("."+u.default.BASE+"."+u.default.OPEN);(0===e.length||1===e.length&&e[0]===this._getMenuEl())&&(f.default.unpause(),h.default.unlock()),this._unbindGlobalEventHandlers(),this._resetMenuAlignment(),delete this._mousedOverMenuItemKey},t.prototype._cacheAncestorScrollPositions=function(){this._ancestorScrollPositions=new Map;for(var e=this._targetEl?this._targetEl.parentNode:null;e&&e!==document.body;e=e.parentNode)this._ancestorScrollPositions.set(e,{left:e.scrollLeft,top:e.scrollTop})},t.prototype._restoreCachedNodeScrollPosition=function(e){var t=this._ancestorScrollPositions.get(e);t&&(e.scrollLeft=t.left,e.scrollTop=t.top)},t.prototype._focusTarget=function(){if(this._targetEl&&!this._targetEl.contains(document.activeElement)){var e=(0,b.default)(this._targetEl);e.length?e[0].focus():this._targetEl.focus()}},t.prototype._focusMenuItemWithKey=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.event;e!==this._getState().focusedMenuItemKey&&(!this._isFocusedMenuItemRequired()||this._menuItemKeys.indexOf(e)>-1)&&(this._setState({focusedMenuItemKey:e}),this._triggerItemFocus({menuItemKey:e,relatedEventType:i&&i.type}))},t.prototype._focusNextMenuItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.event,i=e.reverseDirection,n=void 0!==i&&i,s=this._getState(),r=s.focusedMenuItemKey,o=this._menuItemKeys,a=o.indexOf(r);if(o.length)if(-1===a)n?this._focusLastMenuItem({event:t}):this._focusFirstMenuItem({event:t});else{var c=n?-1:1,l=a+c;if(l>=0&&l<o.length){var u=o[l];this._focusMenuItemWithKey(u,{event:t}),this._scrollFocusedMenuItemIntoView()}}},t.prototype._focusPreviousMenuItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._focusNextMenuItem(c({},e,{reverseDirection:!0}))},t.prototype._focusFirstMenuItem=function(e){var t=this._menuItemKeys;t.length&&(this._focusMenuItemWithKey(t[0],e),this._scrollFocusedMenuItemIntoView())},t.prototype._focusLastMenuItem=function(e){var t=this._menuItemKeys;if(t.length){var i=t[t.length-1];this._focusMenuItemWithKey(i,e),this._scrollFocusedMenuItemIntoView()}},t.prototype._scrollFocusedMenuItemIntoView=function(){var e=this._getFocusedMenuItemContentEl();if(e){var t=this._getMenuItemListEl(),i=t.offsetHeight,n=t.scrollTop,s=e.offsetHeight,r=e.offsetTop,o=n;n>r?o=r:r+s>i+n&&(o=r+s-i),o!==n&&(t.scrollTop=o),this._scrollTopFromScrollFocusedMenuItemIntoView=o}},t.prototype._resetMenuAlignment=function(){delete this._menuAlignment},t.prototype._doesContainEl=function(e){if(this._targetEl&&this._targetEl.contains(e))return!0;var t=(0,g.default)(e,"."+u.default.BASE);if(t){var i=document.querySelector('[aria-owns="'+t.id+'"]');return this._doesContainEl(i)}return!1},t.prototype._isTargetOrMenuFocused=function(){return this._doesContainEl(document.activeElement)},t.prototype._isOpen=function(){var e=this._getLayer();return!!(e&&e.el&&e.el.parentNode)},t.prototype._getFocusedMenuItemContentEl=function(){return document.getElementById(this._focusedMenuItemContentId)},t.prototype._getClosestMenuItemContentEl=function(e){var t=this._getMenuItemListEl();return(0,g.default)(e,"."+u.default.MENU_ITEM_CONTENT,t)},t.prototype._validateMenuItemKeys=function(){var e=new Set;this._menuItemKeys.forEach(function(t){e.has(t)&&console.warn("Encountered duplicate Dropdown menu item key, `"+t+"`. Menu item keys must be unique."),e.add(t)})},t.prototype._shouldAutoFocusMenuItem=function(){var e=this._getState(),t=e.focusedMenuItemKey;return this._isFocusedMenuItemRequired()&&this._menuItemKeys.length>0&&-1===this._menuItemKeys.indexOf(t)},t.prototype._isFocusedMenuItemRequired=function(){return this._getOptions()._autoFocusMenuItem||this._hasMenuItemDetail},t.prototype.show=function(){return this.open.apply(this,arguments)},t.prototype.hide=function(){return this.close.apply(this,arguments)},t}(i),e._HOVER_CLOSE_DELAY_MS=300,e._HOVER_OPEN_DELAY_MS=150,e.VIEWPORT_MARGIN_PX=15,e.classNames=u.default,e.alignments=S,e.defaultOptions={_autoFocusMenuItem:!1,_clickFocusedMenuItemOnSpaceKey:!0},t}},function(e,t,i){"use strict";t.__esModule=!0;var n=i(9),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r={lock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hide,i=void 0!==t&&t,n=e.target,s=void 0===n?document.body:n;this._isLocked()&&this.unlock();var r=this._getScrollLeft(s),o=this._getScrollTop(s);this._context={hide:i,scrollLeft:r,scrollTop:o,target:s,targetCssText:s.style.cssText},i&&this._hideScrollbars(),window.addEventListener("resize",this._handleWindowResize),this._getScrollEventTarget(s).addEventListener("scroll",this._handleTargetScroll),s.style.msScrollLimit=r+"px "+o+"px "+r+"px "+o+"px"},_hideScrollbars:function(){var e=this._context.target,t=window.getComputedStyle(e),i=parseInt(t.paddingBottom,10)||0,n=parseInt(t.paddingRight,10)||0,r=(0,s.default)(),o=["overflow: hidden;"];this._isTargetWidthOverflowing()&&o.push("padding-bottom: "+(i+r)+"px;"),this._isTargetHeightOverflowing()&&o.push("padding-right: "+(n+r)+"px;"),e.style.cssText+=o.join(" ")},unlock:function(){if(this._isLocked()){var e=this._context,t=e.target,i=e.targetCssText;delete this._context;var n=t.scrollHeight,s=t.scrollWidth;t.style.msScrollLimit="0 0 "+s+"px "+n+"px",this._getScrollLeft(t),t.style.cssText=i,window.removeEventListener("resize",this._handleWindowResize),this._getScrollEventTarget(t).removeEventListener("scroll",this._handleTargetScroll)}},_isLocked:function(){return!!this._context},_getScrollEventTarget:function(e){return e===document.body?window:e},_getOverflowTarget:function(){var e=this._context.target;return e===document.body?document.documentElement:e},_isTargetWidthOverflowing:function(){var e=this._getOverflowTarget(),t=e.clientWidth;return e.scrollWidth>t},_isTargetHeightOverflowing:function(){var e=this._getOverflowTarget(),t=e.clientHeight;return e.scrollHeight>t},_getScrollLeft:function(e){return e===document.body?window.pageXOffset:e.scrollLeft},_getScrollTop:function(e){return e===document.body?window.pageYOffset:e.scrollTop},_setScrollLeft:function(e){var t=this._context.target;t===document.body?document.body.scrollLeft=document.documentElement.scrollLeft=e:t.scrollLeft=e},_setScrollTop:function(e){var t=this._context.target;t===document.body?document.body.scrollTop=document.documentElement.scrollTop=e:t.scrollTop=e},_handleWindowResize:function(){r._isWindowResizeAnimationFrameScheduled||(r._isWindowResizeAnimationFrameScheduled=!0,window.requestAnimationFrame(r._handleWindowResizeAnimationFrame))},_handleWindowResizeAnimationFrame:function(){if(r._isLocked()){var e=r._context,t=e.hide,i=e.target;r.lock({hide:t,target:i})}r._isWindowResizeAnimationFrameScheduled=!1},_handleTargetScroll:function(){var e=r._context,t=e.scrollLeft,i=e.scrollTop;r._setScrollLeft(t),r._setScrollTop(i)}};t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e;return function(){if(null!=e)return e;var t=window.document.createElement("div"),i=window.document.createElement("div");return t.style.width="100px",t.style.overflowX="scroll",i.style.width="100px",window.document.body.appendChild(t),window.document.body.appendChild(i),e=t.offsetHeight-i.offsetHeight,window.document.body.removeChild(t),window.document.body.removeChild(i),e}}();t.default=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.focusTrap=void 0;var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(2),a=n(o),c=i(3),l=n(c),u=function(){function e(){var t=this;s(this,e),this._handleFocusCapture=function(e){t._inFocusableContainer(e.target)||(e.target.blur&&e.target.blur(),e.preventDefault(),e.stopImmediatePropagation())},this._handleClickCapture=function(e){t._inFocusableContainer(e.target)||(e.preventDefault(),e.stopImmediatePropagation())},this._handleKeyDownCapture=function(e){e.which===a.default.TAB&&(e.preventDefault(),t.focusNext(e.shiftKey))},this._traps=[],this._focusableNodes=[]}return e.prototype._bindEventListeners=function(){document.addEventListener("focus",this._handleFocusCapture,!0),document.addEventListener("click",this._handleClickCapture,!0),document.addEventListener("keydown",this._handleKeyDownCapture,!0)},e.prototype._removeEventListeners=function(){document.removeEventListener("focus",this._handleFocusCapture,!0),document.removeEventListener("click",this._handleClickCapture,!0),document.removeEventListener("keydown",this._handleKeyDownCapture,!0)},e.prototype._inFocusableContainer=function(e){return this._activeTrap.focusContainers.some(function(t){return t.contains(e)})},e.prototype.focusNext=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._updateFocusableNodes(),!(this._focusableNodes.length<=0)){var t=this._focusableNodes.indexOf(document.activeElement),i=void 0;e?(i=t-1)<0&&(i=this._focusableNodes.length-1):i=(t+1)%this._focusableNodes.length,this._focusableNodes[i].focus()}},e.prototype._updateFocusableNodes=function(){var e=this;this._focusableNodes=[],this._activeTrap.focusContainers.forEach(function(t){e._focusableNodes=e._focusableNodes.concat((0,l.default)(t))})},e.prototype.activate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.initialFocusTarget;this._traps.push({focusedNodeBeforeActivation:document.activeElement,focusContainers:[e]}),this._bindEventListeners(),i&&this._inFocusableContainer(i)?i.focus():this.focusNext()},e.prototype.deactivate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isActive){var t=e.restoreFocus,i=this._traps.pop(),n=i.focusedNodeBeforeActivation;this._removeEventListeners(),t&&n&&n.focus&&n.focus()}},e.prototype.pause=function(){this.isActive&&this._removeEventListeners()},e.prototype.unpause=function(){this.isActive&&this._bindEventListeners()},e.prototype.addScope=function(e){if(this.isActive){var t=this._activeTrap.focusContainers;-1!==t.indexOf(e)||t.push(e)}},e.prototype.removeScope=function(e){if(this.isActive){var t=this._activeTrap.focusContainers,i=t.indexOf(e);-1!==i&&t.splice(i,1)}},r(e,[{key:"isActive",get:function(){return this._traps.length>0}},{key:"_activeTrap",get:function(){return this._traps[this._traps.length-1]}}]),e}();window.Feather=window.Feather||{};var d=window,h=d.Feather,p=h._focusTrap;p||(t.focusTrap=p=new u,h._focusTrap=p),t.default=h._focusTrap,t.focusTrap=p},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t,i){for(;e&&e!==i;){if((0,s.default)(e,t))return e;e=e.parentNode}};var n=i(4),s=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){var t=e.deltaMode,i=e.deltaX,n=e.deltaY;if(t===WheelEvent.DOM_DELTA_LINE){var s=window.getComputedStyle(e.target),r=parseInt(s["font-size"],10)||16;i*=r,n*=r}return{deltaX:i,deltaY:n}}},function(e,t,i){"use strict";t.__esModule=!0,window.Feather=window.Feather||{};var n=window,s=n.Feather;if(!s._uniqueId){var r=0;s._uniqueId=function(){return r++}}t.default=s._uniqueId},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=i(1),r=i(15),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){function e(){n(this,e)}return e.prototype.on=function(e){return c(e,"on"),(0,s.checkDeprecatedEventName)(e,"on"),this.$el?this.$el.on.apply(this.$el,arguments):this.el.addEventListener.apply(this.el,arguments),this},e.prototype.off=function(e){return c(e,"off"),(0,s.checkDeprecatedEventName)(e,"off"),this.$el?this.$el.off.apply(this.$el,arguments):this.el.removeEventListener.apply(this.el,arguments),this},e.prototype.trigger=function(e,t){if(c(e,"trigger"),this.$el)this.$el.trigger.apply(this.$el,arguments);else{var i=new o.default(e,t);this.el.dispatchEvent(i)}return this},e}(),c=function(e,t){if(!e)throw new Error("Called `"+t+"()` with an undefined or empty event name. Perhaps you are using an event name that has been removed? See the list of deprecated events on http://go/feather/docs/history")};t.default=a},function(e,t,i){"use strict";t.__esModule=!0;var n=void 0;try{n=new CustomEvent("test").constructor}catch(e){var s={bubbles:!1,cancelable:!1,detail:void 0};n=function(e,t){t=Object.assign({},s,t);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i},n.prototype=window.Event.prototype}t.default=n},function(t,i){t.exports=e},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}}])})},function(e,t,i){"use strict";function n(){return o}Object.defineProperty(t,"__esModule",{value:!0}),t.locale$=t.enableDataDrawer$=t.scheduleVideoEnabled$=t.subscriptionsDebugEnabled$=t.graphQLSubscriptionsEnabled$=t.livePipelineEnabled$=void 0,t.getStreamForLiveVideo=n;var s=i(63),r=(0,s.getStreamForFeatureFlag)("tweetdeck_devel"),o=(0,s.getStreamForFeatureFlag)("tweetdeck_dogfood"),a=(0,s.getStreamForFeatureFlag)("tweetdeck_content"),c=(0,s.getStreamForFeatureFlag)("tweetdeck_live_engagements"),l=(0,s.getStreamForFeatureFlag)("tweetdeck_locale"),u=(0,s.getStreamForFeatureFlag)("tweetdeck_subscriptions_debug"),d=(0,s.getStreamForFeatureFlag)("tweetdeck_insights");t.livePipelineEnabled$=c,t.graphQLSubscriptionsEnabled$=a,t.subscriptionsDebugEnabled$=u,t.scheduleVideoEnabled$=r,t.enableDataDrawer$=d,t.locale$=l},function(e,t,i){"use strict";var n=i(54),s={};s.NAME="TD.core.defer",s.DEBUG_DEFERREDS=!1;var r=Array.prototype.slice,o=function(e){this.message=e,this.name=e};o.prototype=new Error,o.prototype.toString=function(){return this.message&&this.message!=this.name?this.name+"("+this.message.toString()+")":this.name+"()"};var a=function(e,t,i){i.prototype=new o(e.NAME+"."+t),e[t]=i};a(s,"AlreadyCalledError",function(e){this.deferred=e}),a(s,"CancelledError",function(e){this.deferred=e}),a(s,"GenericError",function(e){this.message=e}),a(s,"XMLHttpRequestError",function(e,t,i){this.req=e,this.message=t,this.requestSettings=i||{};try{this.number=e.status}catch(e){}if(this.req)switch(this.req.responseText){case"Item cannot be scheduled for the past.":this.humanReadableMessage=TD.i("You can't schedule a Tweet for the past.");break;case"Item too far in the future.":this.humanReadableMessage=TD.i("You can't schedule a Tweet for more than a year ahead.");break;case"You have too many updates scheduled.":this.humanReadableMessage=TD.i("You can only save 150 scheduled Tweets at once. Please delete one or try later.")}});var c=function(){try{throw new Error("DEBUG_DEFERRED stack trace")}catch(e){return e.stack}};s.Deferred=function(e){this.chain=[],this.id=n.uniqueId("d:"),s.DEBUG_DEFERREDS&&(this.create_stack=c()),this.fired=-1,this.paused=0,this.results=[null,null],this.canceller=e,this.silentlyCancelled=!1,this.chained=!1},s.Deferred.prototype={toString:function(){var e;return e=-1==this.fired?"unfired":0===this.fired?"success":"error","Deferred("+this.id+", "+e+"["+this.chain.length+"])"},cancel:function(){-1==this.fired?(this.canceller?this.canceller(this):this.silentlyCancelled=!0,-1==this.fired&&this.errback(new s.CancelledError(this))):0===this.fired&&this.results[0]instanceof s.Deferred&&this.results[0].cancel()},_resback:function(e){s.DEBUG_DEFERREDS&&(this.invoke_stack=c()),this.fired=e instanceof Error?1:0,this.results[this.fired]=e,this._fire()},_check:function(){if(-1!=this.fired){if(!this.silentlyCancelled)throw new s.AlreadyCalledError(this);return void(this.silentlyCancelled=!1)}},callback:function(e){if(this._check(),e instanceof s.Deferred)throw new Error("Deferred instances can only be chained if they are the result of a callback");this._resback(e)},errback:function(e){if(this._check(),e instanceof s.Deferred)throw new Error("Deferred instances can only be chained if they are the result of a callback");e instanceof Error||(e=new s.GenericError(e)),this._resback(e)},addBoth:function(e){var t=r.call(arguments,1);return this.addCallbacks(e,e,t,t,null,null)},addBothWith:function(e,t){var i=r.call(arguments,2);return this.addCallbacks(t,t,i,i,e,e)},addCallback:function(e){var t=r.call(arguments,1);return this.addCallbacks(e,null,t,null,null,null)},addCallbackWith:function(e,t){var i=r.call(arguments,2);return this.addCallbacks(t,null,i,null,e,null)},addErrback:function(e){var t=r.call(arguments,1);return this.addCallbacks(null,e,null,t,null,null)},addErrbackWith:function(e,t){var i=r.call(arguments,2);return this.addCallbacks(null,t,null,i,null,e)},addCallbacks:function(e,t,i,n,s,r){if(this.chained)throw new Error("Chained Deferreds can not be re-used");return this.chain.push([e,t,i,n,s,r]),this.fired>=0&&this._fire(),this},addCallbacksWith:function(e,t,i,n,s){return this.addCallbacks(t,i,n,s,e,e)},_fire:function(){for(var e,t,i=this.chain,n=this.fired,r=this.results[n],o=this,a=null,c=function(e){o._resback(e),0===--o.paused&&o.fired>=0&&o._fire()};i.length>0&&0===this.paused;){var l=i.shift(),u=l[n];if(null!==u)try{e=l[2+n]?[r].concat(l[2+n]):[r],t=l[4+n],r=u.apply(t,e),n=r instanceof Error?1:0,r instanceof s.Deferred&&(a=c,this.paused++)}catch(e){n=1,r=e instanceof Error?e:new s.GenericError(e),r.stack&&r.stack.split?r.stackTrace=r.stack.split("\n"):r.stackTrace=[]}}this.fired=n,this.results[n]=r,a&&this.paused&&(r.addBoth(a),r.chained=!0)}},s.DeferredList=function(e,t,i){s.Deferred.apply(this,[i]),this.list=e;var r=[];this.resultList=r,this.finishedCount=0,this.fireOnOneCallback=Boolean(t&&t.fireOnOneCallback),this.fireOnOneErrback=Boolean(t&&t.fireOnOneErrback),this.consumeErrors=Boolean(t&&t.consumeErrors);for(var o=n.bind(this._cbDeferred,this),a=0;a<e.length;a++){var c=e[a];r.push(void 0),c.addCallback(o,a,!0),c.addErrback(o,a,!1)}0!==e.length||this.fireOnOneCallback||this.callback(this.resultList)},s.DeferredList.prototype=new s.Deferred,s.DeferredList.prototype._cbDeferred=function(e,t,i){return this.resultList[t]=[i,e],this.finishedCount+=1,-1==this.fired&&(i&&this.fireOnOneCallback?this.callback([t,e]):!i&&this.fireOnOneErrback?this.errback(e):this.finishedCount==this.list.length&&this.callback(this.resultList)),!i&&this.consumeErrors&&(e=null),e},s.gatherResults=function(e){var t=new s.DeferredList(e,{fireOnOneErrback:!0});return t.addCallback(function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i][1]);return t}),t},s.succeed=function(e){var t=new s.Deferred;return t.callback(e),t},s.fail=function(e){var t=new s.Deferred;return t.errback(e),t},s.maybeDeferred=function(e){var t;try{var i=e.apply(null,r.call(arguments,1));t=i instanceof s.Deferred?i:i instanceof Error?s.fail(i):s.succeed(i)}catch(e){t=s.fail(e)}return t},s.timeout=function(e,t){var i=new TD.core.defer.Deferred;return setTimeout(i.callback.bind(i,t),e),i},e.exports=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(104),r=n(s),o=i(43),a=n(o),c=i(15),l=n(c),u=i(62),d=n(u),h=i(420),p=n(h),f=i(287),m=n(f);e.exports=function(){function e(e){return e.isContributor()?TD.storage.store.getTwitterLoginAccount()||e:e}function t(e,t){return t.isContributor()?(0,l.default)({},e,{"x-act-as-user-id":t.getUserID()}):e}function i(t,i){var n=e(i);return(0,l.default)({},t,{"x-td-oauth-key":n.getOAuthToken(),"x-td-oauth-secret":n.getTokenSecret()})}function n(e){var t={};t.Authorization=TD.util.getBearerTokenAuthHeader(),t["X-Twitter-Auth-Type"]="OAuth2Session";var i=TD.util.getCsrfTokenHeader();return i&&(t["X-Csrf-Token"]=i),_.extend({},e,t)}function s(e,n){return[t,i].reduce(function(e,t){return t(e,n)},e)}function o(e,t,i){var n=TD.config.api_root+"/oauth/"+t;return n+="/"+i.getType()+"/",n+=encodeURIComponent(e)}function c(e){return""===e?null:jQuery.parseJSON(e)}function u(e){return function(){var t=[].slice.call(arguments),i=e.apply(this,t);return i.addErrback(function(i){return 403===i.number&&i.req&&i.req.responseJSON&&i.req.responseJSON.errors&&i.req.responseJSON.errors[0]&&353===i.req.responseJSON.errors[0].code?(TD.util.metric("api:request:missing-csrf"),e.apply(this,t)):i}),i}}function h(e,t,i,n,s){if(!TD.decider.get("prevent_duplicate_ajax_requests"))return TD.util.metric("api:request:duplicate:allowed"),m.default.DO_THING_ANYWAY;TD.util.metric("api:request:duplicate:prevented")}function f(e,t,i,n,s){if(TD.decider.get("disable_ajax_"+e.toLowerCase()))return TD.core.defer.fail(new Error("Network is disabled"));var r,o,l=!1,u=new TD.core.defer.Deferred(function(){l=!0,r.abort()}),d={url:t,global:!1,type:e,dataType:"text json",converters:{"text json":c}};return s&&_.extend(d,s),i=_.defaults(i||{},{"X-Twitter-Client-Version":TD.util.getTweetDeckUserAgentString()}),("LOCAL"===TD.buildID||TD.config.internal_build||TD.decider.get("force_zipkin_header"))&&t.indexOf("twitter.com")>-1&&(i["X-B3-Flags"]=1),d.beforeSend=function(e){var t=!1;if(_.each(i,function(i,n){var s=n.toLowerCase();"content-type"!==s&&e.setRequestHeader(n,i),TD.decider.get("disable_contributed_requests")&&"x-act-as-user-id"===s&&(t=!0)}),t)return!1},n&&(d.data=n),o=i["Content-Type"]||i["content-type"],o&&(d.contentType=o,"application/json"===o&&(d.data=(0,a.default)(d.data))),d.tweetdeck={headers:i,settings:s},r=jQuery.ajax(d),r.done(function(e,t,i){u.callback({data:e,xhr:i})}),r.complete(function(e,t){var n=e.getResponseHeader("X-Acted-As-User-Id"),s=_.find(i,function(e,t){if("x-act-as-user-id"==t.toLowerCase())return e});s&&(n?s!==n&&$(document).trigger("metric",{key:"auth:contributors:actedasheader:unmatched"}):$(document).trigger("metric",{key:"auth:contributors:actedasheader:missing"}))}),r.fail(function(e,t,i){l?u.errback(new TD.core.defer.CancelledError(e,"abort")):u.errback(new TD.core.defer.XMLHttpRequestError(e,i,d))}),u}function g(e,i,s){var r=n(t({},s)),o=TD.config.twitter_upload_base+"/1.1/media/upload.json",a=new p.default(e,{uploadUrl:o,sruHeaders:r}),c=new TD.core.defer.Deferred(function(){a.cancel(),$(document).trigger("videoUploadCancel",{userId:s.getUserID()})}),u=(0,d.default)("image/gif"===e.type,function(){return{extraInitParams:"&media_category=tweet_gif"}},{});return"video/mp4"===e.type?a.upload((0,l.default)({},u,{success:c.callback.bind(c),error:c.errback.bind(c),progress:function(e,t){$(document).trigger("videoUploadProgress",{percent:e,mode:t,userId:s.getUserID()})},extraFinalizeParams:"&ttl="+i})):a.upload((0,l.default)({},u,{success:c.callback.bind(c),error:c.errback.bind(c),extraFinalizeParams:"&ttl="+i})),c.addCallbacks(TD.util.effect(function(e){$(document).trigger("dataApiResponse",{url:o,contributed:s.isContributor(),status:200})}),TD.util.effect(function(e){$(document).trigger("dataApiResponse",{url:o,contributed:s.isContributor(),status:400})})),c}function v(e,i,s){var r=n(t({},s)),o=new FormData;o.append("media",e),o.append("ttl",i);var a=TD.config.twitter_upload_base+"/1.1/media/upload.json",c=w.sendRequest("POST",a,r,o,{timeout:12e4,processData:!1,contentType:!1,xhrFields:{withCredentials:!0}});return c.addCallback(function(e){if(e=e||{},e.data=e.data||{},"string"!=typeof e.data.media_id_string)throw new Error("Upload response missing media_id_string.");return e.data.media_id_string}),c}function T(e,t){var i=_.defaults(t||{},{url:e,method:"GET",headers:{},params:{},account:b,settings:{}}),n=Date.now(),s=w.buildRequest(i);return s.addCallback(function(e){return w.sendRequest(e.method,e.url,e.headers,e.body,e.settings)}),s.addBoth(TD.util.effect(function(t){if(TD.decider.get("disable_api_stats")||$(document).trigger("dataApiResponse",{url:e,contributed:i.account.isContributor(),status:TD.util.getXhrStatusFromSendRequestResult(t)}),!TD.decider.get("disable_request_timing_metrics")){var s=Date.now()-n;TD.util.metric("api:request:time:cors",[s],"metric")}})),s}function y(e){return new Response(e.responseText,{status:e.status,statusText:e.statusText})}var w={},b={isContributor:function(){return!1},isCookieUser:function(){return!0}};w.maybeAddContributorsHeaders=t;var D=.5;return w.sendRequest=m.default.deDupeDeferred(function(e){return function(t,i,n,s,r){var o=[].slice.call(arguments),a=e.apply(this,o);return a.addErrback(TD.util.effect(function(e){if(e.req){var t=TD.decider.get("sample_failed_requests"),i=TD.decider.get("dev_sample_all_failed_requests"),n=Math.random()<D/100;t&&(n||i)&&(TD.controller.stats.generic({page:"api",action:"failure"},{custom_json_payload:TD.net.util.getFailureScribePayload(e)}),TD.util.metric("api:request:failure:scribe"))}})),a}}(f),h),w.jsonp=function(e,t){return w.sendRequest("GET",e,{},t,{dataType:"jsonp",timeout:1e4})},w.upload=function(e,t,i){return TD.decider.hasAccessLevel("mediaUpload","USE_SRU")?g(e,t,i):v(e,t,i)},w.signRequest=function(e,t,i,n,r){r=s(r||{},e),"GET"===i&&(r["x-td-oauth-no-redirect"]=!0);var a=o(t,"sign",e);return w.sendRequest(i,a,r,n)},w.checkCookie=function(){var e=TD.storage.store.getTwitterLoginAccount();if(!e)return TD.core.defer.succeed();var t=e.getUserID();return w.getCookieId().addCallback(function(e){var i=TD.core.defer.succeed();return e!==t&&(i=TD.core.defer.fail(new Error("Cookie does not match expected account")),$(document).trigger("dataTwitterAccountAccessDenied",{account:TD.storage.accountController.getCookieAccount(),isLoginAccount:!0})),i})},w.getCookieId=function(e){var t=TD.util.getTwitterCookieUserId();return t?(TD.util.metric("api:cookie:id:used-twid"),TD.core.defer.succeed(""+t)):(TD.util.metric("api:cookie:id:twid-missing"),w.getCookieUser(e).addCallback(function(e){return TD.util.metric("api:cookie:id:used-verify"),e.data.id_str}).addErrback(TD.util.effect(function(){TD.util.metric("api:cookie:id:failed-verify")})))},w.getCookieUser=function(){var e,t=0;return u(function(i){return i=i||{},!i.skipCache&&Date.now()-t<3e5?(TD.util.metric("api:cookie:verify:cache:hit"),TD.core.defer.succeed(e)):(TD.util.metric("api:cookie:verify:cache:"+(i.skipCache?"skip":"miss")),w.verifyCredentials().addCallback(TD.util.effect(function(i){t=Date.now(),e=i})))})}(),w.verifyCredentials=function(){return w.sendRequest("GET",TD.config.twitter_api_base+"/1.1/account/verify_credentials.json",n({}),{},{xhrFields:{withCredentials:!0}})},w.buildRequest=function(i){"GET"!==i.method&&"DELETE"!==i.method||(i.url=TD.net.util.addURLParameters(i.url,i.params),delete i.params),i.body=i.params;var s=t(i.headers,i.account);if(e(i.account).isCookieUser())return w.checkCookie().addCallback(_.constant({method:i.method,url:i.url,headers:n(s),body:i.body,settings:_.assign({},i.settings,{xhrFields:{withCredentials:!0}})}));var r=w.signRequest(i.account,i.url,i.method,i.body,i.headers);return r.addCallback(function(e){var t=e.data,n=_.extend({},t.headers,s);return{method:i.method,url:i.url,headers:n,body:i.body,settings:i.settings}}),r},w.request=u(T),w.fetched=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{method:"GET",headers:{},params:{},account:b};return new r.default(function(i){TD.net.ajax.request(e,t).addCallbacks(function(e){return i(y(e.xhr))},function(e){return i(y(e.req))})})},w.promised=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{method:"GET",headers:{},params:{},account:b};return new r.default(function(i,n){TD.net.ajax.request(e,t).addCallbacks(i,n)})},w}()},function(e,t){e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},function(e,t,i){var n=i(65),s=i(494),r=i(299),o=i(11),a=i(26),c=i(316),l={},u={},t=e.exports=function(e,t,i,d,h){var p,f,m,g,v=h?function(){return e}:c(e),T=n(i,d,t?2:1),_=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(r(v)){for(p=a(e.length);p>_;_++)if((g=t?T(o(f=e[_])[0],f[1]):T(e[_]))===l||g===u)return g}else for(m=v.call(e);!(f=m.next()).done;)if((g=s(m,T,f.value,t))===l||g===u)return g};t.BREAK=l,t.RETURN=u},function(e,t){e.exports=!1},function(e,t,i){var n=i(11),s=i(500),r=i(295),o=i(307)("IE_PROTO"),a=function(){},c=function(){var e,t=i(294)("iframe"),n=r.length;for(t.style.display="none",i(297).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c.prototype[r[n]];return c()};e.exports=Object.create||function(e,t){var i;return null!==e?(a.prototype=n(e),i=new a,a.prototype=null,i[o]=e):i=c(),void 0===t?i:s(i,t)}},function(e,t,i){var n=i(502),s=i(295).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,s)}},function(e,t,i){var n=i(502),s=i(295);e.exports=Object.keys||function(e){return n(e,s)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){var n=i(51);e.exports=function(e,t,i){for(var s in t)n(e,s,t[s],i);return e}},function(e,t,i){"use strict";var n=i(12),s=i(25),r=i(24),o=i(21)("species");e.exports=function(e){var t=n[e];r&&t&&!t[o]&&s.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,i){var n=i(77),s=Math.max,r=Math.min;e.exports=function(e,t){return e=n(e),e<0?s(e+t,0):r(e,t)}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},,,,,,,,,function(e,t){function i(e,t){if("function"!=typeof e)throw new TypeError(n);return t=s(void 0===t?e.length-1:+t||0,0),function(){for(var i=arguments,n=-1,r=s(i.length-t,0),o=Array(r);++n<r;)o[n]=i[t+n];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,i[0],o);case 2:return e.call(this,i[0],i[1],o)}var a=Array(t+1);for(n=-1;++n<t;)a[n]=i[n];return a[t]=o,e.apply(this,a)}}var n="Expected a function",s=Math.max;e.exports=i},function(e,t,i){var n=i(388),s=i(1712),r=s(n);e.exports=r},function(e,t){function i(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;e.exports=i},,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(15),r=n(s),o=i(55),a=n(o),c=i(63),l=n(c),u=i(1053),d=n(u),h=i(1052),p=n(h),f=i(20),m=n(f),g=i(290);e.exports=TD.controller.stats=function(){var e={},t={};e.columnNamespaces=t,TD.util.extendObjectWith(t,[[m.default.columnMetaTypes.MENTIONS,{legacyId:2,namespace:{section:"twitter",component:"mention"}}],[m.default.columnMetaTypes.FOLLOWERS,{legacyId:3,namespace:{section:"twitter",component:"followers"}}],[m.default.columnMetaTypes.TIMELINE,{legacyId:3,namespace:{section:"twitter",component:"home"}}],[m.default.columnMetaTypes.SEARCH,{legacyId:4,namespace:{section:"twitter",component:"search"}}],[m.default.columnMetaTypes.MESSAGES,{legacyId:5,namespace:{section:"twitter",component:"inbox"}}],[m.default.columnMetaTypes.FAVORITES,{legacyId:8,namespace:{section:"twitter",component:"favorites"}}],[m.default.columnMetaTypes.LIST,{legacyId:22,namespace:{section:"twitter",component:"list"}}],[m.default.columnMetaTypes.SCHEDULED,{legacyId:28,namespace:{section:"tweetdeck",component:"scheduledupdates"}}],[m.default.columnMetaTypes.USERTWEETS,{legacyId:32,namespace:{section:"twitter",component:"usertweets"}}],[m.default.columnMetaTypes.USERTIMELINE,{legacyId:33,namespace:{section:"twitter",component:"usertimeline"}}],[m.default.columnMetaTypes.HOME,{legacyId:34,namespace:{section:"tweetdeck",component:"home"}}],[m.default.columnMetaTypes.ME,{legacyId:35,namespace:{section:"tweetdeck",component:"me"}}],[m.default.columnMetaTypes.INBOX,{legacyId:36,namespace:{section:"tweetdeck",component:"inbox"}}],[m.default.columnMetaTypes.INTERACTIONS,{legacyId:37,namespace:{section:"twitter",component:"interactions"}}],[m.default.columnMetaTypes.ACTIVITY,{legacyId:38,namespace:{section:"twitter",component:"networkactivity"}}],[m.default.columnMetaTypes.CUSTOMTIMELINE,{legacyId:39,namespace:{section:"twitter",component:"customtimeline"}}],[m.default.columnMetaTypes.DATAMINR,{legacyId:39,namespace:{section:"dataminr",component:"watchlist"}}],[m.default.columnMetaTypes.LIVEVIDEO,{namespace:{section:"twitter",component:"livevideo"}}]]);var i,n;e.SCRIBE_CLIENT="deck";var s,o,c={config:{},impressions:[]},u=[],h=$(document),f=function(t,i){if(!e.scribeClientEvent||!e.scribeGuestId)return void u.push([t,i]);if(t=t||{},i=i||{},t.client=e.SCRIBE_CLIENT,i.user_agent=s,i.guest_id=e.scribeGuestId,!i.user_id){var n=TD.storage.store.getTwitterLoginAccount()||TD.storage.accountController.getDefault();n&&(i.user_id=n.getUserID())}e.scribeClientEvent.scribe(t,i),h.trigger("scribing",{terms:t,data:i}),TD.config.scribe_debug_level>0&&console.log((0,g.namespaceStringFromTerms)(t)),TD.config.scribe_debug_level>1&&console.log("Scribing:",t,i)},v=function(){var e,t={};try{e=TD.storage.accountController.getPreferredAccount("twitter")}catch(e){}return e&&(t.tw=e.getUserID()),t};return e.generateScribeUserAgent=function(e,t,i,n){var s={client_name:e,client_version:t,platform:i,platform_version:n};return TD.ui.template.toHtml("Twitter-TweetDeck-{{{client_name}}}/{{{client_version}}} {{{platform}}}/{{{platform_version}}}",s)},e.generateScribeGuestId=function(e,t){var i="tweetdeck:"+e+":"+t,n=TD.core.sha1(i);return parseInt(n.substr(0,13),16)},e.flushScribeQueue=function(){o&&o.flush(o.getBuffer())},e.updateTransportOptions=function(e){if(!o)return void TD.sync.util.warn("scribeTransport options not updated as controller.stats not initialised");o.updateOptions(e)},e.init=function(){var t=TD.util.getAppEnv();i=TD.config.client_name+"-"+t,s=e.generateScribeUserAgent(i,TD.version,t,"1");var n={bufferEvents:!0,useAjax:!1,flushOnUnload:!0};o=new d.default(n),e.scribeClientEvent=new p.default(o),(0,l.default)().subscribe(e.setExperiments.bind(e)),TD.controller.scheduler.schedulePeriodicTask(900,function(){e.impression(),e.twitterSession(),TD.util.metric("ping");var t=TD.storage.store.getTwitterLoginAccount();t?t.isCookieUser()?TD.util.metric("ping:session:cookie"):TD.util.metric("ping:session:tweetdeck"):TD.util.metric("ping:session:none")},!0),TD.controller.scheduler.schedulePeriodicTask(60,TD.controller.stats.flushScribeQueue),$(document).on("scribeEvent",function(e,t){this.generic(t.terms,t.data)}.bind(this)),TD.config.scribe_debug_level>0&&console.log("Logging scribe events! %cclient:page:section:component:element:action","font-weight: bold;")},e.setUid=function(t){if(n=t,e.scribeGuestId="",t){for(e.scribeGuestId=e.generateScribeGuestId(s,TD.core.sha1(t));u.length;){var i=u.shift();f(i[0],i[1])}e.impression()}},e.generic=function(e,t){f(e,t)},e.setExperiments=function(e){c.config=e.config||{},c.impressions=e.impressions||[]},e.getExperimentBucket=function(e){return _.get(c,["config",e,"value"],"")},e.isInExperimentBucket=function(t,i){return e.getExperimentBucket(t)===i},e.experimentImpression=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t=t||this.getExperimentBucket(e);var i=c.impressions.find(function(i){var n=i.key===e,s=i.bucket===t;return n&&s});if(i){var n={page:"ddg",section:i.key,component:"",element:"",action:"experiment"},s={experiment_key:i.key,bucket:i.bucket,version:i.version};f(n,s)}},e.checkNamespace=function(e,t){if(-1===t.indexOf(e))throw new Error("value must be in "+t)},e.impression=function(){var e={action:"impression",page:"main"},t=v();t.interval="900",t.is_touch_device=!1,TD.util.isTouchDevice()&&(t.is_touch_device=!0),f(e,t)},e.twitterSession=function(){if("web"===TD.util.getAppEnv()){var e,t=TD.storage.store.getTwitterLoginAccount();if(t){var i=TD.util.getTwitterCookieUserId();e=i?i===t.getUserID()?"same":"different":"none";f({page:"accounts",section:"twitter_session",action:e})}}},e.heartbeat=function(e){f({page:"main",action:"heartbeat"},{user_id:e})},e.scribeChirpAction=function(e){var i=e.action,n=e.columnType,s=_.get(t,[n,"namespace"],null),o=(0,r.default)({page:s?"column":""},s,{element:i,action:"click"});f(o)},e.favorite=function(e,t){f({page:"column",section:"tweet",action:"favorite"},{items:[e],user_id:t});var i={page:"column",section:"tweet",action:"favorite_engagement"},n={items:[e],user_id:TD.storage.store.getTwitterLoginAccount().getUserID()};f(i,n)},e.unfavorite=function(e,t){f({page:"column",section:"tweet",action:"unfavorite"},{items:[e],user_id:t})},e.retweet=function(e,t){f({page:"column",section:"tweet",action:"retweet"},{items:[e],user_id:t});var i={page:"column",section:"tweet",action:"retweet_engagement"},n={items:[e],user_id:TD.storage.store.getTwitterLoginAccount().getUserID()};f(i,n)},e.embedTweetDialogOpen=function(e){var t={page:"main",section:"embed_tweet_dialog",action:"open"},i={};i.twid=e,f(t,i)},e.translate=function(e,t,i,n,s){var r={page:"column",section:"tweet",action:"translate"},o={};o.oid=e,o.twid=t,o.tw=i,o.dest_lang=n,o.src_lang=s,f(r,o)},e.reportUser=function(e,t){f({page:"column",section:"tweet",component:"report_user",element:t||"",action:e})},e.reportUserAbusive=function(e,t){f({page:"column",section:"tweet",component:"report_user_abusive",element:t||"",action:e})},e.reportDM=function(e){f({page:"column",section:"tweet",component:"report_message",element:"",action:e})},e.sharedAccountWarning=function(e){f({page:"main",section:"shared_account_warning",action:e})},e._genericColumnEvent=function(e,i,n){var s=t[e],r={page:"column",section:"unknown",component:"unknown",action:i};n&&(r.element=n),s&&s.namespace?_.extend(r,s.namespace):console.log("Tracking: Unknown column type",e),f(r)},e.addColumn=function(t){e._genericColumnEvent(t,"add")},e.removeColumn=function(t){e._genericColumnEvent(t,"remove")},e.compose=function(e){e=e||{};var t={page:e.page||"compose",section:e.section,component:e.component,action:e.action},i={with_image:Boolean(e.withImage),with_gif:Boolean(e.withGIF),with_video:Boolean(e.withVideo),scheduled:Boolean(e.isScheduled)};e.twitterId&&(i.user_id=e.twitterId),e.isScheduled&&(t.action+="_scheduled"),f(t,i)},e.editScheduledTweet=function(){f({page:"main",section:"compose",element:"tweet",action:"edit"})},e.deleteScheduledTweet=function(){f({page:"main",section:"compose",element:"tweet",action:"delete"})},e.postTweet=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.compose({action:"send_tweet",twitterId:t.twitterId,withImage:t.withImage,withVideo:t.withVideo,withGIF:t.withGIF,isScheduled:t.isScheduled})},e.postReply=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.compose({action:"send_reply",component:t.inline?"inline_compose":"docked_compose",twitterId:t.twitterId,withImage:t.withImage,withGIF:t.withGIF,withVideo:t.withVideo,isScheduled:t.isScheduled});var i={component:t.inline?"inline_compose":"docked_compose",action:"reply_engagement",page:"compose"},n={user_id:TD.storage.store.getTwitterLoginAccount().getUserID()};f(i,n)},e.composeFromContextMenu=function(e){f({page:"compose",component:"docked_compose",element:"chrome_context_menu",action:e})},e.postMessage=function(t){var i=t.isGroupDm?"send_group_dm":"send_dm",n={action:i,twitterId:t.twitterId,withImage:t.withImage,component:"docked_compose"};t.isReplyBar&&(n.page="main",n.section="messages",n.component="reply_bar"),e.compose(n)},e.quoteTweet=function(){f({page:"main",section:"tweet",element:"tweet",action:"quote"})},e.discardQuoteTweet=function(){f({page:"main",section:"compose",element:"tweet",action:"discard_quote_tweet"})},e.shareTweetViaDM=function(){f({page:"main",section:"tweet",element:"send_tweet_dm",action:"click"})},e.sharedTweetDM=function(){f({page:"main",section:"messages",element:"shared_tweet_dm",action:"click"})},e.composeClearReply=function(){f({page:"compose",action:"clear_reply"})},e.composeStackReply=function(){f({page:"compose",action:"stack_reply"})},e.composePopFromInline=function(){f({page:"compose",component:"inline_compose",element:"pop_inline_to_docked",action:"click"})},e.messageBannerImpression=function(e){f({page:"main",section:"message_banner",action:"impression"},{message_id:e})},e.messageBannerDismiss=function(e){f({page:"main",section:"message_banner",action:"dismiss"},{message_id:e})},e.messageBannerClick=function(e,t){f({page:"main",section:"message_banner",action:"click"},{message_id:e,button_id:t})},e.searchboxFocus=function(){f({page:"main",component:"search_box",action:"focus_field"})},e.searchboxPerformSearch=function(e){f({page:"main",component:"search_box",action:"search"},{query:e})},e.typeaheadItemSelected=function(e,t,i){f({page:"main",component:"search_box",element:"typeahead",action:"search"},{query:e,type:t,index:i})},e.typeaheadRecentItemSelected=function(e,t,i){f({page:"main",component:"search_box",element:"recent",action:"search"},{query:e,type:t,index:i})},e.viewedTweetSocialProof=function(e){var t={page:"column",section:"social_proof",component:e,action:"impression"};switch(e){case"retweeters":t.component="retweeted_by";break;case"favoriters":t.component="favorited_by";break;case"repliers":t.component="replied_by";break;default:throw new Error("Social proof type “"+e+"” not recognised")}f(t)},e.setting=function(e,t){var i={page:"settings",section:e},n={section:{condensed:"narrow","full-size":"wide"}};_.isBoolean(t)?i.action=t?"on":"off":(i.component=n.section[t]||t,i.action="select"),f(i)},e.defaultAccountSelected=function(){f({page:"settings",section:"default_account",action:"select"})},e.apiErrorResponse=function(e,t,i){var n={page:"api",action:"request"},s={status_code:e};TD.util.random(0,99)<10&&(t&&(s.event_info=t),i&&(s.url=i),f(n,s))},e.advancedSearchSettings=function(e,t,i,n){var s={section:{},component:{action:"interactions"},element:{written_in:"language"}},r={page:"main",section:s.section[e]||e,component:s.component[t]||t,element:s.element[i]||i,action:"change"};f(r,{value:n})},e.columnHeaderSearchUpdate=function(e){f({page:"main",section:"column_header",component:"content",element:"matching",action:"change"},{value:e})},e.actionFilterError=function(){f({page:"main",section:"column_options",component:"interactions",action:"validation_error"},{error:"No interaction types selected"})},e.columnActionClick=function(e,i){var n={page:"main",section:"column_options",element:e,action:"click"};if(i&&t[i.type]){var s=t[i.type],r=s.namespace.component;r&&(n.component=r)}i=i||{},f(n,i)},e.conversationDetailViewImpression=function(e){f({page:"main",section:"messages",component:"conversation",element:e,action:"impression"})},e.messagesColumnHeaderClick=function(e){f({page:"main",section:"messages",component:"header",element:e,action:"click"})},e.messageAttachmentClick=function(e){f({page:"main",section:"messages",component:"message",element:e,action:"click"})},e.unknownStreamData=function(e){f({page:"api",section:"userstream",action:"unrecognized_data"},e)},e.navbarListsClick=function(){f({page:"main",section:"navbar",element:"lists",action:"click"})},e.navbarAddColumnClick=function(){f({page:"main",section:"navbar",element:"add_column",action:"click"})},e.navbarPageLeft=function(){f({page:"main",section:"navbar",component:"column_nav",element:"page_left",action:"click"})},e.navbarReorderColumns=function(){f({page:"main",section:"navbar",component:"column_nav",action:"reorder"})},e.navbarJumpToColumn=function(){f({page:"main",section:"navbar",component:"column_nav",element:"column_item",action:"click"})},e.navbarPageRight=function(){f({page:"main",section:"navbar",component:"column_nav",element:"page_right",action:"click"})},e.navbarSettingsClick=function(){f({page:"main",section:"navbar",element:"settings",action:"click"})},e.navbarMigrate=function(e){var t=["impression","click"];if(-1===t.indexOf(e))throw new Error("action must be in "+t);f({page:"main",section:"navbar",element:"migrate",action:e})},e.navbarComposeClick=function(){f({page:"main",section:"navbar",element:"compose",action:"click"})},e.tweetStreamImpression=function(e,t,i){if(!(t.length<1)){var n={component:"stream",action:"results"};i&&(n.element="linger");var s={items:t},r=m.default.columnMetaTypeToScribeNamespace[e];r&&(n=_.extend(n,r),f(n,s))}},e.tweetImpression=function(e){f({page:"tweet",component:"tweet",action:"impression"},{items:[e]})},e.mediaImpression=function(e){f({page:"tweet",component:"gallery",element:"photo",action:"impression"},{items:[e]})},e.ownTweetDetailImpression=function(e){f({page:"main",section:"detail",component:"own_tweet",action:"impression"},{items:[e]})},e.appWokenFromSleep=function(e){f({page:"main",action:"wake"},{custom_json_payload:{msSinceSleep:e}})},e.purgedFeed=function(e){f({page:"main",section:"feed",action:"remove"},e)},e.newListClick=function(){f({page:"add_column",component:"list",element:"create_list_button",action:"click"})},e.listCreated=function(){f({page:"main",component:"list",action:"create"})},e.listUpdated=function(){f({page:"main",component:"list",action:"update"})},e.listDeleted=function(){f({page:"main",component:"list",action:"delete"})},e.newCustomtimelineClick=function(){f({page:"add_column",component:"customtimeline",element:"create_customtimeline_button",action:"click"})},e.customTimelineCreated=function(){f({page:"main",component:"customtimeline",action:"create"})},e.customTimelineUpdated=function(){f({page:"main",component:"customtimeline",action:"update"})},e.customTimelineDeleted=function(){f({page:"main",component:"customtimeline",action:"delete"})},e.tweetAddedOrMovedToCustomTimeline=function(e){f({page:"main",component:"customtimeline",element:"tweet",action:e})},e.tweetRemovedFromCustomTimeline=function(){f({page:"main",component:"customtimeline",element:"tweet",action:"remove"})},e.migrateAppflow=function(t,i){e.checkNamespace(t,["migrate_education","migrate_risk","migrate_risk_agreement","migrate_teams","migrate_team_instructions","migrate_team_member"]),e.checkNamespace(i,["impression","previous","cancel","next","ok"]),f({page:"startflow",section:t,action:i})},e.migrateStartflow=function(t,i,n){e.checkNamespace(t,["migrate_tweetdeck_login","migrate_twitter_login","migrate_final_confirmation","migrate_progress","migrate_progress_success","migrate_progress_team_setup"]),e.checkNamespace(i,["impression","previous","cancel","next","restart"]),f({page:"startflow",section:t,element:n?"error":void 0,action:i})},e.dataminrAuthRequest=function(){f({page:"api",section:"dataminr",element:"authorize",action:"request"})},e.dataminrApiRequest=function(t){e.checkNamespace(t,["alerts","watchlists"]),f({page:"api",section:"dataminr",element:t,action:"request"})},e.dataminrClickImpression=function(t,i){e.checkNamespace(i,["show_followers","show_following","website","map","dataminr_settings","user_media","dataminr","search","search_any","search_all","hashtag"]),e.checkNamespace(t,["dataminr_alert","dataminr_alert_detail"]),f({page:"main",section:t,element:i,action:"click"})},e.loginError=function(e){f({page:"login",action:"login_error"},{message:e})},e.getElementNamespace=function(t){var i=$(t),n=m.default.getColumnFromElement(i),s=n?n.getColumnType():"",o=_.get(e.columnNamespaces,[s,"namespace"],null);return o?(0,r.default)({page:"column"},o):i.closest(".js-user-results").length>0?{page:"main",section:"search_results",component:"users"}:void 0},e.linkClick=function(t,i){var n="twitter.com"===(0,a.default)(t).domain().toLowerCase();f({page:"main",section:"link",component:n?"twitter":void 0,action:"click"});var s=TD.util.extractTweetIdFromPermalink(t);if(Boolean(s)){var o=e.getElementNamespace(i);f((0,r.default)({},o,{element:"permalink",action:"click"}))}},e}()},function(e,t,i){"use strict";var n=function(){this.attributes({appColumnsContainerSelector:".js-app-columns-container",columnsContainerSelector:".js-app-columns",columnStateDetailViewClass:"js-column-state-detail-view",columnStateSocialProofClass:"js-column-state-social-proof",columnSelector:".js-app-columns .js-column",scrollContainerSelector:".js-column-scroller",columnDetailScrollerSelector:".js-detail-container",columnOptionsSelector:".js-column-options",columnOptionsContainerSelector:".js-column-options-container",columnHeaderSelector:".js-column-header",columnUnreadCountSelector:".js-column-header .js-unread-count",columnContentSelector:".js-column-content"}),this.getColumnScrollContainerByKey=function(e){var t=this.getColumnElementByKey(e),i=t.find(this.attr.columnDetailScrollerSelector);return i.length>0?i:t.find(this.attr.scrollContainerSelector)},this.getColumnElementByKey=function(e){return this.select("columnSelector").filter('[data-column="'+e+'"]')},this.getKeyForColumnAtIndex=function(e){return this.select("columnSelector").eq(e).attr("data-column")},this.getKeyForLastColumn=function(){return this.select("columnSelector").last().attr("data-column")}};e.exports=n},function(e,t,i){"use strict";function n(){this.focusRequest=function(){this.trigger("uiFocusRequest",{id:this.focusId})},this.focusRelease=function(){this.trigger("uiFocusRelease",{id:this.focusId})},this.handleFocus=function(e,t){t.id===this.focusId?this.hasFocus=!0:this.hasFocus=!1},this.whenHasFocus=function(e){return function(){if(this.hasFocus)return e.apply(this,arguments)}.bind(this)},this.getNewFocusId=function(){return _.uniqueId("focus")},this.after("teardown",function(){this.hasFocus&&this.trigger("uiFocusRelease",{id:this.focusId})}),this.after("initialize",function(){this.focusId=this.attr.focusId||this.getNewFocusId(),this.hasFocus=!1,this.on(document,"uiFocus",this.handleFocus),!0===this.attr.autoFocus&&this.focusRequest()})}e.exports=n},function(e,t,i){"use strict";var n={};n.atMentionify=function(e){return TD.util.atMentionify(e)},n.deMentionify=function(e){return TD.util.deMentionify(e)},n.getTweetLength=function(e,t){return twttrTxt.getTweetLength(e,t)},n.extractMentions=function(e){return twttrTxt.extractMentions(e)},n.removeFirstMention=function(e){var t,i=twttrTxt.extractMentionsWithIndices(e);return i.length&&(t=i[0].indices,e=e.substring(0,t[0]).trim()+e.substring(t[1])),e},n.makeTweetDraggable=function(e){$(e).closest(".stream-item").attr("draggable",!0).addClass("will-animate"),document.getSelection().removeAllRanges()},n.makeTweetUnDraggable=function(e){$(e).closest(".stream-item").removeAttr("draggable").removeClass("will-animate")},e.exports=n},function(e,t,i){"use strict";function n(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,a.getClientByAccountKeyOrDefault)(e),s=d({resource:t});return n?n.request(s,i):u.default.fail("Could not find client for "+e)}function s(e){return function(t){var i={request:e.request,response:t};"function"==typeof e.error?e.error(i):"string"==typeof e.error?$(document).trigger(e.error,i):$(document).trigger("dataTwitterApiError",{error:"Unknown error"})}}function r(e,t){return function(i){var n={request:e.request,response:i};"function"==typeof e.success?e.success(n):"string"==typeof e.success?$(document).trigger(e.success,n):$(document).trigger("dataTwitterApiSuccess",n),e.processAsStreamData&&t.processStreamData(i)}}function o(e){var t=d(e),i=e.method,n=e.params,o=e.dataProcessor,c=e.feedType,l=(0,a.getClientByAccountKeyOrDefault)(e.request.accountKey),u=s(e,l),h=r(e,l);try{return l.makeTwitterCall(t,n,i||"GET",o,h,u,c)}catch(e){u()}}Object.defineProperty(t,"__esModule",{value:!0}),t.getTwitterApiUrl=void 0,t.makeTwitterRequest=n,t.makeTwitterApiCall=o;var a=i(22),c=i(446),l=i(118),u=function(e){return e&&e.__esModule?e:{default:e}}(l),d=t.getTwitterApiUrl=function(e){var t=e.baseUrl,i=void 0===t?c.twitter_api_base:t,n=e.apiVersion;return i+"/"+(void 0===n?c.twitter_api_version:n)+"/"+e.resource}},function(e,t){e.exports={}},function(e,t,i){var n=i(25).f,s=i(49),r=i(21)("toStringTag");e.exports=function(e,t,i){e&&!s(e=i?e:e.prototype,r)&&n(e,r,{configurable:!0,value:t})}},function(e,t,i){var n=i(1),s=i(75),r=i(14),o=i(311),a="["+o+"]",c="​",l=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),d=function(e,t,i){var s={},a=r(function(){return!!o[e]()||c[e]()!=c}),l=s[e]=a?t(h):o[e];i&&(s[i]=l),n(n.P+n.F*a,"String",s)},h=d.trim=function(e,t){return e=String(s(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},function(e,t,i){var n=i(16);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,i){"use strict";t.__esModule=!0;var n=i(518),s=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,i){return t in e?(0,s.default)(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},,,,,,,,,function(e,t,i){function n(e,t,i,n){return(e?e.length:0)?(null!=t&&"boolean"!=typeof t&&(n=i,i=o(e,t,n)?void 0:t,t=!1),i=null==i?i:s(i,n,3),t?a(e,i):r(e,i)):[]}var s=i(95),r=i(1707),o=i(113),a=i(1741);e.exports=n},function(e,t,i){var n=i(1692),s=i(139),r=s(function(e,t){return n(e,1,t)});e.exports=r},function(e,t){function i(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}e.exports=i},function(e,t,i){function n(e,t,i){if("function"!=typeof e)return s;if(void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 3:return function(i,n,s){return e.call(t,i,n,s)};case 4:return function(i,n,s,r){return e.call(t,i,n,s,r)};case 5:return function(i,n,s,r,o){return e.call(t,i,n,s,r,o)}}return function(){return e.apply(t,arguments)}}var s=i(264);e.exports=n},function(e,t,i){function n(e,t){var i=null==e?void 0:e[t];return s(i)?i:void 0}var s=i(1744);e.exports=n},function(e,t,i){function n(e){return r(e)&&s(e)&&a.call(e,"callee")&&!c.call(e,"callee")}var s=i(72),r=i(59),o=Object.prototype,a=o.hasOwnProperty,c=o.propertyIsEnumerable;e.exports=n},function(e,t,i){function n(e){return s(e,r(e))}var s=i(1708),r=i(114);e.exports=n},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(277),s=i(13);t.default=(0,n.createInterval)(s.chirpReverseColumnSort)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(235),r=n(s),o=i(403),a=n(o);t.requestUsers=function(e){var t=(0,a.default)("twitterUsers");return $(document).trigger("uiNeedsTwitterUsers",{requestId:t,userIds:e.map(function(e){return e.id})}),t},t.getFirstReply=function(e){return e[0]},t.getRecipientsToDisplay=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e=t.dedupeAndFilterRecipients(e,i);var n=e.map(function(e){return e.id});return e.length>=4?{users:e.slice(0,2),remainder:e.length-2,userIds:n}:{users:e,remainder:0,userIds:n}},t.dedupeAndFilterRecipients=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=new r.default(t);return e.filter(function(e){var t=!i.has(e.id);return i.add(e.id),t})},t.getImplicitMentions=function(e){return e.filter(function(e){return e.isImplicitMention}).map(function(e){return{id:e.id_str,screenName:e.screen_name,name:e.name}})},t.getDefaultModalOptions=function(){return{withNonDismissible:!1,withDismissButton:!0,withClickTrap:!0,withDraggable:!0,withDragHandle:!1,withHeader:!0,withHeaderDivider:!0,withBorder:!1,withFooter:!1,withDoneButton:!1,withContentClasses:["width--600","max-height--400","is-inverted-dark","seamful","scroll-v"],withOverlayClasses:[""]}}},function(e,t,i){"use strict";function n(e){var t=document.createElement("div");for(var i in e)if(void 0!==t.style[i])return e[i];return!1}var s={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",msTransition:"MSTransitionEnd"},r={animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oanimationend",msAnimation:"MSAnimationEnd"};e.exports={TRANSITION_END:n(s),ANIMATION_END:n(r)}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){t=(0,u.default)({},t,{debounce:!0,debouncePerContext:!1});var i=new o.default;return function(){var n=t.debouncePerContext&&(0,c.default)(this)?this:p;(t.debounce||t.debouncePerContext)&&h.default.clear(i.get(n));var s=e.bind.apply(e,[this].concat(Array.prototype.slice.call(arguments))),r=h.default.mutate(s);i.set(n,r)}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1299),o=n(r),a=i(35),c=n(a),l=i(202),u=n(l);t.makeDOMMutator=s;var d=i(212),h=n(d),p={_:"dom_utils shared context"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.withBold,n=void 0!==i&&i,s=e.emojifiedName||c.default.cleanWithEmoji(e.name),r=e.screenName||e.screen_name;return o.default.render("text/user_link_fullname",{profileUrl:"https://twitter.com/"+r,name:s,withBold:n,unsafe:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.linkifyUser=s;var r=i(3),o=n(r),a=i(13),c=n(a)},function(e,t,i){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fullMonth?"MMMM":"MMM";return(0,l.default)(e.time).format("h:mm A [·] ddd D "+t+" YYYY")}function s(e){return e||(e=new Date),Math.round(e.getTime()/1e3)}function r(e){return e<0||"number"!=typeof e?0:24*e*60*60}function o(e){return 1e3*r(e)}function a(e){if(!(e<0||"number"!=typeof e))return 60*e*60*1e3}Object.defineProperty(t,"__esModule",{value:!0}),t.getFormattedDateTime=n,t.convertDateToSeconds=s,t.daysAgoInSeconds=r,t.daysAgoInMilliseconds=o,t.hoursAgoInMilliseconds=a;var c=i(60),l=function(e){return e&&e.__esModule?e:{default:e}}(c)},function(e,t,i){var n=i(64),s=i(21)("toStringTag"),r="Arguments"==n(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,i,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=o(t=Object(e),s))?i:r?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,i){var n=i(64);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},,,,,,,function(e,t,i){var n=i(53);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},,,,,,,,,,,,,,function(e,t,i){function n(e,t){return s(e,r(t))}var s=i(112),r=i(653);e.exports=n},function(e,t){function i(e){return null==e?"":e+""}e.exports=i},function(e,t,i){var n=i(650),s=i(1688),r=i(1715),o=r(n,s);e.exports=o},,,,,,,,,,,function(e,t,i){"use strict";function n(){this.attributes({eventMap:{uiDragStart:"dragstart",uiDragEnd:"dragend",mousedown:"predrag"},dropTargetClass:"with-drop-target",draggableSelector:".is-draggable"}),this.setupDragDrop=function(e){e.type||(e.type=["*"]),"string"==typeof e.type&&(e.type=[e.type]),_.contains(e.type,"*")&&(e.wantsAll=!0),void 0!==e.indicateDrop&&(this.indicateDrop=!!e.indicateDrop),e.drop&&!1!==this.indicateDrop&&(this.indicateDrop=!0),this.listeners.push(e)},this.hasSetupDragDrop=function(){return this.listeners.length>0},this.wantsDragType=function(e){return this.listeners.some(function(t){return t.wantsAll||_.contains(t.type,e)})},this.notifyListeners=function(e,t){this.listeners.forEach(function(i){if(i.wantsAll||_.contains(i.type,t.type)){var n=i[e.type]||i[this.attr.eventMap[e.type]];n&&"function"==typeof n&&n.call(i.context||this,e,t)}}.bind(this))},this.saveDragState=function(e){return function(t,i){return this.dragDropState={active:!0,data:i},e.apply(this,[].slice.call(arguments))}},this.clearDragState=function(e){return function(t,i){return this.dragDropState=this.dragDropStateInit,e.apply(this,[].slice.call(arguments))}},this.retrieveDragState=function(e){return function(t){return e.call(this,t,this.dragDropState.data)}},this.retrieveAndNotify=function(){return this.retrieveDragState(this.notifyListeners)},this.extractDataFromEvent=function(e){var t=e.target.tagName.toLowerCase();return{type:$(e.target).attr("data-drag-type")||t,el:e.target}},this.whenActive=function(e){return function(t){if(this.dragDropState.active&&this.wantsDragType(this.dragDropState.data.type))return e.apply(this,arguments)}.bind(this)},this.whenSetup=function(e){return function(){if(this.hasSetupDragDrop())return e.apply(this,arguments)}.bind(this)},this.whenSetupAndActive=function(e){return this.whenSetup(this.whenActive(e))},this.before("initialize",function(){this.listeners=[],this.dragDropState=this.dragDropStateInit={active:!1,data:{}},this.indicateDrop=!0,this.dragDepth=0}),this.after("initialize",function(){this.on(document,"uiDragStart",this.whenSetup(this.saveDragState(this.notifyListeners))),this.on(document,"uiDragEnd",this.whenSetup(function(){this.dragDepth=0,this.clearDragState(this.notifyListeners).apply(this,arguments)})),this.on("drop",this.whenSetupAndActive(function(e){e.preventDefault(),this.dragDepth=0,this.retrieveAndNotify().apply(this,arguments)})),this.on("dragenter",this.whenSetupAndActive(function(e){this.dragDepth+=1,1===this.dragDepth&&this.retrieveAndNotify().apply(this,[].slice.call(arguments))})),this.on("dragleave",this.whenSetupAndActive(function(e){this.dragDepth-=1,this.dragDepth<=0&&(this.dragDepth=0,this.retrieveAndNotify().apply(this,[].slice.call(arguments)))})),this.on("dragover",this.whenSetupAndActive(function(e){!0===this.indicateDrop&&e.preventDefault(),this.retrieveAndNotify().apply(this,[].slice.call(arguments))})),this.on("mousedown",{draggableSelector:this.whenSetup(function(e,t){var i=this.extractDataFromEvent({target:t.el});this.notifyListeners(e,i)})})})}e.exports=n},function(e,t,i){"use strict";function n(){this.showModal=function(e,t,i){if(!e||"function"!=typeof e||"function"!=typeof e.attachTo)throw new TypeError("Component must be a constructor and have an attachTo method.");t=t||{},t.isModal=!0,t.isNonDismissible=!!i.withNonDismissible,i=_.defaults(i||{},{id:_.uniqueId("modal")}),this.boundHandleModalContext=this.handleModalContext.bind(this,e,t,i),this.on(document,"uiModalContext",this.boundHandleModalContext),this.trigger("uiNeedsModalContext",i)},this.handleModalContext=function(e,t,i,n,r){r.id===i.id&&(this.off(document,"uiModalContext",this.boundHandleModalContext),r.$node&&e.mixin(s).attachTo(r.$node,t))}}var s=i(993);e.exports=n},function(e,t,i){"use strict";function n(){o.mixin(this,[a]),this.attributes({dropdownContainerSelector:".js-dropdown-container",dropdownContentSelector:".js-dropdown-content",isSelectableClass:"is-selectable",isSelectableSelector:".is-selectable",isSelectedClass:"is-selected",isSelectedSelector:".is-selected",dropdownOptions:{position:"",toggle:!1},dropdownPositions:{offsetLeft:"pos-l",offsetRight:"pos-r",underLeftIcon:"pos-r-under-icon",verticalRight:"pos-br",above:"pos-t"}}),this.after("initialize",function(){this.on(document,"uiDropdownShowing uiDetailViewOpening uiKeyEscape",this.teardownCurrentDropdown.bind(this)),this.dropdownFocusId=this.getNewFocusId(),this.on(document,"uiKeyEnter uiKeySpace",this.whenHasDropdownFocus(this.clickSelectedActionable)),this.on(document,"uiKeyUp",this.whenHasDropdownFocus(this.makeHandleChangeSelectionIndexBy(-1))),this.on(document,"uiKeyDown",this.whenHasDropdownFocus(this.makeHandleChangeSelectionIndexBy(1))),this.on(document,"uiKeyRight uiKeyLeft",this.whenHasDropdownFocus(this.jumpIntoDropdown))}),this.before("teardown",function(){this.teardownCurrentDropdown()}),this.renderDropdown=function(e,t,i,n){if(!e||!e.length)throw new Error("Please supply a node to render dropdown with.");if(!t)throw new Error("Please supply a template.");i=i||{},n=_.defaults(n||{},this.attr.dropdownOptions);var s=_.uniqueId("dropdown");if(this.dropdownIsOpen()){if(this.$dropdownSourceNode&&e.get(0)===this.$dropdownSourceNode.get(0))return n.toggle?(this.trigger("uiDropdownToggling",{id:s}),this.teardownCurrentDropdown()):this.trigger("uiDropdownAlreadyOpen",{id:s});this.teardownCurrentDropdown()}this.$dropdownSourceNode=e,this.trigger("uiDropdownShowing",{id:s});var o=t;"string"==typeof t&&(o=$(r.default.render(t,i)));var a=$(r.default.render("menus/dropdown",n));return a.find(this.attr.dropdownContentSelector).append(o),e.after(a),this.currentDropdown={$el:a,id:s},this.maybeRepositionDropdown(),this.attachDropdownInteractions(a,n),this.parentFocusId=this.focusId,this.focusId=this.dropdownFocusId,this.focusRequest(),this.on(document,"click",this.handleDocumentClick),this.trigger("uiDropdownShown",{id:s}),a},this.handleDocumentClick=function(e){this.teardownCurrentDropdown()},this.attachDropdownInteractions=function(e,t){this.on(e,"mouseleave",this.removeCurrentSelection),this.on(e,"mouseover",{isSelectableSelector:this.handleChangeSelectionToTarget}),this.on(e,"click",this.cancelEventIfNotFromSelectable);var i=e.find(this.attr.isSelectableSelector),n=i.filter(this.attr.isSelectedSelector),s=i.index(n);this.currentDropdown.$selectables=i,this.currentDropdown.selectedIndex=s,s>-1&&this.changeSelectionToIndex(s)},this.teardownCurrentDropdown=function(e,t){if(e=e||{},t=t||{},this.dropdownIsOpen()){if(t.id===this.currentDropdown.id)return;this.$dropdownSourceNode=null,this.trigger("uiDropdownHiding",{id:this.currentDropdown.id}),this.focusRelease(),this.focusId=this.parentFocusId;var i=this.currentDropdown.$el;this.off(document,"click",this.handleDocumentClick),this.off(i,"mouseleave",this.removeCurrentSelection),this.off(i,"mouseover"),this.off(i,"click",this.cancelEventIfNotFromSelectable),this.currentDropdown.$el.remove();var n=this.currentDropdown.id;this.currentDropdown=null,this.trigger("uiDropdownHidden",{id:n})}},this.clickSelectedActionable=function(){this.currentDropdown.selectedIndex>-1&&this.currentDropdown.$selectables.eq(this.currentDropdown.selectedIndex).find("[data-action]").first().click()},this.changeSelection=function(e){var t=$(e),i=this.currentDropdown.$selectables.index(t.get(0));this.removeCurrentSelection(),i>-1&&(this.currentDropdown.$selectables.eq(i).addClass(this.attr.isSelectedClass),this.currentDropdown.selectedIndex=i)},this.changeSelectionToIndex=function(e){if(e<0)return this.removeCurrentSelection();var t=this.currentDropdown.$selectables.eq(e);this.changeSelection(t)},this.handleChangeSelectionToTarget=function(e,t){this.changeSelection(t.el)},this.makeHandleChangeSelectionIndexBy=function(e){return function(t,i){t.stopPropagation();var n=this.getNewSelectedIndex(e);this.changeSelectionToIndex(n)}},this.removeCurrentSelection=function(){this.currentDropdown.$selectables.eq(this.currentDropdown.selectedIndex).removeClass(this.attr.isSelectedClass),this.currentDropdown.selectedIndex=-1},this.getNewSelectedIndex=function(e){void 0===e&&(e=1);var t=this.currentDropdown.selectedIndex;if(0===e)return t;var i=this.currentDropdown.$selectables.length,n=(t+e)%i;return t<0?e>0?0:i-1:n<0?i+n:n},this.whenHasDropdownFocus=function(e){return this.whenHasFocus(function(){if(this.focusId===this.dropdownFocusId)return e.apply(this,arguments)})},this.jumpIntoDropdown=function(e){-1===this.currentDropdown.selectedIndex&&this.changeSelectionToIndex(0)},this.cancelEventIfNotFromSelectable=function(e){var t=this.currentDropdown.$el;$(e.target).closest(this.attr.isSelectableSelector,t).length||(event.stopPropagation(),event.preventDefault())},this.dropdownIsOpen=function(){return!(!this.currentDropdown||!this.currentDropdown.$el)},this.maybeRepositionDropdown=function(){var e,t,i,n,s,r=this.currentDropdown.$el,o=r.closest(this.attr.dropdownContainerSelector);o.length>0&&!r.hasClass("pos-t")&&(e=r.offset().top,s=r.outerHeight(),i=e+s,t=o.offset().top,n=t+o.height(),TD.util.isTouchDevice()&&TD.decider.get("touchdeck_dropdowns_v2")&&TD.decider.get("touchdeck_tweet_controls_v3")&&(s+=25),i>=n&&e-s>t&&r.addClass("pos-t"))}}var s=i(3),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).compose,a=i(145);e.exports=n},function(e,t,i){"use strict";var n=i(39),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(476),o={maxRecipientsReached:function(e){return e.messageRecipients.length>=e.attr.maxRecipients},getMaxAllowedImages:function(e){return"message"===e.tweetType||e.scheduledDate?1:4},shouldSetNewReplyTo:function(e){return!e.inReplyTo},onlyOneAccountIsSelected:function(e){return 1===e.selectedAccountKeys.length},existingConversation:function(e){return!(!e.messageConversation&&!e.messageRecipients.length)},keyIsInSelectedAccounts:function(e,t){return e.selectedAccountKeys.some(function(e){return e===t})},recipientsWithoutSelfMention:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return 0===t.length?e:[].concat((0,s.default)(e.slice(0,1)),(0,s.default)(e.slice(1).filter(function(e){var i=(0,r.generateAccountKey)("twitter",e.id);return t.some(function(e){return e!==i})})))},getUpdatedExcludedRecipientsIds:function(e,t){var i=t.userId;return t.shouldExclude?e.excludedRecipientsIds.concat(i):_.without(e.excludedRecipientsIds,i)}};e.exports=o},function(e,t,i){"use strict";function n(e,t,i){if(e.length&&t.length){i=_.defaults(i||{},{time:300,easing:"inOutQuad"});var n=e.outerHeight(),o=t.outerHeight(),a=e.scrollTop(),c=s(e,t).top,l=c+o,u=a;return l>n&&(u=a+(l-n)),c<0&&(u=a+c),r.ease({from:a,to:u,time:i.time,easing:r.easeFn(i.easing),applicator:function(t){e.scrollTop(t)}})}}function s(e,t){var i=e.offset(),n=t.offset();return{top:n.top-i.top,left:n.left-i.left}}var r=i(471);e.exports={makeElementVisible:n}},function(e,t,i){"use strict";var n=i(15),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(210),o=["ja","zh-cn","zh-tw","ko"];e.exports={remainingPercentageThreshold:7.2,getConfiguration:function(){return(0,s.default)({},r.configs.version2,{version:"cramming"})},getLanguageWeight:function(){var e=_.get(navigator,"language","");return o.includes(e.toLowerCase())?2:1},getAvailableCharacterPercent:function(e){var t=this.getConfiguration(),i=parseInt(t.maxWeightedTweetLength,10);return parseInt(e,10)*this.getLanguageWeight()*100/i}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return h[t%h.length]}Object.defineProperty(t,"__esModule",{value:!0}),t.makeSparklineDefaults=t.makeChartDefaults=t.getBackgroundColor=t.getSeriesGray=void 0;var r=i(15),o=n(r);t.getNamedChartColor=s;var a=i(279),c=n(a),l=i(211),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(l),d=["#1DA1F2","#17BF63","#FFAD1F","#794BC4"],h=["blue","green","yellow","purple"],p={light:"#FFFFFF",dark:"#222426"},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return d[t%d.length]},m=t.getSeriesGray=function(){return"#8899A6"},g=(t.getBackgroundColor=function(e){return e&&p[e]||p.light},t.makeChartDefaults=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({datumInput:function(e){return u.isoParse(1e3*e.timestamp)},datumOutput:"count",inputTickSpacing:1e3,defaultSeriesShape:c.default.seriesShapes.LINE,outputTickLabelFormat:"s",seriesColor:f,focusMode:c.default.focusModes.INPUT,tooltipOptions:{datumInputFormat:u.utcFormat("%B %-d, %Y %H:%M"),datumOutputFormat:",.0f"},tickLabelColor:m()},e)});t.makeSparklineDefaults=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({},g(),{outputTickLines:!1,outputTickLabels:!1,inputTickLines:!1,inputTickLabels:!1,transitionDurationMs:0},e)}},function(e,t,i){"use strict";function n(e,t){var i,n,s=-1;return t&&(s=e.toLowerCase().indexOf(t.toLowerCase())),-1!==s?(n={before:e.substr(0,s),highlight:e.substr(s,t.length),after:e.substr(s+t.length)},i=c.default.toHtmlFromRaw("{{before}}<b>{{highlight}}</b>{{after}}",n)):i=c.default.toHtmlFromRaw("{{text}}",{text:e}),i}function s(e){var t=twttrTxt.extractHashtagsWithIndices(e);return 1===t.length&&0===t[0].indices[0]&&t[0].indices[1]===e.length?c.default.render("text/hashflag",{hashFlagUrl:(0,o.hashflags)().get(e)}):""}function r(e,t){return n(e,t)+s(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.highlightSubstring=n,t.highlightSubstringAndAddHashflag=r;var o=i(282),a=i(3),c=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,i){var n=i(58),s=i(26),r=i(129);e.exports=function(e){return function(t,i,o){var a,c=n(t),l=s(c.length),u=r(o,l);if(e&&i!=i){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===i)return e||u||0;return!e&&-1}}},function(e,t,i){"use strict";var n=i(12),s=i(1),r=i(51),o=i(127),a=i(103),c=i(121),l=i(120),u=i(16),d=i(14),h=i(227),p=i(149),f=i(298);e.exports=function(e,t,i,m,g,v){var T=n[e],_=T,y=g?"set":"add",w=_&&_.prototype,b={},D=function(e){var t=w[e];r(w,e,"delete"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,i){return t.call(this,0===e?0:e,i),this})};if("function"==typeof _&&(v||w.forEach&&!d(function(){(new _).entries().next()}))){var C=new _,S=C[y](v?{}:-0,1)!=C,E=d(function(){C.has(1)}),I=h(function(e){new _(e)}),A=!v&&d(function(){for(var e=new _,t=5;t--;)e[y](t,t);return!e.has(-0)});I||(_=t(function(t,i){l(t,_,e);var n=f(new T,t,_);return void 0!=i&&c(i,g,n[y],n),n}),_.prototype=w,w.constructor=_),(E||A)&&(D("delete"),D("has"),g&&D("get")),(A||S)&&D(y),v&&w.clear&&delete w.clear}else _=m.getConstructor(t,e,g,y),o(_.prototype,i),a.NEED=!0;return p(_,e),b[e]=_,s(s.G+s.W+s.F*(_!=T),b),v||m.setStrong(_,e,g),_}},function(e,t,i){"use strict";var n=i(50),s=i(51),r=i(14),o=i(75),a=i(21);e.exports=function(e,t,i){var c=a(e),l=i(o,c,""[e]),u=l[0],d=l[1];r(function(){var t={};return t[c]=function(){return 7},7!=""[e](t)})&&(s(String.prototype,e,u),n(RegExp.prototype,c,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t,i){"use strict";var n=i(11);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,i){var n=i(64);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,i){var n=i(16),s=i(64),r=i(21)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==s(e))}},function(e,t,i){var n=i(21)("iterator"),s=!1;try{var r=[7][n]();r.return=function(){s=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!s)return!1;var i=!1;try{var r=[7],o=r[n]();o.next=function(){return{done:i=!0}},r[n]=function(){return o},e(r)}catch(e){}return i}},function(e,t,i){"use strict";e.exports=i(122)||!i(14)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete i(12)[e]})},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,i){"use strict";var n=i(1),s=i(42),r=i(65),o=i(121);e.exports=function(e){n(n.S,e,{from:function(e){var t,i,n,a,c=arguments[1];return s(this),t=void 0!==c,t&&s(c),void 0==e?new this:(i=[],t?(n=0,a=r(c,arguments[2],2),o(e,!1,function(e){i.push(a(e,n++))})):o(e,!1,i.push,i),new this(i))}})}},function(e,t,i){"use strict";var n=i(1);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,i){var n=i(12),s=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(e){return s[e]||(s[e]={})}},function(e,t,i){var n=i(11),s=i(42),r=i(21)("species");e.exports=function(e,t){var i,o=n(e).constructor;return void 0===o||void 0==(i=n(o)[r])?t:s(i)}},function(e,t,i){for(var n,s=i(12),r=i(50),o=i(130),a=o("typed_array"),c=o("view"),l=!(!s.ArrayBuffer||!s.DataView),u=l,d=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(n=s[h[d++]])?(r(n.prototype,a,!0),r(n.prototype,c,!0)):u=!1;e.exports={ABV:l,CONSTR:u,TYPED:a,VIEW:c}},function(e,t,i){e.exports={default:i(1316),__esModule:!0}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=i(1291),r=n(s),o=i(1290),a=n(o);t.default=function(){function e(e,t){var i=[],n=!0,s=!1,r=void 0;try{for(var o,c=(0,a.default)(e);!(n=(o=c.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){s=!0,r=e}finally{try{!n&&c.return&&c.return()}finally{if(s)throw r}}return i}return function(t,i){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n=i(633),s=i(387),r=i(72),o=i(59),a=i(139),c=a(function(e,t){return o(e)&&r(e)?n(e,s(t,!1,!0)):[]});e.exports=c},function(e,t){function i(e,t){return e="number"==typeof e||n.test(e)?+e:-1,t=null==t?s:t,e>-1&&e%1==0&&e<t}var n=/^\d+$/,s=9007199254740991;e.exports=i},function(e,t,i){function n(e){return null==e||(o(e)&&(r(e)||l(e)||s(e)||c(e)&&a(e.splice))?!e.length:!u(e).length)}var s=i(166),r=i(28),o=i(72),a=i(399),c=i(59),l=i(649),u=i(114);e.exports=n},function(e,t){function i(e){return e}e.exports=i},,,,,,,,,,,,,,function(e,t,i){!function(t,n){e.exports=n(i(86),i(280),i(721),i(440))}(0,function(e,t,i,n){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,i){"use strict";function n(e){s[e]||(console.warn(e),s[e]=!0)}t.__esModule=!0,t.default=n;var s={}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}var c=i(2),l=n(c),u=i(3),d=n(u),h=i(6),p=n(h),f=i(9),m=n(f),g=i(0),v=n(g),T=i(10),_=n(T),y=function(e){function t(i){r(this,t);var n=o(this,e.call(this));n.defaultOptions=l.default.extend({},n.constructor.defaultOptions),n.options=l.default.extend({},n.defaultOptions,i),n._initializeModel(),"boolean"==typeof n.options.isRtl&&(0,v.default)("@twitter/feather-component-date-picker: `isRtl` is deprecated. Use `dir` instead, with a value of `ltr` or `rtl`.");var s="."+t.classNames.CALENDAR_DAY+"."+t.classNames.CALENDAR_DAY_SELECTABLE;return n.$el=n._initializeEl().on("mouseenter",s,n._handleDayMouseEnter).on("click",s,n._handleDayClick),n.$("."+t.classNames.CALENDAR_HEADER).html(n._getTableHeaderHtml()),n.$leftMonthButton=n.$("."+t.classNames.MONTH_BUTTON_LEFT).click(n._handleLeftMonthButtonClick),n.$rightMonthButton=n.$("."+t.classNames.MONTH_BUTTON_RIGHT).click(n._handleRightMonthButtonClick),n.$tbody=n.$("."+t.classNames.CALENDAR_BODY),n._initializeNavSelects(),n._initializeTimePicker(),n._initializeTimeZone(),n.render(),n}return a(t,e),t.prototype._getEl=function(){return this.$el[0]},t.prototype._getOptions=function(){return this.options},t.prototype._handleModelChange=function(){this._model.state.pendingRangeDayData?this._bindDocumentMouseDownHandler():this._unbindDocumentMouseDownHandler(),this.render()},t.prototype._isControlled=function(){return!1},t.prototype.$=function(e){return this.$el.find(e)},t.prototype._initializeEl=function(){var e=t.classNames;return(0,l.default)('\n      <div class="'+e.BASE+'">\n        <div class="'+e.NAV+'">\n          <button class="'+e.MONTH_BUTTON+" "+e.MONTH_BUTTON_LEFT+'" type="button">\n            <span class="Icon Icon--caretLeft"></span>\n          </button>\n          <button class="'+e.MONTH_BUTTON+" "+e.MONTH_BUTTON_RIGHT+'" type="button">\n            <span class="Icon Icon--caretRight"></span>\n          </button>\n          <select class="'+e.MONTH_SELECT+'" /><select class="'+e.YEAR_SELECT+'" />\n        </div>\n        <div class="'+e.CALENDAR+'">\n          <div class="'+e.CALENDAR_HEADER+'"></div>\n          <div class="'+e.CALENDAR_BODY+'"></div>\n        </div>\n        <div class="'+e.TIME+'"></div>\n        <div class="'+e.TIME_ZONE+'"></div>\n      </div>\n    ')},t.prototype._initializeNavSelects=function(){this._$monthSelect=this.$("."+t.classNames.MONTH_SELECT).change(this._handleMonthSelectChange),this._$yearSelect=this.$("."+t.classNames.YEAR_SELECT).change(this._handleYearSelectChange),this._monthSelect=new m.default({$select:this._$monthSelect,className:"Button Button--xsmall Button--tertiary"}),this._yearSelect=new m.default({$select:this._$yearSelect,className:"Button Button--xsmall Button--tertiary"}),this._monthSelect.$el.addClass(t.classNames.MONTH_FORM_SELECT),this._yearSelect.$el.addClass(t.classNames.YEAR_FORM_SELECT)},t.prototype._initializeTimePicker=function(){var e=this;this._$time=this.$("."+t.classNames.TIME);var i=l.default.extend({},this.options.timePickerOptions,{useUtc:this.options.useUtc,maxDate:this.options.maxDate,minDate:this.options.minDate,momentZone:this.options.momentZone});this._timePicker=new _.default(i),this._timePicker.$el.addClass("FormInput--small").appendTo(this._$time),this._timePicker.on(_.default.events.CHANGE,function(t,i){e._handleTimePickerChange(i)})},t.prototype._initializeTimeZone=function(){var e=this.$("."+t.classNames.TIME_ZONE),i=this.options.timeZoneString||this.options.timeZoneText;i?e.text(i):e.remove()},t.prototype.render=function(){var e=this._model.state,i=e.date,n=e.rangeDate,s=e.pendingRangeDayData,r=this._model.getValidDateRange();return this.$el.attr("dir",this._isRtl?"rtl":"").toggleClass(t.classNames.WITH_PENDING_RANGE,!!s).toggleClass(t.classNames.WITHOUT_ADJACENT_MONTH_DAYS,!this.options.showAdjacentMonthDays),this._renderNav(r),this.$tbody.html(this._getTableBodyHtml(r)),this._$time.toggle(this.options.showTime&&!n),this._timePicker.date(i),this},t.prototype._renderNav=function(e){var t=this._model.state,i=t.displayedMonth,n=t.displayedYear,s=this._model.getMonthTimes(e),r=this.options.monthStrings||this.options.monthTexts,o=this._getMonthSelectValues(s).map(function(e){return{value:e,text:r[e]}}),a=this._getYearSelectValues(s).map(function(e){return{value:e,text:e}}),c=this.options.prevMonthString||this.options.prevMonthText||this.options.previousMonthText,l=this.options.nextMonthString||this.options.nextMonthText,u=s.displayed<=s.min,d=s.displayed>=s.max;this.$leftMonthButton.attr("title",this._isRtl?l:c).prop("disabled",this._isRtl?d:u),this.$rightMonthButton.attr("title",this._isRtl?c:l).prop("disabled",this._isRtl?u:d),this._renderNavSelect(this._monthSelect,o,i),this._renderNavSelect(this._yearSelect,a,n)},t.prototype._renderNavSelect=function(e,t,i){var n=t.map(function(e){var t=e.text,n=e.value;return(0,l.default)("<option />").val(n).text(t).prop("selected",n===i).get(0)});e.$select.empty().append(n),e.render()},t.prototype._getTableHeaderHtml=function(){var e=this._getOrderedDayOfWeekTexts(),i=e.map(function(e){return'<div class="'+t.classNames.CALENDAR_DAY_HEADER+'">'+e+"</div>"}).join("");return'<div class="'+t.classNames.CALENDAR_WEEK+'">'+i+"</div>"},t.prototype._getTableBodyHtml=function(e){var t=this;return this._getDaysByWeek().map(function(i){return t._getTableWeekHtml(i,e)}).join("")},t.prototype._getTableWeekHtml=function(e,i){var n=this,s=e.map(function(e){return n._getTableDayHtml(e,i)}).join("");return'<div class="'+t.classNames.CALENDAR_WEEK+'">'+s+"</div>"},t.prototype._getTableDayHtml=function(e,i){var n=this._time.date.getValue(e),s=this._time.date.getMonth(e),r=this._time.date.getFullYear(e),o={day:n,month:s,year:r},a=this._getDayState(o,i),c=this._getDayClasses(a),l=Object.keys(c).filter(function(e){return c[e]}).join(" ");return'<div\n      class="'+t.classNames.CALENDAR_DAY+" "+l+'"\n      data-day="'+n+'"\n      data-month="'+s+'"\n      data-year="'+r+'">'+n+"</div>"},t.prototype._triggerChange=function(e){this.trigger(t.events.CHANGE,e)},t.prototype._triggerPendingRangeChange=function(e){this.trigger(t.events.PENDING_RANGE_CHANGE,e)},t.prototype._triggerMonthChange=function(e){this.trigger(t.events.MONTH_CHANGE,e)},t.prototype._triggerYearChange=function(e){this.trigger(t.events.YEAR_CHANGE,e)},t.prototype.date=function(e){return void 0!==e?(this._model.setDate(e),this):this._model.getDate()},t.prototype.dateRange=function(e){return void 0!==e?(this._model.setDateRange(e),this):this._model.getDateRange()},t.prototype.remove=function(){return this._monthSelect.remove(),this._yearSelect.remove(),this._timePicker.remove(),this._unbindDocumentMouseDownHandler(),this.$el.remove(),this},t}((0,d.default)(p.default));y.events={CHANGE:"featherDatePickerChange",MONTH_CHANGE:"featherDatePickerMonthChange",PENDING_RANGE_CHANGE:"featherDatePickerPendingRangeChange",YEAR_CHANGE:"featherDatePickerYearChange"},e.exports=y},function(t,i){t.exports=e},function(e,t,i){"use strict";function n(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):n(e,t))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(4),u=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){function e(){o(this,e)}return e}();return t=e=function(e){function t(){var i,n,r;o(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return i=n=s(this,e.call.apply(e,[this].concat(c))),n._handleMonthSelectChange=function(e){var t=n._model.state.displayedYear,i=parseInt(e.target.value,10),s={displayedYear:t,displayedMonth:i};n._model.set(s),n._triggerMonthChange(s)},n._handleYearSelectChange=function(e){var t=n._model.state.displayedMonth,i=parseInt(e.target.value,10),s={displayedYear:i,displayedMonth:t},r=Date.UTC(i,t),o=n._model.getMonthTimes();r<o.min?s.displayedMonth=new Date(o.min).getUTCMonth():r>o.max&&(s.displayedMonth=new Date(o.max).getUTCMonth()),n._model.set(s),n._triggerYearChange(s)},n._handleLeftMonthButtonClick=function(){var e=n._model.state,t=e.displayedYear,i=e.displayedMonth;i+=n._isRtl?1:-1;var s={displayedYear:t,displayedMonth:i};n._model.set(s),n._triggerMonthChange(s)},n._handleRightMonthButtonClick=function(){var e=n._model.state,t=e.displayedYear,i=e.displayedMonth;i+=n._isRtl?-1:1;var s={displayedYear:t,displayedMonth:i};n._model.set(s),n._triggerMonthChange(s)},n._handleDayMouseEnter=function(e){var t=n._model.state.pendingRangeDayData;if(t){var i=n._getDayData(e.target),s=n._model.getDateRange(),r=s.startDate,o=s.endDate,a=n._model.getPendingDateRange(t,i);+r==+a.startDate&&+o==+a.endDate||(n._model.updatePendingDateRange(i),n._triggerPendingRangeChange(i))}},n._handleDayClick=function(e){var t=n._getOptions(),i=t.preserveTimeOnDaySelect,s=n._model.state,r=s.date,o=s.rangeDate,a=s.pendingRangeDayData,c=s.previousDateRange,l=n._getDayData(e.target),u=n._isControlled();if(o&&!a)n._model.updatePendingDateRange(l),n._triggerPendingRangeChange(l);else if(a){var d=n._model.getDateRange(),h=d.startDate-c.startDate!=0||d.endDate-c.endDate!=0;n._model.setDateRange(u?c:d),n._triggerPendingRangeChange(null),h&&n._triggerChange(d)}else{var p=i?"":"floor",f=n._model.createDateFromDayData(l,p),m=n._model.clampDate(f),g=r-m!=0;u||n._model.setDate(m),g&&n._triggerChange(m)}},n._handleDocumentMouseDown=function(e){if(!n._getEl().contains(e.target)){var t=n._model.state.previousDateRange;n._model.setDateRange(t)}},n._handleTimePickerChange=function(e){n._isControlled()||n._model.setDate(e),n._triggerChange(e)},r=i,s(n,r)}return r(t,e),t.prototype._initializeModel=function(){var e=this,t=this._getOptions(),i=t._model;i?this._model=i:(this._model=new this.constructor.Model,this._model.getOptions=function(){return e._getOptions()},this._model.initializeState(),this._model.onChange=this._handleModelChange.bind(this))},t.prototype._getEl=function(){throw new Error("DatePicker must implement `_getEl`")},t.prototype._getOptions=function(){throw new Error("DatePicker must implement `_getOptions`")},t.prototype._handleModelChange=function(){throw new Error("DatePicker must implement `_handleModelChange`")},t.prototype._isControlled=function(){throw new Error("DatePicker must implement `_isControlled`")},t.prototype._triggerMonthChange=function(){throw new Error("DatePicker must implement `_triggerMonthChange`")},t.prototype._triggerYearChange=function(){throw new Error("DatePicker must implement `_triggerYearChange`")},t.prototype._triggerPendingRangeChange=function(){throw new Error("DatePicker must implement `_triggerPendingRangeChange`")},t.prototype._triggerChange=function(){throw new Error("DatePicker must implement `_triggerChange`")},t.prototype._bindDocumentMouseDownHandler=function(){document.documentElement.addEventListener("mousedown",this._handleDocumentMouseDown)},t.prototype._unbindDocumentMouseDownHandler=function(){document.documentElement.removeEventListener("mousedown",this._handleDocumentMouseDown)},t.prototype.setDisplayedYearAndMonth=function(e,t){this._model.set({displayedYear:e,displayedMonth:t})},t.prototype._getMonthSelectValues=function(e){var t=this._getOptions(),i=t.monthStrings||t.monthTexts,n=this._model.state,s=n.displayedYear,r=n.displayedMonth;return i.map(function(e,t){return t}).filter(function(t){var i=Date.UTC(s,t);return t===r||i>=e.min&&i<=e.max})},t.prototype._getYearSelectValues=function(e){var t=this,i=this._getOptions(),n=i.yearMenuOptionsOffset,s=this._model.state,r=s.displayedYear,o=s.displayedMonth,a=e.min===-1/0?-1/0:new Date(e.min).getUTCFullYear(),c=e.max===1/0?1/0:new Date(e.max).getUTCFullYear(),l=this._time.date.create(r,o),u=this._time.year.offset(l,-n),d=this._time.year.offset(l,n);return u=this._time.year.floor(u),d=this._time.year.offset(this._time.year.floor(d),1),this._time.year.range(u,d).map(function(e){return t._time.date.getFullYear(e)}).filter(function(e){return e===r||e>=a&&e<=c})},t.prototype._getOrderedDayOfWeekTexts=function(){for(var e=this._getOptions(),t=e.dayOfWeekStrings||e.dayOfWeekTexts,i=[],n=0;n<7;n++){var s=(e.startDay+n)%7;i.push(t[s])}return i},t.prototype._getDaysByWeek=function(){return this._getDays().reduce(function(e,t,i){var n=Math.floor(i/7);return e[n]||(e[n]=[]),e[n].push(t),e},[])},t.prototype._getDays=function(){var e=this._getOptions(),t=e.startDay,i=this._model.state,n=i.displayedMonth,s=i.displayedYear,r=this._time.date.create(s,n),o=this._time.month.offset(r,1),a=this._time.week.floor(r,t),c=this._time.week.ceil(o,t);return this._time.day.range(a,c)},t.prototype._getDayState=function(e,t){var i=this._getOptions(),n=i.rangeEndDaySelectMethod,s=this._model.state.displayedMonth,r=this._model.getDateRange(),o=r.startDate.getTime()===r.endDate.getTime(),a=this._isDaySelected(e,r.startDate,"floor");return{isRangeStart:a,isRangeEnd:o?a:this._isDaySelected(e,r.endDate,n),isSelectable:this._isDaySelectable(e,t),isWithinRange:this._isDayWithinRange(e,r),isAdjacentMonth:e.month!==s}},t.prototype._getDayClasses=function(e){var t,i=this.constructor.classNames;return t={},t[i.CALENDAR_DAY_RANGE_START]=e.isRangeStart,t[i.CALENDAR_DAY_RANGE_END]=e.isRangeEnd,t[i.CALENDAR_DAY_SELECTABLE]=e.isSelectable,t[i.CALENDAR_DAY_WITHIN_RANGE]=e.isWithinRange,t[i.CALENDAR_DAY_ADJACENT_MONTH]=e.isAdjacentMonth,t},t.prototype._isDaySelected=function(e,t,i){var n=this._model.createDateFromDayData(e,i);return t=this._time.day[i](t),n.getTime()===t.getTime()},t.prototype._isDaySelectable=function(e,t){var i=this._getOptions(),n=i.rangeEndDaySelectMethod,s=this._model.createDateFromDayData(e,"floor"),r=t.minDate,o=t.maxDate,a=s.getTime(),c=r?this._time.day.floor(r).getTime():null,l=o?this._time.day.floor(o).getTime():null,u=null!==l&&o.getTime()===l;return!(null!==c&&a!==c&&s<r||null!==l&&a!==l&&s>o||"ceil"===n&&u&&a===l)},t.prototype._isDayWithinRange=function(e,t){if(t.startDate.getTime()===t.endDate.getTime())return!1;var i=this._model.createDateFromDayData(e,"floor"),n=this._model.createDateFromDayData(e,"ceil");return"ceil"===this._getOptions().rangeEndDaySelectMethod?t.endDate>i&&t.startDate<n:t.endDate>=i&&t.startDate<n},t.prototype._getDayData=function(e){return{day:parseInt(e.getAttribute("data-day"),10),month:parseInt(e.getAttribute("data-month"),10),year:parseInt(e.getAttribute("data-year"),10)}},c(t,[{key:"_isRtl",get:function(){var e=this._getOptions(),t=e.dir,i=e.isRtl;return"string"==typeof t?"rtl"===t:!0===i}},{key:"_time",get:function(){return this._model.time}}]),t}(i),e.Model=u.default,e.defaultOptions=a({},u.default.defaultOptions,{yearMenuOptionsOffset:5,showAdjacentMonthDays:!0,preserveTimeOnDaySelect:!1,showTime:!1,timePickerOptions:null,startDay:0,dir:null,isRtl:null,dayOfWeekTexts:["S","M","T","W","T","F","S"],monthTexts:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],previousMonthText:"Previous",nextMonthText:"Next",timeZoneText:"",_model:null}),e.classNames={BASE:"DatePicker",CALENDAR:"DatePicker-calendar",CALENDAR_BODY:"DatePicker-calendarBody",CALENDAR_DAY:"DatePicker-calendarDay",CALENDAR_DAY_ADJACENT_MONTH:"is-adjacentMonth",CALENDAR_DAY_HEADER:"DatePicker-calendarDayHeader",CALENDAR_DAY_RANGE_END:"is-rangeEnd",CALENDAR_DAY_RANGE_START:"is-rangeStart",CALENDAR_DAY_SELECTABLE:"is-selectable",CALENDAR_DAY_WITHIN_RANGE:"is-withinRange",CALENDAR_HEADER:"DatePicker-calendarHeader",CALENDAR_WEEK:"DatePicker-calendarWeek",FIXED_HEIGHT:"DatePicker--fixedHeight",MONTH_BUTTON:"DatePicker-monthButton",MONTH_BUTTON_LEFT:"DatePicker-monthButton--left",MONTH_BUTTON_RIGHT:"DatePicker-monthButton--right",MONTH_FORM_SELECT:"DatePicker-monthFormSelect",MONTH_SELECT:"DatePicker-monthSelect",NAV:"DatePicker-nav",TIME:"DatePicker-time",TIME_ZONE:"DatePicker-timeZone",WITH_PENDING_RANGE:"DatePicker--withPendingRange",WITHOUT_ADJACENT_MONTH_DAYS:"DatePicker--withoutAdjacentMonthDays",WITHOUT_CALENDAR_HEADER:"DatePicker--withoutCalendarHeader",YEAR_FORM_SELECT:"DatePicker-yearFormSelect",YEAR_SELECT:"DatePicker-yearSelect"},t}},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(5),a=function(e){return e&&e.__esModule?e:{default:e}}(o),c=function(){function e(){n(this,e),this.state={}}return e.prototype.onChange=function(){},e.prototype.getOptions=function(){return this.constructor.defaultOptions},e.prototype.initializeState=function(e){var t=this.getOptions(),i=t.defaultDate,n=t.defaultStartDate,s=t.defaultEndDate,r=t.defaultPresetFunction,o=t.date,a=t.endDate,c=t.startDate;o=o||i,c=c||n,a=a||s,c&&a?this.setDateRange({startDate:c,endDate:a},e):r?this.setDateRange(this.getPresetDateRange(r),e):this.setDate(o||new Date,e)},e.prototype.set=function(e){this.state=s({},this.state,e);var t=this.state,i=t.displayedYear,n=t.displayedMonth,r=this.time.date.create(i,n);this.state.displayedYear=this.time.date.getFullYear(r),this.state.displayedMonth=this.time.date.getMonth(r),this.onChange()},e.prototype.getDate=function(){var e=this.state.date;return new Date(e.getTime())},e.prototype.getDateRange=function(){var e=this.state,t=e.date,i=e.rangeDate;return t=new Date(t.getTime()),i=new Date((i||t).getTime()),t.getTime()<i.getTime()?{startDate:t,endDate:i}:{startDate:i,endDate:t}},e.prototype.setDate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.resetDisplayedMonth,n=void 0===i||i,s=this.state,r=s.displayedMonth,o=s.displayedYear;e=this.clampDate(e),this.set({date:new Date(e.getTime()),rangeDate:null,displayedYear:n?this.time.date.getFullYear(e):o,displayedMonth:n?this.time.date.getMonth(e):r,pendingRangeDayData:null})},e.prototype.setDateRange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.resetDisplayedMonth,n=void 0===i||i,s=this.state,r=s.displayedMonth,o=s.displayedYear;e=this.clampDateRange(e),this.set({date:new Date(e.startDate.getTime()),rangeDate:new Date(e.endDate.getTime()),displayedYear:n?this.time.date.getFullYear(e.startDate):o,displayedMonth:n?this.time.date.getMonth(e.startDate):r,pendingRangeDayData:null})},e.prototype.clampDate=function(e){var t=this.getOptions(),i=t.minDate,n=t.maxDate;return a.default.applyMinAndMaxToDate(e,i,n)},e.prototype.clampDateRange=function(e){var t=this.getOptions(),i=t.minDate,n=t.maxDate;return a.default.clampDateRange(e,i,n)},e.prototype.updatePendingDateRange=function(e){var t={},i=this.state.pendingRangeDayData;i||(t.pendingRangeDayData=i=e,t.previousDateRange=this.getDateRange());var n=this.getPendingDateRange(i,e);t.date=n.startDate,t.rangeDate=n.endDate,this.set(t)},e.prototype.getPendingDateRange=function(e,t){var i=this.getOptions(),n=i.minDate,s=i.maxDate,r=i.rangeEndDaySelectMethod,o=Date.UTC(t.year,t.month,t.day)>Date.UTC(e.year,e.month,e.day),c=o?e:t,l=o?t:e,u=this.createDateFromDayData(c,"floor"),d=this.createDateFromDayData(l,r);return u=a.default.applyMinAndMaxToDate(u,n,s),d=a.default.applyMinAndMaxToDate(d,n,s),{startDate:u,endDate:d}},e.prototype.getValidDateRange=function(){var e=this.getOptions(),t=e.minDate,i=e.maxDate,n=this.getPendingRangeDateLimits(),s=n.minDate,r=n.maxDate;return s&&(!t||t<s)&&(t=s),r&&(!i||i>r)&&(i=r),{minDate:t,maxDate:i}},e.prototype.getPendingRangeDateLimits=function(){var e=this.getOptions(),t=e.maxDays,i=e.rangeEndDaySelectMethod,n=this.state.pendingRangeDayData,s=null,r=null;if(t&&n){var o=this.createDateFromDayData(n,"floor"),a=this.createDateFromDayData(n,i),c=t;"floor"===i&&c--,s=this.time.day.offset(a,-c),r=this.time.day.offset(o,c)}return{minDate:s,maxDate:r}},e.prototype.getMonthTimes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getValidDateRange(),t=this.state,i=t.displayedMonth,n=t.displayedYear,s=t.maxDisplayedMonthData,r=t.minDisplayedMonthData,o=e.minDate,a=e.maxDate,c=this.getMonthDataFromDateRange({startDate:o,endDate:a}),l=c.startYear,u=c.startMonth,d=c.endYear,h=c.endMonth;return r&&(l=r.year,u=r.month),s&&(d=s.year,h=s.month),{displayed:Date.UTC(n,i),min:null===l?-1/0:Date.UTC(l,u),max:null===d?1/0:Date.UTC(d,h)}},e.prototype.getMonthDataFromDateRange=function(e){var t=this.getOptions(),i=t.rangeEndDaySelectMethod,n=e.startDate,s=e.endDate,r=null,o=null,a=null,c=null;if(n&&(r=this.time.date.getFullYear(n),o=this.time.date.getMonth(n)),s){a=this.time.date.getFullYear(s),c=this.time.date.getMonth(s);var l=this.time.month.ceil(s).getTime()===s.getTime(),u=n&&n.getTime()===s.getTime();l&&!u&&"ceil"===i&&c--}return{startYear:r,startMonth:o,endYear:a,endMonth:c}},e.prototype.createDateFromDayData=function(e,t){var i,n=this.state.date,s=[e.year,e.month,e.day,this.time.date.getHours(n),this.time.date.getMinutes(n),this.time.date.getSeconds(n)],r=(i=this.time.date).create.apply(i,s);return"floor"===t?r=this.time.day.floor(r):"ceil"===t&&(r=this.time.day.offset(this.time.day.floor(r),1)),r},e.prototype.getPresetDateRange=function(e){var t=this.getOptions();return e({momentZone:t.momentZone,rangeEndDaySelectMethod:t.rangeEndDaySelectMethod,useUtc:t.useUtc})},e.prototype.getClampedPresetDateRange=function(e){var t=this.getPresetDateRange(e);return this.clampDateRange(t)},e.prototype.isPresetWithinValidRange=function(e){var t=this.getOptions(),i=t.maxDays,n=this.getPresetDateRange(e);if(i){if(this.time.day.offset(n.startDate,i)<n.endDate)return!1}var s=this.clampDateRange(n);return s.endDate>=n.startDate&&s.startDate<=n.endDate},r(e,[{key:"time",get:function(){var e=this.getOptions(),t=e.momentZone,i=e.useUtc;return t?a.default.zone(t):i?a.default.utc:a.default}}]),e}();c.defaultOptions={date:null,startDate:null,endDate:null,defaultPresetFunction:null,defaultDate:null,defaultStartDate:null,defaultEndDate:null,momentZone:null,useUtc:!1,minDate:null,maxDate:null,maxDays:null,rangeEndDaySelectMethod:"ceil"},t.default=c},function(e,i){e.exports=t},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=i(7),r=i(8),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){function e(){n(this,e)}return e.prototype.on=function(e){return c(e,"on"),(0,s.checkDeprecatedEventName)(e,"on"),this.$el?this.$el.on.apply(this.$el,arguments):this.el.addEventListener.apply(this.el,arguments),this},e.prototype.off=function(e){return c(e,"off"),(0,s.checkDeprecatedEventName)(e,"off"),this.$el?this.$el.off.apply(this.$el,arguments):this.el.removeEventListener.apply(this.el,arguments),this},e.prototype.trigger=function(e,t){if(c(e,"trigger"),this.$el)this.$el.trigger.apply(this.$el,arguments);else{var i=new o.default(e,t);this.el.dispatchEvent(i)}return this},e}(),c=function(e,t){if(!e)throw new Error("Called `"+t+"()` with an undefined or empty event name. Perhaps you are using an event name that has been removed? See the list of deprecated events on http://go/feather/docs/history")};t.default=a},function(e,t,i){"use strict";function n(e,t){return Object.keys(t).reduce(function(i,n){var s=t[n].newName||"";return i[n]=e+":"+n+":"+s+":"+a,i},{})}function s(e){if("string"==typeof e&&e.endsWith(a)){var t=e.split(":"),i=t[0],n=t[1],s=t[2],r=i+": Event `"+n+"` is deprecated.";s&&(r+=" Use `"+s+"` instead."),(0,o.default)(r)}}t.__esModule=!0,t.deprecatedEventNames=n,t.checkDeprecatedEventName=s;var r=i(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a="deprecated"},function(e,t,i){"use strict";t.__esModule=!0;var n=void 0;try{n=new CustomEvent("test").constructor}catch(e){var s={bubbles:!1,cancelable:!1,detail:void 0};n=function(e,t){t=Object.assign({},s,t);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i},n.prototype=window.Event.prototype}t.default=n},function(e,t){e.exports=i},function(e,t){e.exports=n}])})},function(e,t,i){!function(t,n){e.exports=n(i(211),i(725))}(0,function(e,t){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(t,i){t.exports=e},function(e,t,i){"use strict";function n(e,t){var i=r.rgb(e);return"rgba("+i.r+", "+i.g+", "+i.b+", "+t+")"}t.__esModule=!0,t.paletteAccessors=void 0,t.fade=n;var s=i(0),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(s),o=i(4),a=function(e){return e&&e.__esModule?e:{default:e}}(o),c={FADED:[a.default.colors.BLUE_FADED,a.default.colors.GREEN_FADED,a.default.colors.YELLOW_FADED,a.default.colors.RED_FADED,a.default.colors.PURPLE_FADED,a.default.colors.GRAY_FADED],LIGHT:[a.default.colors.BLUE_LIGHT,a.default.colors.GREEN_LIGHT,a.default.colors.YELLOW_LIGHT,a.default.colors.RED_LIGHT,a.default.colors.PURPLE_LIGHT,a.default.colors.GRAY_LIGHT],MEDIUM:[a.default.colors.BLUE_MEDIUM,a.default.colors.GREEN_MEDIUM,a.default.colors.YELLOW_MEDIUM,a.default.colors.RED_MEDIUM,a.default.colors.PURPLE_MEDIUM,a.default.colors.GRAY_MEDIUM],DEEP:[a.default.colors.BLUE_DEEP,a.default.colors.GREEN_DEEP,a.default.colors.YELLOW_DEEP,a.default.colors.RED_DEEP,a.default.colors.PURPLE_DEEP,a.default.colors.GRAY_DEEP]};c.FAINT=c.FADED;t.paletteAccessors=Object.keys(c).reduce(function(e,t){var i=c[t];return e[t]=function(e,t){return i[t%i.length]},e},{})},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(1),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(o),c=i(9),l=function(e){return e&&e.__esModule?e:{default:e}}(c),u=window.d3||i(0),d={OFF:0,DATUM:1,INPUT:2,SERIES:3},h={OFF:0,SINGLE:1,RANGE:2,RANGE_END:3},p={AUTO:0,CENTER:1,RIGHT:2},f=(s={},s[h.SINGLE]="pointer",s[h.RANGE]="crosshair",s[h.RANGE_END]="crosshair",s),m={FOCUSED:"focusedData",SELECTED:"selectedData"},g={shouldTransition:!0,d3Parent:null,queuedRenderOptions:null,shouldUpdateDomains:!0,shouldUpdateShapes:!0,transitionDurationMs:null},v=function(){function e(t){n(this,e),this.options=Object.assign.apply(Object,[{}].concat(this.constructor.layerOrder.map(function(e){return e.defaultOptions}),[this.constructor.defaultOptions,t])),this._datumInputAccessor=this._makeAccessor(this.options.datumInput),this._datumOutputAccessor=this._makeAccessor(this.options.datumOutput),this._datumColorAccessor=this._makeAccessor(this.options.datumColor),this._seriesColorAccessor=this._makeAccessor(this.options.seriesColor),this._seriesDataAccessor=this._makeAccessor(this.options.seriesData),this._seriesIdAccessor=this._makeAccessor(this.options.seriesId),this._seriesLabelAccessor=this._makeAccessor(this.options.seriesLabel),this._seriesShapeAccessor=this._makeAccessor(this.options.seriesShape),this.el=this.options.el||document.createElement("div"),this.d3El=u.select(this.el).classed(this.constructor.classNames.BASE,!0),this._d3Canvas=this.d3El.append("canvas").on("mousemove",this._handleMousemove.bind(this)).on("mouseleave",this._handleMouseleave.bind(this)).on("mousedown",this._handleMousedown.bind(this)),this._ctx=this._d3Canvas.node().getContext("2d");var i=document.createElement("div");this.options.d3Parent?this._d3Context=this.options.d3Parent.append(function(){return i}):this._d3Context=u.select(i),this._initializeLayers(),this.inputDomain=this.options.inputDomain,this._inputScale=this.options.inputScaleConstructor(),this.outputDomain=this.options.outputDomain,this._outputScale=this.options.outputScaleConstructor(),this._focus=this.options.focus,this._selection=this.options.selection,this.data=this.options.data,this._inputScale.domain(this.inputDomain),this._outputScale.domain(this.outputDomain),this._updateTargetScales()}return r(e,null,[{key:"layers",get:function(){return this.layerOrder.reduce(function(e,t){return t.layerName&&(e[t.layerName]=t),e},{})}},{key:"seriesShapes",get:function(){return this.layerOrder.reduce(function(e,t){return t.seriesShape&&(e[t.seriesShape]=t.seriesShape),e},{})}}]),e.prototype._initializeLayers=function(){var e=this;this._layers=[],this.layers={},this.constructor.layerOrder.forEach(function(t){var i=new t(e);e._layers.push(i),t.layerName&&(e.layers[t.layerName]=i)})},e.prototype.trigger=function(e,t){var i=new l.default(e,t);this.el.dispatchEvent(i)},e.prototype._handleMousemove=function(){var e=this._getMouseEventPoint();if(this._selectionDragStart){var t=this._updateSelectionDragEndPoint(e);this._triggerSelectProgress(t)}else{var i=this._focusDataAtPoint(e);this._triggerFocus(i)}this._setCursor()},e.prototype._setCursor=function(){var e=!!this._focus||!!this._selectionDragStart,t=this.options.focusMode,i=this.options.selectMode,n=f[i];i!==h.OFF&&t===d.SERIES&&(n=f[h.SINGLE]),this._d3Canvas.style("cursor",e?n:"")},e.prototype._handleMouseleave=function(){this.focus=null,this._triggerFocus(null)},e.prototype._handleMousedown=function(){var e=this.options.selectMode;if(e!==h.OFF&&this._focus){var t=this._selectFocusedData();this._triggerFocus(null);var i=void 0!==t.inputStart||void 0!==t.inputEnd;e!==h.SINGLE&&i?(this._selectionDragStart=t,this._triggerSelectProgress(t),this._d3Canvas.on("mousemove",null),u.select(window).on("mousemove.FeatherGridChart",this._handleMousemove.bind(this)).on("mouseup.FeatherGridChart",this._handleMouseup.bind(this))):this._triggerSelect(t)}},e.prototype._handleMouseup=function(){this._d3Canvas.on("mousemove",this._handleMousemove.bind(this)),u.select(window).on("mousemove.FeatherGridChart",null).on("mouseup.FeatherGridChart",null),delete this._selectionDragStart,this._triggerSelect(this._selection)},e.prototype._triggerFocus=function(e){var t=this._getHighlightEventData(m.FOCUSED),i=e?Object.assign({data:t},e):null;this.trigger(this.constructor.events.FOCUS,{detail:i})},e.prototype._triggerSelect=function(e){var t=this._getHighlightEventData(m.SELECTED),i=Object.assign({data:t},e);this.trigger(this.constructor.events.SELECT,{detail:i})},e.prototype._triggerSelectProgress=function(e){var t=this._getHighlightEventData(m.SELECTED),i=Object.assign({data:t},e);this.trigger(this.constructor.events.SELECT_PROGRESS,{detail:i})},e.prototype._getHighlightEventData=function(e){var t=this;return this._data.reduce(function(i,n,s){var r=n[e];if(r.length){var o=t._normalizeSeries(n.originalSeries,s),a=r[0].index,c=r[r.length-1].index;o.data=o.data.slice(a,c+1),i.push(o)}return i},[])},e.prototype._getMouseEventPoint=function(){var e=u.mouse(this.el),t=e[0],i=e[1],n=this._devicePixelRatio,s={x:t,y:i,deviceX:t*n,deviceY:i*n,xRangeValue:t-this.options.marginLeft,yRangeValue:i-this.options.marginTop};return s.inputRangeValue=this.options.invertScales?s.yRangeValue:s.xRangeValue,s.outputRangeValue=this.options.invertScales?s.xRangeValue:s.yRangeValue,s},e.prototype._focusDataAtPoint=function(e){var t=this._getFocusAtPoint(e,this.options.focusMode);return this.focus=t,t},e.prototype._selectFocusedData=function(){var e=this._focus;return this.options.selectMode===h.RANGE_END&&delete e.inputStart,this.focus=null,this.selection=e,e},e.prototype._updateSelectionDragEndPoint=function(e){var t=this._getFocusAtPoint(e,d.INPUT),i={};if(this._selectionDragStart.seriesIds&&(i.seriesIds=this._selectionDragStart.seriesIds),this.options.selectMode===h.RANGE_END)i.inputEnd=t.inputEnd;else{var n=[this._selectionDragStart.inputStart,t.inputStart],s=n.map(this._inputScale);i.inputStart=s[0]<s[1]?n[0]:n[1],i.inputEnd=s[0]>s[1]?n[0]:n[1]}return this.selection=i,i},e.prototype._getFocusAtPoint=function(e,t){switch(t){case d.DATUM:return this._getClosestDatumHighlight(e);case d.INPUT:return this._getClosestInputHighlight(e);case d.SERIES:return this._getClosestSeriesHighlight(e);default:return null}},e.prototype._getClosestDatumHighlight=function(e){for(var t=void 0,i=void 0,n=0;n<this._layers.length;n++)for(var s=this._layers[n],r=s._queryPoint(e),o=0;o<r.length;o++){var a=r[o],c=Math.sqrt(Math.pow(e.xRangeValue-a.centroid.x,2)+Math.pow(e.yRangeValue-a.centroid.y,2));(!t||c<i)&&(t=a,i=c)}return t?{seriesIds:[t.datum.series.id],inputStart:t.datum.input,inputEnd:t.datum.input}:null},e.prototype._getClosestInputHighlight=function(e){for(var t=this._getInputFocusTarget(),i=this._data.length?this._data[0].data:[],n=0;n<i.length;n++){var s=i[n];if(this._isDatumInputFocused(s,t,e.inputRangeValue))return{inputStart:s.input,inputEnd:s.input}}return null},e.prototype._getInputFocusTarget=function(){var e=this,t=this.options.inputFocusTarget;if(t===p.AUTO){t=this._layers.some(function(t){return!!e._dataBySeriesShape[t.constructor.seriesShape]&&t.constructor.inputFocusTarget===p.RIGHT})?p.RIGHT:p.CENTER}return t},e.prototype._isDatumInputFocused=function(e,t,i){var n=this._getDatumInputFocusTargetBounds(e,t);return i>=n.left&&i<n.right},e.prototype._getDatumInputFocusTargetBounds=function(e,t){var i=this._inputScale(e.input),n=e.prev?this._inputScale(e.prev.input):-1/0,s=e.next?this._inputScale(e.next.input):1/0;switch(t){case p.CENTER:return{left:(i+n)/2,right:(i+s)/2};case p.RIGHT:return{left:e.prev?i:-1/0,right:s}}},e.prototype._getClosestSeriesHighlight=function(e){var t=this._getClosestDatumHighlight(e);return t&&(delete t.inputStart,delete t.inputEnd),t},e.prototype._updateFocusedData=function(){this._updateHighlightedData(this._focus,m.FOCUSED,"isFocused")},e.prototype._updateSelectedData=function(){this._updateHighlightedData(this._selection,m.SELECTED,"isSelected")},e.prototype._updateHighlightedData=function(e,t,i){for(var n=e&&void 0!==e.inputStart?this._inputScale(e.inputStart):-1/0,s=e&&void 0!==e.inputEnd?this._inputScale(e.inputEnd):1/0,r=e?e.seriesIds||this._data.map(function(e){return e.id}):[],o=u.set(r),a=0;a<this._data.length;a++){var c=this._data[a];c[t]=[];for(var l=0;l<c.data.length;l++){var d=c.data[l],h=this._inputScale(d.input);(d[i]=o.has(c.id)&&h>=n&&h<=s)&&c[t].push(d)}}},e.prototype._normalizeSeries=function(e,t){for(var i={color:this._seriesColorAccessor(e,t),data:[],id:String(this._seriesIdAccessor(e,t)),index:t,label:this._seriesLabelAccessor(e,t),originalSeries:e,shape:this._seriesShapeAccessor(e,t)||this.options.defaultSeriesShape},n=this._seriesDataAccessor(e,t)||[],s=0;s<n.length;s++){var r=n[s],o=this._normalizeDatum(r,s,i.color);o.series=i,s>0&&(o.prev=i.data[s-1],i.data[s-1].next=o),i.data.push(o)}return i},e.prototype._normalizeDatum=function(e,t,i){var n=this._datumInputAccessor(e,t),s=this._datumOutputAccessor(e,t);return{color:this._datumColorAccessor(e,t)||i,index:t,input:n,inputExtremity:n,next:null,originalDatum:e,output:s,outputExtremity:s,prev:null}},e.prototype._computeInputDomain=function(){var e=this._pickSeriesDataValues("input").concat(this._pickSeriesDataValues("inputExtremity"));return this._getValuesDomain(e,this.options.inputScaleConstructor)||this.options.inputDomainDefault},e.prototype._computeOutputDomain=function(){var e=this._inputDomain,t=this._pickSeriesDataValues("outputExtremity",e,"input"),i=this._getValuesDomain(t,this.options.outputScaleConstructor)||this.options.outputDomainDefault;return this.options.outputAbsolute&&"number"==typeof i[0]&&(i[0]<0&&i[1]<0?i[1]=0:i[0]>0&&i[1]>0&&(i[0]=0)),i},e.prototype._pickSeriesDataValues=function(e,t,i){for(var n=[],s=0;s<this._data.length;s++)for(var r=this._data[s],o=0;o<r.data.length;o++){var a=r.data[o],c=a[i];(!t||c>=t[0]&&c<=t[1])&&n.push(a[e])}return n},e.prototype._getValuesDomain=function(e,t){if(t===u.scaleBand)return e;if(e.length){var i=u.extent(e);return"number"==typeof i[0]&&i[0]===i[1]?[i[0]-this.options.numericDomainPadding,i[0]+this.options.numericDomainPadding]:i}},e.prototype.resize=function(){this._offsetWidth=this.el.offsetWidth,this._offsetHeight=this.el.offsetHeight,this._width=this._offsetWidth-this.options.marginLeft-this.options.marginRight,this._height=this._offsetHeight-this.options.marginTop-this.options.marginBottom,this._outerWidthLeft=this._computeOuterWidthLeft(),this._outerWidthRight=this._computeOuterWidthRight(),this._outerHeightBottom=this._computeOuterHeightBottom(),this._innerWidth=this._width-this._outerWidthLeft-this._outerWidthRight,this._innerHeight=this._height-this._outerHeightBottom,this._d3Canvas.attr("width",this._offsetWidth*this._devicePixelRatio).attr("height",this._offsetHeight*this._devicePixelRatio).style("width",this._offsetWidth+"px").style("height",this._offsetHeight+"px"),this._ctx.scale(this._devicePixelRatio,this._devicePixelRatio),this._ctx.translate(this.options.marginLeft,this.options.marginTop),this._setScaleRange(this._xScale,[this._outerWidthLeft,this._outerWidthLeft+this._innerWidth-1]);var e=this.options.invertScales?[0,this._innerHeight-1]:[this._innerHeight-1,0];return this._setScaleRange(this._yScale,e),this},e.prototype._computeOuterWidthLeft=function(){return this._layers.reduce(function(e,t){return e+t._outerWidthLeft},0)},e.prototype._computeOuterWidthRight=function(){return this._layers.reduce(function(e,t){return e+t._outerWidthRight},0)},e.prototype._computeOuterHeightBottom=function(){return this._layers.reduce(function(e,t){return e+t._outerHeightBottom},0)},e.prototype._setScaleRange=function(e,t){var i=this.options,n=i.rangeBandPadding,s=i.rangeBandPaddingOuter;e.range(t),e.paddingInner&&e.paddingInner(n),e.paddingOuter&&e.paddingOuter(s||0)},e.prototype.render=function(e){e=Object.assign({},g,e),e.transitionDurationMs=null===e.transitionDurationMs?this.options.transitionDurationMs:e.transitionDurationMs,void 0===this._offsetWidth&&(e.shouldTransition=!1,this.resize());var t=this._updateState(e);return this._updateLayers(e,t),t.duration?this._startPaintingCanvas():(this._paintCanvas(),this._handleRenderDone(e)),this},e.prototype._updateState=function(e){e.shouldUpdateDomains&&this._updateTargetScales();var t=!!e.d3Parent&&!!e.d3Parent.duration,i=t||!e.d3Parent&&e.shouldTransition;return this._d3Context.interrupt(),i?this._transitionEl(e):(this._inputScale.domain(this._targetInputScale.domain()),this._outputScale.domain(this._targetOutputScale.domain()),this._isTransitioning=!1,this._d3Context)},e.prototype._updateTargetScales=function(){var e=this.options,t=e.inputNice,i=e.inputScaleConstructor,n=e.inputTickSpacing,s=e.outputNice,r=e.outputScaleConstructor,o=e.outputTickSpacing;this._targetInputScale=this._inputScale.copy().domain(this.inputDomain),this._targetOutputScale=this._outputScale.copy().domain(this.outputDomain),t&&this._niceScale(this._targetInputScale,i,n),s&&this._niceScale(this._targetOutputScale,r,o)},e.prototype._niceScale=function(e,t,i){if(e.nice)if("number"==typeof i){var n=this._getTickCountForScale(e,i);e.nice(n)}else this._isTimeScaleConstructor(t)&&"function"==typeof i&&e.nice(i)},e.prototype._getTickCountForScale=function(e,t){var i=this._getScaleRangeExtent(e),n=Math.ceil((i[1]-i[0])/t);return n<2?2:n},e.prototype._transitionEl=function(e){var t=this,i=e.d3Parent,n=e.transitionDurationMs,s=this._d3Context;return s=i&&i.duration?s.transition(i):s.transition().duration(n),s.tween("domain",this._domainTweenFactory.bind(this)).on("end",function(){t._isTransitioning=!1,t._handleRenderDone(e)})},e.prototype._domainTweenFactory=function(){var e=this,t=u.interpolateArray(this._inputScale.domain(),this._targetInputScale.domain()),i=u.interpolateArray(this._outputScale.domain(),this._targetOutputScale.domain());return function(n){e._inputScale.domain(t(n)),e._outputScale.domain(i(n))}},e.prototype._updateLayers=function(e,t){var i={left:0,right:0,bottom:0};this._layers.forEach(function(n){!e.shouldUpdateShapes&&n.constructor.seriesShape||n._updateState(t,Object.assign({},i)),i.left+=n._outerWidthLeft,i.right+=n._outerWidthRight,i.bottom+=n._outerHeightBottom})},e.prototype._startPaintingCanvas=function(){var e=this;if(!this._isTransitioning){this._isTransitioning=!0;var t=u.timer(function(){e._paintCanvas(),e._isTransitioning||t.stop()})}},e.prototype._paintCanvas=function(){this._clearCanvas();for(var e=0;e<this._layers.length;e++){this._layers[e]._paintCanvas()}},e.prototype._clearCanvas=function(){var e=this.options,t=e.backgroundColor,i=e.marginLeft,n=e.marginTop;this._ctx.save(),this._ctx.fillStyle=t,this._ctx.fillRect(-i,-n,this._offsetWidth,this._offsetHeight),this._ctx.restore()},e.prototype._handleRenderDone=function(e){var t=e.queuedRenderOptions;if(t)return void this.render(t);!e.d3Parent&&(this._outerWidthLeft!==this._computeOuterWidthLeft()||this._outerWidthRight!==this._computeOuterWidthRight()||this._outerHeightBottom!==this._computeOuterHeightBottom())&&this.resize().render(Object.assign({},e,{shouldTransition:!1}))},e.prototype._makeAccessor=function(e){return"string"==typeof e?function(t){return t[e]}:e},e.prototype._isTimeScaleConstructor=function(e){return e===u.scaleTime||e===u.scaleUtc},e.prototype._getScaleRangeExtent=function(e){return u.extent(e.range())},e.prototype.remove=function(){return this.d3El.remove(),this},r(e,[{key:"_xScale",get:function(){return this.options.invertScales?this._outputScale:this._inputScale}},{key:"_yScale",get:function(){return this.options.invertScales?this._inputScale:this._outputScale}},{key:"focus",set:function(e){this._focus=e,this._updateFocusedData(),this._isTransitioning||this._paintCanvas()}},{key:"selection",set:function(e){delete this._isSelectionVisibleComputed,this._selection=e,this._updateSelectedData(),this._isTransitioning||this._paintCanvas()}},{key:"_isSelectionVisible",get:function(){if(void 0!==this._isSelectionVisibleComputed)return this._isSelectionVisibleComputed;if(this._selection){var e=void 0!==this._selection.inputStart?this._targetInputScale(this._selection.inputStart):-1/0,t=void 0!==this._selection.inputEnd?this._targetInputScale(this._selection.inputEnd):1/0,i=this._getScaleRangeExtent(this._targetInputScale);this._isSelectionVisibleComputed=e<=i[1]&&t>=i[0]}else this._isSelectionVisibleComputed=!1;return this._isSelectionVisibleComputed}},{key:"data",set:function(e){e=Array.isArray(e)?e:[],delete this._inputDomainComputed,delete this._outputDomainComputed,delete this._isSelectionVisibleComputed,this._data=[],this._dataBySeriesShape={},this._originalData=e;for(var t=0;t<e.length;t++){var i=e[t],n=this._normalizeSeries(i,t),s=n.shape;this._data.push(n),this._dataBySeriesShape[s]=this._dataBySeriesShape[s]||[],this._dataBySeriesShape[s].push(n),n.shapeDataIndex=this._dataBySeriesShape[s].length-1}this._layers.forEach(function(e){return e._handleDataChange()}),this._updateFocusedData(),this._updateSelectedData()},get:function(){return this._originalData}},{key:"inputDomain",set:function(e){delete this._outputDomainComputed,delete this._isSelectionVisibleComputed,this._inputDomain=Array.isArray(e)?e:null},get:function(){return this._inputDomain||this._inputDomainComputed||(this._inputDomainComputed=this._computeInputDomain())}},{key:"outputDomain",set:function(e){this._outputDomain=Array.isArray(e)?e:null},get:function(){return this._outputDomain||this._outputDomainComputed||(this._outputDomainComputed=this._computeOutputDomain())}},{key:"_devicePixelRatio",get:function(){return window.devicePixelRatio||1}}]),e}();v.defaultOptions={d3Parent:null,data:[],datumInput:"input",datumOutput:"output",datumColor:"color",defaultSeriesShape:null,seriesColor:a.paletteAccessors.MEDIUM,seriesData:"data",seriesId:function(e,t){return t},seriesLabel:"label",seriesShape:"shape",backgroundColor:"white",marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,inputTickSpacing:50,outputTickSpacing:50,transitionDurationMs:1e3,invertScales:!1,focus:void 0,focusMode:d.OFF,inputFocusTarget:p.AUTO,selection:void 0,selectMode:h.OFF,inputDomainDefault:[0,1],inputDomain:null,inputNice:!0,inputScaleConstructor:u.scaleLinear,outputAbsolute:!0,outputDomainDefault:[0,1],outputDomain:null,outputNice:!0,outputScaleConstructor:u.scaleLinear,rangeBandPadding:.1,rangeBandPaddingOuter:null,numericDomainPadding:1},v.classNames={BASE:"GridChart"},v.events={FOCUS:"gridChartFocus",SELECT:"gridChartSelect",SELECT_PROGRESS:"gridChartSelectProgress"},v.focusModes=d,v.selectModes=h,v.inputFocusTargets=p,v.layerOrder=[],t.default=v},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t){var i=this;n(this,e),this._chart=t,this._options=t.options,this._ctx=t._ctx,this._el=document.createElement("div"),this._d3El=t._d3Context.append(function(){return i._el})}return e.prototype._getShapeData=function(){return this._chart._dataBySeriesShape[this.constructor.seriesShape]||[]},e.prototype._handleDataChange=function(){},e.prototype._updateState=function(){},e.prototype._paintCanvas=function(){},e.prototype._clipCanvasToInnerChartArea=function(){this._ctx.beginPath(),this._ctx.rect(this._chart._outerWidthLeft,0,this._chart._innerWidth,this._chart._innerHeight),this._ctx.clip()},e.prototype._queryPoint=function(){return[]},s(e,[{key:"_outerWidthLeft",get:function(){return 0}},{key:"_outerWidthRight",get:function(){return 0}},{key:"_outerHeightBottom",get:function(){return 0}}]),e}();r.defaultOptions={},t.default=r},function(e,i){e.exports=t},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}t.__esModule=!0;var l=i(1),u=s(l),d=i(0),h=s(d),p=i(2),f=n(p),m=i(3),g=n(m),v={STACK:0,GROUP:1},T=function(e){function t(){o(this,t);var i=a(this,e.apply(this,arguments));return i._seriesBarHighlightColorAccessor=i._chart._makeAccessor(i._options.seriesBarHighlightColor),i}return c(t,e),t.prototype._handleDataChange=function(){for(var e,t=this._getShapeData(),i=0;i<t.length;i++){var n=t[i];n.barHighlightColor=this._seriesBarHighlightColorAccessor(n.originalSeries,n.index);for(var s=0;s<n.data.length;s++){var r=n.data[s];r.inputExtremity=this._getDatumInputExtremity(r)}}this._dataByInput=this._groupDataByInput(t),this._computeFinalStackLayout(),this._barData=(e=[]).concat.apply(e,t.map(function(e){return e.data}))},t.prototype._getDatumInputExtremity=function(e){var t=this._options.barTimeOffset;return e.next?e.next.input:t?t.interval.offset(e.input,t.step):e.prev&&e.input instanceof Date?new Date(e.input.getTime()+(e.input-e.prev.input)):e.prev&&"number"==typeof e.input?e.input+(e.input-e.prev.input):e.input},t.prototype._getDatumId=function(e){return e.series.id+"/"+e.input},t.prototype._computeFinalStackLayout=function(){var e=function(e){return e.output},t=function(e,t,i){e.outputBaseline=t,e.outputExtremity=t+i};this._computeStackLayout(this._dataByInput,e,t)},t.prototype._computeCurrentStackLayout=function(){var e=function(e){return parseFloat(h.select(e.barEl).attr("output"))},t=function(e,t){h.select(e.barEl).attr("output-baseline",t)};this._computeStackLayout(this._domDataByInput,e,t)},t.prototype._computeStackLayout=function(e,t,i){var n=this;e.forEach(function(e){for(var s=0,r=0,o=0;o<e.length;o++){var a=e[o],c=t(a,o),l=0;n._options.barLayout===v.STACK&&(c>=0?(l=r,r+=c):(l=s,s+=c)),i(a,l,c)}})},t.prototype._groupDataByInput=function(e){for(var t=new Map,i=0;i<e.length;i++)for(var n=e[i],s=0;s<n.data.length;s++){var r=n.data[s],o=String(r.input);t.has(o)||t.set(o,[]),t.get(o).push(r)}return t},t.prototype._updateState=function(e){var t=this._d3El.selectAll("div").data(this._barData,this._getDatumId),i=t.exit(),n=t.enter().append("div").attr("output",0);t=t.merge(n),e.duration?(t=t.transition(e),this._options.barLayout!==v.GROUP&&(i=i.transition(e))):(t.interrupt(),i.interrupt()),t.each(this._attachElToDatum).attr("output",function(e){return e.output}),i.each(this._attachElToDatum).attr("output",0).remove();var s=this._getDataFromDom();this._domDataByInput=this._groupDataByInput(s)},t.prototype._attachElToDatum=function(e){e.barEl=this},t.prototype._getDataFromDom=function(){for(var e={},t=this._el.firstElementChild;t;t=t.nextElementSibling){var i=h.select(t).datum();e[i.series.id]=e[i.series.id]||{data:[]},e[i.series.id].data.push(i)}return Object.keys(e).map(function(t){return e[t]})},t.prototype._paintCanvas=function(){this._computeCurrentStackLayout();for(var e=this._el.firstElementChild;e;e=e.nextElementSibling)this._paintRect(e)},t.prototype._paintRect=function(e){var t=h.select(e),i=t.datum(),n=i.isFocused||i.isSelected,s=n?i.series.barHighlightColor:i.color,r=this._getRectArguments(e),o=r.x,a=r.y,c=r.width,l=r.height;this._ctx.save(),this._clipCanvasToInnerChartArea(),this._ctx.fillStyle=s,this._ctx.fillRect(o,a,c,l),this._ctx.restore()},t.prototype._getRectArguments=function(e){var t=this._getRectInputArguments(e),i=this._getRectOutputArguments(e),n=this._options.invertScales?i:t,s=this._options.invertScales?t:i;return{x:n.rangeValue,y:s.rangeValue,width:n.thickness,height:s.thickness}},t.prototype._getRectInputArguments=function(e){var t=this._options,i=t.barLayout,n=t.inputTickLines,s=t.rangeBandPadding,r=h.select(e).datum(),o=Math.round(this._chart._inputScale(r.input)),a=void 0;if(n&&(o+=1),this._chart._inputScale.bandwidth)a=this._chart._inputScale.bandwidth();else{a=Math.round(this._chart._inputScale(r.inputExtremity))-o;var c=Math.round(a*s/2);a-=2*c,o+=c}return i===v.GROUP&&(a/=this._getShapeData().length,o+=a*r.series.shapeDataIndex),{rangeValue:o,thickness:a}},t.prototype._getRectOutputArguments=function(e){var t=h.select(e),i=parseFloat(t.attr("output-baseline"))||0,n=parseFloat(t.attr("output")),s=this._chart._outputScale(i),r=this._chart._outputScale(i+n)-s;return r<0&&(s+=r,r*=-1),{rangeValue:s,thickness:r}},t.prototype._queryPoint=function(e){for(var t=[],i=this._el.firstElementChild;i;i=i.nextElementSibling){var n=this._getRectArguments(i);this._drawRectHitPath(n),this._ctx.isPointInPath(e.deviceX,e.deviceY)&&t.push({datum:h.select(i).datum(),centroid:this._getRectCentroid(n)})}return t},t.prototype._drawRectHitPath=function(e){var t=this._options.barHitPathPadding,i=this._options.invertScales?t:0,n=this._options.invertScales?0:t,s=e.x,r=e.y,o=e.width,a=e.height;this._ctx.beginPath(),this._ctx.rect(s-i,r-n,o+2*i,a+2*n)},t.prototype._getRectCentroid=function(e){var t=e.x,i=e.y;return{x:(t+t+e.width)/2,y:(i+i+e.height)/2}},t}(g.default);T.defaultOptions={barHitPathPadding:15,barLayout:v.STACK,barTimeOffset:null,seriesBarHighlightColor:u.paletteAccessors.DEEP},T.layerName="bar",T.seriesShape="BAR",T.inputFocusTarget=f.default.inputFocusTargets.RIGHT,T.layouts=v,t.default=T},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}function l(e){return parseInt(g.default.grid.COLUMN_WIDTH,10)*e+parseInt(g.default.grid.COLUMN_GAP,10)*(e-1)}t.__esModule=!0;var u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=i(1),h=s(d),p=i(0),f=s(p),m=i(4),g=n(m),v=i(3),T=n(v),_=function(e){function t(){o(this,t);var i=a(this,e.apply(this,arguments));return i._seriesLineAreaColorAccessor=i._chart._makeAccessor(i._options.seriesLineAreaColor),i._seriesLineAreaHighlightColorAccessor=i._chart._makeAccessor(i._options.seriesLineAreaHighlightColor),i._seriesLineUnselectedColorAccessor=i._chart._makeAccessor(i._options.seriesLineUnselectedColor),i._lineData={},i._xAccessor=i._options.invertScales?i._outputRangeValueAccessor:i._inputRangeValueAccessor,i._yAccessor=i._options.invertScales?i._inputRangeValueAccessor:i._outputRangeValueAccessor,i._line=f.line().context(i._ctx).x(i._xAccessor.bind(i)).y(i._yAccessor.bind(i)),i._area=f.area().context(i._ctx),i._options.invertScales?i._area.y(i._yAccessor.bind(i)).x0(i._outputBaselineRangeValueAccessor.bind(i)).x1(i._outputExtremityRangeValueAccessor.bind(i)):i._area.x(i._xAccessor.bind(i)).y0(i._outputBaselineRangeValueAccessor.bind(i)).y1(i._outputExtremityRangeValueAccessor.bind(i)),i}return c(t,e),t.prototype._inputRangeValueAccessor=function(e){var t=this._chart._inputScale(e.input);return this._chart._inputScale.bandwidth&&(t+=this._chart._inputScale.bandwidth()/2),t},t.prototype._outputRangeValueAccessor=function(e){var t=this._lineData[e.series.id][e.index];return this._chart._outputScale(t)},t.prototype._outputBaselineRangeValueAccessor=function(){return this._chart._outputScale(0)},t.prototype._outputExtremityRangeValueAccessor=function(e){return this._outputRangeValueAccessor(e)},t.prototype._handleDataChange=function(){for(var e=this._getShapeData(),t=0;t<e.length;t++){var i=e[t];this._updateSeriesLineColors(i)}},t.prototype._updateSeriesLineColors=function(e){e.lineAreaColor=this._seriesLineAreaColorAccessor(e.originalSeries,e.index),e.lineAreaHighlightColor=this._seriesLineAreaHighlightColorAccessor(e.originalSeries,e.index),e.lineUnselectedColor=this._seriesLineUnselectedColorAccessor(e.originalSeries,e.index)},t.prototype._updateState=function(e){var t=this,i=this._getShapeData(),n=this._d3El.selectAll("div").data(i,function(e){return e.id}),s=n.exit(),r=n.enter().append("div").attr("width",0).each(function(e){t._lineData[e.id]=Array(e.data.length).fill(0)});n=n.merge(r),e.duration?(n=n.transition(e).tween("update",this._lineUpdateTweenFactory.bind(this)),s=s.transition(e).attr("width",0).tween("exit",this._lineExitTweenFactory.bind(this))):(n.interrupt().each(function(e){t._lineData[e.id]=t._getSeriesOutputValues(e)}),s.interrupt()),n.attr("width",this._lineWidth),s.remove()},t.prototype._lineExitTweenFactory=function(e){var t=Array(e.data.length).fill(0);return this._lineTweenFactory(e,t)},t.prototype._lineUpdateTweenFactory=function(e){var t=this._getSeriesOutputValues(e);return this._lineTweenFactory(e,t)},t.prototype._lineTweenFactory=function(e,t){var i=this,n=f.interpolateArray(this._lineData[e.id],t);return function(t){i._lineData[e.id]=n(t)}},t.prototype._getSeriesOutputValues=function(e){return e.data.map(function(e){return e.output})},t.prototype._paintCanvas=function(){var e=this._getAreaColors();this._paintLinesAndAreas(e),this._paintHighlightLinesAndAreas(e),this._options.lineHighlightCircles&&this._paintHighlightCircles()},t.prototype._getAreaColors=function(){for(var e={},t=this._el.firstElementChild;t;t=t.nextElementSibling){var i=f.select(t),n=i.datum();e[n.id]=this._getSeriesAreaColors(n)}return e},t.prototype._getSeriesAreaColors=function(e){var t=e.lineAreaColor,i=e.lineAreaHighlightColor;if(this._options.lineAreas){var n=this._options.lineAreaOpacity;if(1!==n&&(t=h.fade(t,n),i=h.fade(i,n)),this._options.lineAreaGradients&&e.data.length){var s=this._getSeriesOutputRangeExtent(e);t=this._getSeriesGradient(s,t),i=this._getSeriesGradient(s,i)}}return{fill:t,highlightFill:i}},t.prototype._getSeriesOutputRangeExtent=function(e){for(var t=[],i=0;i<e.data.length;i++){var n=e.data[i];t.push(this._outputBaselineRangeValueAccessor(n,i)),t.push(this._outputExtremityRangeValueAccessor(n,i))}return f.extent(t)},t.prototype._getSeriesGradient=function(e,t){var i=this._options,n=i.backgroundColor,s=i.lineAreaOpacity,r=void 0;return r=this._options.invertScales?this._ctx.createLinearGradient(e[0],0,e[1],0):this._ctx.createLinearGradient(0,e[1],0,e[0]),r.addColorStop(0,h.fade(n,s)),r.addColorStop(1,t),r},t.prototype._paintLinesAndAreas=function(e){for(var t=this._el.firstElementChild;t;t=t.nextElementSibling){var i=f.select(t),n=i.datum(),s=parseFloat(i.attr("width")),r=this._chart._isSelectionVisible?n.lineUnselectedColor:n.color;if(this._options.lineAreas){var o=e[n.id];this._paintArea(n.data,o.fill)}this._paintLine(n.data,s,r)}},t.prototype._paintHighlightLinesAndAreas=function(e){for(var t=this._el.firstElementChild;t;t=t.nextElementSibling){var i=f.select(t),n=i.datum(),s=parseFloat(i.attr("width"));if(this._options.lineAreas){var r=e[n.id];this._paintArea(n.focusedData,r.highlightFill),this._paintArea(n.selectedData,r.highlightFill)}this._paintLine(n.focusedData,s,n.color),this._paintLine(n.selectedData,s,n.color)}},t.prototype._paintHighlightCircles=function(){for(var e=this._el.firstElementChild;e;e=e.nextElementSibling){var t=f.select(e),i=t.datum(),n=parseFloat(t.attr("width"));this._paintSeriesHighlightCircles(i.data,n,i.color)}},t.prototype._paintLine=function(e,t,i){0!==t&&(this._ctx.save(),this._ctx.lineWidth=t,this._ctx.strokeStyle=i,this._clipCanvasToInnerChartArea(),this._ctx.beginPath(),this._line(e),this._ctx.stroke(),this._ctx.restore())},t.prototype._paintArea=function(e,t){this._ctx.save(),this._ctx.fillStyle=t,this._clipCanvasToInnerChartAreaExcludingOutputZeroLine(),this._ctx.beginPath(),this._area(e),this._ctx.fill(),this._ctx.restore()},t.prototype._clipCanvasToInnerChartAreaExcludingOutputZeroLine=function(){if(this._chart.layers.tick&&this._options.outputTickLines){var e=this._chart.layers.tick.constructor.ZERO_LINE_WIDTH,t=Math.round(this._chart._outputScale(0)),i=this._chart._innerWidth,n=this._chart._innerHeight,s=this._chart._outerWidthLeft;this._ctx.beginPath(),this._ctx.rect(s,0,i,n),this._options.invertScales?this._ctx.rect(t+1,s,-e,n):this._ctx.rect(s+i,t-1,-i,e),this._ctx.clip()}else this._clipCanvasToInnerChartArea()},t.prototype._paintSeriesHighlightCircles=function(e,t,i){if(0!==t){this._ctx.save(),this._ctx.fillStyle=this._options.backgroundColor,this._ctx.lineWidth=t,this._ctx.strokeStyle=i;for(var n=0;n<e.length;n++){var s=e[n];if(this._shouldShowCircleForHighlight(s,"isFocused")||this._shouldShowCircleForHighlight(s,"isSelected")){var r=this._getDatumCentroid(s);this._ctx.beginPath(),this._ctx.arc(r.x,r.y,2*t,0,2*Math.PI),this._ctx.fill(),this._ctx.stroke()}}this._ctx.restore()}},t.prototype._shouldShowCircleForHighlight=function(e,t){return e[t]&&(!e.prev||!e.prev[t]||!e.next||!e.next[t])},t.prototype._queryPoint=function(e){for(var t=[],i=this._getShapeData(),n=0;n<i.length;n++)for(var s=i[n],r=0;r<s.data.length;r++){var o=s.data[r],a=this._getDatumCentroid(o);this._doesPointMatchDatum(e,a)&&t.push({datum:o,centroid:a})}return t},t.prototype._doesPointMatchDatum=function(e,t){var i=this._options.lineFocusAreaWidth,n=t.x-i/2,s=t.y-i/2;this._ctx.save(),this._ctx.beginPath(),this._ctx.rect(n,s,i,i);var r=this._ctx.isPointInPath(e.deviceX,e.deviceY);return this._ctx.restore(),r},t.prototype._getDatumCentroid=function(e){return{x:this._xAccessor(e),y:this._yAccessor(e)}},u(t,[{key:"_lineWidth",get:function(){return this._chart._width>l(8)?4:this._chart._width>l(4)?3:2}}]),t}(T.default);_.defaultOptions={lineAreas:!1,lineAreaGradients:!0,lineAreaOpacity:1,lineHighlightCircles:!0,lineFocusAreaWidth:50,seriesLineAreaColor:h.paletteAccessors.FADED,seriesLineAreaHighlightColor:h.paletteAccessors.LIGHT,seriesLineUnselectedColor:h.paletteAccessors.LIGHT},_.layerName="line",_.seriesShape="LINE",t.default=_},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}t.__esModule=!0;var c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(l),d=i(4),h=n(d),p=i(3),f=n(p),m={BOOKEND:0,CENTER:1,LEFT:2,RANGE_BAND_CENTER:3,RIGHT:4},g=function(e){function t(){r(this,t);var i=o(this,e.apply(this,arguments));return i._d3InputLines=i._d3El.append("div"),i._d3InputLabels=i._d3El.append("div"),i._d3OutputLines=i._d3El.append("div"),i._d3OutputLabels=i._d3El.append("div"),i.yTickLabelsWidth=i._options.yTickLabelsWidth,i._yTickLabelsWidthComputed=0,i}return a(t,e),t.prototype._updateState=function(e,t){this._padding=t;var i=this._getTickData(),n=this._options.invertScales?i.input:i.output;this._yTickLabelsWidthComputed=Math.max.apply(Math,n.map(function(e){return e.width})),this._updateTickLineElements(e,this._d3InputLines,i.input),this._updateTickLabelElements(e,this._d3InputLabels,i.input),this._updateTickLineElements(e,this._d3OutputLines,i.output),this._updateTickLabelElements(e,this._d3OutputLabels,i.output)},t.prototype._getTickData=function(){return{input:this._getTickDataForScale(this._chart._inputScale,this._chart._targetInputScale,{scaleConstructor:this._options.inputScaleConstructor,tickSpacing:this._options.inputTickSpacing,tickLabelFormat:this._options.inputTickLabelFormat}),output:this._getTickDataForScale(this._chart._outputScale,this._chart._targetOutputScale,{scaleConstructor:this._options.outputScaleConstructor,tickSpacing:this._options.outputTickSpacing,tickLabelFormat:this._options.outputTickLabelFormat})}},t.prototype._getTickDataForScale=function(e,t,i){var n=this;this._ctx.save(),this._ctx.font=this._options.tickLabelFont;var s=this._getTicksForScale(t,i),r=this._getTickFormatForScale(t,i),o=s.map(function(i,o){var a=r(i);return{label:a,nextValue:s[o+1],prevValue:s[o-1],scale:e,targetScale:t,value:i,width:n._ctx.measureText(a).width}});return this._ctx.restore(),o},t.prototype._getTicksForScale=function(e,t){var i=t.scaleConstructor,n=t.tickSpacing;if(e.ticks){if(this._chart._isTimeScaleConstructor(i)&&"function"==typeof n)return e.ticks(n);var s=this._chart._getTickCountForScale(e,n);return e.ticks(s)}return e.domain()},t.prototype._getTickFormatForScale=function(e,t){var i=t.scaleConstructor,n=t.tickLabelFormat,s=t.tickSpacing;if("function"==typeof n)return n;if(e.tickFormat){if(this._chart._isTimeScaleConstructor(i))return this._getTickFormatForTimeScale(e,t);var r=this._chart._getTickCountForScale(e,s);return e.tickFormat(r,n)}return function(e){return e}},t.prototype._getTickFormatForTimeScale=function(e,t){var i=t.scaleConstructor,n=t.tickLabelFormat;if(n){return(i===u.scaleTime?u.timeFormat:u.utcFormat)(n)}return e.tickFormat()},t.prototype._updateTickLineElements=function(e,t,i){var n=this._getTickLineDataFromScaleData(i);this._updateTickElements(e,t,n)},t.prototype._updateTickLabelElements=function(e,t,i){var n=this,s=this._getTickLabelDataFromScaleData(i);this._updateTickElements(e,t,s,function(e){e.attr("x-offset",n._getTickLabelXOffset.bind(n))})},t.prototype._getTickLineDataFromScaleData=function(e){var t=e[0];return t&&this._areTickLinesEnabledForScale(t.scale)?e:[]},t.prototype._getTickLabelDataFromScaleData=function(e){var t=this._options.xTickLabelAlignment,i=e[0];return i&&this._areTickLabelsEnabledForScale(i.scale)?i.scale!==this._chart._xScale||t!==m.BOOKEND?e:[e[0],e[e.length-1]]:[]},t.prototype._updateTickElements=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},s=t.selectAll("div").data(i,function(e){return e.value}),r=s.exit(),o=s.enter().append("div").attr("opacity",0).call(n);s=s.merge(o),e.duration?(s=s.transition(e),r=r.transition(e)):(s.interrupt(),r.interrupt()),s.attr("opacity",1).call(n),r.attr("opacity",0).call(n).remove()},t.prototype._paintCanvas=function(){var e=this;[this._d3InputLines,this._d3OutputLines].forEach(function(t){for(var i=t.node().firstElementChild;i;i=i.nextElementSibling)e._paintTickLine(i)}),[this._d3InputLabels,this._d3OutputLabels].forEach(function(t){for(var i=t.node().firstElementChild;i;i=i.nextElementSibling)e._paintTickLabel(i)})},t.prototype._paintTickLine=function(e){var i=this._options,n=i.tickLineColor,s=i.xTickLabelAlignment,r=this._getTickElContext(e),o=r.d3El,a=r.datum,c=r.isXTick,l=r.rangeMax,u=r.rangeMin,d=r.rangeValue;if(d>u&&d<l){var h=0===a.value?t.ZERO_LINE_WIDTH:1,p=Math.round(d)+h%2*.5,f=c?[[p,0],[p,this._chart._height-this._padding.bottom]]:[[0,p],[this._chart._width-this._padding.right,p]];c&&s===m.CENTER&&(f[1][1]-=this._outerHeightBottom),this._ctx.save(),this._ctx.beginPath(),this._ctx.moveTo(f[0][0],f[0][1]),this._ctx.lineTo(f[1][0],f[1][1]),this._ctx.globalAlpha=o.attr("opacity"),this._ctx.lineWidth=h,this._ctx.strokeStyle=n,this._ctx.stroke(),this._ctx.restore()}},t.prototype._paintTickLabel=function(e){var t=this._options,i=t.tickLabelColor,n=t.tickLabelFont,s=this._getTickElContext(e),r=s.d3El,o=s.datum,a=s.isXTick,c=s.rangeMax,l=s.rangeMin,u=this._getTickLabelX(s),d=this._getTickLabelY(s);(a&&u>l&&u+o.width<c||!a&&d<c+1e-10)&&o.label&&(this._ctx.save(),this._ctx.globalAlpha=r.attr("opacity"),this._ctx.fillStyle=i,this._ctx.font=n,this._ctx.textAlign=a?"left":"right",this._ctx.fillText(o.label,u,d),this._ctx.restore())},t.prototype._getTickLabelX=function(e){var t=e.d3El,i=e.isXTick,n=e.rangeValue;if(i){return n+Number(t.attr("x-offset"))}return this._chart._width-this._padding.right},t.prototype._getTickLabelY=function(e){var t=this._options,i=t.tickLabelFontCapHeight,n=t.tickLabelFontDescenderHeight,s=t.tickLabelYPadding,r=e.datum,o=e.isXTick,a=e.rangeValue;return o?this._chart._height-this._padding.bottom-n:a+(this._areTickLinesEnabledForScale(r.scale)?s:0)+i},t.prototype._getTickElContext=function(e){var t=this._options.tickXRangePadding,i=u.select(e),n=i.datum(),s=n.scale,r=s===this._chart._xScale,o=this._chart._getScaleRangeExtent(n.scale),a=r?t:0;return{d3El:i,datum:n,isXTick:r,rangeMax:o[1]+a+1e-10,rangeMin:o[0]-a-1e-10,rangeValue:s(n.value)}},t.prototype._getTickLabelXOffset=function(e){var t=this._options.tickLabelXPadding;if(e.scale!==this._chart._xScale)return 0;var i=this._areTickLinesEnabledForScale(e.scale),n=i?t:0;switch(this._getEffectiveXTickLabelAlignment(e)){case m.CENTER:return-e.width/2;case m.LEFT:return-(n+e.width);case m.RANGE_BAND_CENTER:return this._getTickRangeBandWidth(e)/2-e.width/2;case m.RIGHT:return n;default:return}},t.prototype._getEffectiveXTickLabelAlignment=function(e){var t=this._options.xTickLabelAlignment;return t===m.BOOKEND?void 0===e.prevValue?m.RIGHT:void 0!==e.nextValue?m.CENTER:m.LEFT:t},t.prototype._getTickRangeBandWidth=function(e){var t=e.targetScale;return t.bandwidth?t.bandwidth():void 0!==e.nextValue?t(e.nextValue)-t(e.value):void 0!==e.prevValue?t(e.value)-t(e.prevValue):0},t.prototype._areTickLinesEnabledForScale=function(e){var t=this._options,i=t.inputTickLines,n=t.outputTickLines;return e===this._chart._inputScale?i:n},t.prototype._areTickLabelsEnabledForScale=function(e){var t=this._options,i=t.inputTickLabels,n=t.outputTickLabels;return e===this._chart._inputScale?i:n},c(t,[{key:"yTickLabelsWidthComputed",get:function(){return this._yTickLabelsWidthComputed}},{key:"yTickLabelsWidth",set:function(e){e=parseInt(e,10),this._yTickLabelsWidthOverride=isNaN(e)?null:e}},{key:"_outerWidthLeft",get:function(){return this._options.tickXRangePadding}},{key:"_outerWidthRight",get:function(){var e=this._options.tickXRangePadding,t=this._options.invertScales?this._options.inputTickLabels:this._options.outputTickLabels,i=null!==this._yTickLabelsWidthOverride?this._yTickLabelsWidthOverride:this._yTickLabelsWidthComputed;return e+(t?this._options.tickLabelXPadding+i:0)}},{key:"_outerHeightBottom",get:function(){return(this._options.invertScales?this._options.outputTickLabels:this._options.inputTickLabels)?this._options.tickLabelYPadding+this._options.tickLabelFontCapHeight+this._options.tickLabelFontDescenderHeight:0}}]),t}(f.default);g.defaultOptions={inputTickLabels:!0,outputTickLabels:!0,inputTickLines:!0,outputTickLines:!0,xTickLabelAlignment:m.RIGHT,tickXRangePadding:0,tickLabelXPadding:5,tickLabelYPadding:5,yTickLabelsWidth:null,inputTickLabelFormat:null,outputTickLabelFormat:null,tickLabelFont:'12px "Helvetica Neue", Helvetica, Arial, sans-serif',tickLabelFontCapHeight:9,tickLabelFontDescenderHeight:0,tickLineColor:h.default.colors.GRAY_LIGHT,tickLabelColor:h.default.colors.GRAY_MEDIUM},g.layerName="tick",g.xLabelAlignments=m,g.ZERO_LINE_WIDTH=2,t.default=g},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}var c,l,u=i(1),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(u),h=i(5),p=n(h),f=i(10),m=i(2),g=n(m),v=i(3),T=n(v),_=i(11),y=n(_),w=i(6),b=n(w),D=i(7),C=n(D),S=(l=c=function(e){function t(){r(this,t);var i=o(this,e.apply(this,arguments)),n=i.options.tooltipOptions;return n&&(i._tooltip=new y.default(n).listenToChart(i),i.el.appendChild(i._tooltip.el)),i}return a(t,e),t.prototype.remove=function(){return e.prototype.remove.call(this),this._tooltip&&this._tooltip.remove(),this},t}(g.default),c.Layer=T.default,c.Tooltip=y.default,c.BarLayer=p.default,c.LineLayer=b.default,c.TickLayer=C.default,c.Color=d,l),E=(0,f.createClasses)(S),I=E.Default,A=function(e,t){var i={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}(E,["Default"]);Object.assign(I,A),e.exports=I},function(e,t,i){"use strict";t.__esModule=!0;var n=void 0;try{n=new CustomEvent("test").constructor}catch(e){var s={bubbles:!1,cancelable:!1,detail:void 0};n=function(e,t){t=Object.assign({},s,t);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i},n.prototype=window.Event.prototype}t.default=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.default;return Object.keys(T).reduce(function(t,i){var n,s,c=T[i];return t[i]=(s=n=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t}(e),n.defaultOptions=Object.assign({},e.defaultOptions,T.Default.defaultOptions,c.defaultOptions),n.layerOrder=c.layerOrder||T.Default.layerOrder,s),t},{})}t.__esModule=!0,t.createClasses=c;var l=i(5),u=n(l),d=i(2),h=n(d),p=i(6),f=n(p),m=i(7),g=n(m),v=window.d3||i(0),T={Default:{defaultOptions:{defaultSeriesShape:u.default.seriesShape,tooltipOptions:{}},layerOrder:[g.default,u.default,f.default]}};T.Ordinal={defaultOptions:{inputScaleConstructor:v.scaleBand,inputTickLines:!1,rangeBandPaddingOuter:0,tickLabelFontDescenderHeight:3,tooltipOptions:{datumInputFormat:function(e){return e}}}};var _=v.timeDay.floor(new Date);T.TimeSeries={defaultOptions:{inputDomainDefault:[_,v.timeDay.offset(_,1)],inputNice:!1,inputScaleConstructor:v.scaleTime,inputTickSpacing:200,tickLabelFontDescenderHeight:3,tooltipOptions:{datumInputFormat:v.timeFormat("%a %x %I:%M %p")}}};var y=v.utcDay.floor(new Date);T.TimeSeriesUtc={defaultOptions:Object.assign({},T.TimeSeries.defaultOptions,{inputDomainDefault:[_,v.utcDay.offset(y,1)],inputScaleConstructor:v.scaleUtc,tooltipOptions:{datumInputFormat:v.utcFormat("%a %x %I:%M %p")}})}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}t.__esModule=!0;var c=i(2),l=n(c),u=i(12),d=n(u),h=window.d3||i(0),p=function(e){function t(i){r(this,t);var n=o(this,e.apply(this,arguments));n.options=Object.assign({},t.defaultOptions,i),n._makeFormatters();var s=t.classNames;return n.el=n.options.el||document.createElement("div"),n.d3El=h.select(n.el).classed(s.BASE+" "+s.TOOLTIP_BASE,!0),n._d3InnerContent=n.d3El.append("div").classed(s.TOOLTIP_INNER,!0).append("div").classed(s.TOOLTIP_CONTENT,!0),n}return a(t,e),t.prototype._getEl=function(){return this.el},t.prototype._getOptions=function(){return this.options},t.prototype._handleChartFocus=function(e){var i=e.detail?e.detail.data:null,n=this._shouldShow(i);if(this.d3El.classed(t.classNames.TOOLTIP_IS_OPEN,n),n){this._renderWithData(i);var s=h.mouse(this.el.parentElement),r=s[0],o=s[1];this._positionAtMouseCoordinates(r,o)}},t.prototype._renderWithData=function(e){var t=this.options.template;"function"==typeof t?this._d3InnerContent.html(t(e)):this._renderLegendWithData(e)},t.prototype._renderLegendWithData=function(e){var i=t.classNames;this._d3InnerContent.html('\n      <div class="'+i.LEGEND_TITLE+'"></div>\n      <ul class="'+i.LEGEND+'"></ul>\n    '),this._d3InnerContent.select("."+i.LEGEND_TITLE).text(this._getLegendTitle(e));var n=this._d3InnerContent.select("."+i.LEGEND).selectAll("li").data(e);n.enter().append("li").merge(n).call(this._enterLegendItems.bind(this))},t.prototype._enterLegendItems=function(e){var t=this;e.classed("LegendItem LegendItem--small",!0).each(function(e){var i=h.select(this),n=e.data[0],s=t._getLegendItemLabelAndValue(e,n),r=s.label,o=s.value;i.html('\n          <span class="LegendItem-color" style="background: '+e.color+';"></span>\n          <span class="LegendItem-label">'+r+'</span>\n          <span class="LegendItem-value">'+o+"</span>\n        ")})},t.prototype.listenToChart=function(e){return e.el.addEventListener(l.default.events.FOCUS,this._handleChartFocus.bind(this)),this},t.prototype.remove=function(){return this.d3El.remove(),this},t}((0,d.default)());p.defaultOptions=Object.assign({},p.defaultOptions,{template:null}),t.default=p},function(e,t,i){"use strict";function n(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):n(e,t))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=window.d3||i(0);t.default=function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){function e(){o(this,e)}return e}();return t=e=function(e){function t(){return o(this,t),s(this,e.apply(this,arguments))}return r(t,e),t.prototype._makeFormatters=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getOptions(),t=e.datumInputFormat,i=e.datumOutputFormat;this._datumInputFormatter=this._makeFormatter(t),this._datumOutputFormatter=this._makeFormatter(i)},t.prototype._getEl=function(){throw new Error("GridChartTooltip must implement `_getEl`")},t.prototype._getOptions=function(){throw new Error("GridChartTooltip must implement `_getOptions`")},t.prototype._shouldShow=function(e){var t=e?e[0]:null;return t&&1===t.data.length},t.prototype._positionAtMouseCoordinates=function(e,t){var i=this._getEl(),n=i.parentElement,s=this._getOptions(),r=s.margin,o=s.mouseOffset,c=n.getBoundingClientRect(),l=c.top,u=c.left,d=e+o,h=t+o,p=i.offsetWidth;u+d+p+r>window.innerWidth&&(d=e-p-o);var f=i.offsetHeight;l+h+f+r>window.innerHeight&&(h=t-f-o),a.select(i).style("left",d+"px").style("top",h+"px")},t.prototype._getLegendTitle=function(e){var t=e[0],i=t.data[0];return this._datumInputFormatter(i.input,i.index)},t.prototype._getLegendItemLabelAndValue=function(e,t){var i=e.label,n=this._datumOutputFormatter(t.output,t.index);return i||(i=n,n=""),{label:i,value:n}},t.prototype._makeFormatter=function(e){return"string"==typeof e?a.format(e):e},t}(i),e.classNames={BASE:"GridChartTooltip",LEGEND:"GridChartTooltip-legend",LEGEND_TITLE:"GridChartTooltip-legendTitle",TOOLTIP_BASE:"Tooltip",TOOLTIP_CONTENT:"Tooltip-content",TOOLTIP_INNER:"Tooltip-inner",TOOLTIP_IS_OPEN:"is-open"},e.defaultOptions={datumInputFormat:"n",datumOutputFormat:"n",margin:30,mouseOffset:15},t}}])})},function(e,t,i){!function(t,i){e.exports=i()}(0,function(){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t,i){return t instanceof Date&&e<t?new Date(t.getTime()):i instanceof Date&&e>i?new Date(i.getTime()):e}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){var i=e.getFullYear(t),n=e.getMonth(t)+1,s=e.getValue(t);return i+"-"+("0"+n).slice(-2)+"-"+("0"+s).slice(-2)}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=(0,u.createIntervals)(e);return r({},t,{format:function(t,i){return(0,g.default)(e,t,i)},parse:function(t,i){return(0,T.default)(e,t,i)},date:r({},e,{format:function(t){return(0,h.default)(e,t)},formatRange:function(i,n){return(0,f.default)(e,t,i,n)}})})}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=i(0),a=n(o),c=i(3),l=n(c),u=i(4),d=i(1),h=n(d),p=i(5),f=n(p),m=i(6),g=n(m),v=i(7),T=n(v),_=i(8),y={},w=r({applyMinAndMaxToDate:a.default,clampDateRange:l.default},s(_.localDateAliases),{utc:s(_.utcDateAliases),zone:function(e){return y[e.name]=y[e.name]||s((0,_.createZoneDateAliases)(e)),y[e.name]}});w.day.utc=w.utc.day,w.week.utc=w.utc.week,w.month.utc=w.utc.month,w.year.utc=w.utc.year,w.format.utc=w.utc.format,w.parse.utc=w.utc.parse,w.date.utc=r({},_.utcDateAliases,{format:w.utc.date.format,formatRange:w.utc.date.formatRange}),e.exports=w},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t,i){var n=e.startDate,r=e.endDate;return{startDate:(0,s.default)(n,t,i),endDate:(0,s.default)(r,t,i)}};var n=i(0),s=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,i){"use strict";function n(e,t){e=this.ceil(e),t=this.ceil(t);for(var i=[];e<t;)i.push(e),e=this.offset(e,1);return i}function s(e){var t={floor:function(t){var i=e.create,n=e.getFullYear,s=e.getMonth,r=e.getValue;return i(n(t),s(t),r(t))},ceil:function(e){var t=this.floor(e);return e.getTime()===t.getTime()?t:this.offset(t,1)},offset:function(t,i){var n=e.getValue,s=e.setValue;return t=new Date(t.getTime()),s(t,n(t)+i),t},range:function(){return n.apply(this,arguments)}};return{day:t,week:{floor:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.create,s=e.getDayOfWeek,r=e.getFullYear,o=e.getMonth,a=e.getValue,c=s(t),l=a(t)-(7-i+c)%7;return n(r(t),o(t),l)},ceil:function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=e.create,r=e.getDayOfWeek,o=e.getFullYear,a=e.getMonth,c=e.getValue;i=t.ceil(i);var l=r(i);if(l===n)return new Date(i.getTime());var u=c(i)+(7-(l-n||7))%7;return s(o(i),a(i),u)}},month:{floor:function(t){var i=e.create,n=e.getFullYear,s=e.getMonth;return i(n(t),s(t))},ceil:function(e){var t=this.floor(e);return e.getTime()===t.getTime()?t:this.offset(t,1)},offset:function(t,i){var n=e.getMonth,s=e.setMonth;return t=new Date(t.getTime()),s(t,n(t)+i),t},range:function(){return n.apply(this,arguments)}},year:{floor:function(t){return(0,e.create)((0,e.getFullYear)(t),0)},ceil:function(e){var t=this.floor(e);return e.getTime()===t.getTime()?t:this.offset(t,1)},offset:function(t,i){var n=e.getFullYear,s=e.setFullYear;return t=new Date(t.getTime()),s(t,n(t)+i),t},range:function(){return n.apply(this,arguments)}}}}t.__esModule=!0,t.createIntervals=s},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n.withExclusiveEndTime,o=void 0===r||r,a=i.startDate,c=i.endDate,l=t.day.floor(c),u=c.getTime()===l.getTime();return o&&u&&(c=t.day.offset(c,-1)),(0,s.default)(e,a)+" – "+(0,s.default)(e,c)};var n=i(1),s=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.use24HourClock,s=void 0!==n&&n,r=e.getHours(t),o=e.getMinutes(t),a=("0"+o).slice(-2),c=r,l="";return s?c=("0"+r).slice(-2):(0===r?c=12:r>12&&(c-=12),l=r>=12?"pm":"am"),c+":"+a+l}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.date,c=void 0===a?new Date:a,l=i.use24HourClock,u=void 0!==l&&l,d=r.test(t),h=!d&&(o.test(t)||!u&&e.getHours(new Date)>=12);t=t.replace(n,"");var p=t.search(s);(1===p||-1===p&&3===t.length)&&(t="0"+t),t=t.replace(s,"").substr(0,4),3===t.length&&(t+="0");var f=parseInt(t.substr(0,2),10),m=parseInt(t.substr(2,2),10)||0;if(h&&f<12?f+=12:d&&12===f&&(f=0),isNaN(f)||f>23||m>59)return null;var g=e.getFullYear(c),v=e.getMonth(c),T=e.getValue(c);return e.create(g,v,T,f,m)};var n=/[^0-9:]+/gi,s=/:/g,r=/a/i,o=/p/i},function(e,t,i){"use strict";function n(e,t){var i=(e.utcOffset||e.offset).call(e,t.getTime()),n=60*i*1e3;return new Date(t.getTime()-n)}function s(e,t,i){return n(e,t)[i]()}function r(e,t,i,s){var r=n(e,t);r[i](s);var o=e.parse(r.getTime()),a=60*o*1e3;return t.setTime(r.getTime()+a)}function o(e){return{create:function(){var t=Date.UTC.apply(Date,arguments),i=e.parse(t),n=60*i*1e3;return new Date(t+n)},getMilliseconds:a.getMilliseconds,getSeconds:a.getSeconds,getMinutes:function(t){return s(e,t,"getUTCMinutes")},getHours:function(t){return s(e,t,"getUTCHours")},getValue:function(t){return s(e,t,"getUTCDate")},getMonth:function(t){return s(e,t,"getUTCMonth")},getFullYear:function(t){return s(e,t,"getUTCFullYear")},getDayOfWeek:function(t){return s(e,t,"getUTCDay")},setMilliseconds:a.setMilliseconds,setSeconds:a.setSeconds,setMinutes:function(t,i){return r(e,t,"setUTCMinutes",i)},setHours:function(t,i){return r(e,t,"setUTCHours",i)},setValue:function(t,i){return r(e,t,"setUTCDate",i)},setMonth:function(t,i){return r(e,t,"setUTCMonth",i)},setFullYear:function(t,i){return r(e,t,"setUTCFullYear",i)}}}t.__esModule=!0,t.createZoneDateAliases=o;var a=(t.localDateAliases={create:function(){return new(Function.prototype.bind.apply(Date,[null].concat(Array.prototype.slice.call(arguments))))},getMilliseconds:function(e){return e.getMilliseconds()},getSeconds:function(e){return e.getSeconds()},getMinutes:function(e){return e.getMinutes()},getHours:function(e){return e.getHours()},getValue:function(e){return e.getDate()},getMonth:function(e){return e.getMonth()},getFullYear:function(e){return e.getFullYear()},getDayOfWeek:function(e){return e.getDay()},setMilliseconds:function(e,t){return e.setMilliseconds(t)},setSeconds:function(e,t){return e.setSeconds(t)},setMinutes:function(e,t){return e.setMinutes(t)},setHours:function(e,t){return e.setHours(t)},setValue:function(e,t){return e.setDate(t)},setMonth:function(e,t){return e.setMonth(t)},setFullYear:function(e,t){return e.setFullYear(t)}},t.utcDateAliases={create:function(){return new Date(Date.UTC.apply(Date,arguments))},getMilliseconds:function(e){return e.getUTCMilliseconds()},getSeconds:function(e){return e.getUTCSeconds()},getMinutes:function(e){return e.getUTCMinutes()},getHours:function(e){return e.getUTCHours()},getValue:function(e){return e.getUTCDate()},getMonth:function(e){return e.getUTCMonth()},getFullYear:function(e){return e.getUTCFullYear()},getDayOfWeek:function(e){return e.getUTCDay()},setMilliseconds:function(e,t){return e.setUTCMilliseconds(t)},setSeconds:function(e,t){return e.setUTCSeconds(t)},setMinutes:function(e,t){return e.setUTCMinutes(t)},setHours:function(e,t){return e.setUTCHours(t)},setValue:function(e,t){return e.setUTCDate(t)},setMonth:function(e,t){return e.setUTCMonth(t)},setFullYear:function(e,t){return e.setUTCFullYear(t)}})}])})},function(e,t,i){"use strict";function n(e,t,i,n){var r;return e.code?r=s(e.code,i,n):403===t.status&&(e.indexOf("retweet")>-1?r=u.DUPLICATE_RETWEET:e.indexOf("Share validations failed")>-1&&(r=u.PROTECTED_TWEET)),r||(r=u.UNKNOWN),TD.controller.stats.apiErrorResponse(t.status,e.code,i),r}function s(e,t,i){return 34===e?i&&i.status&&0===i.status.indexOf("DM")?u.USER_DOES_NOT_EXIST:t.indexOf("show.json")>-1?u.USER_DOES_NOT_EXIST:u[404]:88===e?t.indexOf("dm/new.json")>-1?u.RATE_LIMITED_DM_SEND:u.RATE_LIMITED:_.find(u,function(t){return t.twitterErrorCode===e})}function r(e,t,i){if(e){var n={rateLimitRemaining:parseInt(t.getResponseHeader("x-rate-limit-remaining"),10),rateLimitTotal:parseInt(t.getResponseHeader("x-rate-limit-limit"),10),rateLimitReset:parseInt(t.getResponseHeader("x-rate-limit-reset"),10)};n.rateLimitTotal&&n.rateLimitReset&&$(document).trigger("dataRateLimit",{feedType:e,accountKey:i.getKey(),rateLimitData:n})}}function o(e){var t=e.errors,i=e.xhr,n=e.originalMessage,s=e.options,r=e.account;$(document).trigger("dataTwitterApiError",{request:s,response:{xhr:i,ts:"",error:n},errors:t}),t.forEach(function(e,t,i){var n=e.twitterErrorCode;if(n)if($(document).trigger("metric",{key:"api:error:"+n}),32===n||89===n||220===n){var s=TD.storage.store.getTwitterLoginAccount(),o=s&&r.getUserID()===s.getUserID();$(document).trigger("dataTwitterAccountAccessDenied",{account:r,isLoginAccount:o})}else 64===n&&$(document).trigger("dataTwitterAccountSuspended",{account:r})})}var a=i(43),c=function(e){return e&&e.__esModule?e:{default:e}}(a),l=i(13),u=i(443);e.exports={processSuccessResponse:function(e,t,i,n){if(!t.handleSuccess)return i;var s=i.data;if(t.processor)try{s=t.processor.call(n,i.data)}catch(e){throw new Error("Error processing Twitter data ("+e.message+"): "+(0,c.default)(i.data))}return r(t.feedType,i.xhr,n.oauth.account),$(document).trigger("dataTwitterAccountAccessSuccess",{account:n.oauth.account}),{data:s,xhr:i.xhr}},processErrorResponse:function(e,t,i,s){if(!t.handleError)throw i;i.req=i.req||{};var a,c=[];if(i.req.responseText){try{a=JSON.parse(i.req.responseText)}catch(i){console.error("Failed to parse error responseText",i.req)}a&&a.errors&&("string"==typeof a.errors?c.push(n(a.errors,i.req,e,t.params)):_.each(a.errors,function(s){c.push(n(s,i.req,e,t.params))}))}throw i.req.errors=c,o({errors:c,xhr:i.req,originalMessage:i.msg,options:t,account:s}),r(t.feedType,i.req,s),i},logTweetProcessingError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};TD.controller.stats.generic({page:"api",component:"tweet",action:"failure"},{custom_json_payload:{stack:t.stack,tweetId:e.id_str}}),(0,l.metric)("api:client:processtweet:failure")}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){return D.flagObervable||r((0,b.default)()),{get:function(e){return h(D.hashflags,e)},observable:function(){return D.flagObervable}}}function r(e){D.flagObervable&&o(),D.flagObervable=e.filter(a).subscribe(function(e){D.hashflags=c(e)})}function o(){D.flagObervable&&(D.flagObervable.unsubscribe(),D.flagObervable=null)}function a(e){return(0,g.default)(e,"config.hashflags_settings_enabled.value",!1)}function c(e){var t=(0,g.default)(e,"config.hashflags_settings_location_prefix.value","");return t?(0,g.default)(e,"config.hashflags_settings_groups.value",[]).map(l.bind(this,e)).filter(function(e){return e.enabled}).reduce(function(e,i){return i.keys.reduce(function(e,n,s){return e[n.toLowerCase()]=(0,f.default)({},i,{url:""+t+i.groupName+"/"+i.values[s]}),e},e)},{}):{}}function l(e,t){return{groupName:t,enabled:(0,g.default)(e,"config.hashflags_settings_group_"+t+"_enabled.value",!1),keys:(0,g.default)(e,"config.hashflags_settings_group_"+t+"_keys.value",[]),values:(0,g.default)(e,"config.hashflags_settings_group_"+t+"_values.value",[]),start:T.default.unix((0,g.default)(e,"config.hashflags_settings_group_"+t+"_start.value","0")),end:T.default.unix((0,g.default)(e,"config.hashflags_settings_group_"+t+"_end.value","0"))}}function u(e){var t=(0,T.default)();return Boolean(e&&e.url&&e.start.isSameOrBefore(t)&&e.end.isSameOrAfter(t))}function d(e){return(e||"").toLowerCase().replace(y.default.regexen.hashSigns,"")}function h(e,t){var i=e[d(t)];return u(i)?i.url:null}Object.defineProperty(t,"__esModule",{value:!0});var p=i(15),f=n(p),m=i(17),g=n(m);t.hashflags=s,t.connect=r,t.disconnect=o,t.hashflagsEnabled=a,t.extractHashflags=c,t.extractHashflagGroup=l,t.flagIsOk=u,t.normalizeHashtag=d,t.getHashflagUrl=h;var v=i(60),T=n(v),_=i(210),y=n(_),w=i(63),b=n(w),D={hashflags:{},flagObervable:null}},function(e,t,i){"use strict";var n=i(2).component,s=i(1012),r=function(){this.attributes({searchControlSelector:".js-search-input-control"}),this.waitingForAsyncResponse=function(e,t){this.trigger(this.$searchControls,"uiAsyncFormWaitingForResponse")},this.receivedAsyncResponse=function(e,t){this.trigger(this.$searchControls,"uiAsyncFormReceivedResponse")},this.handleSearchInputCleared=function(){this.$node.closest("form").submit()},this.destroy=function(e,t){this.teardown()},this.before("teardown",function(){this.trigger(this.$searchControls,"uiSearchInputDestroy")}),this.after("initialize",function(){this.on("uiReceivedAsyncResponse",this.receivedAsyncResponse),this.on("uiWaitingForAsyncResponse",this.waitingForAsyncResponse),this.on("uiDestroyAsynchronousForm",this.destroy),this.on("uiSearchInputCleared",this.handleSearchInputCleared),this.$searchControls=this.select("searchControlSelector"),s.attachTo(this.$searchControls)})};e.exports=n(r)},function(e,t,i){"use strict";function n(){this.attributes({replies:null,excludedRecipientsIds:[],withUserBio:!0,replyCheckboxSelector:".js-reply-checkbox",autoFocus:!0,withComposeContext:!1}),this.after("initialize",function(){var e=this.attr,t=e.replies,i=e.excludedRecipientsIds,n=t[0];o.map(t,function(e,t){e.isChecked=!o.includes(i,e.id)}),n.isChecked=!0,n.isDisabled=!0;var r=s.render("compose/reply_list",this.attr);this.$node.html(r),this.on("change",{replyCheckboxSelector:this.handleReplyCheckbox})}),this.handleReplyCheckbox=function(e,t){var i=$(t.el).attr("data-id"),n=!t.el.checked;this.trigger(document,"uiRecipientToggledFromList",{userId:i,shouldExclude:n})}}var s=i(3),r=i(89),o=i(54),a=i(145);e.exports=r.mixin(n,a)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"grid_chart",legendItemsTemplate:"legend_items",legendSelector:".js-grid-chart-legend",displayLegend:!0,chartSelector:".js-grid-chart",chartOptions:(0,p.makeChartDefaults)(),chartWidth:"100%",chartHeight:"300px"}),this.componentDidInitialize=function(){this.initialRender(),this.$chartEl=this.select("chartSelector"),this.$legendEl=this.select("legendSelector"),this.createChart()},this.initialRender=function(){var e=c.default.render(this.attr.template);this.$node.html(e)},this.render=function(){this.renderChart(),this.attr.displayLegend&&this.renderLegend()},this.componentWillTeardown=function(){this.chart&&this.chart.remove()},this.shouldComponentUpdate=function(e){return!1===_.isEqual(this.props,e)},this.renderChart=function(){if(!this.props.chartData)return void this.$chartEl.empty();this.chart.data=this.props.chartData,this.chart.el.style.width=this.attr.chartWidth,this.chart.el.style.height=this.attr.chartHeight,this.$chartEl.html(this.chart.el),this.chart.resize(),this.chart.render()},this.renderLegend=function(){var e=this;if(!this.props.chartData)return void this.$legendEl.empty();var t=this.props.chartData.map(function(t,i){return{color:e.attr.chartOptions.seriesColor(null,i),seriesLabel:t.label,formattedSum:TD.util.truncateNumber(u.sum(t.data,function(e){return e.count}))}}),i=c.default.render(this.attr.legendItemsTemplate,{legendItems:t});this.$legendEl.html(i)},this.createChart=function(){this.chart=new h.default.TimeSeriesUtc(this.attr.chartOptions)}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(4),o=n(r),a=i(3),c=n(a),l=i(211),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(l),d=i(279),h=n(d),p=i(219);t.default=o.default.mixin(s)},function(e,t,i){"use strict";function n(){this.attributes({inputSelector:".js-app-search-input",dropdownSelector:".js-typeahead-dropdown",itemsSelector:".js-typeahead-item",itemSelectedClass:"is-selected",itemSelectedSelector:".js-typeahead-item.is-selected",deciders:{showDebugInfo:!1},datasources:["topics","savedSearches","recentSearches","users","lists","conversations","locations"],limits:{users:5,topics:5,lists:2,conversations:3,locations:4},datasourcesRecentOnly:["recentSearches"],queryTypes:["topic","saved-search","recent-search","user","conversation","location"],minHeight:300,hideAfterSelect:!1,autoSelect:!1,delayOnInputInMs:0,withClickTrap:!1}),this.after("initialize",function(){if(this.query=null,this.on(document,"dataTypeaheadSuggestions",this.handleDataTypeaheadSuggestions),this.on("uiTypeaheadInputFocus",this.handleTypeaheadInputFocus),this.on("uiTypeaheadInputBlur",this.handleTypeaheadInputBlur),this.on("uiTypeaheadInputSubmit",this.handleTypeaheadInputSubmit),this.on("uiTypeaheadInputChanged",p.debounce(this.handleTypeaheadInputChanged,this.attr.delayOnInputInMs)),this.on("uiTypeaheadInputMoveUp",this.handleTypeaheadInputMoveUp),this.on("uiTypeaheadInputMoveDown",this.handleTypeaheadInputMoveDown),this.on("uiTypeaheadInputRight",this.handleTypeaheadInputMoveRight),this.on("uiTypeaheadInputLeft",this.handleTypeaheadInputMoveLeft),this.on("uiTypeaheadInputTab",this.completeSelection),this.on("uiTypeaheadInputEscaped",this.handleTypeaheadInputEscaped),this.on("mouseover",{itemsSelector:this.handleItemMouseover}),this.on("mouseout",{itemsSelector:this.handleItemMouseout}),this.on("click",{itemsSelector:this.handleItemClick}),this.attr.withClickTrap){var e=this.select("dropdownSelector").add(this.select("inputSelector"));this.setClickTrapTarget(e),this.onReceiveClick(this.handleClickTrapClick)}}),this.handleClickTrapClick=function(){this.hideDropdown(),this.trigger(this.select("inputSelector"),"uiTypeaheadNoItemSelected")},this.handleTypeaheadInputEscaped=function(){this.hideDropdown()},this.handleTypeaheadInputFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.hasFocus=!0,t.query!==this.query&&this.handleTypeaheadInputChanged(e,t)},this.handleTypeaheadInputBlur=function(){this.hasFocus=!1,this.trigger("dataTypeaheadQueryReset")},this.handleItemMouseover=function(e,t){this.select("itemsSelector").removeClass(this.attr.itemSelectedClass),$(t.el).addClass(this.attr.itemSelectedClass)},this.handleItemMouseout=function(e,t){this.select("itemsSelector").removeClass(this.attr.itemSelectedClass)},this.moveSelection=function(e){var t,i=this.select("itemsSelector").filter(":visible"),n=i.filter(this.attr.itemSelectedSelector);n.removeClass(this.attr.itemSelectedClass),t=n.length?i.index(n)+e:-1+e,t<0?t=i.length-1:t>=i.length&&(t=0),i.eq(t).addClass(this.attr.itemSelectedClass)},this.getSelectedItemIndex=function(){var e=this.select("itemsSelector").filter(":visible"),t=e.filter(this.attr.itemSelectedSelector);return e.index(t)},this.handleTypeaheadInputMoveUp=function(e){this.moveSelection(-1)},this.handleTypeaheadInputMoveDown=function(e){this.moveSelection(1)},this.handleTypeaheadInputMoveRight=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.query||"";-1===this.getSelectedItemIndex()?t.cursorPosition>=i.length&&this.moveSelection(1):this.completeSelection(e,t)},this.handleTypeaheadInputMoveLeft=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"rtl"===t.dir?this.completeSelection(e,t):(this.select("itemsSelector").removeClass(this.attr.itemSelectedClass),this.trigger("uiTypeaheadInputFocus",t))},this.handleTypeaheadInputChanged=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.query||"",n=this.attr.datasources;0===i.trim().length&&(n=this.attr.datasourcesRecentOnly),this.query=i,this.select("itemsSelector").removeClass(this.attr.itemSelectedClass),this.trigger("uiNeedsTypeaheadSuggestions",{query:i,datasources:n,dropdownId:this.getDropdownId(),type:"search",limits:this.attr.limits})},this.getDropdownId=function(){return this.dropdownId||(this.dropdownId="swift_typeahead_dropdown_"+Date.now()),this.dropdownId},this.generateItemFromSelectedElement=function(e){var t,i=e.attr("data-search-type");switch(i){case"user":t={id:e.attr("data-user-id"),name:e.attr("data-user-name"),screenName:e.attr("data-screen-name"),profileImageURL:e.attr("data-profile-image-url"),verified:"true"===e.attr("data-verified")};break;case"conversation":t={conversationId:e.attr("data-conversation-id"),accountKey:e.attr("data-account-key")};break;case"location":t={name:e.attr("data-location-name"),lat:e.attr("data-location-lat"),lng:e.attr("data-location-lng")};break;default:t={}}return t},this.triggerSelectionEvent=function(e){var t=e.$selected,i=e.removeItem,n=this.select("itemsSelector"),s=n.index(t),r=this.query,o=t.data("search-query"),a=t.data("search-scope");(r||o)&&(this.trigger(t,"uiTypeaheadItemSelected",{index:s,searchType:t.data("search-type"),query:o,input:r,item:this.generateItemFromSelectedElement(t),removeItem:Boolean(i),searchScope:a}),this.attr.hideAfterSelect&&this.hideDropdown())},this.handleItemClick=function(e,t){var i=$(e.target).hasClass("remove-recent-search-item");this.triggerSelectionEvent({$selected:$(t.el),removeItem:i})},this.handleTypeaheadInputSubmit=function(e){var t=this.select("itemsSelector").filter(this.attr.itemSelectedSelector).filter(":visible").first();t.length?this.triggerSelectionEvent({$selected:t}):this.trigger(this.select("inputSelector"),"uiTypeaheadNoItemSelected")},this.completeSelection=function(e,t){var i=t&&"rtl"===t.dir?"rtl":"ltr";if(!("rtl"===i&&"uiTypeaheadInputRight"===e.type||-1!==["ltr",void 0,""].indexOf(i)&&"uiTypeaheadInputLeft"===e.type)){var n=this.select("itemsSelector").filter(this.attr.itemSelectedSelector).first();if(!n.length){n=this.select("itemsSelector").first();if(!(n.data("search-query")!==this.query))return void("uiTypeaheadInputTab"===e.type&&(this.hasFocus=!1))}var s=n.data("search-type");if(!this.attr.queryTypes.some(function(e){return e===s}))return void("uiTypeaheadInputTab"===e.type&&(this.hasFocus=!1));var r=n.data("search-query"),o=this.select("itemsSelector"),a=o.index(n);this.trigger("uiTypeaheadItemComplete",{value:r,searchType:n.data("search-type"),index:a,query:r,item:this.generateItemFromSelectedElement(n)}),this.hideDropdown()}},this.hideDropdown=function(){this.attr.withClickTrap&&this.disableClickTrap(),this.attr.hideAfterSelect&&this.select("dropdownSelector").addClass("is-hidden")},this.showDropdown=function(){this.attr.hideAfterSelect&&this.select("dropdownSelector").removeClass("is-hidden"),this.attr.withClickTrap&&this.enableClickTrap()},this.handleDataTypeaheadSuggestions=function(e,t){var i=this.select("itemsSelector").filter(this.attr.itemSelectedSelector);if(t.dropdownId===this.getDropdownId()&&t.query===this.query&&this.hasFocus&&!i.length){this.trigger("uiTypeaheadRenderResults",t);if(this.attr.datasources.some(function(e){return t.suggestions[e]&&t.suggestions[e].length})){this.trigger("uiTypeaheadSuggestions"),this.showDropdown(),this.attr.autoSelect&&0===this.select("itemSelectedSelector").length&&this.select("itemsSelector").first().addClass("is-selected");var n=p.get(t,"datasources",[]),s=1===n.length&&"recentSearches"===n[0];this.select("itemsSelector").removeClass("list-item-last").filter(":visible").last().addClass(s?"list-item":"list-item-last")}else this.trigger("uiTypeaheadNoSuggestions")}}}var s=i(2).component,r=i(466),o=i(1025),a=i(1021),c=i(1023),l=i(1022),u=i(1024),d=i(1020),h=i(1019),p=i(54);e.exports=s(n,r,c,o,a,u,d,l,h)},function(e,t,i){"use strict";var n=i(43),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(6),o={};e.exports=o;o.maybe_log=function(e,t){var i=_.isUndefined(t)?1:t;TD.config.debug_level>=i&&console.log(e)},o.NotJsonable=function(e){_.extend(this,e),this.___=e.toString()},o.NotJsonable.prototype={};var a=function(e){console.log.apply(console,_.map(e,function(e){if(!_.isUndefined(e))try{return JSON.parse((0,s.default)(e))}catch(t){return new o.NotJsonable(e)}}))};o.stateLog=function(){TD.config.debug_level>=2&&a(arguments)},o.verboseLog=function(){TD.config.debug_level>=4&&a(_.toArray(arguments))},o.warn=function(){TD.config.debug_level>=0&&console.log.apply(console,_.toArray(arguments))},o.trace=function(e){if(TD.config.debug_level>=1){for(var t,i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];(t=console).log.apply(t,["TRACE: "+e+": "].concat(n))}},o.printStacktrace=function(){if(TD.config.debug_menu)try{throw new Error("stack trace or gtfo")}catch(e){console.log(e.stack)}},o.getStack=function(){try{throw new Error("stack trace or gtfo")}catch(e){return TD.util.isChromeApp()?e.stack.split("\n").slice(2).join("\n"):""}},o.errmark=function(e,t){return e||(e=t,t="missing message"),console.log("---ERROR---\x3e>>>>->>>>->>>->>->--"+t+"--<-<<--"),o.maybe_log(e),console.log(e.stack),e},o.assert=function(e,t,i){if(!e)throw console.log("------------------------------------------"),console.log(["ASSERT FAILURE",t,i]),o.printStacktrace(),console.log("------------------------------------------"),TD.sync.trace&&TD.sync.trace.assert(t,i),new Error("AssertionError")},o.precondition=function(e,t,i){if(!e)throw console.log("------------------------------------------"),console.log(["PRECONDITION FAILURE",t,i]),o.printStacktrace(),console.log("------------------------------------------"),TD.sync.trace&&TD.sync.trace.assert("PRECONDITION "+t,i),new Error("PreconditionAssertionError")},o._break=function(){console.log("you might want to set a breakpoint here ;-)")},o.warning=function(e){var t=_.toArray(arguments).slice(1);console.log(["WARNING",e,o.pformat(t)])},o.error=function(e){var t=_.toArray(arguments).slice(1);console.log(["ERROR",e,o.pformat(t)])},o.list_to_set=function(e){var t={};return _.each(e,function(e){t[e]=!0}),t},o.pprint=function(e){return o.maybe_log((0,s.default)(e,null,"  "),2),e},o.pformat=function(e){return(0,s.default)(e,null,"  ")},o.repr=function(e){return(0,s.default)(e)},o.clone=function(e){if(null===e||_.isUndefined(e))return e;try{return JSON.parse((0,s.default)(e))}catch(t){return o.stateLog("util.clone couldn't parse object",e,t),["<not jsonable>",e]}},o.dictMap=function(e,t,i){var n={};return _.each(_.map(e,t,i),function(e){n[e[0]]=e[1]}),n},o.stall=function(e,t){_.isUndefined(t)&&(t=0);var i=new TD.core.defer.Deferred;return _.delay(_.bind(i.callback,i),1e3*t,e),i},o.autoRetry=function(e,t,i){var n=e();return t.forEach(function(t){n.addErrback(function(n){if(!i||i(n)){var s=new TD.core.defer.Deferred;return s.addCallback(e),setTimeout(function(){s.callback()},t),s}return n})}),n},o.DO_THING_ANYWAY="doThingAnyway",o.deDupeDeferred=function(e,t){function i(i){var n=_.find(s,function(e){return _.isEqual(e.args,i)});return n||(n={args:_.cloneDeep(i),needsThingDone:!0,deferreds:[],doThing:function(){var t=[null].concat(_.cloneDeep(i));return TD.core.defer.maybeDeferred(e.bind.apply(e,t))},beforeDeDupe:function(){var e;try{e=t.apply(null,_.cloneDeep(i))}catch(e){}return e}},s.push(n)),n}function n(e){s=s.filter(function(t){return t!==e});var t=[].slice.call(arguments,1);e.deferreds.forEach(function(e){e.callback.apply(e,t)})}var s=[];return t=t||function(){},function(){var e=[].slice.call(arguments),t=i(e);if(!t.needsThingDone){if(t.beforeDeDupe()===o.DO_THING_ANYWAY)return t.doThing()}var s=new TD.core.defer.Deferred;return t.deferreds.push(s),t.needsThingDone&&(t.needsThingDone=!1,t.doThing().addBoth(n.bind(null,t))),s}},o.makeThingScheduler=function(e,t,i,n,s){var a=!1,c=!1;n=n||function(){return!0},s=_.isUndefined(s)?1:s;var l=[],u=function n(){if(o.maybe_log(["_maybe_do_stuff",i,"want stuff done:",a,"am doing stuff:",c],8),!a)return void o.maybe_log("not doing stuff; someone else did stuff before us",8);if(c)return void o.maybe_log("am already doing stuff",8);if(c=!0,a=!1,t)var s=(0,r.showNotification)({message:t,timeoutDelayMs:1/0});var u=TD.core.defer.maybeDeferred(e);u.addCallback(function(e){if(c=!1,t&&(0,r.removeNotification)({notification:s,timeoutDelayMs:100}),a)n();else{var i=l;l=[];for(var o=0;o<i.length;o++)try{i[o].callback(e)}catch(e){_.defer(_.bind(i[o].errback,i[o]),e)}}}),u.addErrback(function(n){o.errmark(n,'do_stuff for "'+i+'" yielded error when calling; '+e),c=!1,t&&((0,r.removeNotification)({notification:s,timeoutDelayMs:100}),(0,r.showErrorNotification)({message:"Error with "+t}));var a=l;l=[];for(var u=0;u<a.length;u++)try{a[u].errback(n)}catch(e){_.defer(_.bind(a[u].errback,a[u]),e)}})};return function(e){if(!n())return o.maybe_log("not triggering (guarded): "+i,8),TD.core.defer.succeed();e=_.isUndefined(e)?s:e,o.maybe_log('trigger func called "'+i+'"',8),a=!0;var t=new TD.core.defer.Deferred;return l.push(t),setTimeout(u,1e3*e),t}}},function(e,t,i){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Boolean(c[e.name])}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.default)(c[e.name],"staticView",!1)}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Boolean(n(e)&&e.name.match(/poll[2-4]choice_text_only/))}Object.defineProperty(t,"__esModule",{value:!0});var o=i(17),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.isAllowedCard=n,t.isStaticCard=s,t.hasPoll=r;var c={"3260518932:moment":{},poll2choice_text_only:{},poll3choice_text_only:{},poll4choice_text_only:{},summary:{},summary_large_image:{},"3691233323:periscope_broadcast":{staticView:!0},audio:{staticView:!0},player:{staticView:!0},"745291183405076480:live_event":{staticView:!0},"745291183405076480:live_video":{staticView:!0}}},function(e,t,i){"use strict";function n(e){return"image/gif"===e.type}function s(e){return"video/mp4"===e.type}function r(){return 4}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.bytes?5*u:5}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.bytes?15*u:15}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.bytes?512*u:512}function l(e){return e.type.split("/")[1]}Object.defineProperty(t,"__esModule",{value:!0}),t.isGif=n,t.isVideo=s,t.getMaxAllowedFiles=r,t.getMaxAllowedSize=o,t.getMaxAllowedGifSize=a,t.getMaxAllowedVideoSize=c,t.getFileType=l;var u=1048576},function(e,t,i){"use strict";function n(e){return o.map(function(t){return e[t]||""}).join(":")}function s(e,t){var i=t.split(":");return o.every(function(t,n){var s=e[t]||"",r=i[n]||"";return"*"===r||r===s})}function r(e,t){return s(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.namespaceStringFromTerms=n,t.scribeTermsMatch=s,t.scribeQueryMatch=r;var o=["client","page","section","component","element","action"]},function(e,t,i){"use strict";var n=i(31),s=i(129),r=i(26);e.exports=function(e){for(var t=n(this),i=r(t.length),o=arguments.length,a=s(o>1?arguments[1]:void 0,i),c=o>2?arguments[2]:void 0,l=void 0===c?i:s(c,i);l>a;)t[a++]=e;return t}},function(e,t,i){var n=i(1091);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,i){"use strict";var n=i(25),s=i(126);e.exports=function(e,t,i){t in e?n.f(e,t,s(0,i)):e[t]=i}},function(e,t,i){var n=i(16),s=i(12).document,r=n(s)&&n(s.createElement);e.exports=function(e){return r?s.createElement(e):{}}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){var n=i(21)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,i){var n=i(12).document;e.exports=n&&n.documentElement},function(e,t,i){var n=i(16),s=i(306).set;e.exports=function(e,t,i){var r,o=t.constructor;return o!==i&&"function"==typeof o&&(r=o.prototype)!==i.prototype&&n(r)&&s&&s(e,r),e}},function(e,t,i){var n=i(148),s=i(21)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||r[s]===e)}},function(e,t,i){"use strict";var n=i(123),s=i(126),r=i(149),o={};i(50)(o,i(21)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(o,{next:s(1,i)}),r(e,t+" Iterator")}},function(e,t,i){"use strict";var n=i(122),s=i(1),r=i(51),o=i(50),a=i(49),c=i(148),l=i(300),u=i(149),d=i(57),h=i(21)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,i,m,g,v,T){l(i,t,m);var _,y,w,b=function(e){if(!p&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},D=t+" Iterator",C="values"==g,S=!1,E=e.prototype,I=E[h]||E["@@iterator"]||g&&E[g],A=!p&&I||b(g),x=g?C?b("entries"):A:void 0,k="Array"==t?E.entries||I:I;if(k&&(w=d(k.call(new e)))!==Object.prototype&&w.next&&(u(w,D,!0),n||a(w,h)||o(w,h,f)),C&&I&&"values"!==I.name&&(S=!0,A=function(){return I.call(this)}),n&&!T||!p&&!S&&E[h]||o(E,h,A),c[t]=A,c[D]=f,g)if(_={values:C?A:b("values"),keys:v?A:b("keys"),entries:x},T)for(y in _)y in E||r(E,y,_[y]);else s(s.P+s.F*(p||S),t,_);return _}},function(e,t){var i=Math.expm1;e.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:i},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,i){var n=i(12),s=i(312).set,r=n.MutationObserver||n.WebKitMutationObserver,o=n.process,a=n.Promise,c="process"==i(64)(o);e.exports=function(){var e,t,i,l=function(){var n,s;for(c&&(n=o.domain)&&n.exit();e;){s=e.fn,e=e.next;try{s()}catch(n){throw e?i():t=void 0,n}}t=void 0,n&&n.enter()};if(c)i=function(){o.nextTick(l)};else if(!r||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var u=a.resolve();i=function(){u.then(l)}}else i=function(){s.call(n,l)};else{var d=!0,h=document.createTextNode("");new r(l).observe(h,{characterData:!0}),i=function(){h.data=d=!d}}return function(n){var s={fn:n,next:void 0};t&&(t.next=s),e||(e=s,i()),t=s}}},function(e,t,i){"use strict";function n(e){var t,i;this.promise=new e(function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=n}),this.resolve=s(t),this.reject=s(i)}var s=i(42);e.exports.f=function(e){return new n(e)}},function(e,t,i){var n=i(16),s=i(11),r=function(e,t){if(s(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=i(65)(Function.call,i(56).f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,i){return r(e,i),t?e.__proto__=i:n(e,i),e}}({},!1):void 0),check:r}},function(e,t,i){var n=i(232)("keys"),s=i(130);e.exports=function(e){return n[e]||(n[e]=s(e))}},function(e,t,i){var n=i(77),s=i(75);e.exports=function(e){return function(t,i){var r,o,a=String(s(t)),c=n(i),l=a.length;return c<0||c>=l?e?"":void 0:(r=a.charCodeAt(c),r<55296||r>56319||c+1===l||(o=a.charCodeAt(c+1))<56320||o>57343?e?a.charAt(c):r:e?a.slice(c,c+2):o-56320+(r-55296<<10)+65536)}}},function(e,t,i){var n=i(226),s=i(75);e.exports=function(e,t,i){if(n(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(s(e))}},function(e,t,i){"use strict";var n=i(77),s=i(75);e.exports=function(e){var t=String(s(this)),i="",r=n(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(i+=t);return i}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,i){var n,s,r,o=i(65),a=i(492),c=i(297),l=i(294),u=i(12),d=u.process,h=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,m=u.Dispatch,g=0,v={},T=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},_=function(e){T.call(e.data)};h&&p||(h=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return v[++g]=function(){a("function"==typeof e?e:Function(e),t)},n(g),g},p=function(e){delete v[e]},"process"==i(64)(d)?n=function(e){d.nextTick(o(T,e,1))}:m&&m.now?n=function(e){m.now(o(T,e,1))}:f?(s=new f,r=s.port2,s.port1.onmessage=_,n=o(r.postMessage,r,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(e){u.postMessage(e+"","*")},u.addEventListener("message",_,!1)):n="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),T.call(e)}}:function(e){setTimeout(o(T,e,1),0)}),e.exports={set:h,clear:p}},function(e,t,i){"use strict";function n(e,t,i){var n,s,r,o=new Array(i),a=8*i-t-1,c=(1<<a)-1,l=c>>1,u=23===t?j(2,-24)-j(2,-77):0,d=0,h=e<0||0===e&&1/e<0?1:0;for(e=P(e),e!=e||e===F?(s=e!=e?1:0,n=c):(n=U($(e)/B),e*(r=j(2,-n))<1&&(n--,r*=2),e+=n+l>=1?u/r:u*j(2,1-l),e*r>=2&&(n++,r/=2),n+l>=c?(s=0,n=c):n+l>=1?(s=(e*r-1)*j(2,t),n+=l):(s=e*j(2,l-1)*j(2,t),n=0));t>=8;o[d++]=255&s,s/=256,t-=8);for(n=n<<t|s,a+=t;a>0;o[d++]=255&n,n/=256,a-=8);return o[--d]|=128*h,o}function s(e,t,i){var n,s=8*i-t-1,r=(1<<s)-1,o=r>>1,a=s-7,c=i-1,l=e[c--],u=127&l;for(l>>=7;a>0;u=256*u+e[c],c--,a-=8);for(n=u&(1<<-a)-1,u>>=-a,a+=t;a>0;n=256*n+e[c],c--,a-=8);if(0===u)u=1-o;else{if(u===r)return n?NaN:l?-F:F;n+=j(2,t),u-=o}return(l?-1:1)*n*j(2,u-t)}function r(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function o(e){return[255&e]}function a(e){return[255&e,e>>8&255]}function c(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function l(e){return n(e,52,8)}function u(e){return n(e,23,4)}function d(e,t,i){E(e[x],t,{get:function(){return this[i]}})}function h(e,t,i,n){var s=+i,r=C(s);if(r+t>e[z])throw L(k);var o=e[H]._b,a=r+e[W],c=o.slice(a,a+t);return n?c:c.reverse()}function p(e,t,i,n,s,r){var o=+i,a=C(o);if(a+t>e[z])throw L(k);for(var c=e[H]._b,l=a+e[W],u=n(+s),d=0;d<t;d++)c[l+d]=u[r?d:t-d-1]}var f=i(12),m=i(24),g=i(122),v=i(234),T=i(50),_=i(127),y=i(14),w=i(120),b=i(77),D=i(26),C=i(510),S=i(124).f,E=i(25).f,I=i(291),A=i(149),x="prototype",k="Wrong index!",M=f.ArrayBuffer,O=f.DataView,R=f.Math,L=f.RangeError,F=f.Infinity,N=M,P=R.abs,j=R.pow,U=R.floor,$=R.log,B=R.LN2,H=m?"_b":"buffer",z=m?"_l":"byteLength",W=m?"_o":"byteOffset";if(v.ABV){if(!y(function(){M(1)})||!y(function(){new M(-1)})||y(function(){return new M,new M(1.5),new M(NaN),"ArrayBuffer"!=M.name})){M=function(e){return w(this,M),new N(C(e))};for(var K,V=M[x]=N[x],G=S(N),q=0;G.length>q;)(K=G[q++])in M||T(M,K,N[K]);g||(V.constructor=M)}var Y=new O(new M(2)),Q=O[x].setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||_(O[x],{setInt8:function(e,t){Q.call(this,e,t<<24>>24)},setUint8:function(e,t){Q.call(this,e,t<<24>>24)}},!0)}else M=function(e){w(this,M,"ArrayBuffer");var t=C(e);this._b=I.call(new Array(t),0),this[z]=t},O=function(e,t,i){w(this,O,"DataView"),w(e,M,"DataView");var n=e[z],s=b(t);if(s<0||s>n)throw L("Wrong offset!");if(i=void 0===i?n-s:D(i),s+i>n)throw L("Wrong length!");this[H]=e,this[W]=s,this[z]=i},m&&(d(M,"byteLength","_l"),d(O,"buffer","_b"),d(O,"byteLength","_l"),d(O,"byteOffset","_o")),_(O[x],{getInt8:function(e){return h(this,1,e)[0]<<24>>24},getUint8:function(e){return h(this,1,e)[0]},getInt16:function(e){var t=h(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=h(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return r(h(this,4,e,arguments[1]))},getUint32:function(e){return r(h(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return s(h(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return s(h(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){p(this,1,e,o,t)},setUint8:function(e,t){p(this,1,e,o,t)},setInt16:function(e,t){p(this,2,e,a,t,arguments[2])},setUint16:function(e,t){p(this,2,e,a,t,arguments[2])},setInt32:function(e,t){p(this,4,e,c,t,arguments[2])},setUint32:function(e,t){p(this,4,e,c,t,arguments[2])},setFloat32:function(e,t){p(this,4,e,u,t,arguments[2])},setFloat64:function(e,t){p(this,8,e,l,t,arguments[2])}});A(M,"ArrayBuffer"),A(O,"DataView"),T(O[x],v.VIEW,!0),t.ArrayBuffer=M,t.DataView=O},function(e,t,i){var n=i(12),s=n.navigator;e.exports=s&&s.userAgent||""},function(e,t,i){var n=i(12),s=i(74),r=i(122),o=i(511),a=i(25).f;e.exports=function(e){var t=s.Symbol||(s.Symbol=r?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:o.f(e)})}},function(e,t,i){var n=i(177),s=i(21)("iterator"),r=i(148);e.exports=i(74).getIteratorMethod=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||r[n(e)]}},function(e,t,i){"use strict";var n=i(102),s=i(495),r=i(148),o=i(58);e.exports=i(301)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,s(1)):"keys"==t?s(0,i):"values"==t?s(0,e[i]):s(0,[i,e[i]])},"values"),r.Arguments=r.Array,n("keys"),n("values"),n("entries")},function(e,t,i){var n=i(93),s=i(323),r=i(156),o=i(242),a=i(1325);e.exports=function(e,t){var i=1==e,c=2==e,l=3==e,u=4==e,d=6==e,h=5==e||d,p=t||a;return function(t,a,f){for(var m,g,v=r(t),T=s(v),_=n(a,f,3),y=o(T.length),w=0,b=i?p(t,y):c?p(t,0):void 0;y>w;w++)if((h||w in T)&&(m=T[w],g=_(m,w,v),e))if(i)b[w]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:b.push(m)}else if(u)return!1;return d?-1:l||u?u:b}}},function(e,t,i){"use strict";var n=i(46),s=i(32),r=i(182),o=i(106),a=i(108),c=i(241),l=i(153),u=i(237),d=i(53),h=i(185),p=i(68).f,f=i(318)(0),m=i(81);e.exports=function(e,t,i,g,v,T){var _=n[e],y=_,w=v?"set":"add",b=y&&y.prototype,D={};return m&&"function"==typeof y&&(T||b.forEach&&!o(function(){(new y).entries().next()}))?(y=t(function(t,i){u(t,y,e,"_c"),t._c=new _,void 0!=i&&l(i,v,t[w],t)}),f("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in b&&(!T||"clear"!=e)&&a(y.prototype,e,function(i,n){if(u(this,y,e),!t&&T&&!d(i))return"get"==e&&void 0;var s=this._c[e](0===i?0:i,n);return t?this:s})}),T||p(y.prototype,"size",{get:function(){return this._c.size}})):(y=g.getConstructor(t,e,v,w),c(y.prototype,i),r.NEED=!0),h(y,e),D[e]=y,s(s.G+s.W+s.F,D),T||g.setStrong(y,e,v),y}},,,,,,,,,function(e,t,i){"use strict";var n=i(32),s=i(180),r=i(93),o=i(153);e.exports=function(e){n(n.S,e,{from:function(e){var t,i,n,a,c=arguments[1];return s(this),t=void 0!==c,t&&s(c),void 0==e?new this:(i=[],t?(n=0,a=r(c,arguments[2],2),o(e,!1,function(e){i.push(a(e,n++))})):o(e,!1,i.push,i),new this(i))}})}},function(e,t,i){"use strict";var n=i(32);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){function n(e,t,i){var n=a(e)?s:o;return t=r(t,i,3),n(e,t)}var s=i(1685),r=i(95),o=i(1694),a=i(28);e.exports=n},function(e,t,i){var n=i(140),s=i(1717),r=s(n);e.exports=r},function(e,t,i){function n(e,t,i){if(null==e)return[];i&&c(e,t,i)&&(t=void 0);var n=-1;t=s(t,i,3);var l=r(e,function(e,i,s){return{criteria:t(e,i,s),index:++n,value:e}});return o(l,a)}var s=i(95),r=i(636),o=i(1706),a=i(1711),c=i(113);e.exports=n},function(e,t,i){function n(e,t,i){function n(){v&&clearTimeout(v),p&&clearTimeout(p),_=0,p=v=T=void 0}function c(t,i){i&&clearTimeout(i),p=v=T=void 0,t&&(_=r(),f=e.apply(g,h),v||p||(h=g=void 0))}function l(){var e=t-(r()-m);e<=0||e>t?c(T,p):v=setTimeout(l,e)}function u(){c(w,v)}function d(){if(h=arguments,m=r(),g=this,T=w&&(v||!b),!1===y)var i=b&&!v;else{p||b||(_=m);var n=y-(m-_),s=n<=0||n>y;s?(p&&(p=clearTimeout(p)),_=m,f=e.apply(g,h)):p||(p=setTimeout(u,n))}return s&&v?v=clearTimeout(v):v||t===y||(v=setTimeout(l,t)),i&&(s=!0,f=e.apply(g,h)),!s||v||p||(h=g=void 0),f}var h,p,f,m,g,v,T,_=0,y=!1,w=!0;if("function"!=typeof e)throw new TypeError(o);if(t=t<0?0:+t||0,!0===i){var b=!0;w=!1}else s(i)&&(b=!!i.leading,y="maxWait"in i&&a(+i.maxWait||0,t),w="trailing"in i?!!i.trailing:w);return d.cancel=n,d}var s=i(35),r=i(628),o="Expected a function",a=Math.max;e.exports=n},function(e,t,i){function n(e,t,i){var n=!0,a=!0;if("function"!=typeof e)throw new TypeError(o);return!1===i?n=!1:r(i)&&(n="leading"in i?!!i.leading:n,a="trailing"in i?!!i.trailing:a),s(e,t,{leading:n,maxWait:+t,trailing:a})}var s=i(382),r=i(35),o="Expected a function";e.exports=n},function(e,t,i){function n(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}var s=i(386),r=i(392),o=Number.POSITIVE_INFINITY;n.prototype=s(r.prototype),n.prototype.constructor=n,e.exports=n},function(e,t){function i(e,t){for(var i=-1,n=e.length;++i<n&&!1!==t(e[i],i,e););return e}e.exports=i},function(e,t,i){var n=i(35),s=function(){function e(){}return function(t){if(n(t)){e.prototype=t;var i=new e;e.prototype=void 0}return i||{}}}();e.exports=s},function(e,t,i){function n(e,t,i,l){l||(l=[]);for(var u=-1,d=e.length;++u<d;){var h=e[u];c(h)&&a(h)&&(i||o(h)||r(h))?t?n(h,t,i,l):s(l,h):i||(l[l.length]=h)}return l}var s=i(1687),r=i(166),o=i(28),a=i(72),c=i(59);e.exports=n},function(e,t,i){function n(e,t){return s(e,t,r)}var s=i(634),r=i(114);e.exports=n},function(e,t,i){function n(e,t,i){if(null!=e){void 0!==i&&i in s(e)&&(t=[i]);for(var n=0,r=t.length;null!=e&&n<r;)e=e[t[n++]];return n&&n==r?e:void 0}}var s=i(96);e.exports=n},function(e,t,i){function n(e,t,i){if(t!==t)return s(e,i);for(var n=i-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}var s=i(1730);e.exports=n},function(e,t,i){function n(e,t,i,a,c,l){return e===t||(null==e||null==t||!r(e)&&!o(t)?e!==e&&t!==t:s(e,t,n,i,a,c,l))}var s=i(1697),r=i(35),o=i(59);e.exports=n},function(e,t){function i(){}e.exports=i},function(e,t,i){function n(e,t){return function(i,n,a){var c=t?t():{};if(n=s(n,a,3),o(i))for(var l=-1,u=i.length;++l<u;){var d=i[l];e(c,d,n(d,l,i),i)}else r(i,function(t,i,s){e(c,t,n(t,i,s),s)});return c}}var s=i(95),r=i(140),o=i(28);e.exports=n},function(e,t,i){function n(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=s(e.prototype),n=e.apply(i,t);return r(n)?n:i}}var s=i(386),r=i(35);e.exports=n},function(e,t,i){var n=i(637),s=n("length");e.exports=s},function(e,t){function i(e,t){for(var i=-1,s=e.length,r=-1,o=[];++i<s;)e[i]===t&&(e[i]=n,o[++r]=i);return o}var n="__lodash_placeholder__";e.exports=i},function(e,t,i){function n(e){if(r(e))return e;var t=[];return s(e).replace(o,function(e,i,n,s){t.push(n?s.replace(a,"$1"):i||e)}),t}var s=i(201),r=i(28),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;e.exports=n},function(e,t,i){function n(e,t,i,n){return t&&"boolean"!=typeof t&&o(e,t,i)?t=!1:"function"==typeof t&&(n=i,i=t,t=!1),"function"==typeof i?s(e,t,r(i,n,3)):s(e,t)}var s=i(1690),r=i(164),o=i(113);e.exports=n},function(e,t,i){function n(e){return s(e)&&a.call(e)==r}var s=i(35),r="[object Function]",o=Object.prototype,a=o.toString;e.exports=n},function(e,t,i){function n(e){return r(e)&&s(e.length)&&!!o[c.call(e)]}var s=i(141),r=i(59),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var a=Object.prototype,c=a.toString;e.exports=n},function(e,t){function i(e){return void 0===e}e.exports=i},function(e,t,i){function n(e){if(null==e)return[];c(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(r(e)||s(e))&&t||0;for(var i=e.constructor,n=-1,l="function"==typeof i&&i.prototype===e,d=Array(t),h=t>0;++n<t;)d[n]=n+"";for(var p in e)h&&o(p,t)||"constructor"==p&&(l||!u.call(e,p))||d.push(p);return d}var s=i(166),r=i(28),o=i(262),a=i(141),c=i(35),l=Object.prototype,u=l.hasOwnProperty;e.exports=n},function(e,t,i){function n(e){var t=++r;return s(e)+t}var s=i(201),r=0;e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){i(713),i(437),i(712),i(711),i(716),i(715),i(714),i(710)},function(e,t){!function(e){e.createElement=function(t){return e(document.createElement(t))}}(jQuery)},function(e,t,i){!function(t,n){e.exports=n(i(86),i(278),i(280),i(440))}(0,function(e,t,i,n){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=i(1),u=n(l),d=i(2),h=n(d),p=i(3),f=n(p),m=i(6),g=n(m),v=i(10),T=n(v),_=function(e){function t(i){r(this,t);var n=o(this,e.call(this));return n.defaultOptions=u.default.extend({},n.constructor.defaultOptions),n.options=u.default.extend({},n.defaultOptions,i),n._state={},n.$el=(0,u.default)("<div />").addClass(t.classNames.BASE),n._$pickers=(0,u.default)("<div />").addClass(t.classNames.PICKERS).appendTo(n.$el),n._initializePickerModels(),n._initializePickers(),n._initializePickerListeners(),n._initializePresets(),n.options.showTime&&n._initializeTimePickers(),n._setInitialDateRange(),n}return a(t,e),t.prototype._getEl=function(){return this.$el[0]},t.prototype._isControlled=function(){return!1},t.prototype._getOptions=function(){return this.options},t.prototype._getState=function(){return this._state},t.prototype._setState=function(e){u.default.extend(this._state,e),this.render(),this._leftModel.state.pendingRangeDayData?this._bindDocumentMouseDownHandler():this._unbindDocumentMouseDownHandler()},t.prototype.$=function(e){return this.$el.find(e)},t.prototype._initializePickers=function(){var e=this._getDatePickerOptions();this._leftPicker=new h.default(c({},e,{_model:this._leftModel})),this._rightPicker=new h.default(c({},e,{_model:this._rightModel}));var i=(0,u.default)("<div />").addClass(t.classNames.PICKERS_ROW).appendTo(this._$pickers);this._leftPicker.$el.add(this._rightPicker.$el).appendTo(i).wrap('<div class="'+t.classNames.PICKER_WRAPPER+'" />')},t.prototype._initializePresets=function(){this._$presetGroup=(0,u.default)('<div class="PillGroup" />').addClass(t.classNames.PRESETS).on("click",".Pill",this._handlePresetPillClick)},t.prototype._initializeTimePickers=function(){var e=this,i=this.options.timePickerOptions,n=this.options.endTimeDateLabelString||this.options.endTimeDateLabelText,s=this.options.startTimeDateLabelString||this.options.startTimeDateLabelText,r=this._getDatePickerOptions(),o=r.maxDate,a=r.minDate,l=r.momentZone,d=r.rangeEndDaySelectMethod,h=r.useUtc;this._startTimePicker=new T.default(c({},i,{minDate:a,momentZone:l,useUtc:h})),this._endTimePicker=new T.default(c({},i,{maxDate:o,momentZone:l,showPreviousDay:"ceil"===d,useUtc:h})),this._startTimePicker.on(T.default.events.CHANGE,function(t,i){return e._handleStartTimePickerChange(i)}),this._endTimePicker.on(T.default.events.CHANGE,function(t,i){return e._handleEndTimePickerChange(i)}),this._startTimePicker.$el.add(this._endTimePicker.$el).addClass("FormInput--small");var p=(0,u.default)("<div />").addClass(t.classNames.PICKERS_ROW).appendTo(this._$pickers),f=(0,u.default)(this._getTimePickerWrapperHtml(s)).append(this._startTimePicker.$el).appendTo(p),m=(0,u.default)(this._getTimePickerWrapperHtml(n)).append(this._endTimePicker.$el).appendTo(p);this._$startTimeLabelDate=f.find("."+t.classNames.TIME_PICKER_LABEL_DATE),this._$endTimeLabelDate=m.find("."+t.classNames.TIME_PICKER_LABEL_DATE)},t.prototype._getTimePickerWrapperHtml=function(e){return'\n      <div class="'+t.classNames.PICKER_WRAPPER+'">\n        <div class="'+t.classNames.TIME_PICKER_LABEL+'">\n          '+e+'\n          <span class="'+t.classNames.TIME_PICKER_LABEL_DATE+'"></span>\n        </div>\n      </div>'},t.prototype.render=function(){return this.$el.attr("dir",this._isRtl?"rtl":"").toggleClass(t.classNames.WITH_ADJACENT_MONTHS,this._areDisplayedMonthsAdjacent()),this._renderPresetGroup(),this._leftPicker.render(),this._rightPicker.render(),this._renderTimes(),this},t.prototype._renderPresetGroup=function(){var e=this._getValidPresetIndices(),t=e.length>0,i=1===this._$presetGroup.parent().length;!t&&i?this._$presetGroup.detach():t&&!i&&this._$presetGroup.prependTo(this.$el),t&&this._renderPresets(e)},t.prototype._renderPresets=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getValidPresetIndices(),i=this.options.presets,n=this.options.customPresetString||this.options.customPresetText,s=this._getSelectedPresetIndex(),r=t.map(function(t){var n=i[t],r=t===s;return e._getPresetHtml(t,n.string||n.text,r)}).join("");-1===s&&(r+=this._getPresetHtml(-1,n,!0)),this._$presetGroup.html(r)},t.prototype._getPresetHtml=function(e,i,n){return'\n      <div>\n        <div class="Pill'+(n?" "+t.classNames.PRESET_SELECTED:"")+'" data-index="'+e+'">\n          <button type="button">'+i+"</button>\n        </div>\n      </div>"},t.prototype._renderTimes=function(){if(this.options.showTime){var e=this._getDateRange(),t=e.startDate,i=e.endDate;this._startTimePicker.options.maxDate=i,this._endTimePicker.options.minDate=t,this._startTimePicker.date(t),this._endTimePicker.date(i),this._$startTimeLabelDate.text(this._formatDate(t)),this._$endTimeLabelDate.text(this._formatDate(i))}},t.prototype._initializePickerListeners=function(){var e=this,t=h.default.events,i="."+h.default.classNames.BASE;this.on(t.CHANGE,i,function(t,i){return e._handlePickerChange(i)}).on(t.PENDING_RANGE_CHANGE,i,function(t,i){return e._handlePickerPendingRangeChange(i)}),this._leftPicker.on(t.YEAR_CHANGE+" "+t.MONTH_CHANGE,function(t,i){return e._handleLeftPickerYearOrMonthChange(i)}),this._rightPicker.on(t.YEAR_CHANGE+" "+t.MONTH_CHANGE,function(t,i){return e._handleRightPickerYearOrMonthChange(i)})},t.prototype._triggerChange=function(e){this.trigger(t.events.CHANGE,e)},t.prototype._triggerPresetSelect=function(e){this.trigger(t.events.PRESET_SELECT,e)},t.prototype.dateRange=function(e){return void 0===e?this._getDateRange():(this._setDateRange(e),this)},t.prototype.remove=function(){return this._leftPicker.remove(),this._rightPicker.remove(),this.$el.remove(),this},t}((0,f.default)(g.default));_.DatePicker=h.default,e.exports=_},function(t,i){t.exports=e},function(e,i){e.exports=t},function(e,t,i){"use strict";function n(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):n(e,t))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(4),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(l);t.default=function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){function e(){o(this,e)}return e}();return t=e=function(e){function t(){var i,n,r;o(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return i=n=s(this,e.call.apply(e,[this].concat(c))),n._handlePresetPillClick=function(e){var t=n._getOptions(),i=t.presets,s=parseInt(e.currentTarget.getAttribute("data-index"),10),r=i[s];if(r){var o=n._leftModel.getClampedPresetDateRange(r.fn);n._isControlled()||n._setDateRange(o),n._triggerPresetSelect(r),n._triggerChange(o)}},n._handlePickerChange=function(e){n._triggerChange(e)},n._handleLeftPickerYearOrMonthChange=function(e){var t=n._getDateRange(),i=e.displayedYear,s=e.displayedMonth,r=n._rightModel.state,o=r.displayedYear,a=r.displayedMonth;n._resetState(t,i,s,o,a)},n._handleRightPickerYearOrMonthChange=function(e){var t=n._getDateRange(),i=e.displayedYear,s=e.displayedMonth,r=n._leftModel.state,o=r.displayedYear,a=r.displayedMonth;n._resetState(t,o,a,i,s)},n._handlePickerPendingRangeChange=function(e){e?(n._leftModel.updatePendingDateRange(e),n._rightModel.updatePendingDateRange(e),n._isPickerWithinMonthLimits(n._leftModel)&&n._isPickerWithinMonthLimits(n._rightModel)?n._setState({leftState:n._leftModel.state,rightState:n._rightModel.state}):n.resetMonths(n._leftModel.getDateRange())):n._setDateRange(n._isControlled()?n._getDateRange():n._leftModel.getDateRange())},n._handleDocumentMouseDown=function(e){n._getEl().contains(e.target)||n._setDateRange(n._getDateRange())},n._handleStartTimePickerChange=function(e){var t=n._getDateRange(),i=t.endDate,s={startDate:e,endDate:i};n._setDateRange(s),n._triggerChange(s)},n._handleEndTimePickerChange=function(e){var t=n._getDateRange(),i=t.startDate,s={startDate:i,endDate:e};n._setDateRange({startDate:i,endDate:e}),n._triggerChange(s)},r=i,s(n,r)}return r(t,e),t.prototype._initializePickerModels=function(){var e=this,t=this.constructor.DatePicker.Model;this._leftModel=new t,this._rightModel=new t,this._leftModel.getOptions=this._rightModel.getOptions=function(){return e._getDatePickerOptions()}},t.prototype._setInitialDateRange=function(){this._leftModel.initializeState({resetDisplayedMonth:!1}),this._setDateRange(this._leftModel.getDateRange())},t.prototype._getEl=function(){throw new Error("DateRange must implement `_getEl`")},t.prototype._isControlled=function(){throw new Error("DateRange must implement `_isControlled`")},t.prototype._getOptions=function(){throw new Error("DateRange must implement `_getOptions`")},t.prototype._getState=function(){throw new Error("DateRange must implement `_getState`")},t.prototype._setState=function(){throw new Error("DateRange must implement `_setState`")},t.prototype._triggerChange=function(){throw new Error("DateRange must implement `_triggerChange`")},t.prototype._triggerPresetSelect=function(){throw new Error("DateRange must implement `_triggerPresetSelect`")},t.prototype._getDatePickerOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getOptions(),t=e.datePickerOptions,i=e.defaultEndDate,n=e.defaultPresetFunction,s=e.defaultStartDate,r=e.endDate,o=e.startDate;return a({},this.constructor.DatePicker.defaultOptions,{showAdjacentMonthDays:!1},t,{defaultEndDate:i,defaultPresetFunction:n,defaultStartDate:s,endDate:r,startDate:o})},t.prototype._bindDocumentMouseDownHandler=function(){document.documentElement.addEventListener("mousedown",this._handleDocumentMouseDown)},t.prototype._unbindDocumentMouseDownHandler=function(){document.documentElement.removeEventListener("mousedown",this._handleDocumentMouseDown)},t.prototype._getDateRange=function(){var e=this._getState();return{startDate:e.startDate,endDate:e.endDate}},t.prototype._setDateRange=function(e){var t={resetDisplayedMonth:!1};this._leftModel.setDateRange(e,t),this._rightModel.setDateRange(e,t),this.resetMonths(this._leftModel.getDateRange())},t.prototype.resetMonths=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getDateRange(),t=this._leftModel.getMonthDataFromDateRange(e),i=t.startYear,n=t.startMonth,s=t.endYear,r=t.endMonth,o=Date.UTC(i,n);if(o!==Date.UTC(s,r))this._resetState(e,i,n,s,r);else{var a=this._getPickerMonthTimes(this._leftModel),c=this._getPickerMonthTimes(this._rightModel),l=a.displayed===o,u=c.displayed===o,d=o===c.max;u||!l&&d?this._resetState(e,i,n-1,i,n):this._resetState(e,i,n,i,n+1)}return this},t.prototype._resetState=function(e,t,i,n,s){this._leftModel.set({maxDisplayedMonthData:{year:n,month:s-1},displayedYear:t,displayedMonth:i}),this._rightModel.set({minDisplayedMonthData:{year:t,month:i+1},displayedYear:n,displayedMonth:s}),this._setState(a({},e,{leftState:this._leftModel.state,rightState:this._rightModel.state}))},t.prototype._isPickerWithinMonthLimits=function(e){var t=this._getPickerMonthTimes(e),i=t.displayed,n=t.min,s=t.max;return i>=n&&i<=s},t.prototype._getPickerMonthTimes=function(e){var t=e.getValidDateRange();return e.getMonthTimes(t)},t.prototype.getSelectedPreset=function(){return this._getOptions().presets[this._getSelectedPresetIndex()]},t.prototype._getSelectedPresetIndex=function(){for(var e=this._getOptions(),t=e.presets,i=0;i<t.length;i++)if(this._isPresetSelected(t[i]))return i;return-1},t.prototype._isPresetSelected=function(e){var t=this._leftModel.getClampedPresetDateRange(e.fn),i=this._getDateRange();return i.startDate-t.startDate==0&&i.endDate-t.endDate==0},t.prototype._getValidPresetIndices=function(){var e=this,t=this._getOptions(),i=t.presets,n={};return i.map(function(e,t){return t}).filter(function(t){return e._leftModel.isPresetWithinValidRange(i[t].fn)}).filter(function(t){var s=e._leftModel.getClampedPresetDateRange(i[t].fn),r=s.startDate,o=s.endDate,a=r.getTime()+"-"+o.getTime(),c=!n[a];return n[a]=!0,c})},t.prototype._areDisplayedMonthsAdjacent=function(){var e=this._leftModel.state,t=e.displayedYear,i=e.displayedMonth,n=this._rightModel.state,s=n.displayedYear,r=n.displayedMonth;return Date.UTC(t,i+1)===Date.UTC(s,r)},t.prototype._formatDate=function(e){return(this._getOptions().dateFormatter||this._leftModel.time.date.format)(e)},c(t,[{key:"_isRtl",get:function(){var e=this._getDatePickerOptions(),t=e.dir,i=e.isRtl;return"string"==typeof t?"rtl"===t:!0===i}}]),t}(i),e.defaultOptions={datePickerOptions:null,startDate:null,endDate:null,showTime:!1,timePickerOptions:null,startTimeDateLabelText:"Start time on",endTimeDateLabelText:"End time on",dateFormatter:null,defaultPresetFunction:u.today,presets:[{text:"Today",fn:u.today},{text:"Yesterday",fn:u.yesterday},{text:"Last 7 days",fn:u.last7Days},{text:"This quarter",fn:u.thisQuarter},{text:"Last quarter",fn:u.lastQuarter},{text:"This year",fn:u.thisYear}],customPresetText:"Custom"},e.classNames={BASE:"DateRange",PICKER_WRAPPER:"DateRange-pickerWrapper",PICKERS:"DateRange-pickers",PICKERS_ROW:"DateRange-pickersRow",PRESET_SELECTED:"is-selected",PRESETS:"DateRange-presets",TIME_PICKER_LABEL:"DateRange-timePickerLabel",TIME_PICKER_LABEL_DATE:"DateRange-timePickerLabelDate",WITH_ADJACENT_MONTHS:"DateRange--withAdjacentMonths"},e.events={CHANGE:"featherDateRangeChange",PRESET_SELECT:"featherDateRangePresetSelect"},e.presetFunctions=u,t}},function(e,t,i){"use strict";function n(e){var t=e.momentZone,i=e.useUtc;return t?f.default.zone(t):i?f.default.utc:f.default}function s(e){var t=n(e),i=t.day.offset(t.day.floor(new Date),-6);return{startDate:i,endDate:t.day.offset(i,"ceil"===e.rangeEndDaySelectMethod?7:6)}}function r(e){var t=n(e),i=t.day.offset(t.day.floor(new Date),-13);return{startDate:i,endDate:t.day.offset(i,"ceil"===e.rangeEndDaySelectMethod?14:13)}}function o(e){var t=n(e),i=t.month.floor(new Date),s=t.month.offset(i,1);return"floor"===e.rangeEndDaySelectMethod&&(s=t.day.offset(s,-1)),{startDate:i,endDate:s}}function a(e){var t=n(e),i=t.month.floor(new Date),s=t.month.offset(i,-1);return"floor"===e.rangeEndDaySelectMethod&&(i=t.day.offset(i,-1)),{startDate:s,endDate:i}}function c(e){var t=n(e),i=new Date,s=Math.floor(i.getMonth()/3)||4,r=t.month.offset(t.year.floor(i),3*(s-1));4===s&&(r=t.year.offset(r,-1));var o=t.month.offset(r,3);return"floor"===e.rangeEndDaySelectMethod&&(o=t.day.offset(o,-1)),{startDate:r,endDate:o}}function l(e){var t=n(e),i=new Date,s=Math.floor(i.getMonth()/3)+1,r=t.month.offset(t.year.floor(i),3*(s-1)),o=t.month.offset(r,3);return"floor"===e.rangeEndDaySelectMethod&&(o=t.day.offset(o,-1)),{startDate:r,endDate:o}}function u(e){var t=n(e),i=t.year.floor(new Date),s=t.year.offset(i,1);return"floor"===e.rangeEndDaySelectMethod&&(s=t.day.offset(s,-1)),{startDate:i,endDate:s}}function d(e){var t=n(e),i=t.day.floor(new Date);return{startDate:i,endDate:t.day.offset(i,"ceil"===e.rangeEndDaySelectMethod?1:0)}}function h(e){var t=n(e),i=t.day.offset(t.day.floor(new Date),-1);return{startDate:i,endDate:t.day.offset(i,"ceil"===e.rangeEndDaySelectMethod?1:0)}}t.__esModule=!0,t.last7Days=s,t.last14Days=r,t.thisMonth=o,t.lastMonth=a,t.lastQuarter=c,t.thisQuarter=l,t.thisYear=u,t.today=d,t.yesterday=h;var p=i(5),f=function(e){return e&&e.__esModule?e:{default:e}}(p)},function(e,t){e.exports=i},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=i(7),r=i(9),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){function e(){n(this,e)}return e.prototype.on=function(e){return c(e,"on"),(0,s.checkDeprecatedEventName)(e,"on"),this.$el?this.$el.on.apply(this.$el,arguments):this.el.addEventListener.apply(this.el,arguments),this},e.prototype.off=function(e){return c(e,"off"),(0,s.checkDeprecatedEventName)(e,"off"),this.$el?this.$el.off.apply(this.$el,arguments):this.el.removeEventListener.apply(this.el,arguments),this},e.prototype.trigger=function(e,t){if(c(e,"trigger"),this.$el)this.$el.trigger.apply(this.$el,arguments);else{var i=new o.default(e,t);this.el.dispatchEvent(i)}return this},e}(),c=function(e,t){if(!e)throw new Error("Called `"+t+"()` with an undefined or empty event name. Perhaps you are using an event name that has been removed? See the list of deprecated events on http://go/feather/docs/history")};t.default=a},function(e,t,i){"use strict";function n(e,t){return Object.keys(t).reduce(function(i,n){var s=t[n].newName||"";return i[n]=e+":"+n+":"+s+":"+a,i},{})}function s(e){if("string"==typeof e&&e.endsWith(a)){var t=e.split(":"),i=t[0],n=t[1],s=t[2],r=i+": Event `"+n+"` is deprecated.";s&&(r+=" Use `"+s+"` instead."),(0,o.default)(r)}}t.__esModule=!0,t.deprecatedEventNames=n,t.checkDeprecatedEventName=s;var r=i(8),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a="deprecated"},function(e,t,i){"use strict";function n(e){s[e]||(console.warn(e),s[e]=!0)}t.__esModule=!0,t.default=n;var s={}},function(e,t,i){"use strict";t.__esModule=!0;var n=void 0;try{n=new CustomEvent("test").constructor}catch(e){var s={bubbles:!1,cancelable:!1,detail:void 0};n=function(e,t){t=Object.assign({},s,t);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i},n.prototype=window.Event.prototype}t.default=n},function(e,t){e.exports=n}])})},function(e,t,i){!function(t,i){e.exports=i()}(0,function(){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=i(1),u=n(l),d=i(10),h=n(d),p=i(12),f=n(p),m=i(5),g=n(m),v=function(e){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,e.call(this,i));n.options=c({},t.defaultOptions,i);var s=n.options.containerEl;return n.containerEl=s||document.body,n.el=document.createElement("div"),n}return a(t,e),t.prototype._getEl=function(){return this.el},t.prototype._getContainerEl=function(){return this.containerEl},t.prototype._updateContainerContext=function(){if(!this.isGlobal()){var e=this.containerEl.style.position,t=window.getComputedStyle(this.containerEl).position,i=e||t;i&&"static"!==i||(this.containerEl.style.position="relative")}},t.prototype._renderBase=function(){var e=this.options.className,i=[e,t.classNames.BASE,this.isGlobal()?"":t.classNames.LOCAL].join(" ").trim();this.el.className=i,this.containerEl.appendChild(this.el)},t.prototype._renderContents=function(e){(0,f.default)(this.el),this.el.appendChild(e)},t.prototype.render=function(e){return this._updateContainerContext(),this._renderBase(),this._renderContents(e),this},t.prototype.remove=function(){return(0,g.default)(this.el),this},t}((0,h.default)(u.default));v.defaultOptions={className:"",containerEl:null},t.default=v},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=i(7),r=i(9),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){function e(){n(this,e)}return e.prototype.on=function(e){return c(e,"on"),(0,s.checkDeprecatedEventName)(e,"on"),this.$el?this.$el.on.apply(this.$el,arguments):this.el.addEventListener.apply(this.el,arguments),this},e.prototype.off=function(e){return c(e,"off"),(0,s.checkDeprecatedEventName)(e,"off"),this.$el?this.$el.off.apply(this.$el,arguments):this.el.removeEventListener.apply(this.el,arguments),this},e.prototype.trigger=function(e,t){if(c(e,"trigger"),this.$el)this.$el.trigger.apply(this.$el,arguments);else{var i=new o.default(e,t);this.el.dispatchEvent(i)}return this},e}(),c=function(e,t){if(!e)throw new Error("Called `"+t+"()` with an undefined or empty event name. Perhaps you are using an event name that has been removed? See the list of deprecated events on http://go/feather/docs/history")};t.default=a},function(e,t,i){"use strict";t.__esModule=!0,t.default={BASE:"Layer",IS_VISIBLE:"is-visible",LOCAL:"Layer--local",MODAL:"Modal",OVERLAY:"ModalOverlay"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.focusTrap=void 0;var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(4),a=n(o),c=i(11),l=n(c),u=function(){function e(){var t=this;s(this,e),this._handleFocusCapture=function(e){t._inFocusableContainer(e.target)||(e.target.blur&&e.target.blur(),e.preventDefault(),e.stopImmediatePropagation())},this._handleClickCapture=function(e){t._inFocusableContainer(e.target)||(e.preventDefault(),e.stopImmediatePropagation())},this._handleKeyDownCapture=function(e){e.which===a.default.TAB&&(e.preventDefault(),t.focusNext(e.shiftKey))},this._traps=[],this._focusableNodes=[]}return e.prototype._bindEventListeners=function(){document.addEventListener("focus",this._handleFocusCapture,!0),document.addEventListener("click",this._handleClickCapture,!0),document.addEventListener("keydown",this._handleKeyDownCapture,!0)},e.prototype._removeEventListeners=function(){document.removeEventListener("focus",this._handleFocusCapture,!0),document.removeEventListener("click",this._handleClickCapture,!0),document.removeEventListener("keydown",this._handleKeyDownCapture,!0)},e.prototype._inFocusableContainer=function(e){return this._activeTrap.focusContainers.some(function(t){return t.contains(e)})},e.prototype.focusNext=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._updateFocusableNodes(),!(this._focusableNodes.length<=0)){var t=this._focusableNodes.indexOf(document.activeElement),i=void 0;e?(i=t-1)<0&&(i=this._focusableNodes.length-1):i=(t+1)%this._focusableNodes.length,this._focusableNodes[i].focus()}},e.prototype._updateFocusableNodes=function(){var e=this;this._focusableNodes=[],this._activeTrap.focusContainers.forEach(function(t){e._focusableNodes=e._focusableNodes.concat((0,l.default)(t))})},e.prototype.activate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.initialFocusTarget;this._traps.push({focusedNodeBeforeActivation:document.activeElement,focusContainers:[e]}),this._bindEventListeners(),i&&this._inFocusableContainer(i)?i.focus():this.focusNext()},e.prototype.deactivate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isActive){var t=e.restoreFocus,i=this._traps.pop(),n=i.focusedNodeBeforeActivation;this._removeEventListeners(),t&&n&&n.focus&&n.focus()}},e.prototype.pause=function(){this.isActive&&this._removeEventListeners()},e.prototype.unpause=function(){this.isActive&&this._bindEventListeners()},e.prototype.addScope=function(e){if(this.isActive){var t=this._activeTrap.focusContainers;-1!==t.indexOf(e)||t.push(e)}},e.prototype.removeScope=function(e){if(this.isActive){var t=this._activeTrap.focusContainers,i=t.indexOf(e);-1!==i&&t.splice(i,1)}},r(e,[{key:"isActive",get:function(){return this._traps.length>0}},{key:"_activeTrap",get:function(){return this._traps[this._traps.length-1]}}]),e}();window.Feather=window.Feather||{};var d=window,h=d.Feather,p=h._focusTrap;p||(t.focusTrap=p=new u,h._focusTrap=p),t.default=h._focusTrap,t.focusTrap=p},function(e,t,i){"use strict";t.__esModule=!0,t.default={A:65,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,BACKSPACE:8,DELETE:46,END:35,ENTER:13,ESCAPE:27,HOME:36,PAGE_DOWN:34,PAGE_UP:33,SPACE:32,TAB:9,Y:89,Z:90}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(0),r=n(s),o=i(13),a=n(o);r.default.Modal=a.default,e.exports=r.default},function(e,t,i){"use strict";function n(e,t){return Object.keys(t).reduce(function(i,n){var s=t[n].newName||"";return i[n]=e+":"+n+":"+s+":"+a,i},{})}function s(e){if("string"==typeof e&&e.endsWith(a)){var t=e.split(":"),i=t[0],n=t[1],s=t[2],r=i+": Event `"+n+"` is deprecated.";s&&(r+=" Use `"+s+"` instead."),(0,o.default)(r)}}t.__esModule=!0,t.deprecatedEventNames=n,t.checkDeprecatedEventName=s;var r=i(8),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a="deprecated"},function(e,t,i){"use strict";function n(e){s[e]||(console.warn(e),s[e]=!0)}t.__esModule=!0,t.default=n;var s={}},function(e,t,i){"use strict";t.__esModule=!0;var n=void 0;try{n=new CustomEvent("test").constructor}catch(e){var s={bubbles:!1,cancelable:!1,detail:void 0};n=function(e,t){t=Object.assign({},s,t);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i},n.prototype=window.Event.prototype}t.default=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var c=i(2),l=n(c),u=i(3),d=n(u);t.default=function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){function e(){a(this,e)}return e}();return t=e=function(e){function t(){return a(this,t),r(this,e.apply(this,arguments))}return o(t,e),t.prototype._getEl=function(){throw new Error("Layer must implement `_getEl`")},t.prototype._getContainerEl=function(){throw new Error("Layer must implement `_getContainerEl`")},t.prototype.activate=function(){var e=this._getEl();d.default.addScope(e)},t.prototype.deactivate=function(){var e=this._getEl();d.default.removeScope(e)},t.prototype.isGlobal=function(){return this._getContainerEl()===document.body},t}(i),e.classNames=l.default,t}},function(e,t){function i(e){function t(n,s){if(n===e.documentElement)return!1;for(var r=0,o=i.length;r<o;r++)if(i[r][0]===n)return i[r][1];s=s||e.defaultView.getComputedStyle(n);var a=!1;return"none"===s.display?a=!0:n.parentNode&&(a=t(n.parentNode)),i.push([n,a]),a}var i=[];return function(i){if(i===e.documentElement)return!1;var n=e.defaultView.getComputedStyle(i);return!!t(i,n)||"hidden"===n.visibility}}e.exports=function(e,t){t=t||{};var n=e.ownerDocument||e,s=[],r=[],o=i(n),a=["input","select","a[href]","textarea","button","[tabindex]"],c=e.querySelectorAll(a);if(t.includeContainer){var l=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;a.some(function(t){return l.call(e,t)})&&(c=Array.prototype.slice.apply(c),c.unshift(e))}for(var u,d,h=0,p=c.length;h<p;h++)u=c[h],(d=parseInt(u.getAttribute("tabindex"),10)||u.tabIndex)<0||"INPUT"===u.tagName&&"hidden"===u.type||u.disabled||o(u,n)||(0===d?s.push(u):r.push({index:h,tabIndex:d,node:u}));var f=r.sort(function(e,t){return e.tabIndex===t.tabIndex?e.index-t.index:e.tabIndex-t.tabIndex}).map(function(e){return e.node});return Array.prototype.push.apply(f,s),f}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){Array.from(e.childNodes).forEach(function(t){e.removeChild(t)})}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=i(1),u=n(l),d=i(0),h=n(d),p=i(14),f=n(p),m=i(5),g=n(m),v=function(e){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,e.call(this,i));n.options=c({},t.defaultOptions,i);var s=n.options.containerEl,a=[n.options.className,t.classNames.MODAL].join(" ").trim();return n._layer=new h.default({className:a,containerEl:s}),n.el=n._layer.el,n._overlayEl=document.createElement("div"),n}return a(t,e),t.prototype._getEl=function(){return this.el},t.prototype._getContainerEl=function(){return this._layer.containerEl},t.prototype._getOverlayEl=function(){return this._overlayEl},t.prototype._getOptions=function(){return this.options},t.prototype._getLayer=function(){return this._layer},t.prototype._getCloseActionHandler=function(){return this.options.onCloseAction},t.prototype._renderOverlay=function(){this._overlayEl.className=t.classNames.OVERLAY,this._layer.containerEl.insertBefore(this._overlayEl,this._layer.el)},t.prototype.render=function(e){return this._layer.render(e),this._renderOverlay(),this},t.prototype.remove=function(){return this._isActive()?(this.deactivate(),this._handleTransitionEnd()):this._inTransition&&this._handleTransitionEnd(),(0,g.default)(this._overlayEl),this._layer.remove(),this},t.prototype._triggerActivateEnd=function(){this.trigger(t.events.ACTIVATE_END)},t.prototype._triggerDeactivateEnd=function(){this.trigger(t.events.DEACTIVATE_END)},t}((0,f.default)(u.default));v.defaultOptions={className:"",closeOnEscapeKey:!0,closeOnOverlayClick:!0,containerEl:null,onCloseAction:function(){}},v.events={ACTIVATE_END:"featherLayerActivateEnd",DEACTIVATE_END:"featherLayerDeactivateEnd"},t.default=v},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var c=i(2),l=n(c),u=i(15),d=n(u),h=i(3),p=n(h),f=i(4),m=n(f),g=i(17),v=n(g),T=i(18);t.default=function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){function e(){a(this,e)}return e}();return t=e=function(e){function t(){var i,n,s;a(this,t);for(var o=arguments.length,c=Array(o),l=0;l<o;l++)c[l]=arguments[l];return i=n=r(this,e.call.apply(e,[this].concat(c))),n._handleKeyDown=function(e){if(n._getOptions().closeOnEscapeKey&&e.which===m.default.ESCAPE){var t=n._getCloseActionHandler();t&&t()}},n._handleMouseDown=function(e){n._lastMouseDownTarget=e.target},n._handleMouseUp=function(e){var t=n._getEl(),i=n._getCloseActionHandler();n._getOptions().closeOnOverlayClick&&e.target===t&&e.target===n._lastMouseDownTarget&&i&&i()},n._handleTransitionEnd=function(){n._inTransition&&(n._inTransition=!1,n._isActive()?n._triggerActivateEnd():(n._restorePageContext(),n._triggerDeactivateEnd()))},s=i,r(n,s)}return o(t,e),t.prototype._getEl=function(){throw new Error("Modal must implement `_getEl`")},t.prototype._getContainerEl=function(){return new Error("Modal must implement `_getContainerEl`")},t.prototype._getOverlayEl=function(){throw new Error("Modal must implement `_getOverlayEl`")},t.prototype._getOptions=function(){throw new Error("Modal must implement `_getOptions`")},t.prototype._getLayer=function(){throw new Error("Modal must implement `_getLayer`")},t.prototype._getCloseActionHandler=function(){throw new Error("Modal must implement `_getCloseActionHandler`")},t.prototype._triggerActivateEnd=function(){throw new Error("Modal must implement `_triggerActivateEnd`")},t.prototype._triggerDeactivateEnd=function(){throw new Error("Modal must implement `_triggerDeactivateEnd`")},t.prototype._isActive=function(){var e=this._getOverlayEl();return e&&e.classList.contains(l.default.IS_VISIBLE)},t.prototype._attachEventHandlers=function(){var e=this._getEl();document.addEventListener("keydown",this._handleKeyDown),e.addEventListener("mousedown",this._handleMouseDown),e.addEventListener("mouseup",this._handleMouseUp)},t.prototype._removeEventHandlers=function(){var e=this._getEl();document.removeEventListener("keydown",this._handleKeyDown),e.removeEventListener("mousedown",this._handleMouseDown),e.removeEventListener("mouseup",this._handleMouseUp)},t.prototype._setAriaDisplayContext=function(){var e=this._getEl(),t=this._getContainerEl(),i=this._getOverlayEl();(0,T.ariaHideChildren)(t,{excludedEls:[e,i]})},t.prototype._trapFocus=function(){var e=this._getEl();e.setAttribute("tabindex","-1"),p.default.activate(e,{initialFocusTarget:e})},t.prototype._untrapFocus=function(){var e=this._getLayer();p.default.deactivate({restoreFocus:e.isGlobal()})},t.prototype._updatePageContext=function(){var e=this._getContainerEl();d.default.lock({hide:!0,target:e}),this._setAriaDisplayContext(),this._trapFocus()},t.prototype._restorePageContext=function(){var e=this._getEl(),t=this._getContainerEl();d.default.unlock(),(0,T.ariaShowChildren)(t,{excludedEls:[e]}),this._untrapFocus()},t.prototype.activate=function(){var e=this._getOverlayEl();return this._updatePageContext(),this._attachEventHandlers(),this._inTransition||(this._inTransition=!0,(0,v.default)(e,"opacity",this._handleTransitionEnd)),e.classList.add(l.default.IS_VISIBLE),this},t.prototype.deactivate=function(){var e=this._getOverlayEl();return this._removeEventHandlers(),this._inTransition||(this._inTransition=!0,(0,v.default)(e,"opacity",this._handleTransitionEnd)),e.classList.remove(l.default.IS_VISIBLE),this},t.prototype.show=function(){return this._getEl().classList.add(l.default.IS_VISIBLE),this},t.prototype.hide=function(){return this._getEl().classList.remove(l.default.IS_VISIBLE),this},t}(i),e.classNames=l.default,t}},function(e,t,i){"use strict";t.__esModule=!0;var n=i(16),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r={lock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hide,i=void 0!==t&&t,n=e.target,s=void 0===n?document.body:n;this._isLocked()&&this.unlock();var r=this._getScrollLeft(s),o=this._getScrollTop(s);this._context={hide:i,scrollLeft:r,scrollTop:o,target:s,targetCssText:s.style.cssText},i&&this._hideScrollbars(),window.addEventListener("resize",this._handleWindowResize),this._getScrollEventTarget(s).addEventListener("scroll",this._handleTargetScroll),s.style.msScrollLimit=r+"px "+o+"px "+r+"px "+o+"px"},_hideScrollbars:function(){var e=this._context.target,t=window.getComputedStyle(e),i=parseInt(t.paddingBottom,10)||0,n=parseInt(t.paddingRight,10)||0,r=(0,s.default)(),o=["overflow: hidden;"];this._isTargetWidthOverflowing()&&o.push("padding-bottom: "+(i+r)+"px;"),this._isTargetHeightOverflowing()&&o.push("padding-right: "+(n+r)+"px;"),e.style.cssText+=o.join(" ")},unlock:function(){if(this._isLocked()){var e=this._context,t=e.target,i=e.targetCssText;delete this._context;var n=t.scrollHeight,s=t.scrollWidth;t.style.msScrollLimit="0 0 "+s+"px "+n+"px",this._getScrollLeft(t),t.style.cssText=i,window.removeEventListener("resize",this._handleWindowResize),this._getScrollEventTarget(t).removeEventListener("scroll",this._handleTargetScroll)}},_isLocked:function(){return!!this._context},_getScrollEventTarget:function(e){return e===document.body?window:e},_getOverflowTarget:function(){var e=this._context.target;return e===document.body?document.documentElement:e},_isTargetWidthOverflowing:function(){var e=this._getOverflowTarget(),t=e.clientWidth;return e.scrollWidth>t},_isTargetHeightOverflowing:function(){var e=this._getOverflowTarget(),t=e.clientHeight;return e.scrollHeight>t},_getScrollLeft:function(e){return e===document.body?window.pageXOffset:e.scrollLeft},_getScrollTop:function(e){return e===document.body?window.pageYOffset:e.scrollTop},_setScrollLeft:function(e){var t=this._context.target;t===document.body?document.body.scrollLeft=document.documentElement.scrollLeft=e:t.scrollLeft=e},_setScrollTop:function(e){var t=this._context.target;t===document.body?document.body.scrollTop=document.documentElement.scrollTop=e:t.scrollTop=e},_handleWindowResize:function(){r._isWindowResizeAnimationFrameScheduled||(r._isWindowResizeAnimationFrameScheduled=!0,window.requestAnimationFrame(r._handleWindowResizeAnimationFrame))},_handleWindowResizeAnimationFrame:function(){if(r._isLocked()){var e=r._context,t=e.hide,i=e.target;r.lock({hide:t,target:i})}r._isWindowResizeAnimationFrameScheduled=!1},_handleTargetScroll:function(){var e=r._context,t=e.scrollLeft,i=e.scrollTop;r._setScrollLeft(t),r._setScrollTop(i)}};t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e;return function(){if(null!=e)return e;var t=window.document.createElement("div"),i=window.document.createElement("div");return t.style.width="100px",t.style.overflowX="scroll",i.style.width="100px",window.document.body.appendChild(t),window.document.body.appendChild(i),e=t.offsetHeight-i.offsetHeight,window.document.body.removeChild(t),window.document.body.removeChild(i),e}}();t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t,i){var n=function n(s){s.target===e&&s.propertyName===t&&(e.removeEventListener("transitionend",n),i(s))};e.addEventListener("transitionend",n)}},function(e,t,i){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.shouldShow;null==i&&(i="true"===e.getAttribute("aria-hidden")),i?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden","true")}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.excludedEls,s=void 0===i?[]:i,r=t.shouldShow,o=e.children;Array.from(o).forEach(function(e){s.indexOf(e)<0&&c(e)&&n(e,{shouldShow:r})})}function r(e){s(e,{excludedEls:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).excludedEls,shouldShow:!1})}function o(e){s(e,{excludedEls:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).excludedEls,shouldShow:!0})}t.__esModule=!0;var a=["script","style","template"],c=function(e){var t=e.nodeType,i=e.tagName;return t===Node.ELEMENT_NODE&&-1===a.indexOf(i.toLowerCase())};t.ariaHideChildren=r,t.ariaShowChildren=o,t.ariaToggleHidden=n,t.ariaToggleChildren=s,t.default=n}])})},function(e,t,i){!function(t,n){e.exports=n(i(86),i(116),i(280))}(0,function(e,t,i){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}var c=i(1),l=n(c),u=i(2),d=n(u),h=i(3),p=n(h),f=i(7),m=n(f),g=function(e){function t(i){r(this,t);var n=o(this,e.call(this));return n.defaultOptions=l.default.extend({},t.defaultOptions),n._getOptions=function(){return n.options},n._handleModelChange=function(){n.render()},n._handleDropdownBeforeOpen=function(){n._$menu.html(n._getMenuItemsHtml())},n.options=l.default.extend(!0,{},n.defaultOptions,i),n._initializeModel(),n.$el=(0,l.default)('<input type="text" class="'+t.classNames.BASE+' FormInput" />').focus(n._handleFocus).keydown(n._handleKeyDown).on("input",n._handleInput),n._initializeMenu(),n.render(),n}return a(t,e),t.prototype._initializeMenu=function(){this._$menu=(0,l.default)('<ul class="'+d.default.classNames.BASE+" "+t.classNames.DROPDOWN+'" role="menu" />'),this._$menu.on("click","."+d.default.classNames.MENU_ITEM,this._handleDropdownMenuItemClick),this._dropdown=new d.default({$wrapper:this._$menu}).openOnClick(this.$el)._openOnFocus(this.$el),this._dropdown.on(d.default.events.BEFORE_OPEN,this._handleDropdownBeforeOpen),this._dropdown.on(d.default.events.AFTER_OPEN,this._handleDropdownAfterOpen),this._dropdown.on(d.default.events.BLUR,this._handleDropdownBlur)},t.prototype._isControlled=function(){return!1},t.prototype.$=function(e){return this.$el.find(e)},t.prototype.render=function(){var e=this._model.state,i=e.inputValue,n=e.isFocused,s=e.isInvalid;this.$el.toggleClass(t.classNames.FOCUS,n).toggleClass(t.classNames.INVALID,s),this.$el.val()!==i&&this.$el.val(i)},t.prototype._getMenuItemsHtml=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._model.state.date,i=this._model.getMenuItemDates(t);return i.reduce(function(t,n,s){var r=i[s-1];return r&&e._model.time.date.getValue(r)!==e._model.time.date.getValue(n)&&(t+='<li class="Dropdown-divider" role="separator"></li>'),t+'\n        <li class="Dropdown-menuItem" data-time="'+n.getTime()+'">\n          <button class="Dropdown-menuItemContent" role="menuitem" tabindex="-1">\n            '+e._model.formatTime(n)+"\n          </button>\n        </li>"},"")},t.prototype._triggerChange=function(){this.trigger(t.events.CHANGE,this.date())},t.prototype.date=function(e){return void 0!==e?(e=new Date(e.getTime()),this._model.setDate(e),this):(e=this._model.state.date,new Date(e.getTime()))},t.prototype.remove=function(){return this._dropdown.remove(),this.$el.remove(),this},t}((0,m.default)(p.default));g.events={CHANGE:"featherTimePickerChange"},e.exports=g},function(t,i){t.exports=e},function(e,i){e.exports=t},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=i(4),r=i(6),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){function e(){n(this,e)}return e.prototype.on=function(e){return c(e,"on"),(0,s.checkDeprecatedEventName)(e,"on"),this.$el?this.$el.on.apply(this.$el,arguments):this.el.addEventListener.apply(this.el,arguments),this},e.prototype.off=function(e){return c(e,"off"),(0,s.checkDeprecatedEventName)(e,"off"),this.$el?this.$el.off.apply(this.$el,arguments):this.el.removeEventListener.apply(this.el,arguments),this},e.prototype.trigger=function(e,t){if(c(e,"trigger"),this.$el)this.$el.trigger.apply(this.$el,arguments);else{var i=new o.default(e,t);this.el.dispatchEvent(i)}return this},e}(),c=function(e,t){if(!e)throw new Error("Called `"+t+"()` with an undefined or empty event name. Perhaps you are using an event name that has been removed? See the list of deprecated events on http://go/feather/docs/history")};t.default=a},function(e,t,i){"use strict";function n(e,t){return Object.keys(t).reduce(function(i,n){var s=t[n].newName||"";return i[n]=e+":"+n+":"+s+":"+a,i},{})}function s(e){if("string"==typeof e&&e.endsWith(a)){var t=e.split(":"),i=t[0],n=t[1],s=t[2],r=i+": Event `"+n+"` is deprecated.";s&&(r+=" Use `"+s+"` instead."),(0,o.default)(r)}}t.__esModule=!0,t.deprecatedEventNames=n,t.checkDeprecatedEventName=s;var r=i(5),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a="deprecated"},function(e,t,i){"use strict";function n(e){s[e]||(console.warn(e),s[e]=!0)}t.__esModule=!0,t.default=n;var s={}},function(e,t,i){"use strict";t.__esModule=!0;var n=void 0;try{n=new CustomEvent("test").constructor}catch(e){var s={bubbles:!1,cancelable:!1,detail:void 0};n=function(e,t){t=Object.assign({},s,t);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i},n.prototype=window.Event.prototype}t.default=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=i(8),u=n(l),d=i(9),h=n(d);t.default=function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){function e(){a(this,e)}return e}();return t=e=function(e){function t(){var i,n,s;a(this,t);for(var o=arguments.length,c=Array(o),l=0;l<o;l++)c[l]=arguments[l];return i=n=r(this,e.call.apply(e,[this].concat(c))),n._handleFocus=function(){n._model.setFocused(!0)},n._handleKeyDown=function(e){e.which===u.default.ENTER&&n._evalInput()},n._handleInput=function(e){n._model.setInputValue(e.target.value),n._dropdown.close()},n._handleDropdownAfterOpen=function(){n._scrollToClosestMenuItem()},n._handleDropdownBlur=function(){n._model.setFocused(!1),n._evalInput()},n._handleDropdownMenuItemClick=function(e){n._dropdown.close();var t=parseInt(e.currentTarget.getAttribute("data-time"),10),i=new Date(t);n._setDateAndTriggerChange(i)},s=i,r(n,s)}return o(t,e),t.prototype._initializeModel=function(){this._model=new h.default,this._model.getOptions=this._getOptions.bind(this),this._model.initializeState(),this._model.onChange=this._handleModelChange.bind(this)},t.prototype._getOptions=function(){throw new Error("TimePicker must implement `_getOptions`")},t.prototype._handleModelChange=function(){throw new Error("TimePicker must implement `_handleModelChange`")},t.prototype._isControlled=function(){throw new Error("TimePicker must implement `_isControlled`")},t.prototype._triggerChange=function(){throw new Error("TimePicker must implement `_triggerChange`")},t.prototype._setDateAndTriggerChange=function(e){var t=this._model.clampDate(e),i=this._model.state.date,n=t.getTime()!==i.getTime();this._isControlled()?this._model.resetInput():this._model.setDate(t),n&&this._triggerChange(t)},t.prototype._evalInput=function(){var e=this._model.state,t=e.inputValue,i=e.isFocused,n=this._model.parseTime(t);this._model.isDateValid(n)?this._setDateAndTriggerChange(n):i?this._model.setInvalid(!0):this._model.resetInput()},t.prototype._scrollToClosestMenuItem=function(){var e=this._dropdown._getMenuItemListEl(),t=this._findClosestMenuItemEl();if(t){var i=e.offsetHeight,n=t.offsetTop,s=t.offsetHeight;e.scrollTop=n-i/2+s/2}},t.prototype._findClosestMenuItemEl=function(){for(var e=this._model.state.date,t=e.getTime(),i=this._dropdown._getMenuItemListEl(),n=null,s=null,r=i.firstElementChild;r;r=r.nextElementSibling){var o=parseInt(r.getAttribute("data-time"),10);if(!isNaN(o)){Math.abs(o-t)<(null===s?1/0:Math.abs(s-t))&&(n=r,s=o)}}return n},t}(i),e.Model=h.default,e.defaultOptions=c({},h.default.defaultOptions),e.classNames={BASE:"TimePicker",DROPDOWN:"TimePickerDropdown",FOCUS:"is-focus",INVALID:"is-invalid"},t}},function(e,t,i){"use strict";t.__esModule=!0,t.default={A:65,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,BACKSPACE:8,DELETE:46,END:35,ENTER:13,ESCAPE:27,HOME:36,PAGE_DOWN:34,PAGE_UP:33,SPACE:32,TAB:9,Y:89,Z:90}},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(10),a=function(e){return e&&e.__esModule?e:{default:e}}(o),c=function(){function e(){n(this,e),this.state={isFocused:!1,isInvalid:!1}}return e.prototype.onChange=function(){},e.prototype.getOptions=function(){return e.defaultOptions},e.prototype.initializeState=function(){var e=this.getOptions(),t=e.date,i=e.defaultDate;this.setDate(t||i||new Date)},e.prototype._set=function(e){this.state=s({},this.state,e),this.onChange()},e.prototype.setDate=function(e){e=this.clampDate(e),this._set({date:new Date(e),inputValue:this.formatTime(e),isInvalid:!1})},e.prototype.setFocused=function(e){this._set({isFocused:e})},e.prototype.setInputValue=function(e){this._set({inputValue:e})},e.prototype.setInvalid=function(e){this._set({isInvalid:e})},e.prototype.resetInput=function(){var e=this.state.date;this._set({inputValue:this.formatTime(e),isInvalid:!1})},e.prototype.clampDate=function(e){var t=this.getOptions(),i=t.minDate,n=t.maxDate;return a.default.applyMinAndMaxToDate(e,i,n)},e.prototype.formatTime=function(e){var t=this.getOptions(),i=t.use24HourClock;return this.time.format(e,{use24HourClock:i})},e.prototype.parseTime=function(e){var t=this.getOptions(),i=t.use24HourClock,n=this.state.date;return this.time.parse(e,{date:n,use24HourClock:i})},e.prototype.isDateValid=function(e){return e instanceof Date&&e.getTime()===this.clampDate(e).getTime()},e.prototype.getMenuItemDates=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.date,t=this.getOptions(),i=t.maxDate,n=t.menuIncrementMs,s=t.minDate,r=t.showPreviousDay,o=this.time.date.getFullYear(e),a=this.time.date.getMonth(e),c=this.time.date.getValue(e),l=this.time.date.create(o,a,c);r&&e.getTime()===l.getTime()&&(l=this.time.date.create(o,a,c-1));for(var u=[],d=this.time.date.create(o,a,c+1);l.getTime()<d.getTime();){var h=s&&l<s,p=i&&l>i;h||p||u.push(new Date(l.getTime())),this.time.date.setMilliseconds(l,n)}return u},r(e,[{key:"time",get:function(){var e=this.getOptions(),t=e.momentZone,i=e.useUtc;return t?a.default.zone(t):i?a.default.utc:a.default}}]),e}();c.defaultOptions={date:null,defaultDate:null,maxDate:null,menuIncrementMs:18e5,minDate:null,momentZone:null,showPreviousDay:!1,use24HourClock:!1,useUtc:!1},t.default=c},function(e,t){e.exports=i}])})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(79),r=n(s),o=i(80),a=n(o),c=i(171),l=n(c),u=function(){function e(t,i){if((0,r.default)(this,e),this.created=t,this.cursors=i,!i.length)throw Error("AggregateCursor created with no cursors");this.interval=i.reduce(function(e,t){return e.hull(t.interval)},l.default.empty)}return(0,a.default)(e,[{key:"getCursors",value:function(){return this.cursors}}]),e}();t.default=u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,r,o=i(79),a=n(o),c=i(80),l=n(c),u=(r=s=function(){function e(t,i){(0,a.default)(this,e),this._account=t,this._callback=i,this._url="",this._state=e.DISCONNECTED,this._stream=null,this._backoffLimit=0,this._backoffTimeout=null,this._keepaliveTimeout=null,this._handleData=TD.util.bind(this._handleData,this),this._handleStreamInterruption=TD.util.bind(this._handleStreamInterruption,this),this.connect=_.debounce(this._connect,50)}return(0,l.default)(e,[{key:"log",value:function(){e.DEBUG&&(console.log((new Date).toUTCString(),">",this._account.getUsername(),">",arguments),TD.util.insertLogDivider())}},{key:"_connect",value:function(e){if(e===this._url)return void this.log("Connect",e,"Already connecting/connected. Do nothing");e?(this.log("Connect",e),this.disconnect(),this._url=e,this._startNewStream()):(this.log("Connect",e,"Nothing to stream. Disconnecting"),this.disconnect())}},{key:"disconnect",value:function(){this.log("Disconnect completely"),this._setState(e.DISCONNECTED),this._disconnectStream(),this._url="",this._backoffLimit=0}},{key:"isStreaming",value:function(){var t=this._state===e.STREAMING;return this.log("isStreaming",t),t}},{key:"_setState",value:function(t){var i=this._state===e.STREAMING,n=t===e.STREAMING;this._state=t,i!==n&&$(document).trigger("dataUserStreamStatus",{accountKey:this._account.getKey(),streaming:n})}},{key:"_startNewStream",value:function(){this._disconnectStream(),this.log("Start stream"),this._setState(e.CONNECTING),this._stream=this._createStreamRequest(),this._stream.goStreaming()}},{key:"_disconnectStream",value:function(){this._stream&&(this.log("Disconnect stream"),this._stream.onStreaming.disconnect&&(this._stream.onStreaming.disconnect(this._handleData),this._stream.onFailure.disconnect(this._handleStreamInterruption)),this._stream.deleteLater(),this._stream=null),clearTimeout(this._backoffTimeout),clearTimeout(this._keepaliveTimeout),this._backoffTimeout=null,this._keepaliveTimeout=null}},{key:"_handleData",value:function(t){var i=this;switch(this._state){case e.DISCONNECTED:return;case e.CONNECTING:this._setState(e.STREAMING),this._backoffLimit=0,this.log("Stream is functioning")}this._processDataString(t),clearTimeout(this._keepaliveTimeout),this._keepaliveTimeout=setTimeout(function(){i._handleStreamInterruption("Keepalive timeout",0)},e.KEEPALIVE_PERIOD),this._stream.receivedChars>e.XHR_BYTE_LIMIT&&(this.log("Reached XHR byte limit, reconnecting"),this._startNewStream())}},{key:"_processDataString",value:function(e){var t,i,n=0;if(e){t=e.split("\r");for(var s=0;s<t.length;s++)i=t[s].trim(),i.length&&(n++,this._callback(JSON.parse(i)));$(document).trigger("dataReceivedStreamData",{numStreamItems:n})}}},{key:"_handleStreamInterruption",value:function(t,i){switch(this.log("Stream interrupted",t,i),TD.util.metric("api:stream:interruption:state:"+this._state),TD.util.metric("api:stream:interruption:status:"+i),this._state){case e.DISCONNECTED:break;case e.CONNECTING:this._disconnectStream(),this._setBackoffTimeout(i);break;case e.STREAMING:this._startNewStream()}}},{key:"_setBackoffTimeout",value:function(t){var i=this;this._backoffLimit=Math.max(this._backoffLimit,e.BACKOFF_PERIOD_MIN),this._backoffLimit*=2,"420"===String(t)?this._backoffLimit=Math.min(this._backoffLimit,e.BACKOFF_PERIOD_MAX_EXTENDED):this._backoffLimit=Math.min(this._backoffLimit,e.BACKOFF_PERIOD_MAX);var n=this._backoffLimit/2,s=n+Math.ceil(Math.random()*n);this.log("Set backoff timeout",(s/1e3).toString()+"s"),this._setState(e.CONNECTING),this._backoffTimeout=setTimeout(function(){i.log("Backoff complete, attempting reconnect"),i._startNewStream()},s)}},{key:"_createStreamRequest",value:function(){var e=new TD.net.StreamRequest(this._url,this._account);return e.onStreaming.connect(this._handleData),e.onFailure.connect(this._handleStreamInterruption),e}}]),e}(),s.BACKOFF_PERIOD_MIN=2e4,s.BACKOFF_PERIOD_MAX=24e4,s.BACKOFF_PERIOD_MAX_EXTENDED=72e4,s.KEEPALIVE_PERIOD=9e4,s.XHR_BYTE_LIMIT=5e7,s.DISCONNECTED="disconnected",s.CONNECTING="connecting",s.STREAMING="streaming",s.DEBUG=!1,r);t.default=u},function(e,t,i){"use strict";e.exports={AUTHENTICATION_FAILED:{twitterErrorCode:32,message:TD.i("Your username and password did not match our records or have expired")},404:{twitterErrorCode:34,message:TD.i("We could not complete your request because the tweet may be protected or deleted")},SUSPENDED_USER:{twitterErrorCode:63,message:TD.i("This user has been suspended")},SUSPENDED_ACCOUNT:{twitterErrorCode:64,message:TD.i("Your account is suspended and is not permitted to access this feature")},RATE_LIMITED:{twitterErrorCode:88,message:TD.i("Sorry, you've made too many requests so Twitter has temporarily limited your access. Try again in a few minutes")},RATE_LIMITED_DM_SEND:{twitterErrorCode:88,message:TD.i("You hit your daily limit for sending messages")},INVALID_TOKEN:{twitterErrorCode:89,message:TD.i("Your access is invalid or has expired")},RECIPIENT_DOES_NOT_EXIST:{twitterErrorCode:108,message:TD.i("There is no user by that name.")},OVER_CAPACITY:{twitterErrorCode:130,message:TD.i("Twitter is temporarily over capacity. Please try again later")},INTERNAL_ERROR:{twitterErrorCode:131,message:TD.i("There's something wrong. Please try again later")},USER_AUTHENTICATION_FAILED:{twitterErrorCode:135,message:TD.i("Could not authenticate you")},NOT_FOLLOWING:{twitterErrorCode:150,message:TD.i("This user doesn't follow you. You can only send messages to people who do.")},MESSAGE_SEND_ERROR:{twitterErrorCode:151,message:TD.i("Something went wrong, but don't fret, it's not your fault.")},DUPLICATE_TWEET:{twitterErrorCode:187,message:TD.i("You already tweeted that")},INVALID_SEARCH_QUERY:{twitterErrorCode:195,message:TD.i("Invalid search query")},ACCESS_REVOKED:{twitterErrorCode:220,message:TD.i("Unable to access this resource")},DUPLICATE_MESSAGE:{twitterErrorCode:311,message:TD.i("You have already sent this message")},TOO_MANY_CONTRIBUTORS:{twitterErrorCode:317,message:TD.i("You cannot add any more Team members.")},TOO_MANY_CONTRIBUTEES:{twitterErrorCode:318,message:TD.i("That user cannot be added to any more Teams.")},CONTRIBUTION_DISALLOWED:{twitterErrorCode:330,message:TD.i("That user has privacy settings enabled preventing them from being added to this team.")},PROTECTED_TWEET:{message:TD.i("Sorry, we could not perform your retweet because the tweet is protected")},DUPLICATE_RETWEET:{message:TD.i("Whoops! You've already Retweeted that…")},USER_DOES_NOT_EXIST:{message:TD.i("That user does not exist")},UNKNOWN:{message:TD.i("An unknown error occurred. Please try again shortly.")}}},function(e,t,i){"use strict";function n(e,t){return t=t||{},(e||"").replace(/\{\{([^{}]*?)\}\}/g,function(e,i){var n=t[i];return"string"==typeof n||"number"==typeof n?n:e})}var s={emoji:"/web/assets/emoji/{{icon}}.png",td_screenshot:"/web/assets/global/backgrounds/td_screenshot@{{resolution}}.png",templates:"/web/templates/{{name}}.html",unbundled:"/web/scripts/unbundled/{{name}}.js",logos:"/web/assets/logos/{{name}}.png",html:"/web/{{name}}.html"};e.exports={get:function(e,t){var i=s[e]?n(s[e],t):e;return(TD.assetsOverlay||{})[i]||i||e}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(79),r=n(s),o=i(80),a=n(o),c=function(){function e(t){(0,r.default)(this,e),this.maxSize=t,this.length=0,this._first=void 0,this._last=void 0,this._index={},this._lefts={},this._rights={}}return(0,a.default)(e,[{key:"enqueue",value:function(e,t){e&&(this.dequeue(e),0==this.length?this._first=this._last=e:(this._lefts[this._first]=e,this._rights[e]=this._first,this._first=e),this._index[e]=t,this.length++,this.prune())}},{key:"dequeue",value:function(e){if(!_.isUndefined(this._index[e])){var t=this._lefts[e],i=this._rights[e];t?this._rights[t]=i:this._first=i,i?this._lefts[i]=t:this._last=t,delete this._index[e],delete this._rights[e],delete this._lefts[e],this.length--}}},{key:"prune",value:function(){for(;this.maxSize&&this.length>this.maxSize;)this.dequeue(this._last)}},{key:"get",value:function(e){return this._index[e]}},{key:"getOrElse",value:function(e,t){var i=this._index[e];return void 0===i&&(i=_.isFunction(t)?t():t,this.enqueue(e,i)),i}},{key:"take",value:function(e){var t=[],i=this._first;e=Math.min(e,this.length);for(var n=0;n<e;n++)t.push(this._index[i]),i=this._rights[i];return t}}]),e}();t.default=c},function(e,t,i){"use strict";var n=i(15);!function(e){e&&e.__esModule}(n);TD.buildID="4b6e63e0e22df1f573a7462e3db3284a045ff3bb",TD.buildIDShort="4b6e63e",TD.version="4.0.180124135908",TD.config={minimum_version:"4.0.170922105444",web_root:"https://tweetdeck.twitter.com",api_root:"https://tweetdeck.twitter.com",twitter_api_base:"https://api.twitter.com",twitter_api_version:"1.1",twitter_stream_base:"https://userstream.twitter.com",twitter_upload_base:"https://upload.twitter.com",td_create_key:"WRaMQNHU2Jy51bhFEL3C",td_create_secret:"MiLkmD1t1xlZqKoLLY8ScxX5gwpOQsjBopZcV4KLcuo=",bearer_token:"AAAAAAAAAAAAAAAAAAAAAF7aAAAAAAAASCiRjWvh7R5wxaKkFp7MM%2BhYBqM%3DbQ0JPmjU9F6ZoMhDfI4uTNAaQuTDm2uO9x3WFVr2xBZ2nhjdP0",mapbox_access_token:"pk.eyJ1IjoidHdpdHRlcmdlbzQ0YWJjN2IiLCJhIjoiY2lyNmY4bzlkMDBkc2cybmZ0ZDhmOXpiOSJ9.ZqJPuJTqqxFLO0oUD0zFAw",client_name:"blackbird",sync_name:"blackbird",touchdeck:!0},e.exports=TD.config},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.getUserID();return D.has(t)||D.set(t,new C(e)),D.get(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(104),o=n(r),a=i(79),c=n(a),l=i(80),u=n(l),d=i(517),h=n(d),p=i(17),f=n(p);t.getAccountPipeline=s,i(422);var m=i(18),g=n(m),v=i(62),T=n(v),_=i(421),y=i(119),w=i(55),b=n(w),D=new h.default,C=function(){function e(t){var i=this;(0,c.default)(this,e),this.account=t;var n=(0,y.maybeAddContributorsHeaders)({},t),s=(0,T.default)(t.isContributor(),function(){return i.makeEventSourcePolyfill.bind(null,n)},function(){return i.makeEventSource});this.livepipeline=new _.LivePipeline({makeEventSource:s,updateSubscriptions:this.updateSubscriptions.bind(this)})}return(0,u.default)(e,[{key:"makeEventSource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,b.default)(TD.config.twitter_api_base+"/live_pipeline/events").query({topic:e.join(",")}),i={withCredentials:!0};return o.default.resolve(new EventSource(t,i))}},{key:"makeEventSourcePolyfill",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=(0,b.default)(TD.config.twitter_api_base+"/live_pipeline/events").query({topic:t.join(",")}),n={withCredentials:!0,headers:e};return o.default.resolve(new EventSourcePolyfill(i,n))}},{key:"makeFetched",value:function(e,t){return(0,y.fetched)(e,t)}},{key:"updateSubscriptions",value:function(e){var t=e.toSubscribe,i=void 0===t?[]:t,n=e.toUnsubscribe,s=void 0===n?[]:n,r=e.sessionId,o=void 0===r?"":r,a=TD.config.twitter_api_base+"/"+TD.config.twitter_api_version+"/live_pipeline/update_subscriptions";return this.makeFetched(a,{method:"POST",headers:{"LivePipeline-Session":o},params:{sub_topics:i.join(","),unsub_topics:s.join(",")},account:this.account})}},{key:"subscribe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.updateSubscriptions({toSubscribe:e,sessionId:t})}},{key:"unsubscribe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.updateSubscriptions({toUnsubscribe:e,sessionId:t})}},{key:"executeGraphQLQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=TD.config.twitter_api_base+"/graphql";return(0,y.fetched)(t,{params:e,account:this.account})}},{key:"subscribeToTweetEngagement",value:function(e){if(!e)return g.default.Observable.empty();var t="/tweet_engagement/"+e;return this.subscribeToTopic(t)}},{key:"subscribeToTopic",value:function(e){var t=this;return e?g.default.Observable.create(function(i){var n=t.livepipeline.subscribeTopic(e,function(t){i.next({topic:e,payload:t})});return function(){return n.teardown()}}):g.default.Observable.empty()}},{key:"subscribeToGraphQLQuery",value:function(e){var t=this;return e?g.default.Observable.create(function(i){var n=new _.GraphQLSubscription({livePipeline:t.livepipeline,executeGraphQLQuery:function(){return t.executeGraphQLQuery(e)},callback:function(e){i.next({payload:(0,f.default)(e,"data")})}});return function(){return n.teardown()}}):g.default.Observable.empty()}}]),e}();t.default=C},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){function t(t){return f.default.request(e,{account:t})}function i(e){var i=s.pollInterval*(1+Math.random()*s.jitter);return u.default.Observable.timer(0,i).flatMap(function(){return h.default.fromDeferred(t(e)).catch(function(e){return u.default.Observable.empty()})}).pluck("data").publishReplay(1).refCount()}function n(e){var t=e.account,n=t?t.getKey():"";return(0,o.default)(r,n)||(r[n]=i(t)),r[n]}var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s=(0,c.default)(s||{},{pollInterval:3e5,jitter:.05});var r={};return n}Object.defineProperty(t,"__esModule",{value:!0});var r=i(624),o=n(r),a=i(202),c=n(a);t.default=s;var l=i(18),u=n(l),d=i(38),h=n(d),p=i(119),f=n(p)},function(e,t,i){"use strict";var n=i(433),s=i(444);e.exports={parse:function(e){return n.parse(e,function(e,t){switch(e){case"a9":case"ae":case"2122":return!1}return s.get("emoji",{icon:e})})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){return v.default.toDeferred(b)}function r(){return s().addCallback(function(e){return a((0,p.default)(e,"data.data.viewer.user"))})}function o(){return s().addCallback(function(e){return(0,p.default)(e,"data.data.viewer.teams.act_as",[]).map(c)})}function a(e){return(0,d.default)({},e.legacy,{id_str:e.rest_id})}function c(e){return{admin:"ADMIN"===e.access_level,user:a(e.user)}}function l(){var e=_.default.request(TD.config.twitter_api_base+"/graphql",{params:(0,d.default)({},y),headers:(0,d.default)({},w)});return v.default.fromDeferred(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=i(15),d=n(u),h=i(17),p=n(h);t.getDeferred=s,t.getLoggedInUser=r,t.getContributees=o;var f=i(18),m=n(f),g=i(38),v=n(g),T=i(119),_=n(T),y={query_id:"qqrofl1QlE6T1ZH-YVwspg"},w={},b=m.default.Observable.of(!0).flatMap(l).share()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({card:null,cardUrl:null,context:null,scribeNamespace:{},pollBadgeSelector:".js-poll-badge"}),this.initialState({cardsEnabled:!1,pollsEnabled:!1,xdmCard:null,xdmCardHeight:0}),this.componentDidInitialize=function(){var e=this,t=this.attr,i=t.card,n=t.context;if(!(0,v.isAllowedCard)(i))return this.teardown();this.after("render",function(){var t=e.$node[0].scrollHeight;e.trigger("uiCardDidResize",{height:t})}),this.observe(TD.decider.getStreamForDeciderKey("cards_enabled_detail_view")).subscribe(function(t){return e.handleCardsEnabled(t)}),this.observe(TD.decider.getStreamForDeciderKey("poll_cards_enabled")).subscribe(function(t){return e.handlePollsEnabled(t)}),(0,m.metric)("card:render:"+n+":"+i.name)},this.handleCardsEnabled=function(e){this.mergeState({cardsEnabled:e}),this.checkCard()},this.handlePollsEnabled=function(e){this.mergeState({pollsEnabled:e}),this.checkCard()},this.checkCard=function(){var e=this.shouldShowCard();e!==!!this.state.xdmCard&&(e?this.mergeState({xdmCard:this.makeCard(this.attr.cardUrl,this.$node[0],{resizeCard:this.onResizeCard.bind(this),scribe:this.onScribe.bind(this),openLinkNoScribe:this.onOpenLink.bind(this)})}):this.destroyCard())},this.shouldShowCard=function(){var e="detail"===this.attr.context,t=this.state.pollsEnabled&&(0,v.hasPoll)(this.attr.card),i=this.state.cardsEnabled&&!(0,v.hasPoll)(this.attr.card);return Boolean(e&&(i||t))},this.shouldShowPollBadge=function(){var e="column"===this.attr.context,t=this.state.pollsEnabled&&(0,v.hasPoll)(this.attr.card);return Boolean(e&&t)},this.render=function(){this.setFrameHeight(),this.setPollBadge()},this.setFrameHeight=function(){var e=(0,h.default)(this.state,"xdmCard.iframe");e&&$(e).height(this.state.xdmCardHeight)},this.setPollBadge=function(){var e=this.select("pollBadgeSelector"),t=this.shouldShowPollBadge();if(t!==(0!==e.length))if(t){var i=TD.ui.template.render("status/attachment_poll");this.$node.html(i)}else e.remove()},this.onResizeCard=function(e){var t=e.height;this.state.xdmCardHeight!==t&&this.mergeState({xdmCardHeight:t})},this.onScribe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,h.default)(e,"customScribe.element",""),i=(0,h.default)(e,"customScribe.action",""),n=(0,h.default)(e,"customScribe.itemData",{}),s=(0,h.default)(e,"scribeData",{});this.trigger("scribeEvent",{terms:(0,o.default)({},this.attr.scribeNamespace,{element:t,action:i}),data:{items:[(0,o.default)({},n,s)]}})},this.onOpenLink=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g.default.isMacApp()&&g.default.openURL(e.url)},this.makeCard=function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new f.default.Rpc({remote:e,container:t,props:{height:"0",style:{display:"block"}}},{local:(0,o.default)({},n,{localMethodNames:function(){return i.getMethodNames(n)}}),remote:{localMethodNames:{},callVideoPlayerMethod:{},transmitEvent:{}}})},this.destroyCard=function(){this.state.xdmCard&&(this.state.xdmCard.destroy(),this.mergeState({xdmCard:null}))},this.getMethodNames=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,u.default)(e,c.default)},this.before("teardown",function(){this.destroyCard()})}var r=i(15),o=n(r),a=i(399),c=n(a),l=i(1750),u=n(l),d=i(17),h=n(d),p=i(435),f=n(p),m=i(13),g=n(m),v=i(288),T=i(4),_=n(T),y=i(7),w=n(y);e.exports=_.default.mixin(s,w.default)},function(e,t,i){"use strict";function n(){this.attributes({characterCountInvalidClass:"txt-twitter-red"}),this.render=function(){var e=this.props,t=e.hideCharacterCount,i=void 0!==t&&t,n=e.hasValidCharacterCount,s=void 0!==n&&n,r=e.displayedCharacterCount,o=void 0===r?160:r;this.$node.toggle(!i),this.$node.html(o),this.$node.toggleClass(this.attr.characterCountInvalidClass,!s)}}var s=i(4),r=function(e){return e&&e.__esModule?e:{default:e}}(s);e.exports=r.default.mixin(n)},function(e,t,i){"use strict";function n(){this.attributes({stateSource:null,typeTextSelector:".js-account-safeguard-text"}),this.after("initialize",function(){this.observe(this.requestResource(this.attr.stateSource)).map(c.filterKeys(["tweetType","scheduledDate","isSelectedAccountSafeguarded","selectedAccountKeys","tweetText","files"])).distinctUntilChanged(c.shallowEquals()).subscribe(this.render.bind(this)),this.on(this.$node.find("input"),"change",this.handleChange)}),this.getText=function(e){return"message"===e.tweetType?TD.i("Ready to send?"):null!==e.scheduledDate?TD.i("Ready to schedule?"):TD.i("Ready to Tweet?")},this.render=function(e){this.select("typeTextSelector").html(this.getText(e)),this.$node.toggleClass("is-hidden",!e.isSelectedAccountSafeguarded),this.$node.find("input").prop("checked",!1).change()},this.handleChange=function(e){this.trigger("uiAccountSafeguardCheckboxChange",{checked:$(e.target).prop("checked")})}}var s=i(7),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component,a=i(19),c=i(38);e.exports=o(r.default,n,a)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({characterCountValidClass:"txt-twitter-dark-gray",characterCountInvalidClass:"txt-twitter-red",isHiddenClass:"is-hidden",stateSource:null}),this.after("initialize",function(){this.observe(this.requestResource(this.attr.stateSource)).map(d.filterKeys(["displayedCharacterCount","hasValidCharacterCount","hideCharacterCount"])).distinctUntilChanged().subscribe(this.render.bind(this))}),this.render=function(e){var t=c.default.getAvailableCharacterPercent(e.displayedCharacterCount);this.$node.toggle(!e.hideCharacterCount),e.displayedCharacterCount!==this.displayedCharacterCount&&(this.displayedCharacterCount=e.displayedCharacterCount,this.$node.text(e.displayedCharacterCount),this.$node.toggleClass(this.attr.characterCountInvalidClass,!e.hasValidCharacterCount||0===t),this.$node.toggleClass(this.attr.characterCountValidClass,e.hasValidCharacterCount&&0!==t),e.hideCharacterCount||this.$node.toggleClass(this.attr.isHiddenClass,t>c.default.remainingPercentageThreshold))}}var r=i(7),o=n(r),a=i(218),c=n(a),l=i(2).component,u=i(19),d=i(38);e.exports=l(o.default,s,u)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({progressCircleSelector:".js-progress-circle"}),this.shouldComponentUpdate=function(e){return this.props.characterCount!==e.characterCount},this.componentDidInitialize=function(){this.initialRender()},this.initialRender=function(){var e=this.select("progressCircleSelector");this.progressIndicator=new u.default(e[0])},this.getStrokeClass=function(e){return e<=0?"stroke-twitter-red":e<=c.default.remainingPercentageThreshold?"stroke-twitter-yellow":"stroke-twitter-blue"},this.shouldHideProgress=function(){return"message"===this.props.tweetType},this.toggleVisibility=function(){var e=this.$node.get(0);(0,o.default)(this.shouldHideProgress(),function(){return e.classList.add("is-hidden")},function(){return e.classList.remove("is-hidden")})},this.getProgress=function(){var e=c.default.getAvailableCharacterPercent(this.props.characterCount);return{newProgress:Math.max(0,e),strokeClass:this.getStrokeClass(e)}},this.render=function(){if(this.toggleVisibility(),!this.shouldHideProgress()){var e=this.getProgress();this.progressIndicator.updateProgress(100-Math.min(e.newProgress,100)).updateClassList([e.strokeClass])}}}var r=i(62),o=n(r),a=i(218),c=n(a),l=i(419),u=n(l),d=i(4),h=n(d);e.exports=h.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({otherRepliesLinkSelector:".js-other-replies-link"}),this.componentDidInitialize=function(){this.on("click",{otherRepliesLinkSelector:this.handleOthersLinkClick}),this.on(document,"dataTwitterUsers",this.handleTwitterUsers)},this.shouldComponentUpdate=function(e){return!1===(0,c.default)(this.props,e)},this.render=function(){var e=this.props.batchMode,t=this.props.recipients||[],i=this.props.excludedRecipientsIds||[];if(0===t.length||"subsequent"===e)return void this.$node.addClass("is-hidden").empty();var n=g.default.render("compose/reply_info",{recipients:T.default.getRecipientsToDisplay(t,i)});this.$node.removeClass("is-hidden").html(n)},this.handleOthersLinkClick=function(){this.requestId=T.default.requestUsers(this.props.recipients)},this.handleTwitterUsers=function(e,t){if(t.requestId===this.requestId){var i=T.default.getDefaultModalOptions();this.showModal(h.default,{replies:t.users,excludedRecipientsIds:this.props.excludedRecipientsIds,withComposeContext:!0},(0,o.default)({},i,{title:TD.i("Replying to")}))}}}var r=i(15),o=n(r),a=i(97),c=n(a),l=i(4),u=n(l),d=i(284),h=n(d),p=i(214),f=n(p),m=i(3),g=n(m),v=i(172),T=n(v);e.exports=u.default.mixin(s,f.default)},function(e,t,i){"use strict";function n(){this.attributes({stateSource:null,sendButtonSelector:".js-send-button",composeSuccess:".js-compose-sending-success",spinnerButtonSelector:".js-spinner-button",spinnerButtonActiveSelector:".js-spinner-button-active",spinnerButtonActiveClass:"spinner-button-is-active",spinnerButtonHiddenClass:"is-hidden",spinnerButtonWithProgressClass:"spinner-button-with-progress",spinnerButtonWithProgressIconClass:"spinner-button-icon-with-progress",spinnerButtonTextHiddenClass:"text-hidden"}),this.after("initialize",function(){this.$sendButton=this.select("sendButtonSelector"),this.$spinnerBtn=this.select("spinnerButtonSelector"),this.$spinnerBtnActive=this.select("spinnerButtonActiveSelector"),this.on(this.$sendButton,"click keydown",this.handleClick);var e=this.observe(this.requestResource(this.attr.stateSource));e.pluck("sendButtonText").distinctUntilChanged().subscribe(this.renderButtonText.bind(this)),e.pluck("sendButtonTooltip").distinctUntilChanged().subscribe(this.renderTooltip.bind(this)),e.map(function(e){return{tweetSentWhileVideoUploadInProgress:e.tweetSentWhileVideoUploadInProgress,sendingStatus:e.sendingStatus}}).distinctUntilChanged(_.isEqual).subscribe(this.renderSendingStatus.bind(this)),e.pluck("canSend").distinctUntilChanged().subscribe(this.toggleEnabled.bind(this))}),this.renderButtonText=function(e){this.$sendButton.text(e)},this.renderTooltip=function(e){var t=$("<div/>").html(e).text();this.$sendButton.attr("data-original-title",t)},this.renderSendingStatus=function(e){var t=e.tweetSentWhileVideoUploadInProgress,i=e.sendingStatus;t?this.spinnerWithProgressButtonToggle("sending"===i):this.spinnerButtonToggle("sending"===i),this.select("composeSuccess").toggleClass("is-hidden","success"!==i),t||this.$sendButton.toggleClass("text-hidden","ready"!==i).removeClass(this.attr.spinnerButtonWithProgressClass+" "+this.attr.spinnerButtonWithProgressIconClass)},this.toggleEnabled=function(e){this.$sendButton.toggleClass("is-disabled",!e)},this.handleClick=function(e){(!c.eventIsKey(e)||c.isEnter(e)||c.isSpacebar(e))&&this.trigger("uiComposeSendTweet",{})},this.spinnerButtonToggle=function(e){this.$spinnerBtn.toggleClass(this.attr.spinnerButtonActiveClass,e),this.$spinnerBtnActive.toggleClass(this.attr.spinnerButtonHiddenClass,!e)},this.spinnerWithProgressButtonToggle=function(e){this.$spinnerBtn.toggleClass(this.attr.spinnerButtonWithProgressClass,e),this.$spinnerBtn.toggleClass(this.attr.spinnerButtonTextHiddenClass,!e),this.$spinnerBtnActive.toggleClass(this.attr.spinnerButtonWithProgressIconClass,e),this.$spinnerBtnActive.toggleClass(this.attr.spinnerButtonHiddenClass,!e)}}var s=i(7),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component,a=i(19),c=i(472);e.exports=o(r.default,n,a)},function(e,t,i){"use strict";function n(){this.attributes({stateSource:null,defaultHeight:130,expandedHeight:180,minimumHeightCharacters:180}),this.after("initialize",function(){var e=this.observe(this.requestResource(this.attr.stateSource)),t=e.pluck("tweetText").distinctUntilChanged();this.observe(t).filter(function(e){return this.$node.val()!==e},this).subscribe(function(e){this.$node.val(e)}.bind(this)),this.observe(e).pluck("sendingStatus").map(this.shouldDisable,this).distinctUntilChanged().subscribe(this.toggleDisable.bind(this)),this.observe(e).pluck("selectionIndices").distinctUntilChanged().subscribe(this.setSelection.bind(this)),this.observe(e).pluck("tweetTextFocused").distinctUntilChanged().filter(this.isNotTouch).subscribe(this.toggleFocus.bind(this)),this.observe(t).map(this.calculateHeight,this).distinctUntilChanged().subscribe(this.setHeight.bind(this)),this.on("input propertychange change",this.handleChange),this.on("focus",this.triggerFocusChange.bind(this,!0)),this.on("blur",this.triggerFocusChange.bind(this,!1)),this.textAutoComplete=new TD.components.Autocomplete(this.$node)}),this.after("teardown",function(){this.textAutoComplete.destroy()}),this.handleChange=function(e){this.trigger("uiComposeTextChanged",{value:this.node.value})},this.triggerFocusChange=function(e){this.trigger("uiComposeTextFocus",{focused:e})},this.toggleFocus=function(e){e?this.node.focus():this.node.blur()},this.shouldDisable=function(e){return"ready"!==e},this.toggleDisable=function(e){this.$node.prop("disabled",e)},this.setSelection=function(e){var t=e[0],i=e[1];this.node.selectionStart=t,this.node.selectionEnd=i,setTimeout(function(){this.node.selectionStart=t,this.node.selectionEnd=i}.bind(this),70),this.triggerFocusChange(!0)},this.calculateHeight=function(e){return e.length>this.attr.minimumHeightCharacters?this.attr.expandedHeight:this.attr.defaultHeight},this.setHeight=function(e){this.$node.css({height:e})},this.isNotTouch=function(){return!TD.util.isiOSDevice()||!TD.decider.get("touchdeck_compose_v2")}}var s=i(7),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component,a=i(19);e.exports=o(r.default,n,a)},function(e,t,i){"use strict";function n(e,t){if(e.scheduledDate){var i=t.map(function(t){return(0,r.default)({},t,{tweetData:e})});this.trigger("uiSendScheduledTweets",{requestId:e.requestId,requests:i,scheduledDate:e.scheduledDate,tokenToDelete:e.scheduledId,metadata:e.metadata})}else{var n="message"===e.type?"uiSendDm":"uiSendTweet";this.trigger("metric",{type:"metric",key:"tweet:data:selected-accounts",value:[t.length]}),t.forEach(function(t){this.trigger(n,(0,r.default)({},t,{tweetData:e}))},this),this.trigger("uiSendScheduledTweets",{requestId:e.requestId,requests:[],scheduledDate:e.scheduledDate,tokenToDelete:e.scheduledId,metadata:e.metadata})}}var s=i(15),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(6),a=i(22),c=i(1076);e.exports=function(){var e=[],t=null,i=[];this.after("initialize",function(){this.on(document,"dataTweetSent",this.forCurrentRequest(this.handleDataTweetSent)),this.on(document,"dataTweetError",this.forCurrentRequest(this.handleDataTweetError)),this.on(document,"dataDmSent",this.forCurrentRequest(this.handleDataDmSent)),this.on(document,"dataDmError",this.forCurrentRequest(this.handleDataDmError)),this.on(document,"dataScheduledTweetsSent",this.forCurrentRequest(this.handleDataScheduledTweetsSent)),this.on(document,"dataScheduledTweetsError",this.forCurrentRequest(this.handleDataScheduledTweetsError))}),this.forCurrentRequest=function(e){return function(i,n){t&&n.request&&n.request.requestId===t.requestId&&e.call(this,i,n)}},this.resetSendTweet=function(){e=[],i=[],t=null},this.maybeShortenTextLinks=function(e){return"bitly"===TD.settings.getLinkShortener()?TD.services.bitly.shortenTextLinks(e):TD.core.defer.succeed(e)},this.sendTweet=function(e){var i=this;this.trigger("uiComposeTweetSending"),this.resetSendTweet(),t=e,this.maybeShortenTextLinks(e.text).addCallback(function(t){e.text=t,i.actuallySendTweet(e)})},this.actuallySendTweet=function(e){var t=[],i=e.from.map(function(i){var n={accountKey:i};return e.accountsMediaIds&&(n.mediaIds=e.accountsMediaIds[i],t.push(n.mediaIds)),$.extend({},e,n)});if(t.length){new TD.core.defer.DeferredList(t).addCallback(n.bind(this,e,i))}else n.call(this,e,i)},this.handleTweetResponse=function(n){i.push(n.request),i.length===t.from.length&&(0===e.length?this.triggerTweetSuccess():this.triggerTweetError())},this.handleDataTweetSent=function(e,t){this.handleTweetResponse(t)},this.handleDataDmSent=function(e,t){this.handleTweetResponse(t)},this.handleDataScheduledTweetsSent=function(e,t){this.triggerTweetSuccess()},this.handleDataTweetError=function(t,i){e.push(i),this.handleTweetResponse(i)},this.handleDataDmError=function(e,t){this.handleDataTweetError(e,t)},this.handleDataScheduledTweetsError=function(e,t){var i,n,s;if(t.response.humanReadableMessage)i=t.response.humanReadableMessage;else{try{n=JSON.parse(t.response.req.responseText)}catch(e){}s=n&&n.error?n.error:t.response.req.status,i=TD.i("Scheduling failed. Please try again. ({{message}})",{message:s})}(0,o.showErrorNotification)({message:i}),this.triggerTweetError()},this.showTweetErrors=function(e){if(0!==e.length){var i=e.map(function(e){var i={};try{i=JSON.parse(e.response.responseText).errors[0]}catch(t){e&&e.response&&TD.util.isNetworkFailure(e.response)&&(i.code="0")}var n=(0,c.getApiErrorMessage)(i);e.response&&e.response.message&&(n=e.response.message);var s=(0,a.getAccountData)(e.request.accountKey),r=s?s.screenName:"unknown account";switch(t.type){case"message":return TD.i("Message from @{{screenName}} failed: "+n,{screenName:r});default:return TD.i("Tweet from @{{screenName}} failed: "+n,{screenName:r})}},this);(0,o.showErrorNotification)({message:i.join("\n")})}},this.triggerTweetSuccess=function(){this.trigger("uiComposeTweetSent")},this.triggerTweetError=function(){this.showTweetErrors(e),this.trigger("uiComposeTweetError",{errors:t.scheduledDate?null:e})}}},function(e,t,i){"use strict";var n=i(2).component,s=function(){this.attributes({account:null,twitterUser:null,follows:"s-follows"}),this.handleRelationshipData=function(e,t){t&&t.relationship&&this.account.isSameUser(t.relationship.source.screen_name)&&this.twitterUser.isSameUser(t.relationship.target.screen_name)&&this.$node.toggleClass(this.attr.follows,t.relationship.target.following)},this.destroy=function(e){e.stopPropagation(),this.teardown()},this.after("initialize",function(){if(this.account=this.attr.account,this.twitterUser=this.attr.twitterUser,!(this.account instanceof TD.storage.Account))throw new Error("source must be instance of TD.storage.Account");if(!(this.twitterUser instanceof TD.services.TwitterUser))throw new Error("target must be instance of TD.services.TwitterUser");this.on(document,"dataRelationship",this.handleRelationshipData),this.attr.closeEvent&&this.on(this.attr.closeEvent,this.destroy),this.trigger("uiNeedsRelationship",{account:this.account,screenName:this.twitterUser.screenName})})};e.exports=n(s)},function(e,t,i){"use strict";e.exports=function(){this.getLoginAccountAccessDeniedMessageId=function(){return"expired-login-error"},this.getLoginAccountAccessDeniedMessageData=function(e){return{id:this.getLoginAccountAccessDeniedMessageId(),text:[TD.i("TweetDeck no longer has permission to access your main login account @{{1}}.",{1:e.account.getUsername()}),TD.i("You will be logged out to prevent unauthorized access.")].join(" "),colors:{background:"#b2d5ed",foreground:"#555"}}},this.getDataminrAccountAccessDeniedMessageData=function(e){return{id:"expired-dataminr-login-error",text:TD.i("TweetDeck no longer has permission to access your Dataminr account.")+" "+TD.i("Please check your Dataminr settings."),colors:{background:"#b2d5ed",foreground:"#555"}}}}},function(e,t,i){"use strict";function n(){this.attributes({account:null,twitterUser:null,states:{blocking:"blocking",following:"following",me:"me",notFollowing:"notFollowing",pending:"pending",unknown:"unknown"},classNamesForStates:{blocking:"s-blocking",following:"s-following",me:"s-thats-you",notFollowing:"s-not-following",pending:"s-pending",unknown:"unknown"},buttonEnabledForStates:{blocking:!0,following:!0,me:!0,notFollowing:!0,pending:!1,unknown:!1},followButton:".js-follow-button"}),this.after("initialize",function(){this.account=this.attr.account,this.twitterUser=this.attr.twitterUser,this.state=this.attr.states.unknown,this.on(document,"dataRelationship",this.handleRelationshipData),this.on("click",{followButton:this.handleFollowButtonClick}),this.on(document,"uiFollowAction dataUnfollowActionError",this.handleActionFactory("following")),this.on(document,"uiFollowProtectedUserAction",this.handleActionFactory("pending")),this.on(document,"uiUnfollowAction dataFollowActionError",this.handleActionFactory("notFollowing")),this.on(document,"uiBlockAction dataUnblockActionError",this.handleActionFactory("blocking")),this.on(document,"uiUnblockAction dataBlockActionError dataReportActionError",this.handleActionFactory("notFollowing")),$.subscribe("/user/"+this.screenName+"/block",this.handlePubSubEvent("blocking")),$.subscribe("/user/"+this.screenName+"/unblock",this.handlePubSubEvent("notFollowing")),this.attr.closeEvent&&this.on(this.attr.closeEvent,this.destroy),this.trigger("uiNeedsRelationship",{account:this.account,screenName:this.twitterUser.screenName})}),this.resetState=function(){this.$node.removeClass(this.attr.classNamesForStates[this.state])},this.setState=function(e,t){e.following?this.state=this.attr.states.following:e.following_requested?this.state=this.attr.states.pending:this.state=this.attr.states.notFollowing,e.id===t.id&&(this.state=this.attr.states.me),e.blocking&&(this.state=this.attr.states.blocking)},this.handleFollowButtonClick=function(e){var t={account:this.account,twitterUser:this.twitterUser};switch(this.state){case this.attr.states.following:this.trigger("uiUnfollowAction",t);break;case this.attr.states.notFollowing:this.twitterUser.isProtected?this.trigger("uiFollowProtectedUserAction",t):this.trigger("uiFollowAction",t);break;case this.attr.states.blocking:this.trigger("uiUnblockAction",t);break;case this.attr.states.me:TD.util.openURL("https://twitter.com/settings/profile")}e.stopPropagation()},this.toggleEnableButton=function(e){this.select("followButton").prop("disabled",!e)},this.setTargetElementState=function(){this.$node.addClass(this.attr.classNamesForStates[this.state])},this.isRelevantRelationship=function(e){return this.account.isSameUser(e.source.screen_name)&&this.twitterUser.isSameUser(e.target.screen_name)},this.handleRelationshipData=function(e,t){t&&t.relationship&&this.isRelevantRelationship(t.relationship)&&(this.resetState(),this.setState(t.relationship.source,t.relationship.target),this.toggleEnableButton(this.attr.buttonEnabledForStates[this.state]),this.setTargetElementState())},this.isRelevantAction=function(e){return e&&e.twitterUser&&e.twitterUser.isSameUser(this.twitterUser)&&e.account===this.account},this.handleActionFactory=function(e){return function(t,i){i=i||{},this.isRelevantAction(i.request||i)&&(this.resetState(),this.state=this.attr.states[e],this.setTargetElementState(),this.toggleEnableButton(this.attr.buttonEnabledForStates[e]))}.bind(this)},this.handlePubSubEvent=function(e){return function(t,i){i.getAccountKey()===this.account.getAccountKey()&&(this.resetState(),this.state=this.attr.states[e],this.setTargetElementState())}.bind(this)},this.destroy=function(e){e.stopPropagation(),this.teardown()}}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";function n(){this.attributes({inputSelector:".js-typeahead-input",KEY_CODE_MAP:{8:{name:"BACKSPACE",event:"uiTypeaheadInputBackspace",on:"keydown",preventDefault:!1},13:{name:"ENTER",event:"uiTypeaheadInputSubmit",on:"keypress",preventDefault:!0},27:{name:"ESC",event:"uiTypeaheadInputEscaped",on:"keydown"},9:{name:"TAB",event:"uiTypeaheadInputTab",on:"keydown",preventDefault:!0},37:{name:"LEFT",event:"uiTypeaheadInputLeft",on:"keydown"},39:{name:"RIGHT",event:"uiTypeaheadInputRight",on:"keydown"},38:{name:"UP",event:"uiTypeaheadInputMoveUp",on:"keydown",preventDefault:!0},40:{name:"DOWN",event:"uiTypeaheadInputMoveDown",on:"keydown",preventDefault:!0}}}),this.after("initialize",function(){this.$input=this.select("inputSelector");var e=this.domEventToComponentEventFactory.bind(this);this.on(this.$input,"input",e("uiTypeaheadInputChanged")),this.on(this.$input,"focus",e("uiTypeaheadInputFocus")),this.on(this.$input,"blur",e("uiTypeaheadInputBlur")),this.on(this.$input,"keydown keypress",this.maybeTriggerModifierEvent)}),this.domEventToComponentEventFactory=function(e){return function(t,i){this.trigger(this.$input,e,{query:this.$input.val()})}.bind(this)},this.maybeTriggerModifierEvent=function(e){var t=this.attr.KEY_CODE_MAP[e.which||e.keyCode];if(t){if(e.type!==t.on)return;var i=$(e.currentTarget),n=i.val();if("BACKSPACE"===t.name&&""!==n)return;if("TAB"===t.name&&""===n)return;t.preventDefault&&e.preventDefault(),n=""===n.trim()?"":n,this.trigger(i,t.event,{query:n})}}}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";function n(){this.attributes({selectionFormat:"user",focusOnInit:!0,clearOnSelect:!0,blurOnSelect:!0,templateName:"user_selector",placeholder:TD.i("Enter Twitter username…"),selectButtonIconClass:"icon-plus",selectButtonSelector:".js-select-button",inputSelector:".js-username-input",withSelectButton:!0,withAutocompleteAboveInput:!1,withAutoRepositionInsideViewport:!0}),this.after("initialize",function(){var e=c.render(this.attr.templateName,{searchInputControlClass:"margin-tm",selectButtonIconClass:this.attr.selectButtonIconClass,placeholder:this.attr.placeholder,withSelectButton:this.attr.withSelectButton});this.$node.html(e),this.attachChild(a,this.$node),this.on("click",{selectButtonSelector:this.handleInputSelection}),this.on("uiInputSubmit",{inputSelector:this.handleInputSelection}),this.autocomplete=new TD.components.Autocomplete(this.select("inputSelector"),{dmMode:!0,position:this.attr.withAutocompleteAboveInput?"above":"below",repositionInViewport:this.attr.withAutoRepositionInsideViewport}),this.on(this.autocomplete.$node,"td-autocomplete-select",this.handleTDAutocompleteSelect),this.attr.focusOnInit&&this.select("inputSelector").focus()}),this.handleTDAutocompleteSelect=function(e,t){this.select("inputSelector").val(t.screenName),this.handleInputSelection()},this.handleInputSelection=function(){var e=this.select("inputSelector").val();if(e){if("screenName"===this.attr.selectionFormat)return this.triggerScreenNameSelection(e);this.trigger(this.attr.inputSelector,"uiWaitingForAsyncResponse");var t=TD.cache.twitterUsers.getByScreenName(e);t.addCallbacks(this.triggerUserSelection.bind(this),this.handleError.bind(this)),t.addBoth(this.trigger.bind(this,this.attr.inputSelector,"uiReceivedAsyncResponse"))}},this.triggerScreenNameSelection=function(e){this.trigger("uiScreenNameSelected",{screenName:e}),this.clear()},this.triggerUserSelection=function(e){this.trigger("uiUserSelected",{user:e}),this.clear()},this.clear=function(){this.attr.clearOnSelect&&this.select("inputSelector").val(""),this.attr.blurOnSelect&&this.select("inputSelector").blur()},this.handleError=function(e){var t;try{t=e.req.errors[0].message}finally{t&&(0,s.showErrorNotification)({message:t})}}}var s=i(6),r=i(2).component,o=i(30),a=i(283),c=i(3);e.exports=r(n,o)},function(e,t,i){"use strict";var n=i(2).compose,s=i(88),r=function(){n.mixin(this,[s]),this.attributes({accordionItemSelector:".js-accordion-item",accordionIsExpandedClass:"is-expanded",accordionIsActiveClass:"is-active",accordionToggleSelector:".js-accordion-toggle-view",accordionPanelSelector:".js-accordion-panel",isAccordionPanelAnimatingClass:"is-accordion-panel-animating"}),this.expandAccordionItem=function(e){var t=this;this.trigger(e,"uiAccordionWillExpand");var i=e.find(this.attr.accordionPanelSelector);e.addClass(this.attr.accordionIsActiveClass),this.transitionExpand(i,this.attr.isAccordionPanelAnimatingClass,function(){e.addClass(t.attr.accordionIsExpandedClass),t.updatePanelHeights(),t.trigger(e,"uiAccordionDidExpand")}),this.trigger(e,"uiAccordionExpandAction")},this.collapseAccordionItem=function(e){var t=this,i=e.find(this.attr.accordionPanelSelector);e.removeClass(this.attr.accordionIsExpandedClass),this.transitionCollapse(i,this.attr.isAccordionPanelAnimatingClass,function(){e.removeClass(t.attr.accordionIsActiveClass),t.trigger("uiAccordionTotalHeightChanged")}),this.trigger(e,"uiAccordionCollapseAction")},this.getOpenAccordionItem=function(){return this.select("accordionItemSelector").filter(function(e,t){return $(t).hasClass(this.attr.accordionIsExpandedClass)}.bind(this))},this.accordionToggle=function(e){var t=$(e.target).closest(this.attr.accordionItemSelector),i=this.getOpenAccordionItem();i.length>0&&this.collapseAccordionItem(i),t.is(i)||this.expandAccordionItem(t)},this.showAccordionPanel=function(e){var t=e.closest(this.attr.accordionItemSelector),i=this.getOpenAccordionItem();t.is(i)||(this.collapseAccordionItem(i),this.expandAccordionItem(t))},this.updatePanelHeights=function(){var e=":visible:not(."+this.attr.isAccordionPanelAnimatingClass+")";this.select("accordionPanelSelector").filter(e).each(function(e,t){var i=$(t);i.css("height",""),i.height(i.height()),this.trigger("uiAccordionTotalHeightChanged")}.bind(this))},this.after("initialize",function(){this.on("click",{accordionToggleSelector:_.throttle(this.accordionToggle,300).bind(this)}),this.on("uiAccordionUpdatePanelHeights",this.updatePanelHeights)})};e.exports=r},function(e,t,i){"use strict";var n=function(){var e=[],t=[],i=!1;this.onReceiveClick=function(t){e.push(t)},this.onLoseClick=function(e){t.push(e)},this.runReceiveHandlers=function(){e.forEach(function(e){e.call(this)},this)},this.runLoseHandlers=function(e){this.targetWithinComponent(e.target)||t.forEach(function(e){e.call(this)},this)},this.targetWithinComponent=function(e){return $(e).closest(this.$clickTrapTarget||this.$node).length>0},this.setClickTrapTarget=function(e){this.$clickTrapTarget=e},this.enableClickTrap=function(){i||(_.defer(function(){$("body").on("click.clicktrap","*",this.runLoseHandlers.bind(this)),this.$node.on("click.clicktrap","*",this.runReceiveHandlers.bind(this))}.bind(this)),i=!0)},this.disableClickTrap=function(){i&&($("body").off("click.clicktrap"),this.$node.off("click.clicktrap"),i=!1)}};e.exports=n},function(e,t,i){"use strict";function n(){o.mixin(this,[a]),this.after("initialize",function(){this.mouseDown=!1,this.setupDragDrop({indicateDrop:!1,dragstart:this.mouseDownOff,dragend:function(){this.mouseDownOff(),this.destroyFlyover()}}),this.on(document,"mousedown",this.mouseDownOn),this.on(document,"mouseup",this.mouseDownOff)}),this.mouseDownOn=function(e){this.mouseDown=!0},this.mouseDownOff=function(e){this.mouseDown=!1},this.renderFlyover=function(e,t){if(!this.mouseDown){var i;if(i=t&&t.content?t.content:e.data("title")){this.$flyover=$(r.default.render("column_nav_flyout",{content:i})),$("body").append(this.$flyover);var n=e.height();this.$flyover.css({lineHeight:n+"px"}),this.$flyover.children().height(n),this.repositionFlyover(e)}}},this.destroyFlyover=function(){this.$flyover&&(this.$flyover.remove(),this.$flyover=null)},this.repositionFlyover=function(e){var t;this.$flyover&&(t=e.offset().top-(this.$flyover.height()-e.height())/2,this.$flyover.css("top",t))}}var s=i(3),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).compose,a=i(213);e.exports=n},function(e,t,i){"use strict";var n=i(218),s=function(e){return e&&e.__esModule?e:{default:e}}(n);e.exports={getRemainingCharCount:function(e,t){var i=s.default.getLanguageWeight();return Math.floor((e-t)/i)},isWithinCharLimit:function(e,t){return t<=e},isOverCharLimit:function(e,t){return t>e}}},function(e,t,i){"use strict";function n(e){return 1===e.files.length&&(0,s.isVideo)(e.files[0])}Object.defineProperty(t,"__esModule",{value:!0}),t.hasVideo=n;var s=i(289)},function(e,t,i){"use strict";function n(e){var t=_.clone(e);t.configuration=t.configuration||{},t.settings=t.settings||{},t.hasMediaAttached=!!t.files&&t.files.length>0,t.hasQuotedTweet=!!t.quotedTweet;var i=a.getConfiguration(),n="message"===t.tweetType,p=i.maxWeightedTweetLength,f=r.getTweetLength(t.tweetText.trim(),a.getConfiguration()),m=t.configuration.characters_reserved_per_media+(t.scheduledDate?1:0),g=t.hasMediaAttached&&!TD.decider.get("compose_character_limit_do_not_count_attachments")?m:0,v=t.hasQuotedTweet&&!TD.decider.get("compose_character_limit_do_not_count_attachments")?t.configuration.transformedURLLength+1:0;return t.characterCountLimit=n?t.configuration.dm_text_character_limit:p,t.characterCount=f+g+v,t.hasValidCharacterCount=o.isWithinCharLimit(t.characterCountLimit,t.characterCount),t.remainingCharCount=o.getRemainingCharCount(t.characterCountLimit,t.characterCount),t.isJustWhitespace=0===t.characterCount,t.displayedCharacterCount=t.remainingCharCount,t.hideCharacterCount=n&&t.remainingCharCount>=0,TD.decider.get("compose_quoted_tweet_as_attachment")||(t.rawTweetText=t.tweetText+(t.quotedTweet?" "+t.quotedTweet.getChirpURL():"")),t.hasSelectedAccounts=t.selectedAccountKeys.length>0,t.isSelectedAccountSafeguarded=c.isSelectedAccountSafeguarded(t),t.safeguardingOk=c.isSafeguardingOk(t),t.hasMessageRecipients=t.messageRecipients.length>0||t.messageConversation,t.hasValidScheduledDate=t.scheduledDate&&t.scheduledDate>t.currentTime,t.schedulingOk=!t.scheduledDate||t.hasValidScheduledDate,t.sendButtonText=l.getButtonText(t),t.sendButtonTooltip=l.getTooltipText(t),t.canAddImage=u.canAddImage(t),t.addImageButtonTooltip=u.getTooltipText(t),t.addImageButtonText=u.getButtonText(t),t.canSchedule=d.canSchedule(t),t.scheduleButtonTooltip=d.getTooltipText(t),t.scheduleButtonText=d.getButtonText(t),t.canSwitchTweetType=h.canSwitchTweetType(t),t.tweetTypeButtonTooltip=h.getTooltipText(t),t.canSend=s(t),t}function s(e){if("sending"===e.sendingStatus)return!1;if("message"===e.tweetType){if(!e.hasMessageRecipients)return!1;if(e.hasQuotedTweet||e.hasMediaAttached)return!0}return!(!e.hasValidCharacterCount||!e.hasSelectedAccounts)&&(!(e.isJustWhitespace&&!e.hasMediaAttached)&&(!!e.safeguardingOk&&(!!e.schedulingOk&&(!e.hasQuotedTweet||!e.hasMediaAttached))))}var r=i(146),o=i(468),a=i(218),c=i(1032),l=i(1040),u=i(1033),d=i(1039),h=i(1042);e.exports=n},function(e,t,i){"use strict";function n(e){var t=l[e];if(!t)throw new Error("No such method");return function(e,i,n){return i+n*t(e)}}function s(e){if(e=e||{},[(0,o.default)(e.from),(0,o.default)(e.time),(0,o.default)(e.applicator)].indexOf("undefined")>-1)throw new Error("animate requires from, time and applicator.");var t=parseFloat(e.from);if(!_.isNumber(t))throw new Error("A numeric from value is required.");if(void 0===e.to&&void 0===e.delta)throw new Error("animate either a to amount or a delta.");var i=parseFloat(e.to);if(void 0!==e.delta&&(i=t+parseFloat(e.delta)),!_.isNumber(i))throw new Error("A numeric to value is required.");var s=e.time;_.isNumber(s)||(s=parseFloat(s));var r=e.easing;"function"!=typeof r&&(r=n("linear"));var l=e.applicator;if("function"!=typeof l)throw new Error("applicator must be a function.");var u=e.name,d=e.done||function(){},h=Date.now(),p=i-t;0!==p&&(u&&(a[u]=c),window.requestAnimationFrame(function e(i){var n=Date.now()-h,o=n/s;return n>=s?(l(r(1,t,p)),d(n)):u&&a[u]!==i?d(n):(window.requestAnimationFrame(e.bind(this,i)),void l(r(o,t,p),t,o))}.bind(this,c)),c+=1)}var r=i(105),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a={},c=1,l={linear:function(e){return e},inQuad:function(e){return e*e},outQuad:function(e){return e*(2-e)},inOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},inCubic:function(e){return e*e*e},outCubic:function(e){return--e*e*e+1},inOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},inQuart:function(e){return e*e*e*e},outQuart:function(e){return 1- --e*e*e*e},inOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},inQuint:function(e){return e*e*e*e*e},outQuint:function(e){return 1+--e*e*e*e*e},inOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};e.exports={easeFn:n,ease:s}},function(e,t,i){"use strict";var n={};n.eventIsKey=function(e){return e.which>3},n.isEnter=function(e){return e.which===TD.constants.keyCodes.enter},n.isSpacebar=function(e){return e.which===TD.constants.keyCodes.spacebar},e.exports=n},function(e,t,i){"use strict";var n=i(55),s={getLoginUrl:function(e){e=e||{};var t=new n(window.location.href);t.setQuery({via_twitter_login:!0});var i=new n("https://twitter.com/login");return i.setQuery({hide_message:!0,redirect_after_login:t.href()}),e.usernameOrEmail&&i.setQuery({username_or_email:e.usernameOrEmail}),i.href()},getLogoutUrl:function(){var e=new n(window.location.href),t=new n("https://twitter.com/logout");return t.setQuery({redirect_after_logout:e.href()}),t.href()}};e.exports=s},function(e,t,i){"use strict";var n=i(146),s=i(54),r={prependRecipients:function(e){return e.messageRecipients.map(function(e){return n.atMentionify(e.screenName)}).join(" ")+" "+e.tweetText},appendText:function(e,t){return(t.tweetText&&t.tweetText.trim())+" "+e},stripNamesFromText:function(e,t){return s.difference(e.split(" "),t).join(" ").trim()},mergeRepliesAndMentions:function(e,t,i,o,a){var c=a.map(function(e){return n.atMentionify(e.screenName)}),l=s.union(e,[i.user.screenName].map(n.atMentionify)),u=s.union(t,s.pluck(o,"screenName").map(n.atMentionify));return{replies:r.stripRepliesFromMentions(l,c),mentions:r.stripRepliesFromMentions(u,c.concat(l))}},stripRepliesFromMentions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter(function(e){return t.map(function(e){return e.toLowerCase()}).indexOf(e.toLowerCase())<0})},getSelectionIndices:function(e,t,i){return 0===i.length?0===t.length?[]:[t[0].length+1,t[0].length+1]:[i.map(e.indexOf.bind(e)).reduce(function(e,t){return Math.min(e,t)}),i.map(function(t){return e.indexOf(t)+t.length+1}).reduce(function(e,t){return Math.max(e,t)})]},getStackedRepliesText:function(e,t,i){var n=r.stripNamesFromText(e,t.concat(i)),s=[].concat(t).concat(n.length?n:[]).concat(i).join(" ");return s.length?s+" ":""}};e.exports=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!e.sendingStatus&&"sending"===e.sendingStatus}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!e.uploadsInProgress&&(0,l.default)(e.uploadsInProgress).every(function(t){var i=e.uploadsInProgress[t].mode;return"waiting"===i||"processing"===i})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!e.uploadsInProgress&&(0,l.default)(e.uploadsInProgress).some(function(t){return"uploading"===e.uploadsInProgress[t].mode})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.uploadsInProgress)return 0;var t=(0,l.default)(e.uploadsInProgress).filter(function(t){return"uploading"===e.uploadsInProgress[t].mode}).map(function(t){return Math.floor(e.uploadsInProgress[t].percent)});return(0,d.default)(t)}Object.defineProperty(t,"__esModule",{value:!0});var c=i(27),l=n(c),u=i(1681),d=n(u);t.isSending=s,t.isProcessing=r,t.isUploading=o,t.getMinimumProgress=a},function(e,t,i){"use strict";t.generateAccountKey=function(e,t){return"tweetdeck"===e?"tweetdeck":encodeURI(e+":"+t)},t.generateEggAvatarForId=function(e){return"https://abs.twimg.com/sticky/default_profile_images/default_profile_"+Number(e)%7+"_bigger.png"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this._initBackend()}var r=i(43),o=n(r),a=i(27),c=n(a),l=i(1063),u=i(287),d=i(1069),h=["ScribeTransport"],p=h.concat(["__version__","previousMultiUserAccount","currentAuthType","guestID","ScribeTransport"]),f={local:localStorage,session:sessionStorage};s.PERSISTENT_SESSION_ITEMS=["twitterAccountID","_session","__hasAlreadyReloaded"],s._testStore=function(e,t){u.stateLog("_testStore()");for(var i=!1,n=!1,r="test";r.length<1024;)r+=r;try{e.setItem("__test__",r),i=e.getItem("__test__")===r,e.removeItem("__test__")}catch(t){i=!1,n=t.code===window.DOMException.QUOTA_EXCEEDED_ERR,n&&0===e.length&&TD.sync.util.warn(t,"In Safari private browsing mode")}if(t&&n)try{s.flushDataFromStore(e),i=s._testStore(e,!1)}catch(e){i=!1}return i},s.flushDataFromStore=function(e,t){t=(t||[]).concat(p),s.wipe(e,t)},s.flushBackend=function(e,t){return s.flushDataFromStore(f[e],t)},s.wipeAll=function(){[localStorage,sessionStorage].forEach(s.wipe)},s.wipe=function(e,t){var i={};t=_.uniq((t||[]).concat(h)),t.forEach(function(t){var n=e.getItem(t);n&&(i[t]=n)});try{e.clear()}catch(t){console.warn("Clearing",e,"failed:",t)}_.each(i,function(t,i){e.setItem(i,t)})},s.flushWebstorage=function(e){TD.sync.util.trace("clearing web storage");try{(0,c.default)(f).forEach(function(t){s.flushDataFromStore(f[t],e)})}catch(e){console.error("Unable to clear webstorage.",e)}},s.clearOtherBackends=function(e){(0,c.default)(f).forEach(function(t){t!==e&&s.wipe(f[t])})},s.prototype.storeLoginResult=function(e){var t=this.getTwitterLoginAccountID();t&&e!==t&&s.flushWebstorage(),this.setTwitterLoginAccountID(e)},s.prototype._initBackend=function(){this._backendType="unknown",s._testStore(window.localStorage,!0)?(this._migrateBackend(window.localStorage),this._backend=window.localStorage,this._backendType="local"):s._testStore(window.sessionStorage,!0)?(this._migrateBackend(window.sessionStorage),this._backend=window.sessionStorage,this._backendType="session"):(u.stateLog("store._initBackend(): Falling back to MemoryStorage."),this._backend=new l,this._backendType="memory"),this._tryUpgrade(),s.clearOtherBackends(this._backendType)},s.prototype._migrateBackend=function(e,t){if((t=t||this._getPersistentBackend())!==e)for(var i in t)if(t.hasOwnProperty(i)){try{e.setItem(i,t.getItem(i))}catch(e){if(e.code===window.DOMException.QUOTA_EXCEEDED_ERR)return void TD.sync.util.warn("Migration failed due to quota limits.",e);throw e}t.removeItem(i)}},s.prototype._getPersistentBackend=function(){return this._backend instanceof l?localStorage:this._backend},s.prototype._tryUpgrade=function(){try{d.doUpgrade(this)}catch(e){TD.sync.util.warn("Error during store upgrade:",e),s.flushWebstorage()}},s.prototype.getTwitterLoginAccountID=function(){var e=this._backend.getItem("twitterAccountID");if(e)return e;u.stateLog("store.getTwitterLoginAccountID(): account invalid",e)},s.prototype.setTwitterLoginAccountID=function(e){this._backend.setItem("twitterAccountID",e)},s.prototype.getTwitterLoginAccount=function(){var e=this.getTwitterLoginAccountID(),t=TD.storage.Account.generateKeyFor("twitter",e);return TD.storage.accountController.get(t)},s.prototype.getOrCreateTwitterLoginAccount=function(){var e=this;return TD.core.defer.maybeDeferred(function(){return e.getTwitterLoginAccount()||TD.storage.accountController.verifyTwitterCookieAccount()})},s.prototype.getOrCreateGuestID=function(){var e=localStorage.getItem("guestID");if(!e){e=this.createGuestID();try{localStorage.setItem("guestID",e)}catch(t){this._backend.setItem("guestID",e)}}return e},s.prototype.createGuestID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},s.prototype.getSessionMigratedToWeb=function(){return this._getPersistentBackend().getItem("sessionMigratedToWeb")},s.prototype.setSessionMigratedToWeb=function(){this._getPersistentBackend().setItem("sessionMigratedToWeb",!0)},s.prototype.removeSessionMigratedToWeb=function(){this._getPersistentBackend().removeItem("sessionMigratedToWeb")},s.prototype._getLastVerifiedTimestamps=function(){var e={};try{e=this.getJSON("accountsLastVerified")}catch(e){u.stateLog("_getLastVerifiedTimestamps(): failed",e)}return e},s.prototype.getLastVerifiedTimestamp=function(e){var t,i,n=this._getLastVerifiedTimestamps();return t=n[e.getKey()]||0,i=e.getUpdated()||0,Math.max(t,i)},s.prototype.setLastVerifiedTimestamp=function(e){var t=this._getLastVerifiedTimestamps(),i=t[e.getKey()]||0,n=e.getUpdated()||0,s=Math.max(i,n);s!==i&&(t[e.getKey()]=s,this.setJSON("accountsLastVerified",t))},s.prototype.removeLastVerifiedTimestamp=function(e){var t=this._getLastVerifiedTimestamps();delete t[e.getKey()],this.setJSON("accountsLastVerified",t)},s.prototype.setLastVersionRefreshTimestamp=function(e){this._getPersistentBackend().setItem("lastVersionRefreshTimestamp",""+e)},s.prototype.getLastVersionRefreshTimestamp=function(e){var t=parseInt(""+this._getPersistentBackend().getItem("lastVersionRefreshTimestamp"),10);return"number"==typeof t&&!isNaN(t)&&t>0?t:0},s.prototype.getSessionData=function(){var e={uid:this._backend.getItem("twitterAccountID"),migrate:{},session:null};if(e.uid)try{e.session=JSON.parse(this._backend.getItem("_session"))}catch(t){e.session=null}return e},s.prototype.setSessionData=function(e){this._backend.setItem("_session",(0,o.default)(e))},s.prototype.getSessionMigrationData=function(){var e=["__version__","previousMultiUserAccount","currentAuthType","guestID","tweetdeckAccount","_session","accountsLastVerified"];return{local:e.reduce(function(e,t){var i=localStorage.getItem(t);return null!==i&&(e[t]=i),e},{}),session:e.reduce(function(e,t){var i=sessionStorage.getItem(t);return null!==i&&(e[t]=i),e},{})}},s.prototype.checkVersion=function(){var e=d.CURRENT_VERSION,t=this._backend.getItem("__version__");if(null!==t&&~t!=~e)throw new Error("Wrong version number in store. (saved) %s != (given) %s",t,e)},s.prototype.setVersion=function(e){this._backend.setItem("__version__",e)},s.prototype.getJSON=function(e){return JSON.parse(this._backend.getItem(e)||"{}")},s.prototype.setJSON=function(e,t){this._backend.setItem(e,(0,o.default)(t))},s.prototype.setJSONCritical=function(e,t,i){try{this._backend.setItem(e,(0,o.default)(t))}catch(n){if(n.code!==window.DOMException.QUOTA_EXCEEDED_ERR||i)throw n;$(document).trigger("dataStorageFull"),this.setJSONCritical(e,t,!0)}},e.exports={Store:s,MemoryStorage:l,store:new s}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=TD.config,s=n.twitter_api_base,r=n.twitter_api_version;t.insights=s+"/"+r+"/tweetdeck/insights"},function(e,t,i){"use strict";var n={};e.exports=n,n.getMessage=function(e){if("undefined"!=typeof TD_locale_messages){var t=TD_locale_messages[e];return t&&t.message?t.message:void 0}}},function(e,t,i){"use strict";t.getPrettyCoordinates=function(e,t,i){return Math.abs(Math.round(10*e)/10)+"°"+(e>0?"N":"S")+", "+Math.abs(Math.round(10*t)/10)+"°"+(t>0?"E":"W")}},function(e,t,i){"use strict";var n=i(17),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(13),o=i(277),a=(0,o.createInterval)();t.getTweetText=function(e){return e.full_text||(0,s.default)(e,"extended_tweet.full_text","")||e.text},t.getUnicodeDisplayRange=function(e){return(0,s.default)(e,"extended_tweet.display_text_range",null)||e.display_text_range},t.getTweetEntities=function(e){var i=t.extractEntities(e.extended_tweet||e),n=t.getUnicodeDisplayRange(e);return t.identifyQuoteTweetAttachmentUrls(i,n),t.identifyMediaAttachmentUrls(i,n),t.identifyImplicitMentions(i,n),i},t.extractEntities=function(e){var t=e.entities||{},i={hashtags:t.hashtags,urls:t.urls,user_mentions:t.user_mentions,cashtags:t.cashtags,media:t.media};return(0,s.default)(e,"extended_entities.media.length",0)>0&&(i.media=e.extended_entities.media),i},t.identifyMediaAttachmentUrls=function(e,i){if(i&&e&&!e.convertedToUTF16){var n=e.media;(void 0===n?[]:n).filter(t.entityIsOutsideDisplayRange.bind(t,i)).forEach(function(e){e.isUrlForAttachment=!0})}},t.identifyQuoteTweetAttachmentUrls=function(e,i){if(e&&i&&!e.convertedToUTF16){var n=e.urls;(void 0===n?[]:n).filter(t.entityIsOutsideDisplayRange.bind(t,i)).forEach(function(e){var t=(0,r.extractTweetIdFromPermalink)(e.expanded_url);e.isUrlForAttachment=Boolean(t)})}},t.identifyImplicitMentions=function(e,i){if(i&&e){var n=e.user_mentions;(void 0===n?[]:n).filter(t.entityIsOutsideDisplayRange.bind(t,i)).forEach(function(e){e.isImplicitMention=!0})}},t.entityIsOutsideDisplayRange=function(e,t){var i=new a(a.inclusiveEndpoint(e[0]),a.exclusiveEndpoint(e[1])),n=new a(a.inclusiveEndpoint(t.indices[0]),a.exclusiveEndpoint(t.indices[1]));return i.intersection(n).empty}},function(e,t,i){var n=i(64);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},function(e,t,i){"use strict";var n=i(31),s=i(129),r=i(26);e.exports=[].copyWithin||function(e,t){var i=n(this),o=r(i.length),a=s(e,o),c=s(t,o),l=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===l?o:s(l,o))-c,o-a),d=1;for(c<a&&a<c+u&&(d=-1,c+=u-1,a+=u-1);u-- >0;)c in i?i[a]=i[c]:delete i[a],a+=d,c+=d;return i}},function(e,t,i){var n=i(121);e.exports=function(e,t){var i=[];return n(e,!1,i.push,i,t),i}},function(e,t,i){var n=i(42),s=i(31),r=i(178),o=i(26);e.exports=function(e,t,i,a,c){n(t);var l=s(e),u=r(l),d=o(l.length),h=c?d-1:0,p=c?-1:1;if(i<2)for(;;){if(h in u){a=u[h],h+=p;break}if(h+=p,c?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;c?h>=0:d>h;h+=p)h in u&&(a=t(a,u[h],h,l));return a}},function(e,t,i){"use strict";var n=i(42),s=i(16),r=i(492),o=[].slice,a={},c=function(e,t,i){if(!(t in a)){for(var n=[],s=0;s<t;s++)n[s]="a["+s+"]";a[t]=Function("F,a","return new F("+n.join(",")+")")}return a[t](e,i)};e.exports=Function.bind||function(e){var t=n(this),i=o.call(arguments,1),a=function(){var n=i.concat(o.call(arguments));return this instanceof a?c(t,n.length,n):r(t,n,e)};return s(t.prototype)&&(a.prototype=t.prototype),a}},function(e,t,i){"use strict";var n=i(25).f,s=i(123),r=i(127),o=i(65),a=i(120),c=i(121),l=i(301),u=i(495),d=i(128),h=i(24),p=i(103).fastKey,f=i(151),m=h?"_s":"size",g=function(e,t){var i,n=p(t);if("F"!==n)return e._i[n];for(i=e._f;i;i=i.n)if(i.k==t)return i};e.exports={getConstructor:function(e,t,i,l){var u=e(function(e,n){a(e,u,t,"_i"),e._t=t,e._i=s(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=n&&c(n,i,e[l],e)});return r(u.prototype,{clear:function(){for(var e=f(this,t),i=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var i=f(this,t),n=g(i,e);if(n){var s=n.n,r=n.p;delete i._i[n.i],n.r=!0,r&&(r.n=s),s&&(s.p=r),i._f==n&&(i._f=s),i._l==n&&(i._l=r),i[m]--}return!!n},forEach:function(e){f(this,t);for(var i,n=o(e,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(e){return!!g(f(this,t),e)}}),h&&n(u.prototype,"size",{get:function(){return f(this,t)[m]}}),u},def:function(e,t,i){var n,s,r=g(e,t);return r?r.v=i:(e._l=r={i:s=p(t,!0),k:t,v:i,p:n=e._l,n:void 0,r:!1},e._f||(e._f=r),n&&(n.n=r),e[m]++,"F"!==s&&(e._i[s]=r)),e},getEntry:g,setStrong:function(e,t,i){l(e,t,function(e,i){this._t=f(e,t),this._k=i,this._l=void 0},function(){for(var e=this,t=e._k,i=e._l;i&&i.r;)i=i.p;return e._t&&(e._l=i=i?i.n:e._t._f)?"keys"==t?u(0,i.k):"values"==t?u(0,i.v):u(0,[i.k,i.v]):(e._t=void 0,u(1))},i?"entries":"values",!i,!0),d(t)}}},function(e,t,i){var n=i(177),s=i(484);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return s(this)}}},function(e,t,i){"use strict";var n=i(127),s=i(103).getWeak,r=i(11),o=i(16),a=i(120),c=i(121),l=i(73),u=i(49),d=i(151),h=l(5),p=l(6),f=0,m=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},v=function(e,t){return h(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var i=v(this,e);i?i[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,i,r){var l=e(function(e,n){a(e,l,t,"_i"),e._t=t,e._i=f++,e._l=void 0,void 0!=n&&c(n,i,e[r],e)});return n(l.prototype,{delete:function(e){if(!o(e))return!1;var i=s(e);return!0===i?m(d(this,t)).delete(e):i&&u(i,this._i)&&delete i[this._i]},has:function(e){if(!o(e))return!1;var i=s(e);return!0===i?m(d(this,t)).has(e):i&&u(i,this._i)}}),l},def:function(e,t,i){var n=s(r(t),!0);return!0===n?m(e).set(t,i):n[e._i]=i,e},ufstore:m}},function(e,t,i){"use strict";function n(e,t,i,l,u,d,h,p){for(var f,m,g=u,v=0,T=!!h&&a(h,p,3);v<l;){if(v in i){if(f=T?T(i[v],v,t):i[v],m=!1,r(f)&&(m=f[c],m=void 0!==m?!!m:s(f)),m&&d>0)g=n(e,t,f,o(f.length),g,d-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=f}g++}v++}return g}var s=i(225),r=i(16),o=i(26),a=i(65),c=i(21)("isConcatSpreadable");e.exports=n},function(e,t,i){e.exports=!i(24)&&!i(14)(function(){return 7!=Object.defineProperty(i(294)("div"),"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},function(e,t,i){var n=i(16),s=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&s(e)===e}},function(e,t,i){var n=i(11);e.exports=function(e,t,i,s){try{return s?t(n(i)[0],i[1]):t(i)}catch(t){var r=e.return;throw void 0!==r&&n(r.call(e)),t}}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,i){var n=i(303),s=Math.pow,r=s(2,-52),o=s(2,-23),a=s(2,127)*(2-o),c=s(2,-126),l=function(e){return e+1/r-1/r};e.exports=Math.fround||function(e){var t,i,s=Math.abs(e),u=n(e);return s<c?u*l(s/c/o)*c*o:(t=(1+o/r)*s,i=t-(t-s),i>a||i!=i?u*(1/0):u*i)}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t){e.exports=Math.scale||function(e,t,i,n,s){return 0===arguments.length||e!=e||t!=t||i!=i||n!=n||s!=s?NaN:e===1/0||e===-1/0?e:(e-t)*(s-n)/(i-t)+n}},function(e,t,i){"use strict";var n=i(125),s=i(229),r=i(179),o=i(31),a=i(178),c=Object.assign;e.exports=!c||i(14)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=c({},e)[i]||Object.keys(c({},t)).join("")!=n})?function(e,t){for(var i=o(e),c=arguments.length,l=1,u=s.f,d=r.f;c>l;)for(var h,p=a(arguments[l++]),f=u?n(p).concat(u(p)):n(p),m=f.length,g=0;m>g;)d.call(p,h=f[g++])&&(i[h]=p[h]);return i}:c},function(e,t,i){var n=i(25),s=i(11),r=i(125);e.exports=i(24)?Object.defineProperties:function(e,t){s(e);for(var i,o=r(t),a=o.length,c=0;a>c;)n.f(e,i=o[c++],t[i]);return e}},function(e,t,i){var n=i(58),s=i(124).f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return s(e)}catch(e){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==r.call(e)?a(e):s(n(e))}},function(e,t,i){var n=i(49),s=i(58),r=i(221)(!1),o=i(307)("IE_PROTO");e.exports=function(e,t){var i,a=s(e),c=0,l=[];for(i in a)i!=o&&n(a,i)&&l.push(i);for(;t.length>c;)n(a,i=t[c++])&&(~r(l,i)||l.push(i));return l}},function(e,t,i){var n=i(125),s=i(58),r=i(179).f;e.exports=function(e){return function(t){for(var i,o=s(t),a=n(o),c=a.length,l=0,u=[];c>l;)r.call(o,i=a[l++])&&u.push(e?[i,o[i]]:o[i]);return u}}},function(e,t,i){var n=i(124),s=i(229),r=i(11),o=i(12).Reflect;e.exports=o&&o.ownKeys||function(e){var t=n.f(r(e)),i=s.f;return i?t.concat(i(e)):t}},function(e,t,i){var n=i(12).parseFloat,s=i(150).trim;e.exports=1/n(i(311)+"-0")!=-1/0?function(e){var t=s(String(e),3),i=n(t);return 0===i&&"-"==t.charAt(0)?-0:i}:n},function(e,t,i){var n=i(12).parseInt,s=i(150).trim,r=i(311),o=/^[-+]?0[xX]/;e.exports=8!==n(r+"08")||22!==n(r+"0x16")?function(e,t){var i=s(String(e),3);return n(i,t>>>0||(o.test(i)?16:10))}:n},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,i){var n=i(11),s=i(16),r=i(305);e.exports=function(e,t){if(n(e),s(t)&&t.constructor===e)return t;var i=r.f(e);return(0,i.resolve)(t),i.promise}},function(e,t,i){var n=i(26),s=i(310),r=i(75);e.exports=function(e,t,i,o){var a=String(r(e)),c=a.length,l=void 0===i?" ":String(i),u=n(t);if(u<=c||""==l)return a;var d=u-c,h=s.call(l,Math.ceil(d/l.length));return h.length>d&&(h=h.slice(0,d)),o?h+a:a+h}},function(e,t,i){var n=i(77),s=i(26);e.exports=function(e){if(void 0===e)return 0;var t=n(e),i=s(t);if(t!==i)throw RangeError("Wrong length!");return i}},function(e,t,i){t.f=i(21)},function(e,t,i){"use strict";var n=i(487),s=i(151);e.exports=i(222)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(s(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(s(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,i){i(24)&&"g"!=/./g.flags&&i(25).f(RegExp.prototype,"flags",{configurable:!0,get:i(224)})},function(e,t,i){"use strict";var n=i(487),s=i(151);e.exports=i(222)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(s(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,i){"use strict";var n,s=i(73)(0),r=i(51),o=i(103),a=i(499),c=i(489),l=i(16),u=i(14),d=i(151),h=o.getWeak,p=Object.isExtensible,f=c.ufstore,m={},g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(e){if(l(e)){var t=h(e);return!0===t?f(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(d(this,"WeakMap"),e,t)}},T=e.exports=i(222)("WeakMap",g,v,c,!0,!0);u(function(){return 7!=(new T).set((Object.freeze||Object)(m),7).get(m)})&&(n=c.getConstructor(g,"WeakMap"),a(n.prototype,v),o.NEED=!0,s(["delete","has","get","set"],function(e){var t=T.prototype,i=t[e];r(t,e,function(t,s){if(l(t)&&!p(t)){this._f||(this._f=new n);var r=this._f[e](t,s);return"set"==e?this:r}return i.call(this,t,s)})}))},,function(e,t,i){e.exports={default:i(1307),__esModule:!0}},,function(e,t,i){e.exports={default:i(1314),__esModule:!0}},function(e,t,i){"use strict";var n=i(68).f,s=i(240),r=i(241),o=i(93),a=i(237),c=i(153),l=i(324),u=i(528),d=i(537),h=i(81),p=i(182).fastKey,f=i(186),m=h?"_s":"size",g=function(e,t){var i,n=p(t);if("F"!==n)return e._i[n];for(i=e._f;i;i=i.n)if(i.k==t)return i};e.exports={getConstructor:function(e,t,i,l){var u=e(function(e,n){a(e,u,t,"_i"),e._t=t,e._i=s(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=n&&c(n,i,e[l],e)});return r(u.prototype,{clear:function(){for(var e=f(this,t),i=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var i=f(this,t),n=g(i,e);if(n){var s=n.n,r=n.p;delete i._i[n.i],n.r=!0,r&&(r.n=s),s&&(s.p=r),i._f==n&&(i._f=s),i._l==n&&(i._l=r),i[m]--}return!!n},forEach:function(e){f(this,t);for(var i,n=o(e,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(e){return!!g(f(this,t),e)}}),h&&n(u.prototype,"size",{get:function(){return f(this,t)[m]}}),u},def:function(e,t,i){var n,s,r=g(e,t);return r?r.v=i:(e._l=r={i:s=p(t,!0),k:t,v:i,p:n=e._l,n:void 0,r:!1},e._f||(e._f=r),n&&(n.n=r),e[m]++,"F"!==s&&(e._i[s]=r)),e},getEntry:g,setStrong:function(e,t,i){l(e,t,function(e,i){this._t=f(e,t),this._k=i,this._l=void 0},function(){for(var e=this,t=e._k,i=e._l;i&&i.r;)i=i.p;return e._t&&(e._l=i=i?i.n:e._t._f)?"keys"==t?u(0,i.k):"values"==t?u(0,i.v):u(0,[i.k,i.v]):(e._t=void 0,u(1))},i?"entries":"values",!i,!0),d(t)}}},function(e,t,i){var n=i(238),s=i(1322);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return s(this)}}},,,,,,,,function(e,t,i){"use strict";var n=i(155),s=i(326),r=i(183),o=i(156),a=i(323),c=Object.assign;e.exports=!c||i(106)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=c({},e)[i]||Object.keys(c({},t)).join("")!=n})?function(e,t){for(var i=o(e),c=arguments.length,l=1,u=s.f,d=r.f;c>l;)for(var h,p=a(arguments[l++]),f=u?n(p).concat(u(p)):n(p),m=f.length,g=0;m>g;)d.call(p,h=f[g++])&&(i[h]=p[h]);return i}:c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){function i(e){var t=e?e.length:0;return t?e[t-1]:void 0}e.exports=i},function(e,t,i){e.exports=i(626)},function(e,t,i){e.exports=i(626)},function(e,t,i){function n(e,t,i,n){var h=e?r(e):0;return c(h)||(e=u(e),h=e.length),i="number"!=typeof i||n&&a(t,i,n)?0:i<0?d(h+i,0):i||0,"string"==typeof e||!o(e)&&l(e)?i<=h&&e.indexOf(t,i)>-1:!!h&&s(e,t,i)>-1}var s=i(390),r=i(395),o=i(28),a=i(113),c=i(141),l=i(649),u=i(167),d=Math.max;e.exports=n},function(e,t,i){function n(e,t,i){var n=a(e)?s:o;return i&&c(e,t,i)&&(t=void 0),"function"==typeof t&&void 0===i||(t=r(t,i,3)),n(e,t)}var s=i(630),r=i(95),o=i(1705),a=i(28),c=i(113);e.exports=n},function(e,t,i){var n=i(165),s=n(Date,"now"),r=s||function(){return(new Date).getTime()};e.exports=r},function(e,t,i){function n(e,t,i){this.__wrapped__=e,this.__actions__=i||[],this.__chain__=!!t}var s=i(386),r=i(392);n.prototype=s(r.prototype),n.prototype.constructor=n,e.exports=n},function(e,t){function i(e,t){for(var i=-1,n=e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}e.exports=i},function(e,t,i){function n(e,t){return null==t?e:s(t,r(t),e)}var s=i(632),r=i(114);e.exports=n},function(e,t){function i(e,t,i){i||(i={});for(var n=-1,s=t.length;++n<s;){var r=t[n];i[r]=e[r]}return i}e.exports=i},function(e,t,i){function n(e,t){var i=e?e.length:0,n=[];if(!i)return n;var c=-1,l=s,u=!0,d=u&&t.length>=a?o(t):null,h=t.length;d&&(l=r,u=!1,t=d);e:for(;++c<i;){var p=e[c];if(u&&p===p){for(var f=h;f--;)if(t[f]===p)continue e;n.push(p)}else l(t,p,0)<0&&n.push(p)}return n}var s=i(390),r=i(639),o=i(643),a=200;e.exports=n},function(e,t,i){var n=i(1713),s=n();e.exports=s},function(e,t,i){function n(e,t){return s(e,t,r)}var s=i(634),r=i(402);e.exports=n},function(e,t,i){function n(e,t){var i=-1,n=r(e)?Array(e.length):[];return s(e,function(e,s,r){n[++i]=t(e,s,r)}),n}var s=i(140),r=i(72);e.exports=n},function(e,t){function i(e){return function(t){return null==t?void 0:t[e]}}e.exports=i},function(e,t,i){var n=i(264),s=i(647),r=s?function(e,t){return s.set(e,t),e}:n;e.exports=r},function(e,t,i){function n(e,t){var i=e.data;return("string"==typeof t||s(t)?i.set.has(t):i.hash[t])?0:-1}var s=i(35);e.exports=n},function(e,t){function i(e,t,i){for(var s=i.length,r=-1,o=n(e.length-s,0),a=-1,c=t.length,l=Array(c+o);++a<c;)l[a]=t[a];for(;++r<s;)l[i[r]]=e[r];for(;o--;)l[a++]=e[r++];return l}var n=Math.max;e.exports=i},function(e,t){function i(e,t,i){for(var s=-1,r=i.length,o=-1,a=n(e.length-r,0),c=-1,l=t.length,u=Array(a+l);++o<a;)u[o]=e[o];for(var d=o;++c<l;)u[d+c]=t[c];for(;++s<r;)u[d+i[s]]=e[o++];return u}var n=Math.max;e.exports=i},function(e,t,i){function n(e){return o(function(t,i){var n=-1,o=null==t?0:i.length,a=o>2?i[o-2]:void 0,c=o>2?i[2]:void 0,l=o>1?i[o-1]:void 0;for("function"==typeof a?(a=s(a,l,5),o-=2):(a="function"==typeof l?l:void 0,o-=a?1:0),c&&r(i[0],i[1],c)&&(a=o<3?void 0:a,o=1);++n<o;){var u=i[n];u&&e(t,u,a)}return t})}var s=i(164),r=i(113),o=i(139);e.exports=n},function(e,t,i){(function(t){function n(e){return a&&o?new s(e):null}var s=i(1683),r=i(165),o=r(t,"Set"),a=r(Object,"create");e.exports=n}).call(t,i(29))},function(e,t,i){var n=i(647),s=i(1756),r=n?function(e){return n.get(e)}:s;e.exports=r},function(e,t,i){function n(e,t){var i=typeof e;return!!("string"==i&&a.test(e)||"number"==i)||!s(e)&&(!o.test(e)||null!=t&&e in r(t))}var s=i(28),r=i(96),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=n},function(e,t,i){function n(e){return e===e&&!s(e)}var s=i(35);e.exports=n},function(e,t,i){(function(t){var n=i(165),s=n(t,"WeakMap"),r=s&&new s;e.exports=r}).call(t,i(29))},function(e,t,i){var n=i(638),s=i(628),r=function(){var e=0,t=0;return function(i,r){var o=s(),a=16-(o-t);if(t=o,a>0){if(++e>=150)return i}else e=0;return n(i,r)}}();e.exports=r},function(e,t,i){function n(e){return"string"==typeof e||s(e)&&a.call(e)==r}var s=i(59),r="[object String]",o=Object.prototype,a=o.toString;e.exports=n},function(e,t,i){var n=i(1689),s=i(631),r=i(642),o=r(function(e,t,i){return i?n(e,t,i):s(e,t)});e.exports=o},function(e,t,i){e.exports=i(650)},function(e,t,i){function n(e,t,i){return e=s(e),i=null==i?0:r(i<0?0:+i||0,e.length),e.lastIndexOf(t,i)==i}var s=i(201),r=Math.min;e.exports=n},function(e,t,i){function n(e){return o(e)?s(e):r(e)}var s=i(637),r=i(1703),o=i(645);e.exports=n},,,,,,,,,,,function(e,t,i){!function(e,t){t(i(60))}(0,function(e){"use strict";return e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,i){!function(e,t){t(i(60))}(0,function(e){"use strict";return e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})})},function(e,t,i){!function(e,t){t(i(60))}(0,function(e){"use strict";return e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,i){!function(e,t){t(i(60))}(0,function(e){"use strict";return e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,i){!function(e,t){t(i(60))}(0,function(e){"use strict";return e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i(1044),i(904)},function(e,t,i){"use strict";(function(e){function t(e,t,i){e[t]||Object[n](e,t,{writable:!0,configurable:!0,value:i})}if(i(1289),i(1767),i(1090),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var n="defineProperty";t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(t,i(29))},,,,,function(e,t){e.exports["account_settings_account_summary.mustache"]='<div class="account-summary flex flex-row flex-align--center"> <img class="avatar size pull-right flex-shrink--0" src="{{profileImageURL}}" alt="{{screenName}}\'s avatar"> {{#cookieProfileImageURL}} <img class="avatar size18 avatar-border--2 margin-l---20 margin-t--28" src="{{cookieProfileImageURL}}" alt="{{screenName}}\'s avatar"> {{/cookieProfileImageURL}}  <div class="account-link margin-l--10 flex-auto"> <div class="margin-b--2 {{#isBadged}}fullname-badged-container{{/isBadged}}"> <b class="fullname txt-ellipsis inline-block link-complex-target txt-size--14 {{#isBadged}}fullname-badged{{/isBadged}} {{#isTranslator}}badge-translator{{/isTranslator}} {{#isVerified}}badge-verified{{/isVerified}}"> {{{emojifiedName}}} </b> </div> <div> <span class="username txt-r-dark-gray txt-size--13 inline-block txt-ellipsis">@{{screenName}} {{#isProtected}}<i class="icon icon-protected icon-match-context icon-tt"></i>{{/isProtected}}</span> </div> </div> </div>',e.exports["account_summary.mustache"]='<div class="account-summary cf"> <a class="obj-left item-img" href="{{getProfileURL}}" data-user-name="{{screenName}}" rel="user" target="_blank" tabindex="-1"> {{^withoutAvatar}} <img class="tweet-avatar avatar pull-right" src="{{profileImageURL}}" width="48" height="48" alt="{{screenName}}\'s avatar"> {{/withoutAvatar}} </a>  {{#withUserMenu}} <div class="obj-right with-dropdown position-rel"> <button class="js-user-actions-menu btn btn-on-dark btn-square" rel="actionsMenu" data-user-id="{{id}}"> <i class="icon icon-user-dd"></i> </button> </div> {{/withUserMenu}}  <div class="account-summary-text nbfc {{^withUserBio}}padding-t--7{{/withUserBio}}"> <a class="account-link link-complex block" href="{{getProfileURL}}" data-user-name="{{screenName}}" rel="user" target="_blank"> <span class="{{#isInline}}account-inline {{#isProtected}}is-protected{{/isProtected}}{{/isInline}} txt-ellipsis {{#isBadged}}fullname-badged-container{{/isBadged}}"> <b class="fullname inline-block link-complex-target {{#isBadged}}fullname-badged{{/isBadged}} {{#isTranslator}}badge-translator{{/isTranslator}} {{#isVerified}}badge-verified{{/isVerified}} position-rel txt-ellipsis"> {{{emojifiedName}}} </b> {{#isInline}} <span class="username txt-mute">@{{screenName}}</span> {{#isProtected}}<i class="icon icon-protected txt-mute txt-size--14"></i>{{/isProtected}} {{/isInline}} </span>  {{^isInline}} <div class="{{#isProtected}}is-protected{{/isProtected}}"> <a href="{{getProfileURL}}" class="account-link link-complex" target="_blank" data-user-name="{{screenName}}" rel="user"> <span class="username txt-mute">@{{screenName}}</span> {{#isProtected}}<i class="icon icon-protected txt-mute txt-size--14 align-top"></i>{{/isProtected}} </a> </div> {{/isInline}} </a> {{#withUserBio}} <p class="account-bio txt-sub-antialiased txt-r-dark-gray txt-size-variable--13 padding-t--5">{{{bio}}}</p> {{/withUserBio}} </div> </div>',e.exports["account_summary_inline.mustache"]='<img class="avatar size16 avatar-inline neg-margin-bxs" src="{{profileImageURL}}" alt="{{screenName}}\'s avatar"> @{{screenName}}',e.exports["actions/action_dialog.mustache"]='<div class="mdl-inner"> <div class="cf"> <div class="pull-right"> {{^isProtected}} <button data-action="quote" class="js-action-button btn">{{_i}}Quote Tweet{{/i}}</button> <button data-action="retweet" class="js-action-button js-retweet-button btn btn-positive">{{_i}}Retweet{{/i}}</button> {{/isProtected}} </div> </div> </div> <div class="js-inreply cmp-replyto item-box is-inverted-dark"></div>',e.exports["actions/action_header.mustache"]='<div class="accs-header"> <h3>&nbsp;</h3> </div>',e.exports["actions/add_to_customtimeline_dialog.mustache"]='<section> <form class="frm"> <fieldset> <ul class="control-group padding-bn"> {{#myCustomTimelines}} <li class="margin-b--10"> <label class="checkbox"> <input type="checkbox" name="{{name}}" data-id="{{id}}" data-account="{{#account}}{{getKey}}{{/account}}"/> <span>{{>text/strong}}</span> </label> </li> {{/myCustomTimelines}} </ul> </fieldset> </form> </section>',e.exports["actions/add_to_list_dialog.mustache"]='<section> <form class="frm"> <fieldset> <ul class="control-group padding-bs"> {{#myLists}} <li class="margin-b--10"> <label class="checkbox"> <input type="checkbox" name="{{name}}" id="{{id}}" data-account="{{#account}}{{getKey}}{{/account}}" class="margin-t--5"/> <span class="txt-size--14 txt-twitter-dark-black"> {{>text/strong}} {{#isPrivate}}<i class="icon icon-protected icon-small txt-mute txt-size--14"></i>{{/isPrivate}} </span> <span class="txt-size--14 txt-mute">{{_i}}by{{/i}} @{{#user}}{{screenName}}{{/user}}</span> </label> </li> {{/myLists}} </ul> </fieldset> <a href="#" class="js-create-list">+ {{_i}}Create new list{{/i}}</a> </form> </section>',e.exports["actions/add_to_list_footer.mustache"]='<button class="btn js-create-list">{{_i}}Create list{{/i}}</button>',e.exports["actions/copy_text_modal.mustache"]='<div class="padding-t--15 padding-h--15 bg-r-white txt-twitter-deep-black width--490"> <p class="txt-size--13">{{{explanatoryText}}}</p> <div class="flex margin-t--10 margin-b--15"> <input class="js-text-field margin-r--15 min-height--30 flex-auto" name="copy-text" type="text" {{#readonly}}readonly="readonly" {{/readonly}}placeholder="{{placeholderText}}"> {{#showButton}} <button class="js-copy-button btn btn-positive no-wrap flex-shrink--0" type="button"> {{buttonText}} </button> {{/showButton}} </div> </div>',e.exports["actions/follow_from.mustache"]='<div class="js-follow-from l-table padding-al"> <div class="l-cell follow-from-accounts-button margin-r--10"> {{>follow_button}} </div> {{^hideFromAccountName}} <div class="js-from-username l-cell padding-lm follow-from-accounts-username"> {{#account}} <img class="avatar size32 pull-left" src={{getProfileImageURL}} /> <span class="from-handle padding-l--6">from @{{getUsername}}</span> {{/account}} </div> {{/hideFromAccountName}} </div>',e.exports["add_account_info.mustache"]='<div class="padding-t--15 txt-center"> <img class="avatar size64" src="{{#asset}}/web/assets/global/backgrounds/default_profile.png{{/asset}}" alt="Default avatar"> <img class="avatar size30 avatar-border--2 margin-l---30 margin-t--21" src="{{profileImageURL}}" alt="{{screenName}}\'s avatar"> </div> <p class="padding-t--10"> {{_i}}Linking another account here will add{{/i}} <span class="txt-bold">@{{screenName}}</span> {{_i}}as a contributor to that account, with admin privileges.{{/i}} </p> <p class="padding-t--10"> {{_i}}This means that when you or anyone else logs in to TweetDeck, Twitter for iOS or Twitter for Android as{{/i}} <span class="txt-bold">@{{screenName}}</span> {{_i}}in the future, they will be able to take actions on behalf of the account you link here, as well as view and manage other team members.{{/i}} </p> <p class="padding-t--10"> {{_i}}If you are trying to join a shared account as a team member, ask an admin for the account to invite you as a team member instead of completing this action.{{/i}} <a href="https://support.twitter.com/articles/20171753" target="_blank">{{_i}}Learn more about teams{{/i}}</a> </p>  <div class="pull-right padding-v--16 margin-r---14"> <button class="js-add-account-continue btn btn-positive"> {{_i}}Continue{{/i}} </button> </div>',e.exports["add_column_search_input.mustache"]='<form action="#" class="search-input-list padding-a--10"> {{> search_input}} </form>',e.exports["app_container.mustache"]='<div class="js-progress-indicator"></div> <div class="js-app-content app-content"> {{>drawer}} <div class="js-app-columns-container app-columns-container scroll-h needs-scroll-bottom-offset {{#styledScrollbar}}scroll-styled-h{{/styledScrollbar}}" id="container"> <div class="js-app-columns app-columns horizontal-flow-container"> <section class="js-app-add-panel"></section> </div> </div> </div>  <div id="compose-modal" class="js-modal ovl scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"></div> <div id="open-modal" class="js-modal open-modal ovl scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"></div> <div id="actions-modal" class="js-modal ovl scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"></div> <div id="lists-modal" class="js-modal lists-modal ovl scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"></div> <div id="splash-modal" class="js-modal ovl scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"></div> <div id="settings-modal" class="js-modal settings-modal ovl scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"></div>',e.exports["app_links.mustache"]='<a href="https://www.twitter.com/tos" target="_blank">{{_i}}Terms of Service{{/i}}</a> &middot; <a href="https://twitter.com/privacy" target="_blank">{{_i}}Privacy Policy{{/i}}</a> &middot; <a href="https://support.twitter.com/articles/20170514" target="_blank">{{_i}}Cookies{{/i}}</a> &middot; <span class="inline-block"> {{version}} </span>',e.exports["buttons/favorite.mustache"]='<button class="js-btn-fav js-show-tip btn btn-tertiary btn-fav" data-account-key="{{getKey}}"> <div class="btn-loader"> <span> <img src="{{#asset}}/web/assets/global/backgrounds/spinner_small_trans.gif{{/asset}}" alt="{{_i}}Loading…{{/i}}"> </span> </div> <div class="btn-fav-fav-text"> <i class="icon icon-favorite icon-favorite-color"></i> <span class="label">{{_i}}Like{{/i}}</span> </div> <div class="btn-fav-faved-text"> <span class="label">{{_i}}Liked{{/i}}</span> </div> <div class="btn-fav-unfav-text"> <span class="label">{{_i}}Unlike{{/i}}</span> </div> <div class="btn-fav-protected-text"> <i class="icon icon-protected"></i> <span class="label">{{_i}}Protected{{/i}}</span> </div> </button>',e.exports["buttons/load_more.mustache"]='<input type="button" name="remove-account" value="Load more" class="js-load-more small btn btn-alt margin-vl obj-center">',e.exports["chart_with_controls.mustache"]='<div class="flex flex-justify-content--space-between flex-align--center margin-b--20"> <h1 class="txt-size--16 txt-bold max-width-p--60">{{title}}</h1> <div class="js-insights-date-picker"></div> </div> <div class="js-chart-terms margin-b--20"></div> <div class="js-insights-grid-chart"></div>',e.exports["column.mustache"]='<section class="js-column {{^isTemporary}}column{{/isTemporary}} {{#isTemporary}}column-temp is-inverted-dark{{/isTemporary}} {{columnclass}}" data-column="{{columnkey}}"> <div class="js-column-holder column-holder"> <div class="column-panel flex flex-column height-p--100"> {{> column/column_header}} {{#isSearch}} <div class="js-search-filter-callout"></div> {{/isSearch}} <div class="js-column-content column-content flex-auto position-rel flex flex-column height-p--100"> <div class="js-column-options-container column-options flex-shrink--0 z-index--2"> <div class="js-column-options {{#isTouchColumnOptions}}with-touch-txt-base{{/isTouchColumnOptions}}"></div>  <div class="js-customtimeline-description scroll-none with-column-divider-bottom is-hidden"></div> </div> <div class="js-insights-entry-point"></div> {{^isTemporary}} <div> <div class="js-column-message scroll-none"></div> </div> {{/isTemporary}} <div class="js-live-video"></div> {{> column/chirp_container}} <div class="js-column-drag-drop-overlay column-drag-drop-overlay drag-drop-indicator pin-all"> <div class="l-table column-drag-drop-overlay-inner drag-drop-indicator"> <div class="l-cell js-drag-drop-overlay-text"> {{_i}}Add here{{/i}} </div> <div class="l-cell js-drag-drop-overlay-spinner is-hidden"> {{> column/add_to_customtimeline_drop_indicator_spinner}} </div> </div> </div> <div class="js-more-tweets-btn-container more-tweets-btn-container pin-top more-tweets-btn-container--hidden"> <div class="js-more-tweets-glow more-tweets-glow obj-center is-hidden"></div> <button class="js-more-tweets-btn btn btn-positive more-tweets-btn txt-size--12"> <div class="more-tweets-btn-inner-default"> <i class="icon icon-pointer-u icon-match-context icon-tt"></i> <span class="js-more-tweets-btn-text"></span> </div> <div class="more-tweets-btn-inner-mouse-release"> {{_i}}Release to refresh{{/i}} </div> <div class="more-tweets-btn-inner-loading">{{_i}}Loading...{{/i}}</div> </button> </div> </div> <div class="js-add-to-customtimeline add-by-url padding-hm is-hidden flex-shrink--0"></div> </div> <div class="js-column-detail column-detail column-panel flex flex-column height-p--100"></div> <div class="js-column-social-proof column-detail-level-2 column-panel flex flex-column height-p--100"></div> </div> </section>',e.exports["column/add_to_custom_timeline.mustache"]='<div class="input-group-button margin-tm"> <button class="js-add-to-customtimeline-button js-spinner-button pull-right btn btn-square"> <i class="icon icon-arrow-r"></i> <i class="js-spinner-button-active icon spinner-small-trans icon-center-16 is-hidden"></i> </button> <div class="nbfc"> <input class="js-add-to-customtimeline-input js-submittable-input input-group-input br-left" type="text" placeholder="{{_i}}Enter Tweet URL{{/i}}" value="" data-account-key="{{accountKey}}" data-customtimeline-id="{{customTimelineId}}" > </div> </div>',e.exports["column/add_to_customtimeline_drop_indicator.mustache"]='<div id="{{dropIndicatorIdName}}" class="{{dropIndicatorClassName}} drag-drop-indicator txt-r-white padding-v--16 txt-center is-animating"> {{dropIndicatorText}} </div>',e.exports["column/add_to_customtimeline_drop_indicator_spinner.mustache"]='<div class="spinner-small spinner-small-blue-bg spinner-centered-auto"></div>',e.exports["column/chirp_container.mustache"]='<div class="js-column-scroller js-dropdown-container column-scroller position-rel scroll-v flex-auto height-p--100 {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} {{#isTemporary}}column-background-fill scroll-alt{{/isTemporary}}"> <div class="js-chirp-container chirp-container" data-column="{{columnkey}}"> {{>column_loading_placeholder}} </div> </div>',e.exports["column/column_dm_participants.mustache"]='{{> column/column_header_detail}}  <div class="js-conversation-adder add-participant padding-a--10"></div>  <div class="column-content flex-auto position-rel"> <div class="column-scroller pin-all scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"> {{#users}} {{<stream_item}} {{$content}} {{>account_summary}} {{/content}} {{/stream_item}} {{/users}} {{^users}} {{>column_loading_placeholder}} {{/users}} </div> </div>',e.exports["column/column_filter_error.mustache"]='<p class="is-actionable txt-uppercase txt-center padding-as" data-action="action-filter"> {{_i}}Filter error{{/i}} </p>',e.exports["column/column_header.mustache"]='<header class="js-column-header js-action-header flex-shrink--0 {{^isTemporary}}column-header{{/isTemporary}} {{#isTemporary}}column-header-temp{{/isTemporary}}" data-action="resetToTopColumn">  {{^isTemporary}} <i class="js-column-drag-handle is-movable column-drag-handle pull-left sprite sprite-drag-vertical"></i> {{/isTemporary}}  {{#isEventColumn}} <img src="{{#asset}}/web/assets/global/backgrounds/generalelection.png{{/asset}}" class="pull-left margin-hs image-icon-small padding-t--12" /> {{/isEventColumn}} {{^isEventColumn}} <i class="pull-left margin-hs column-type-icon icon {{columniconclass}}"> {{#withMarkAllRead}} <span class="js-unread-count msg-unread-count numbered-badge numbered-badge-onheader anim anim-slower {{#unreadCount}}is-visible{{/unreadCount}}">{{unreadCount}}</span> {{/withMarkAllRead}} </i> {{/isEventColumn}}  {{#isTemporary}} <button class="js-action-header-button pull-right btn btn-tertiary margin-t--10 is-hidden" data-action="editList"></button> {{/isTemporary}}  {{^isTemporary}} <span class="column-number"></span> {{/isTemporary}}  {{^withEditableTitle}} <h1 class="column-title txt-ellipsis">{{{columntitle}}}</h1> {{/withEditableTitle}} {{#withEditableTitle}} <div class="column-title txt-ellipsis column-title-editable {{^isSearch}}with-image-attribution{{/isSearch}}"> {{{columntitle}}} </div> {{/withEditableTitle}}  {{#withDMComposeButton}} <a class="js-action-header-button column-header-link open-compose-dm-link" href="#" data-action="compose-dm"> <i class="js-show-tip icon icon-compose-dm" data-placement="bottom" title="{{_i}}Compose new message{{/i}}"></i> </a> {{/withDMComposeButton}}  {{#withMarkAllRead}} <a class="js-action-header-button column-header-link mark-all-read-link" href="#" data-action="mark-all-read"> <i class="js-show-tip icon icon-mark-read" data-placement="bottom" title="{{_i}}Mark all as read{{/i}}"></i> </a> {{/withMarkAllRead}}  {{^isTemporary}} <a class="js-action-header-button column-header-link column-settings-link" href="#" data-action="options"> <i class="icon icon-sliders"></i> </a> {{/isTemporary}} </header>',e.exports["column/column_header_detail.mustache"]='<header class="{{headerClass}} column-header" data-action="{{headerAction}}"> <a class="{{headerLinkClass}} link-complex" href="#"> {{^getConversationTitleInformation}} <div class="column-title-back txt-ellipsis"> <i class="icon icon-arrow-l"></i> <span class="js-tooltip-target link-complex-target">{{_i}}Back to {{{columntitle}}}{{/i}}</span> </div> {{/getConversationTitleInformation}} {{#getConversationTitleInformation}} <div class="flex txt-size--16 column-title-container"> <i class="icon icon-arrow-l"></i> {{! if there is a conversation name, show it as it is }} <div class="margin-l--2 height-4 max-width-p--83 txt-ellipsis column-title-items"> {{#name}} <span class="js-tooltip-target">{{{name}}}</span> {{/name}} {{^name}} {{! currently showing name and screenName for one to one }} {{#isOneToOne}} {{#participants.0}} <span class="js-tooltip-target"> <b>{{{emojifiedName}}}</b> {{^isDeleted}} <span class="username txt-mute txt-size-variable--12 margin-l--5">@{{screenName}}</span> {{/isDeleted}} </span> {{/participants.0}} {{/isOneToOne}} {{! other two participants, need to wrap around names }} {{#isThreeway}} <span class="js-tooltip-target title-content"> {{#participants.0}} <span class="no-wrap">{{{emojifiedName}}}</span>, {{/participants.0}} {{#participants.1}} <span class="no-wrap">{{{emojifiedName}}}</span> {{/participants.1}} </span> {{/isThreeway}} {{! first participant name + the amount of participants }} {{#isOneToMany}} <span class="js-tooltip-target title-content"> {{#participants.0}}{{{emojifiedName}}}{{/participants.0}} +{{numberOfOtherParticipants}} </span> {{/isOneToMany}} {{/name}} </div> </div> {{/getConversationTitleInformation}} {{#withConversationMenu}} {{^isTemporary}} <a class="js-action-header-button column-header-link column-settings-link link-no-focus" href="#" data-action="message-menu" data-conversation-id="{{conversationId}}" data-account-key="{{accountKey}}"> <i class="js-menu-target icon icon-more"></i> </a> {{/isTemporary}} {{> column/dm_rename_conversation }} {{/withConversationMenu}} </a> </header>',e.exports["column/column_message.mustache"]='<div class="is-actionable with-column-divider-bottom column-message cf padding-ll padding-rxs padding-vxs" data-action="options"> <p class="obj-left txt-size--12 padding-axs">{{_i}}Filtered by:{{/i}}</p> <div class="obj-right"> {{#action}} <span data-action="action-filter" class="txt-size--16 padding-axs facet-action inline-block"> <i class="icon icon-tt icon-check icon-small"></i> </span> {{/action}} {{#location}} <span data-action="location-filter" class="txt-size--16 padding-axs facet-location inline-block"> <i class="icon icon-tt icon-geo icon-small"></i> </span> {{/location}} {{#content}} <span data-action="content-filter" class="txt-size--16 padding-axs facet-content inline-block"> <i class="icon icon-tt icon-content icon-small"></i> </span> {{/content}} {{#user}} <span data-action="user-filter" class="txt-size--16 padding-axs facet-user inline-block"> <i class="icon icon-tt icon-user icon-small"></i> </span> {{/user}} {{#engagement}} <span data-action="engagement-filter" class="txt-size--16 padding-axs facet-engagement inline-block"> <i class="icon icon-tt icon-retweet icon-small"></i> </span> {{/engagement}} </div> </div>',e.exports["column/column_options.mustache"]='<form class="with-column-divider-bottom">  <fieldset class="js-search-filter"> <div class="js-accordion accordion"></div> </fieldset>  {{#isOwnList}} <button class="btn btn-neutral-positive full-width btn-bg-positive btn-options-tray-space" type="button" data-action="edit-list"> <i class="icon icon-edit txt-size--14"></i> <span class="label margin-ln">{{_i}}Edit list{{/i}}</span> </button> {{/isOwnList}}  {{#isOwnCustomTimeline}} <button class="btn btn-neutral-positive full-width btn-bg-positive btn-options-tray-space" type="button" data-action="edit-customtimeline"> <i class="icon icon-edit txt-size--14"></i> <span class="label margin-ln">{{_i}}Edit collection{{/i}}</span> </button> {{/isOwnCustomTimeline}}  {{#isDataminr}} <a class="btn btn-neutral-positive full-width btn-bg-positive btn-options-tray-space url-ext" type="button" href="https://news.dataminr.com/app/core/news/settings.html" rel="url noopener noreferrer" target="_blank" data-scribe-element="dataminr_settings"> <i class="icon icon-dataminr icon-small-valigned"></i> <span class="label margin-ln">{{_i}}Dataminr settings{{/i}}</span> </a> {{/isDataminr}}  <fieldset class="accordion-divider-t button-tray padding-hs"> <div class="button-group"> <button type="button" class="btn btn-alt btn-square-narrow btn-neutral btn-options-tray pull-left padding-hn" data-action="left"> <i class="icon icon-arrow-l icon-small-valigned"></i> <span class="is-vishidden">{{_i}}Left{{/i}}</span> </button> <button type="button" class="btn btn-alt btn-square-narrow btn-neutral btn-options-tray pull-left padding-hn" data-action="right"> <i class="icon icon-arrow-r icon-small-valigned"></i> <span class="is-vishidden">{{_i}}Right{{/i}}</span> </button> </div>  <span class="position-rel"> <button type="button" class="js-share-column btn btn-alt btn-neutral btn-options-tray padding-hn {{^isShareableOrEmbeddable}}is-invisible{{/isShareableOrEmbeddable}}"> <i class="icon icon-share"></i> <span class="label">{{_i}}Share{{/i}}</span> </button> </span>  <button type="button" class="btn btn-alt btn-neutral btn-options-tray padding-hn {{^isClearable}}is-invisible{{/isClearable}}" data-action="clear"> <i class="icon icon-clear-timeline"></i> <span class="label">{{_i}}Clear{{/i}}</span> </button>  <button type="button" class="btn btn-alt btn-neutral btn-options-tray padding-hn padding-rs" data-action="remove"> <i class="icon icon-close"></i> <span class="label">Remove</span> </button> </fieldset>  \x3c!-- Revisit IF needed for touch --\x3e \x3c!-- {{#isTouchColumnOptions}} <fieldset class="margin-hs padding-tm padding-bm column-options-divider"> <div class="button-group"> <a class="column-action-link is-actionable pull-left" data-action="left"> <i class="icon icon-chevron-left"></i> <span class="is-vishidden">{{_i}}Left{{/i}}</span> </a> <a class="column-action-link is-actionable pull-left" data-action="right"> <i class="icon icon-chevron-left"></i> <span class="is-vishidden">{{_i}}Right{{/i}}</span> </a> </div> <div class="pull-right"> {{#isEmbeddable}} <a class="column-action-link is-actionable" data-action="embed"><i class="icon icon-share"></i></a> {{/isEmbeddable}} {{#isClearable}} <a class="column-action-link is-actionable" data-action="clear">{{_i}}Clear column{{/i}}</a> {{/isClearable}} {{#isOwnCustomTimeline}} <a class="column-action-link is-actionable" data-action="delete-customtimeline">{{_i}}Delete collection{{/i}}</a> {{/isOwnCustomTimeline}} <button type="button" class="btn btn-negative btn-square" data-action="remove"><i class="icon icon-trash"></i></button> </div> </fieldset> {{/isTouchColumnOptions}} --\x3e  </form>',e.exports["column/column_options_header.mustache"]="",e.exports["column/custom_timeline_description.mustache"]='{{#description}} {{#editable}} <button class="js-edit pull-right btn btn-neutral btn-square btn-alt margin-txs "> <i class="icon icon-edit txt-mute txt-size--14 padding-txs"></i> </button> {{/editable}} <div class="nbfc"> <p class="padding-v--10 padding-l--10 txt-mute txt-size--13">{{{description}}}</p> </div> {{/description}}',e.exports["column/dm_rename_conversation.mustache"]='<div class="js-edit-conversation-name edit-conversation-name bg-r-faded-yellow cf" data-conversation-id="{{conversationId}}" data-account-key="{{accountKey}}" > <div class="obj-right"> <button class="btn btn-neutral btn-square btn-square-narrow" data-action="confirm-edit-conversation"> <i class="icon icon-check txt-r-deep-green"></i> </button> <button class="btn btn-neutral btn-square btn-square-narrow" data-action="close-edit-conversation"> <i class="icon icon-close txt-r-deep-red"></i> </button> </div> <div class="nbfc"> <input class="js-conversation-name js-submittable-input js-escapable-input conversation-name" maxlength="20"> </div> </div>',e.exports["column/preferences.mustache"]='<div class="js-accordion-item facet-type facet-type-preferences"> {{>menus/accordion_header}} <div class="js-accordion-panel accordion-panel {{#columnWithTweets}}height--225{{/columnWithTweets}}{{^columnWithTweets}}height--60{{/columnWithTweets}} padding-b--5"> <div class="padding-hl control-s"> <div class="margin-b--6 margin-t--6 txt-mute txt-size--13"> <span class="txt-size--11 txt-uppercase txt-bold">{{_i}}Notifications{{/i}}</span> </div> <div class="control-group"> {{#notificationOptions}} <div class="controls margin-l--0"> <label class="txt-mute"> <input type="checkbox" {{#on}}checked{{/on}} data-action="{{action}}"> {{option}} </label> </div> {{/notificationOptions}} </div> </div> {{#columnWithTweets}} <div class="padding-hl control-s"> <div class="margin-b--6 margin-t--6 txt-mute txt-size--13"> <span class="txt-size--11 txt-uppercase txt-bold">{{_i}}Media preview size{{/i}}</span> </div> <div> {{#mediaPreviewSizeOptions}} <div class="js-toggle-item toggle-item pull-left padding-r--8" data-value="{{dataValue}}"> <span class="toggle-item-text txt-size--11 txt-mute">{{text}}</span> <img class="media-size-image js-unselected-media block margin-t--5" src="{{unselectedSrc}}" /> <img class="media-size-image js-selected-media block margin-t--5 is-hidden" src="{{selectedSrc}}" /> </div> {{/mediaPreviewSizeOptions}} </div> </div> {{/columnWithTweets}} </div> </div>',e.exports["column/search_filter_callout.mustache"]='<div class="search-filter-callout-triangle pin-right margin-r--15 margin-t---14"></div> <div class="bg-r-twitter-blue txt-on-r-twitter-blue full-width height--30 padding-l--10 txt-size--12 txt-bold txt-line-height--30 is-actionable"> {{content}} </div>',e.exports["column/trend_select_item.mustache"]='<option value="{{value}}" {{#isSelected}}selected{{/isSelected}}>{{title}}</option>',e.exports["column/trends_options.mustache"]='<div class="padding-a--8"> <div class="position-rel"> <label for="select-trend-for" class="vertical-center pull-left txt-mute">Trends for</label> <select name="select-trend-for" class="js-trend-select trend-select"> </select> </div> <div class="js-city-select-panel position-rel margin-t--5 "> <label for="select-trend-for" class="vertical-center pull-left txt-mute">City</label> <select name="select-trend-for" class="js-cities-select trend-select"> </select> </div> </div>',e.exports["column_loading_placeholder.mustache"]='<div class="js-column-loading-placeholder list-placeholder column-loading-placeholder"> <p><span class="spinner-small"></span> {{^isUpdating}}Loading&#8230;{{/isUpdating}}{{#isUpdating}}Updating&#8230;{{/isUpdating}}</p> </div>',e.exports["column_nav_flyout.mustache"]='<div class="js-column-nav-menu-flyover column-nav-flyout"> <div class="column-nav-item padding-lm padding-rl txt-ellipsis">{{{content}}}</div> </div>',e.exports["column_title.mustache"]='<span class="column-head-title">{{{emojifiedTitle}}}</span> {{#needsUserAttribution}}<span class="attribution txt-mute txt-sub-antialiased">{{screenName}}</span>{{/needsUserAttribution}}',e.exports["column_title_editable.mustache"]='<input type="text" class="js-submittable-input js-column-title-edit-box column-title-edit-box {{editableFieldClass}}" maxlength="{{maxLength}}" value="{{title}}"> {{^isSearch}}<img class="js-show-tip avatar size24 image-attribution" title="{{screenName}}" data-placement="bottom" width="24" height="24" src="{{profileImageURL}}">{{/isSearch}}',e.exports["command_palette/base.mustache"]='<div class="width--490 max-height--400 padding-a--10 br--6 bg-twitter-faint-gray flex flex-column"> <input type="text" class="js-input js-submittable-input js-escapable-input height--36 br--6 flex-shrink--0" placeholder="{{_i}}Type a command…{{/i}}"> <div class="js-command-list full-width scroll-v margin-t--10 flex-auto"></div> </div>',e.exports["command_palette/command_list.mustache"]='<ul> {{#commands}} <li class="js-command {{classes}} padding-a--8 br--6 is-actionable txt-size--13 txt-line-height--13" data-index="{{index}}"> <div class="flex flex-row"> <div class="flex-auto padding-r--8">{{{html}}}</div> {{#shortcut}} <div class="flex-shrink--0 txt-capitalize"> <kbd class="text-like-keyboard-key txt-r-dark-gray">{{modifier}} {{key}}</kbd> </div> {{/shortcut}} </div> </li> {{/commands}} {{^commands.length}} <li class="padding-a--8">{{_i}}No matches found{{/i}}</li> {{/commands.length}} </ul>',e.exports["compose/account_selector.mustache"]='<div class="js-account-list margin-b--11 compose-accounts cf {{gridModeClass}}"> {{#accounts}} <a class="js-account-item {{^isList}}js-show-tip{{/isList}} compose-account is-actionable {{#isSelected}}is-selected{{/isSelected}} {{#isList}}cf{{/isList}} link-clean" tabindex="0" title="@{{screenName}}" data-account-key="{{accountKey}}"> {{#isList}} <div class="position-rel obj-left"> <img src="{{profileImageURL}}" alt="" width="{{avatarSize}}" height="{{avatarSize}}" class="avatar compose-account-img {{avatarSizeClass}}" /> <div class="compose-account-selected"><i class="icon icon-check txt-size--12"></i></div> </div> <div class="nbfc compose-account-names link-clean"> <b class="txt-size--14 txt-ellipsis inline-block">{{{emojifiedName}}}</b> <p class="txt-size--13 txt-ellipsis">@{{screenName}}</p> </div>  {{/isList}} {{^isList}} <img src="{{profileImageURL}}" alt="" width="{{avatarSize}}" height="{{avatarSize}}" class="avatar compose-account-img {{avatarSizeClass}}" /> <div class="compose-account-selected"><i class="icon icon-check txt-size--12"></i></div> {{/isList}} </a> {{/accounts}} </div>',e.exports["compose/account_selector_grid_toggle.mustache"]='<a class="pull-left margin-r--6 is-actionable account-selector-grid-mode {{#grid}}is-selected{{/grid}}" data-grid-mode="grid"><i class="txt-r-white icon icon-compose-grid"></i><span class="is-vishidden">grid</span></a> <a class="pull-left margin-r--6 is-actionable account-selector-grid-mode {{#minigrid}}is-selected{{/minigrid}}" data-grid-mode="minigrid"><i class="txt-r-white icon icon-compose-minigrid"></i><span class="is-vishidden">grid</span></a> <a class="pull-left is-actionable account-selector-grid-mode {{#list}}is-selected{{/list}}" data-grid-mode="list"><i class="txt-r-white icon icon-compose-list"></i><span class="is-vishidden">grid</span></a>',e.exports["compose/accounts.mustache"]='{{#accounts}} <li data-id="{{uid}}" title="{{username}}" data-service="{{service}}" class="acc-{{service}} js-account-item js-show-tip" data-placement="bottom"> <img src="{{picture}}" alt="account" class="acc-avatar"/> <i class="icon icon-twitter-bird"></i> </li> {{/accounts}}',e.exports["compose/autocomplete_hashtag.mustache"]='{{#results}} <li class="typeahead-item padding-am cf is-actionable"> <p class="js-hashtag txt-ellipsis">{{{value}}}{{>text/hashflag}}</p> </li> {{/results}}',e.exports["compose/autocomplete_twitter_user.mustache"]='{{#results}} <li class="typeahead-item padding-am cf is-actionable" data-id="{{id}}"> <img src="{{pic}}" class="avatar obj-left size24"> <div class="nbfc txt-ellipsis padding-ts"> <strong class="fullname">{{{emojifiedName}}}</strong> {{#isVerified}}<i class="js-show-tip sprite sprite-verified-mini" title="{{_i}}Verified account{{/i}}"></i>{{/isVerified}} <span class="username"><span>@</span><span class="js-screenname">{{{screenName}}}</span></span> </div> </li> {{/results}}',e.exports["compose/character_count_with_circle.mustache"]='<div class="txt-right height--16 margin-t--4 {{#inline}}margin-r--7 margin-b--11{{/inline}} {{^inline}}margin-r---3 margin-b--1{{/inline}}"> <span class="js-character-count txt-size--12 txt-twitter-dark-gray bg-transparent no-border txt-line-height--20 margin-r--6"></span> <span class="js-progress-svg"> <svg class="pull-right height--20 width--20 rotate---90"> <circle class="stroke-twitter-light-gray" cx="50%" cy="50%" r="8" fill="none" stroke-width="2"></circle> <circle class="js-progress-circle" cx="50%" cy="50%" r="8" fill="none" stroke-width="2"></circle> </svg> </span> </div>',e.exports["compose/close_button.mustache"]='<i class="icon icon-close txt-r-white bg-twitter-deep-black txt-size--16 padding-a--3 br-100 opacity--70 opacity-hover--100 lh--14"></i>',e.exports["compose/compose_inline_reply.mustache"]='<div class="js-inline-reply inline-reply item-box-full-bleed is-inline-inactive is-inline-active position-rel"> <div class="padding-t--10 padding-lxl padding-rxl padding-bs"> <div class="position-rel compose-text-container margin-v--6 br--4"> <div class="js-reply-info-container txt-size-variable--12 is-hidden padding-h--10 padding-t--10" /> <textarea class="js-compose-text compose-text txt-size-variable--14 scroll-v scroll-styled-v scroll-styled-h scroll-alt" placeholder="{{#addSubsequentTweet}}{{_i}}Add another Tweet{{/i}}{{/addSubsequentTweet}}{{^addSubsequentTweet}}{{_i}}Tweet your reply{{/i}}{{/addSubsequentTweet}}" tabindex="100"></textarea> {{> compose/character_count_with_circle}} </div>  \x3c!-- safeguard checkbox --\x3e <div class="js-account-safeguard-checkbox cf"> <label for="inline-account-safeguard-checkbox" class="pull-right txt-size-variable--12">Ready to Tweet? <input id="inline-account-safeguard-checkbox" class="on-blue" type="checkbox" tabindex="100" /></label> </div>  <div class="cf margin-t--4 full-width"> <div class="pull-right"> <a class="js-account-item js-show-tip compose-account is-actionable is-selected margin-an margin-rl" tabindex="101" data-account-key="{{account.accountKey}}" title="@{{account.screenName}}"> <img src="{{account.profileImageURL}}" alt="" width="30" height="30" class="avatar compose-account-img size30" /> </a> <div class="js-send-button-container spinner-button-container"> <button class="js-send-button js-spinner-button js-show-tip btn btn-positive" tabindex="100"> {{_i}}Tweet{{/i}} </button> <i class="js-compose-sending-success icon-center-16 compose-send-button-success icon icon-check is-hidden"></i> <i class="js-spinner-button-active icon-center-16 spinner-button-icon-spinner is-hidden"></i> </div> </div> <div class="pull-left neg-margin-lm"> <button class="js-inline-compose-close btn btn-square btn-neutral" tabindex="103"> <i class="icon icon-close icon-medium"></i> </button> <button class="js-inline-compose-pop js-show-tip btn btn-square btn-neutral" tabindex="102" title="{{_i}}Popout{{/i}}"> <i class="icon icon-popout icon-medium"></i> </button>  {{! Needs revisiting. Camera button does not fit in narrow columns }} <button class="js-inline-compose-add-image btn btn-square btn-neutral is-hidden"> <i class="icon icon-camera icon-medium"></i> </button> </div> </div> </div> </div>',e.exports["compose/custom_video_controls.mustache"]='<div class="video-controls br--4 full-width padding-a--5 pin-bottom-only border-box"> <progress class="js-video-progress opacity--80 opacity-hover--100 ProgressBar ProgressBar--white width-p--95" role="progressbar" value="0" max="1" aria-valuenow="0" aria-valuemin="0" aria-valuemax="1"></progress>  <div class="margin-t--16"> <i class="js-play-pause opacity--80 opacity-hover--100 icon icon-pause is-actionable pull-left"></i> <div class="pull-right"> <span class="js-video-time-duration video-duration opacity--80 txt-size--12 padding-r--5 is-default"></span> <i class="js-mute-unmute opacity--80 opacity-hover--100 icon icon-sound is-actionable"></i> </div> </div> </div>',e.exports["compose/docked_compose.mustache"]='<div class="js-docked-compose compose txt-size--14">  <div class="js-compose-scroller compose-content antiscroll-wrap pin-all"> <div class="antiscroll-inner scroll-v scroll-styled-v padding-h--15">  <header class="js-compose-header compose-header"> <div class="position-rel compose-title inline-block"> <h1 class="js-compose-title compose-title-text txt-ellipsis inline-block">{{_i}}New Tweet{{/i}}</h1> </div> <i class="js-drawer-close is-actionable icon icon-close margin-vm pull-right"></i> </header>  <div class="js-inline-confirmation margin-bxl"></div>  <div class="margin-v--14 cf"> <div class="pull-left compose-text-title"> {{_i}}From{{/i}} </div> <div class="js-account-selector-grid-toggle pull-right account-selector-grid-toggle"> </div> </div>  \x3c!-- Accounts --\x3e {{>compose/account_selector}} \x3c!-- end Accounts --\x3e  \x3c!-- Direct Message --\x3e <div class="js-compose-message-recipient-container compose-message-recipient-container margin-bxl position-rel cf"> <p class="padding-b--9 compose-text-title">{{_i}}To{{/i}}</p>  <div class="js-compose-message-recipient-input-container compose-message-recipient-input-container scroll-v position-rel bg-r-white br--4"> <div class="js-compose-message-recipient-list flex flex-wrap--wrap compose-message-recipient-list position-rel is-hidden cf border-box padding-r--4 padding-b--4 br--4 padding-l--4"> </div> \x3c!-- message recipient input --\x3e <input type="text" class="js-compose-message-account js-non-escapable-input compose-message-account"> <a href="#" class="js-clear-input txt-size--14 input-clear-control" tabindex="-1"> <i class="icon icon-close icon-small"></i> </a>  </div>  <div class="js-typeahead-dropdown border-box typeahead-dropdown dropdown-menu br--6 bs-1 bg-r-white txt-twitter-dark-black is-hidden scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} padding-t--0 padding-b--0"> <ul class="js-typeahead-conversation-list is-hidden"></ul> <ul class="js-typeahead-user-list is-hidden"></ul> </div> </div> \x3c!-- end Direct Message --\x3e  <div class="js-compose-message-header margin-b--9 compose-text-title"></div>  \x3c!-- reply to tweet --\x3e <div class="js-in-reply-to compose-reply-tweet padding-al margin-b---4 br-top--4 is-hidden"></div> \x3c!-- end reply to tweet --\x3e  \x3c!-- Compose box --\x3e <div class="position-rel compose-text-container padding-a--10 br--4"> \x3c!-- Simplified replies container --\x3e <div class="js-reply-info-container is-hidden txt-size--12 padding-b--6"></div>  <textarea class="js-compose-text compose-text txt-size--14 scroll-v scroll-styled-v scroll-styled-h scroll-alt padding-a--0" placeholder="{{_i}}What\'s happening?{{/i}}"></textarea> {{> compose/character_count_with_circle}} </div>  \x3c!-- Media bar --\x3e <div class="js-media-added is-hidden"></div>  \x3c!-- Quote Tweet --\x3e <div class="js-quote-tweet-holder padding-a--10 bg-r-white margin-t---4 br-bottom--4"></div> \x3c!-- End compose box --\x3e  \x3c!-- Hint bar --\x3e <div class="js-compose-hint margin-vl"> </div>  \x3c!-- safeguard checkbox --\x3e <div class="js-account-safeguard-checkbox cf margin-v--7"> <label for="account-safeguard-checkbox" class="pull-right txt-size-variable--12"><span class="js-account-safeguard-text">Ready to Tweet?</span> <input id="account-safeguard-checkbox" class="on-blue" type="checkbox" /></label> </div>  \x3c!-- Send tweet button  & character count --\x3e <div class="cf margin-t--12 margin-b--30"> <div class="pull-right"> <div class="js-send-button-container spinner-button-container"> <button class="js-send-button js-spinner-button js-show-tip is-disabled btn btn-positive btn-extra-height" {{_i}}Tweet{{/i}}> </button> <i class="js-compose-sending-success icon-center-16 compose-send-button-success icon icon-check is-hidden"></i> <span class="js-media-upload-progress media-upload-progress is-hidden"></span> <i class="js-spinner-button-active icon-center-16 spinner-button-icon-spinner is-hidden"></i> </div> </div> </div>  \x3c!-- Option buttons --\x3e <button class="js-add-image-button js-show-tip needsclick btn btn-on-blue full-width txt-left margin-b--12 padding-v--9 is-disabled"> <i class="icon icon-camera"></i> <span class="js-add-image-button-label label padding-ls">{{_i}}Add image{{/i}}</span> </button>  <div class="js-scheduler"> <button class="js-schedule-button js-show-tip btn btn-on-blue full-width txt-left margin-b--12 padding-v--9 is-disabled"> <i class="icon icon-schedule"></i> <span class="js-schedule-button-label label padding-ls">{{_i}}Schedule Tweet{{/i}}</span> </button> <span class="js-schedule-datepicker-holder"/> </div>  <div class="js-tweet-type-button"> <button class="js-tweet-button btn btn-on-blue full-width txt-left margin-b--12 padding-v--9 is-hidden"> <i class="icon icon-twitter-bird"></i> <span class="label padding-ls">{{_i}}New Tweet{{/i}}</span> </button>  <button class="js-dm-button js-show-tip btn btn-on-blue full-width txt-left margin-b--12 padding-v--9"> <i class="icon icon-message"></i> <span class="label padding-ls">{{_i}}Direct message{{/i}}</span> </button> </div> \x3c!-- end option buttons --\x3e </div> </div>  <footer class="pin-bottom margin-a--15"> <label class="checkbox checkbox-reversed compose-remember-state pull-right"> {{_i}}Stay open{{/i}} <input class="js-compose-stay-open on-blue" type="checkbox"/> </label> </footer>  </div>',e.exports["compose/in_reply_to.mustache"]='{{#user}} <header class="tweet-header padding-bm position-rel"> <a href="#" class="js-in-reply-to-remove pull-right compose-reply-tweet-remove margin-axs"><i class="icon icon-close"></i></a> <a class="account-link link-complex block txt-ellipsis margin-r--10" href="https://twitter.com/{{screenName}}" rel="user" target="_blank"> <img class="compose-reply-avatar avatar size24" src="{{profileImageURL}}" width="24" height="24"> <b class="fullname link-complex-target">{{name}}</b> {{#isVerified}}<i class="js-show-tip sprite sprite-verified-mini" title="{{_i}}Verified account{{/i}}"></i>{{/isVerified}} <span class="username txt-mute {{#isVerified}}block{{/isVerified}}">@{{screenName}}</span> </a> </header> {{/user}} <div class="tweet-body"> <p class="js-tweet-text tweet-text with-linebreaks">{{{htmlText}}}</p> </div> <div class="replyto-caret"></div>',e.exports["compose/media_bar_image.mustache"]='{{#isMediaGridContent}} <div class="compose-media-grid-holder bg-r-white padding-am margin-t---4"> <div class="media-grid-container"> <div class="media-grid-{{mediaLength}}"> {{#mediaInfo}} <div class="media-image-container block position-rel"> <div class="pin-all media-image br--4" style="background-image: url({{src}});" > <a class="js-media-bar-remove compose-media-grid-remove is-actionable" data-file-index="{{fileIndex}}"> {{>compose/close_button}} </a> </div> </div> {{/mediaInfo}} </div> </div> </div> {{/isMediaGridContent}} {{^isMediaGridContent}} <div class="compose-media-bar-holder padding-al br-bottom br-bottom--4 margin-t---4"> <div class="compose-media-bar br--4"> <a class="js-media-bar-remove compose-media-bar-remove is-actionable z-index--1"> {{>compose/close_button}} </a> {{#isVideo}} {{#mediaInfo}} <div class="js-video"></div> {{/mediaInfo}} {{/isVideo}} {{^isVideo}} {{#mediaInfo}} <img class="js-media-bar-thumb compose-media-bar-thumb full-width br--4" alt="" src="{{src}}"> {{/mediaInfo}} {{/isVideo}} </div> </div> {{/isMediaGridContent}}',e.exports["compose/media_bar_infobar.mustache"]='<div class="compose-media-info-bar-holder padding-al"> <div class="compose-media-info-bar cf padding-as"> <div class="obj-left"> <i class="icon icon-camera align-middle"></i> <span class="align-middle">{{_i}}Image added{{/i}}</span> </div> <div class="obj-right"> <a href="#" class="js-media-bar-remove align-middle">{{_i}}Remove{{/i}}</a> </div> </div> </div>',e.exports["compose/message_conversation.mustache"]='{{#chirp}} <div class="js-compose-message-recipient compose-message-recipient margin-t--4 margin-l--4 txt-r-dark-gray flex flex-row flex-align--center max-full-width br--14" data-conversation-id="{{conversationId}}"> {{^withMultipleAvatars}} {{#avatars.0}} <img class="flex-shrink--0 margin-a--1 br-100" src="{{profileImageURL}}" width="24" height="24" alt="{{screenName}}\'s avatar"> {{/avatars.0}} {{/withMultipleAvatars}} {{#withMultipleAvatars}} <div class="flex-shrink--0 margin-a--1 media-grid-container multiple-avatar-grid-mini "> <div class="{{avatarsClass}}"> {{#avatars}} <div class="media-image-container media-image-container-mini"> <div class="media-image block position-rel" style="background-image: url({{profileImageURL}});" ></div> </div> {{/avatars}} </div> </div> {{/withMultipleAvatars}}  <span class="flex-shrink--1 txt-ellipsis margin-l--4"> {{#getConversationTitleInformation}} {{#name}} {{{name}}} {{/name}} {{^name}} {{#isOneToOne}} {{#participants.0}} {{name}} </a> {{/participants.0}} {{/isOneToOne}} {{#isThreeway}} {{#participants.0}} {{name}}, {{/participants.0}} {{#participants.1}} {{name}} {{/participants.1}} {{/isThreeway}} {{#isOneToMany}} {{#participants.0}} {{name}} + {{numberOfOtherParticipants}} {{/participants.0}} {{/isOneToMany}} {{/name}} {{/getConversationTitleInformation}} </span>  <a class="js-remove-conversation is-actionable txt-mute flex-shrink--0 padding-l--4 padding-r--5 padding-t--2"><i class="txt-r-light-grey icon icon-close txt-size--12"></i></a> </div> {{/chirp}}',e.exports["compose/message_recipients.mustache"]='{{#users}} <div class="js-compose-message-recipient compose-message-recipient margin-t--4 txt-r-dark-gray flex flex-row flex-align--center max-full-width br--14 border-box" data-user-id="{{id}}" data-screen-name="{{screenName}}">  <img class="flex-shrink--0 padding-a--1 br-100" src="{{profileImageURL}}" width="24" height="24" /> <span class="flex-shrink--1 txt-ellipsis margin-l--4">{{name}}</span> <a class="js-remove-recipient is-actionable txt-mute flex-shrink--0 padding-l--4 padding-r--5 padding-t--2" data-user-id="{{id}}"><i class="txt-r-light-grey icon icon-close txt-size--12"></i></a> </div> {{/users}}',e.exports["compose/reply_info.mustache"]='{{_i}} <div class="other-replies txt-ellipsis"> Replying {{#recipients}} to <a href="#" class="js-other-replies-link other-replies-link" data-recipient-ids="{{userIds}}"> {{#users}} @{{screenName}} {{/users}} {{#remainder}} and {{remainder}} others {{/remainder}} </a> {{/recipients}} </div> {{/i}}',e.exports["compose/reply_list.mustache"]='<div class="bg-r-white txt-on-r-white"> <ul class="lst"> <li class="padding-axl"> <p class="txt-size--14 txt-r-deep-gray"> {{#withComposeContext}} {{_i}}Your Tweet will go to the people in this conversation.{{/i}} {{/withComposeContext}} {{^withComposeContext}} {{_i}}This conversation includes these people.{{/i}} {{/withComposeContext}} </p> </li> {{#replies}} <li class="padding-axl flex flex-row flex-align--center"> <div class="flex-auto margin-rxl">{{> account_summary}}</div> {{#withComposeContext}} <input type="checkbox" {{#isChecked}}checked{{/isChecked}} {{#isDisabled}}disabled{{/isDisabled}} class="js-reply-checkbox flex-shrink--0 txt-size--16" data-id="{{id}}"> {{/withComposeContext}} </li> {{/replies}} </ul> </div>',e.exports["compose/schedule.mustache"]='<div class="popover popover-position-t margin-ll padding-a--3" style="display:block"> <div class="caret"> <span class="caret-outer"></span> <span class="caret-inner"></span> </div>  <div class="cal"> <header> <input id="scheduled-hour" type="text" pattern="\\d*" inputmode="numeric" tabindex="2"> <span>:</span> <input id="scheduled-minute" type="text" pattern="\\d*" inputmode="numeric" tabindex="3"> <a id="amPm" class="btn" data-value="{{isPM}}"> <span class="label">{{meridiemText}}</span> </a> </header>  <div id="calendar" class="form-calendar"> <div class="nav-group button-group"> <a id="prev-month" class="btn btn-square"><i class="icon icon-arrow-l icon-small"></i></a> <a id="next-month" class="btn btn-square"><i class="icon icon-arrow-r icon-small"></i></a> </div> <input type="date" name="datepicker" id="datepicker"> </div> </div>  <div class="padding-as"> <button class="js-remove btn btn-alt btn-negative full-width"><i class="icon icon-trash"></i><span class="label">{{_i}}Remove{{/i}}</span></button> </div> </div>',e.exports["contributor_list_account_summary.mustache"]='<div class="account-summary cf flex"> <div class="obj-left item-img flex-align-self--center"> <img class="avatar size36 avatar pull-right" src="{{profileImageURL}}" width="36" height="36" alt="{{screenName}}\'s avatar"> </div>  <div class="account-summary-text nbfc account-link"> <span class="account-inline txt-ellipsis {{#isProtected}}is-protected{{/isProtected}}"> <b class="fullname link-complex-target txt-size--14 {{#isBadged}}fullname-badged badge-size--14 padding-r--14 margin-r--2{{/isBadged}} {{#isTranslator}}badge-translator{{/isTranslator}} {{#isVerified}}badge-verified{{/isVerified}} position-rel"> {{{emojifiedName}}} </b> <span class="username txt-r-deep-gray txt-size--12"> @{{screenName}} {{#isProtected}}<i class="icon icon-protected"></i>{{/isProtected}} </span> </span>  <div class="contributor-detail padding-t--5 cf txt-size--13 txt-r-deep-gray" data-show-when-state="closed"> <span data-show-when-contributor-role="admin"> {{_i}}Admin{{/i}} </span> <span data-show-when-contributor-role="contributor"> {{_i}}Contributor{{/i}} </span> &middot; <a href="#" class="js-contributor-open-settings" data-user-id="{{user.id}}"> {{_i}}Change role{{/i}} </a> </div> </div> </div>',e.exports["contributors/contributor_list.mustache"]="{{#contributors}} {{>contributors/contributor_list_row}} {{/contributors}}",e.exports["contributors/contributor_list_error.mustache"]='<div class="padding-axl margin-tl txt-r-medium-red"> {{_i}}Could not retrieve team members.{{/i}} </div>',e.exports["contributors/contributor_list_row.mustache"]='{{#contributor}} <div class="js-contributor-row contributor-row position-rel padding-axl account-settings-bb" data-state="{{initialState}}" data-state-error data-user-id="{{user.id}}" data-name="{{user.name}}" data-contributor-role="{{#isAdmin}}admin{{/isAdmin}}{{^isAdmin}}contributor{{/isAdmin}}"> {{#user}} {{>contributor_list_account_summary}} {{/user}} <div class="contributor-settings control-s margin-txl cf" data-show-when-state="settings confirmRemove"> <div class="contributor-settings-role margin-bl padding-bl margin-" data-hide-when-state="confirmRemove"> <div class="radio"> <label class="contributor-option cf block"> <input type="radio" name="contributor-role-{{user.id}}" class="js-contributor-role margin-tm block obj-left" data-user-id="{{user.id}}" data-contributor-role="contributor" {{^isAdmin}}checked="checked"{{/isAdmin}}> <div class="nbfc"> <strong class="block">{{_i}}Contributor{{/i}}</strong> <span class="txt-r-deep-gray">{{_i}}Can Tweet as @{{contributee.getUsername}}{{/i}}</span> </div> </label> <label class="contributor-option cf block"> <input type="radio" name="contributor-role-{{user.id}}" class="js-contributor-role margin-tm block obj-left" data-user-id="{{user.id}}" data-contributor-role="admin" {{#isAdmin}}checked="checked"{{/isAdmin}}> <div class="nbfc"> <strong class="block">{{_i}}Admin{{/i}}</strong> <span class="txt-r-deep-gray">{{_i}}Can Tweet and manage team{{/i}}</span> </div> </label> </div>  <div class="contributor-confirm-change cf margin-txl"> <button class="js-contributor-action-confirm btn btn-positive pull-left margin-r--10" data-user-id="{{user.id}}"> <span class="label">{{_i}}Confirm{{/i}}</span> </button> <button class="js-contributor-action-cancel cf btn pull-left" data-user-id="{{user.id}}"> {{_i}}Cancel{{/i}} </button> </div> </div>  <div class="contributor-remove" data-hide-when-state="confirmRemove"> <button class="js-contributor-remove btn btn-negative pull-left" data-user-id="{{user.id}}"> <span class="label">{{_i}}Remove from team{{/i}}</span> </button> </div>  <div class="contributor-confirm-remove padding-bl txt-r-dark-gray" data-show-when-state="confirmRemove"> {{^isSigninAccount}} {{_i}}Remove @{{user.screenName}} from the team?{{/i}} {{/isSigninAccount}} {{#isSigninAccount}} {{_i}}You are signed in as @{{user.screenName}}, so this will remove @{{contributee.getUsername}} from your TweetDeck and you will no longer be able to manage the team.{{/i}} {{/isSigninAccount}} </div>  <div class="contributor-confirm-remove cf" data-show-when-state="confirmRemove"> <button class="js-contributor-action-confirm btn btn-negative pull-left margin-r--10" data-user-id="{{user.id}}"> <span class="label">{{_i}}Remove{{/i}}</span> </button> <button class="js-contributor-action-cancel cf btn pull-left" data-user-id="{{user.id}}"> {{_i}}Cancel{{/i}} </button> </div> </div>  <div class="contributor-confirm-add padding-vl txt-size--13 txt-twitter-dark-gray" data-show-when-state="confirmAdd confirmAdd-added"> {{_i}}This user will be able to use Twitter as @{{contributee.getUsername}}, including:{{/i}} <ul class="padding-tl ul"> <li>{{_i}}Posting Tweets{{/i}}</li> <li>{{_i}}Accessing direct messages{{/i}}</li> <li>{{_i}}Liking and Retweeting{{/i}}</li> </ul> </div>  <div class="contributor-confirm-add" data-show-when-state="confirmAdd confirmAdd-added"> <div class="cf"> <button class="js-contributor-action-confirm btn btn-positive pull-left" data-user-id="{{user.id}}"> {{_i}}Authorize{{/i}} </button> <button class="js-contributor-action-cancel cf btn margin-hm pull-left" data-user-id="{{user.id}}"> {{_i}}Cancel{{/i}} </button> </div> </div>  <div class="contributor-confirm-deadmin padding-hs padding-vm txt-r-dark-gray" data-show-when-state="confirmDeadmin"> {{_i}}Warning: You will no longer be able to manage the team from this TweetDeck{{/i}} </div>  <div class="contributor-confirm-deadmin" data-show-when-state="confirmDeadmin"> <button class="js-contributor-action-confirm btn btn-positive padding-h--20 pull-left margin-r--10" data-user-id="{{user.id}}"> <span class="label">{{_i}}Continue{{/i}}</span> </button> <button class="js-contributor-action-cancel cf btn padding-h--20 pull-left" data-user-id="{{user.id}}"> {{_i}}Cancel{{/i}} </button> </div>  <div class="js-contributor-error-message margin-txl txt-r-deep-red" data-show-when-state-error></div>  <div class="txt-size--13 txt-r-deep-gray margin-txl" data-show-when-state="confirmAdd confirmAdd-added"> <a href="https://support.twitter.com/articles/20171753-using-team-accounts-on-tweetdeck" target="_blank" rel="url noopener noreferrer">{{_i}}Read more about teams.{{/i}}</a> </div> </div> {{/contributor}}',e.exports["contributors/contributor_manager.mustache"]='<div class="drawer-header padding-lxl flex-shrink--0"> <h1 class="js-contributor-manager-back is-actionable pull-left txt-weight-normal"> <span class="drawer-header-title block drawer-column-header-title"> <i class="icon icon-arrow-l icon-tt"></i> {{_i}}Manage team{{/i}} </span> </h1> <a class="js-drawer-close column-close-link txt-r-dark-gray" href="#"> <i class="icon icon-close icon-center-24"></i> </a> </div>  <div class="js-contributor-manager contributor-manager drawer-content scroll-v margin-b---1"> <div class="padding-txl padding-lxl padding-rxl padding-bn account-settings-bb"> {{! Account summary }} {{#account}} <a class="account-link link-complex block br--3" href="{{getProfileURL}}" data-user-name="{{screenName}}" rel="user" target="_blank"> <div class="padding-al bg-r-white br--3"> {{> account_settings_account_summary }} </div> </a> {{/account}}  <p class="padding-txl txt-r-medium-gray txt-size--13 margin-bxxl"> {{_i}}Members of this team can use Twitter as @{{account.screenName}} without knowing the password.{{/i}} <a href="https://support.twitter.com/articles/20171753-using-team-accounts-on-tweetdeck" target="_blank" rel="url noopener noreferrer">{{_i}}Learn more{{/i}}</a> </p> </div>  <span class="js-contributors"> <div class="padding-v--12 account-settings-bb"> <h1 class="txt-size--13 txt-r-dark-gray padding-hxl"> {{_i}}Team members{{/i}} </h1> </div> <div class="js-contributor-list"></div> </span>  <span class="js-pending"> <div class="padding-v--12 account-settings-bb"> <h1 class="txt-size--13 txt-r-dark-gray padding-hxl"> {{_i}}Pending requests{{/i}} </h1> </div> <div class="js-contributor-list-pending"></div> </span> </div>  <div class="padding-b--16 padding-h--16 flex-shrink--0 account-settings-bt account-settings-bb"> <h1 class="txt-size--13 txt-r-dark-gray padding-l--2 padding-v--12">{{_i}}Add a team member{{/i}}</h1> <div class="js-contributor-adder height--30"></div> </div>',e.exports["contributors/contributors_loading.mustache"]='<div class="padding-hxl"> {{_i}}Loading team...{{/i}} </div>',e.exports["customtimeline/edit_customtimeline.mustache"]='<div class="customtimeline-details margin-b--15 padding-t--25 padding-h--15 bg-r-white txt-twitter-deep-black width--490"> <fieldset> <div class="control-group padding-b--15"> <label for="customtimeline-account" class="control-label">{{_i}}Account{{/i}}</label> <div class="controls"> <select{{#timelineId}} disabled{{/timelineId}} name="customtimeline-account" id="customtimeline-account" class="js-customtimeline-account width--300"> {{#accounts}}<option value="{{getKey}}">@{{getUsername}}</option>{{/accounts}} </select> </div> </div> <div class="control-group padding-b--15"> <label for="customtimeline-name" class="control-label">{{_i}}Name{{/i}}</label> <div class="controls"> <input class="width--300 js-customtimeline-name js-submittable-input" id="customtimeline-name" name="customtimeline-name" maxlength="25" required="required" type="text" placeholder="{{_i}}New Collection{{/i}}"> </div> </div> <div class="control-group"> <label for="customtimeline-description" class="control-label padding-t--6"> {{_i}}Description{{/i}} </label> <div class="controls"> <textarea class="width--300 js-customtimeline-description height--55" id="customtimeline-description" name="customtimeline-description" rows="10"></textarea> </div> <div class="controls margin-t--6 txt-r-dark-gray width--300 txt-size--12"> <span>Under 160 characters, optional</span> <span class="js-character-count obj-right"></span> </div> </div> <div class="pull-right padding-t--10"> {{#timelineId}} <button class="js-delete-customtimeline js-submittable-input btn btn-negative margin-r--12" type="button"> {{_i}}Delete{{/i}} </button> {{/timelineId}} <button class="js-save-customtimeline js-submittable-input btn btn-positive" type="submit"> {{_i}}Save{{/i}} </button> </div> </fieldset> </div>',e.exports["data_drawer.mustache"]='<div class="js-drawer-body"> <div class="js-insights-panel"> </div> </div> <div class="js-drawer-footer"> <button class="js-drawer-action btn btn-positive pull-right">Tweet {{insightTerm}}</button> </div>',e.exports["drawer.mustache"]='<div class="js-drawer drawer" data-drawer="compose"> {{>compose/docked_compose}} </div> <div class="js-drawer drawer" data-drawer="accountSettings"> </div>',e.exports["embed_tweet.mustache"]='<div class="bg-r-white txt-twitter-dark-black"> {{$content}}  <div class="margin-h--15 margin-b--20"> <span class="block margin-bl">{{_i}}Add this Tweet to your website by copying the code below. If your CMS supports it, you can just paste in the link.{{/i}} <a class="url" target="_blank" href="https://dev.twitter.com/docs/embedded-tweets">{{_i}}Learn more{{/i}}</a> {{_i}}about embedded Tweets.{{/i}}</span>  <textarea class="js-embed-textarea block margin-bl" rows="2" readonly>{{html}}</textarea>  {{#isReply}} <label class="checkbox is-actionable block">{{_i}}Include parent Tweet{{/i}} <input type="checkbox" {{#includeParentTweet}}checked{{/includeParentTweet}} class="js-embed-include-parent"> </label> {{/isReply}}  <p class="txt-r-dark-gray">{{_i}}By embedding Twitter content in your website or app, you are agreeing to the{{/i}} <a class="url" target="_blank" href="https://dev.twitter.com/overview/terms/agreement">{{_i}}Developer Agreement{{/i}}</a> {{_i}}and{{/i}} <a class="url" target="_blank" href="https://dev.twitter.com/overview/terms/policy">{{_i}}Developer Policy{{/i}}</a>.</p> {{#hasMedia}} <label class="checkbox is-actionable block">{{_i}}Include media{{/i}} <input type="checkbox" {{#includeMedia}}checked{{/includeMedia}} class="js-embed-include-media"> </label> {{/hasMedia}}  </div>  <b class="block margin-ll txt-r-dark-gray margin-h--15">{{_i}}Preview{{/i}}</b>  <div class="js-embed-loading-container embed-loading-container margin-h--15"> <img src="{{#asset}}/web/assets/global/backgrounds/spinner_large_white.gif{{/asset}}" class="embed-loading" alt="Loading…" /> </div>  <div class="js-embed-iframe-container embed-iframe-container margin-h--7"> <iframe class="js-embed-iframe embed-iframe"> </iframe> </div>  {{/content}} </div>',e.exports["favorite_from_options.mustache"]='{{#accounts}} <div class="l-table padding-al"> <div class="l-cell"> {{>buttons/favorite}} <div class="inline-block"> <img class="avatar size32 pull-left" src={{getProfileImageURL}} /> <span class="from-handle padding-l--6">@{{getUsername}}</span> </div> </div> </div> {{/accounts}}',e.exports["feather-component-card-video.mustache"]='<div class="Card-video"> {{#cardUsePublishedVideo}} <iframe class="Card-videoIframe" src="https://twitter.com/i/videos/{{tweetId}}?square_corners=1"></iframe> {{/cardUsePublishedVideo}}  {{^cardUsePublishedVideo}} {{! This component currently doesn\'t need cross-frame communication. The `json_rpc=1` param silences XDM setup errors.  In the URL below, the inline Mustache comments allow for slightly more readable code formatting with line breaks, rather than one enormous line. }} <iframe class="Card-videoIframe" {{#cardVideoPosterImageOnly}}data-{{/cardVideoPosterImageOnly}}src="https://twitter.com/i/videos/static?{{! }}json_rpc=1&square_corners=1{{! }}{{#cardVideoPosterImageOnly}}&autoplay=1{{/cardVideoPosterImageOnly}}{{! }}{{#posterImageUrl}}&image_src={{posterImageUrl}}{{/posterImageUrl}}{{! }}{{#videoUrl}}&video_url={{videoUrl}}{{/videoUrl}}{{! }}{{#visitCallToActionUrl}}&visit_cta_url={{visitCallToActionUrl}}{{/visitCallToActionUrl}}{{! }}{{#vmapUrl}}&vmap_url={{vmapUrl}}{{/vmapUrl}}{{! }}{{#watchNowCallToActionUrl}}&watch_now_cta_url={{watchNowCallToActionUrl}}{{/watchNowCallToActionUrl}}{{! }}"></iframe>  <button class="Card-videoPosterImageContainer"> <img alt="" class="Card-videoPosterImage" src="{{rawPosterImageUrl}}" /> <span class="Card-videoPosterImagePlayButton Icon Icon--playButton"></span> </button> {{/cardUsePublishedVideo}} </div>',e.exports["follow_button.mustache"]='<div class="js-action-follow btn-relation-group"> <button class="js-follow-button {{^isSingleAccount}}js-show-tip{{/isSingleAccount}} follow-btn btn {{^showAccountMenu}}btn-tertiary{{/showAccountMenu}} btn-alt" disabled="disabled" {{^isSingleAccount}}title="{{_i}}From {{#account}}@{{getUsername}}{{/account}}{{/i}}"{{/isSingleAccount}}> <div class="btn-loader"> <span> <img src="{{#asset}}/web/assets/global/backgrounds/spinner_small_trans.gif{{/asset}}" alt="{{_i}}Loading…{{/i}}"> </span> </div>  <div class="action-text follow-text"> <i class="icon icon-follow"></i> <span class="label">{{_i}}Follow{{/i}}</span> </div> <div class="label action-text following-text"> {{_i}}Following{{/i}} </div> <div class="label js-action-unfollow action-text unfollow-text"> {{_i}}Unfollow{{/i}} </div> <div class="label action-text block-text"> {{_i}}Blocked{{/i}} </div> <div class="label js-action-unblock action-text unblock-text action-text"> {{_i}}Unblock{{/i}} </div> <div class="label pending-text action-text"> {{_i}}Pending{{/i}} </div> <div class="label js-action-unfollow action-text cancel-req-text "> {{_i}}Cancel{{/i}} </div> <div class="label js-action-profile action-text thats-you-text"> {{_i}}Edit profile{{/i}} </div> </button> {{#showAccountMenu}} {{> user_actions_btn_inv}} {{/showAccountMenu}} </div>',e.exports["grid_chart.mustache"]='<div class="js-grid-chart-legend flex"></div> <div class="js-grid-chart"></div>',e.exports["heartsprite.mustache"]='<i class="heartsprite heart-anim"></i>',e.exports["inline_confirmation.mustache"]='<div class="inline-confirmation-container is-inverted-dark padding-axl {{backgroundColorClass}} br--4"> <div class="inline-confirmation-text {{textColorClass}}"> {{confirmationText}} </div> <div class="margin-txl cf"> <button class="js-btn-primary btn {{^buttonPrimaryIsNegative}}btn-positive{{/buttonPrimaryIsNegative}} {{#buttonPrimaryIsNegative}}btn-negative{{/buttonPrimaryIsNegative}} pull-left margin-r--10"> <span class="label">{{primaryButtonText}}</span> </button> <button class="js-btn-secondary btn pull-left"> {{secondaryButtonText}} </button> </div> </div>',e.exports["insights/demographics.mustache"]='<div class="margin-v--26"> <h4 class="txt-size--16 txt-bold margin-b--8">{{title}}</h4> <div class="txt-right txt-size--12">{{_i}}% of audience{{/i}}</div> <ol class="border-separated"> {{#ageInsights}} <li class="flex txt-size--14 margin-t--4 padding-v--20"> <div class="width-p--5"> {{ordinal}} </div> <div class="width-p--50"> {{name}} </div> <div class="width-p--45 flex"> <div class="width-5 margin-h--10 txt-right">{{percentage}}%</div> <div class="block flex-grow--1 flex-align-self--center height-0 margin-l--10 bg-twitter-faint-gray"> <div class="height-p--100 bg-twitter-blue" style="width: {{percentage}}%"></div> </div> </div> </li> {{/ageInsights}} </ol> </div>',e.exports["insights/entry_point.mustache"]='<div class="with-column-divider-bottom padding-h--8 padding-v--6 is-actionable"> <div class="js-entry-point-sparkline height--30"></div> <div class="padding-t--6 flex flex-align--center txt-twitter-dark-gray txt-size-variable--12"> <span class="margin-t--4">{{humanReadableVolume}} {{_i}}today{{/i}}</span> {{#positiveTrend}} {{> insights/trends/positive_trend}} {{/positiveTrend}} {{#negativeTrend}} {{> insights/trends/negative_trend}} {{/negativeTrend}} {{#neutralTrend}} {{> insights/trends/neutral_trend}} {{/neutralTrend}} <span class="js-insights-entry-cta flex-auto flex-justify-content--flex-end flex flex-align--center txt-twitter-emphasis-gray txt-size-variable--14"> <span class="js-insights-entry-cta">{{_i}}Insights{{/i}}</span> <span class="js-insights-entry-cta icon icon-small icon-arrow-r"></span> </span> </div> </div>',e.exports["insights/insights_panel.mustache"]='<div class="txt-twitter-black"> <div class="js-insights-main-chart"></div>  <div class="js-no-data"></div>  <div class="js-top-related"></div>  <div class="js-demographics"> <div class="js-demographics-age"></div> </div>  </div>',e.exports["insights/no_data.mustache"]='<div class="txt-center txt-twitter-dark-gray margin-t--50"> <p class="txt-size--18 padding-b--8">{{_i}}Nothing to see here &mdash; yet{{/i}}</p> <p class="txt-size--14">{{_i}}When more people Tweet about \'{{/i}}{{insightTerm}}{{_i}}\', we\'ll display insights here.{{/i}}</p> </div>',e.exports["insights/related_words.mustache"]='<div class="margin-v--26"> <h4 class="txt-size--16 txt-bold margin-b--8">{{_i}}Related terms{{/i}}</h4> <ol class="border-separated"> {{#rows}} <li class="flex flex-align--center txt-size--14 margin-t--4 padding-v--15"> <div class="width-p--5"> {{ordinal}} </div> <div class="width-p--50"> {{word}}<br/> <span class="txt-twitter-dark-gray">{{volume}}{{_i}} Tweets{{/i}}</span> </div> <div class="width-p--45"> <div id="js-sparkline-{{key}}"> </div> <span class="txt-mute txt-size--12 margin-v--2 pull-right">{{_i}}Past week{{/i}}</span> </div> </li> {{/rows}} </ol> </div>',e.exports["insights/trends/negative_trend.mustache"]='<span class="txt-twitter-red margin-l--8"><span class="icon icon-small icon-pointer-d"></span>{{trendPercentage}}%</span>',e.exports["insights/trends/neutral_trend.mustache"]='<span class="margin-l--8 margin-t--4">0%</span>',e.exports["insights/trends/positive_trend.mustache"]='<span class="txt-twitter-green margin-l--8"><span class="icon icon-small icon-pointer-u"></span>{{trendPercentage}}%</span>',e.exports["item_box.mustache"]='<div class="item-box {{$item_box_classes}}{{/item_box_classes}}" {{$item_box_data}}{{/item_box_data}}>  {{$content}}{{/content}} </div>',e.exports["keyboard_shortcut_list.mustache"]='<div class="bg-r-white txt-twitter-dark-black"> {{$content}}  <dl class="keyboard-shortcut-list mdl-column"> <dt class="keyboard-shortcut-title"><b>Actions</b></dt> <dd class="keyboard-shortcut-definition"><kbd class="text-like-keyboard-key">R</kbd>  Reply</dd> <dd class="keyboard-shortcut-definition"><kbd class="text-like-keyboard-key">T</kbd>  Retweet</dd> <dd class="keyboard-shortcut-definition"><kbd class="text-like-keyboard-key">F</kbd> {{_i}}Like{{/i}} </dd> <dd class="keyboard-shortcut-definition"><kbd class="text-like-keyboard-key">N</kbd>  New Tweet</dd> <dd class="keyboard-shortcut-definition"><kbd class="text-like-keyboard-key">D</kbd>  Direct message</dd> <dd class="keyboard-shortcut-definition"><kbd class="text-like-keyboard-key">P</kbd>  View user profile</dd>  <dd class="keyboard-shortcut-definition"> <kbd class="text-like-keyboard-key">{{#isMac}}Return{{/isMac}}{{^isMac}}Enter{{/isMac}}</kbd> View Tweet Details </dd> <dd class="keyboard-shortcut-definition"> <kbd class="text-like-keyboard-key">Backspace</kbd> Close Tweet Details </dd>  <dd class="keyboard-shortcut-definition"> <kbd class="text-like-keyboard-key">{{#isMac}}Cmd &#8984;{{/isMac}}{{^isMac}}Ctrl{{/isMac}}</kbd> + <kbd class="text-like-keyboard-key">{{#isMac}}Return{{/isMac}}{{^isMac}}Enter{{/isMac}}</kbd> Send Tweet </dd> <dd class="keyboard-shortcut-definition"><kbd class="text-like-keyboard-key">A</kbd>  Add Column</dd> {{#withCommandPalette}} <dd class="keyboard-shortcut-definition"> <kbd class="text-like-keyboard-key">;</kbd> {{_i}}Command Palette — <b>NEW!</b>{{/i}} <img class="emoji" draggable="false" alt="✨" src="/web/assets/emoji/2728.png"> </dd> {{/withCommandPalette}} </dl>  <dl class="keyboard-shortcut-list mdl-column"> <dt class="keyboard-shortcut-title"><b>Navigation</b></dt> <dd class="keyboard-shortcut-definition"><kbd class="text-like-keyboard-key">?</kbd>  This menu</dd>  <dd class="keyboard-shortcut-definition"><kbd class="text-like-keyboard-key">&#8594;</kbd>  Right</dd> <dd class="keyboard-shortcut-definition"><kbd class="text-like-keyboard-key">&#8592;</kbd>  Left</dd> <dd class="keyboard-shortcut-definition"><kbd class="text-like-keyboard-key">&#8595;</kbd>  Down</dd> <dd class="keyboard-shortcut-definition"><kbd class="text-like-keyboard-key">&#8593;</kbd>  Up</dd>  <dd class="keyboard-shortcut-definition"><kbd class="text-like-keyboard-key">1</kbd> … <kbd class="text-like-keyboard-key">9</kbd>  Column 1－9</dd> <dd class="keyboard-shortcut-definition"><kbd class="text-like-keyboard-key">0</kbd>  Final column</dd> <dd class="keyboard-shortcut-definition"><kbd class="text-like-keyboard-key">X</kbd>  Expand/Collapse navigation</dd> <dd class="keyboard-shortcut-definition"><kbd class="text-like-keyboard-key">S</kbd>  Search</dd> </dl>  {{/content}} </div>',e.exports["large_modal.mustache"]='<div class="js-modal-panel mdl s-tall-fixed is-inverted-dark"> {{> modal_header}} <div class="mdl-inner"> <div class="mdl-content js-mdl-content horizontal-flow-container"> </div> <footer class="mdl-buttonbar"></footer> </div> </div>',e.exports["learn_more_about_reporting.mustache"]='<p class="padding-axl txt-twitter-deep-black">{{_i}} <a href="https://support.twitter.com/articles/15794-online-abuse" target="_blank" rel="url">Learn more</a> about reporting violations of our rules.{{/i}} </p>',e.exports["legend_item.mustache"]='<div class="LegendItem margin-r--20"> <span class="LegendItem-color" style="background-color:{{color}}"></span> <span class="LegendItem-label">{{seriesLabel}}</span> <span class="LegendItem-value">{{formattedSum}}</span> </div>',e.exports["legend_items.mustache"]="{{#legendItems}} {{> legend_item}} {{/legendItems}}",e.exports["list_module_account_item.mustache"]='<li> <a href="#" class="list-account s-justify cf"> <img src="{{profileImageURL}}" alt="@{{username}}" class="avatar obj-left"> <div class="nbfc"> <strong class="fullname"> {{{emojifiedName}}}{{^emojifiedName}}{{fullname}}{{/emojifiedName}} </strong> <span class="username">@{{username}}</span> </div> </a> </li>',e.exports["list_module_dataminr_watchlist.mustache"]='<li> <a href="#" class="list-twitter-list" data-id="{{id}}"> <div class="inner" > <strong>{{name}}</strong> </div> <p>{{description}}</p> </a> </li>',e.exports["list_module_events.mustache"]='<div class="lst-group"> <ul class="js-events-list"></ul> </div>',e.exports["list_module_list_item.mustache"]='<li class="{{#selected}}selected{{/selected}} {{classes}}"><a href="#" class="list-link" data-action="{{action}}"><strong>{{title}}</strong><i class="chev-right"></i></a></li>',e.exports["list_module_livevideos.mustache"]='<div class="lst-group"> <ul class="js-live-videos-list"></ul> </div>',e.exports["list_module_subtitle_item.mustache"]='<li><a href="#" class="list-subtitle">{{title}}<span>{{subtitle}}</span><i class="chev-right"></i></a></li>',e.exports["list_module_trend_header.mustache"]='<header class="margin-am"> <div class="js-trends control-group is-hidden"> <label class="padding-ts pull-left txt-mute cont">{{_i}}Trends{{/i}}</label> <div class="controls-space-58"> <select class="js-trends-select"></select> </div> </div> <div class="js-cities control-group is-hidden margin-ts"> <label class="padding-ts pull-left txt-mute cont">{{_i}}City{{/i}}</label> <div class="controls-space-58"> <select class="js-cities-select"></select> </div> </div> </header>',e.exports["list_module_trends.mustache"]='<div class="lst-group"> {{^withLocationSelector}} <h3>{{_i}}Worldwide{{/i}}</h3> {{/withLocationSelector}} {{> list_module_trend_header}} <ul class="js-trend-list"></ul> </div>',e.exports["list_module_twitter_customtimeline_item.mustache"]='<li> <a href="#" class="list-twitter-list"> <div class="inner" > <strong>{{{title}}}</strong> </div> <p>{{{description}}}</p> </a> </li>',e.exports["list_module_twitter_list_item.mustache"]='<li> <a href="#" class="list-twitter-list"> <div class="inner"> <div class="txt-ellipsis"> {{#isPrivate}}<i class="icon icon-protected icon-small inline"></i>{{/isPrivate}} <strong>{{{title}}}</strong> <span class="bytext">{{by}}</span> </div> </div> <p>{{{description}}}</p> <span class="subtitle">{{subtitle}}</span> <img src="{{miniProfileURL}}" alt="avatar" class="avatar size24"> </a> </li>',e.exports["list_option_dropdown.mustache"]='<span class="btn-dropdown-group"> <a href="#" class="btn-dropdown"> <span class="js-menu-selected-item">{{choice}}</span> <i class="carrot-down"></i> </a> <ul class="options-dropdown dropdown-menu" style="display:block"> <li><a href="#">{{_i}}Ping{{/i}}</a></li> <li><a href="#">{{_i}}Ping 2{{/i}}</a></li> <li><a href="#">{{_i}}Ping 3{{/i}}</a></li> <li><a href="#">{{_i}}Ping 4{{/i}}</a></li> </ul> </span>',e.exports["list_trend_item.mustache"]='<li><a href="#" data-action="search" data-query="{{name}}">{{name}}</a></li>',e.exports["list_trend_promoted_item.mustache"]='<li><a class="promoted" href="#" data-action="search" data-query="{{name}}">{{name}}<i class="badge-promoted"></i><span>promoted</span></a></li>',e.exports["lists/add_users_to_list_button.mustache"]='<button class="js-add-multiple btn btn-positive margin-t--10" {{^canAddMembers}}disabled{{/canAddMembers}}> {{_i}}Add users to list{{/i}} </button>',e.exports["lists/edit_footer.mustache"]='<span class="pull-right"> <button class="js-save btn btn-positive"><i class="add"></i>{{_i}}Save{{/i}}</button> </span>',e.exports["lists/edit_list_details.mustache"]='<div class="margin-b--15 padding-t--25 padding-h--15 bg-r-white txt-twitter-deep-black width--490"> <fieldset> <legend class="frm-legend">{{_i}}List Details{{/i}}</legend>  <div class="control-group padding-b--15"> <label for="list-account" class="control-label">{{_i}}Account{{/i}}</label> <div class="controls"> <select{{#listId}} disabled{{/listId}} name="list-account" id="list-account" class="js-list-account width--300"> {{#accounts}}<option value="{{getKey}}">@{{getUsername}}</option>{{/accounts}} </select> </div> </div>  <div class="control-group padding-b--15"> <label for="list-name" class="control-label">{{_i}}Name{{/i}}</label> <div class="controls"> <input class="width--300 js-list-name js-submittable-input" id="list-name" name="list-name" maxlength="25" required="required" type="text" placeholder="{{_i}}New List{{/i}}"> </div> </div>  <div class="control-group"> <label for="list-description" class="control-label padding-t--6"> {{_i}}Description{{/i}} </label> <div class="controls"> <textarea class="width--300 js-list-description height--55" id="list-description" name="list-description" rows="10"></textarea> </div> <div class="controls margin-t--6 txt-r-dark-gray width--300 txt-size--12"> <span>Under 100 characters, optional</span> <span class="js-character-count obj-right"></span> </div> </div>  <div class="control-group"> <label for="list-mode"  class="control-label">{{_i}}Privacy{{/i}}</label> <div class="controls frm-inputs-list padding-t--5"> <label class="radio"> <input type="radio" value="public" id="list-mode-public" name="list-mode" checked="checked"> <span>{{_i}}Public{{/i}}</span> <span class="txt-twitter-gray txt-size--12">&#8226 {{_i}}anyone can view{{/i}}</span> </label> <label class="radio"> <input type="radio" value="private" id="list-mode-private" name="list-mode"> <span>{{_i}}Private{{/i}}</span> <span class="txt-twitter-gray txt-size--12">&#8226 {{_i}}only visible to the owner{{/i}}</span> </label> </div> </div>  <div class="pull-right padding-t--10"> <button class="js-save-list js-submittable-input btn btn-positive" type="submit"> {{_i}}Save{{/i}} </button> </div> </fieldset> </div>',e.exports["lists/edit_members_footer.mustache"]='<button class="js-delete btn btn-negative"><i class="icon icon-trash padding-rs"></i><span class="label">{{_i}}Delete list{{/i}}</span></button> <span class="pull-right"> <label class="js-add-column-option is-hidden pull-left checkbox frm-add-col"> <input type="checkbox" class="js-add-column-checkbox" name="add-column-checkbox"/> <span>{{_i}}Add column{{/i}}</span> </label> <button class="js-edit btn btn-tertiary margin-r--6">{{_i}}Edit Details{{/i}}</button> <button class="js-done btn btn-positive"></i>{{_i}}Done{{/i}}</button> </span>',e.exports["lists/member.mustache"]='<li class="list-listmember cf"> <img src="{{profileImageURL}}" alt="@{{username}}" class="avatar"> <button class="js-add-remove btn btn-square btn-tertiary"> <div class="working action-btn"> <span> <img src="{{#asset}}/web/assets/global/backgrounds/spinner_small_trans.gif{{/asset}}" alt="Loading…"> </span> </div> <div class="member action-btn"><i class="icon icon-trash"></i></div> <div class="checked action-btn"><i class="icon icon-check icon-small"></i></div> <div class="nonmember action-btn"><i class="icon icon-plus icon-small"></i></div> </button> <div class="content "> <strong class="fullname txt-ellipsis inline-block">{{fullname}}</strong> <span class="username">@{{username}} {{#isProtected}}<i class="icon icon-protected icon-small"></i>{{/isProtected}}{{#isVerified}}<i title="{{_i}}Verified account{{/i}}" class="sprite sprite-verified-mini js-show-tip"></i>{{/isVerified}}</span> <p class="bio">{{description}}</p> </div> </li>',e.exports["lists/member_export.mustache"]='<div class="lst-group bg-r-white"> <div class="margin-a--16"> <p class="padding-b--8 txt-r-deep-gray">{{_i}}The list of users in {{/i}}{{{name}}}{{_i}} is below. Copy it to share with colleagues and friends.{{/i}}</p> <textarea class="height--415 js-copy-users-input" readonly>{{members}}</textarea> <div> <button class="js-dismiss-top-modal btn margin-t--10 pull-left"> {{_i}}← Back{{/i}} </button> {{#showCopyButton}} <div class="pull-right"> <button class="js-copy-members btn btn-positive margin-t--10"> {{_i}}Copy list{{/i}} </button> </div> {{/showCopyButton}} </div> </div> </div>',e.exports["lists/member_import.mustache"]='<div class="lst-group bg-r-white"> <div class="margin-a--16 txt-r-deep-gray"> <p class="padding-b--8">{{_i}}Enter the @usernames of the people you would like to add to this list.{{/i}}</p> <p class="padding-b--16 txt-size-variable--12 pull-left width-p--90">{{_i}}You can add up to 100 members to a list at a time.{{/i}}</p> <i class="js-show-tip icon icon-info pull-right" data-title="{{_i}}You can add the @usernames one per line, or they can be separated by spaces, commas or tabs.{{/i}}"/> <textarea class="height--415 js-multiple-users-input placeholder-text" autofocus placeholder="{{placeholderText}}"></textarea> <div> <button class="js-dismiss-top-modal btn margin-t--10 pull-left"> {{_i}}← Back{{/i}} </button> <div class="js-add-users-to-list-btn pull-right"> {{> lists/add_users_to_list_button}} </div> </div> </div> </div>',e.exports["lists/member_list.mustache"]='<section id="{{columnkey}}" data-column="{{columnkey}}" class="flex flex-column height-p--100"> <header class="column-header column-header-temp flex-shrink--0"> <h1 class="pull-left"><strong>{{_i}}Members{{/i}}</strong> (<span class="js-member-count"></span>)</h1> <button class="js-action-header-export-button pull-right btn btn-tertiary margin-t--10 is-hidden" data-action="exportList">{{_i}}Export list{{/i}}</button> </header> <div class="scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} scroll-alt column-content flex-auto"> <ul class="js-member-list"></ul> </div> </section>',e.exports["live_video.mustache"]='<div class="js-live-video-container live-video-container position-rel"></div> {{^isTemporaryColumn}} {{#hasMultipleTimelines}} <div class="live-video-timelines height--30 {{^decider.live_video_timelines}}is-hidden{{/decider.live_video_timelines}}"> <button class="Button Button--small js-live-video-timelines"> <span class="Button-label js-live-video-timelines-label">{{primaryTimeline.title}}</span> <span class="Button-adornment"> <span class="Icon Icon--caretDown"></span> </span> </button> <ul class="Dropdown js-live-video-timelines-list margin-t--0 margin-l--10" role="menu"> {{#timelines}} <li class="Dropdown-menuItem"> <label class="Dropdown-menuItemContent margin-v--5 margin-h--0" role="menuitemradio"> <input type="radio" name="timeline" value="{{timeline_id}}"> {{title}} </label> </li> {{/timelines}} </ul> </div> {{/hasMultipleTimelines}} {{/isTemporaryColumn}}',e.exports["login/login_form.mustache"]='<div class="app-signin-wrap"> <div class="js-signin-ui app-signin-form pin-top-only pin-right txt-weight-normal"></div> {{> login/promo_for_login_form}} </div>',e.exports["login/login_form_message.mustache"]='<div class="js-login-error form-message form-error-message error txt-center padding-al margin-bxl {{^message}}is-hidden{{/message}}"> <p class="js-login-error-message">{{message}}</p> </div>',e.exports["login/promo_for_login_form.mustache"]='<div class="app-info txt-size-variable--18 margin-txxl"> <div class="app-info-panel cf"> <div class="app-info-text pull-left"> <span class="app-info-title">Tweet like a pro.</span> <p>{{_i}}The most powerful Twitter tool for real-time tracking, organizing, and engagement. Reach your audiences and discover the best of Twitter.{{/i}}</p> </div> </div> </div>',e.exports["login/twitter_account_login_form.mustache"]='<form class="js-login-form form-login startflow-panel-rounded" data-auth-type="twitter"> <legend class="form-legend padding-axl"> {{_i}}Log in with your Twitter account{{/i}} </legend> <div class="margin-a--16"> {{> login/login_form_message}} <a href="{{twitterLoginUrl}}" class="btn btn-positive block txt-size--18"> Log in </a> </div> <div class="divider-bar margin-v--0 margin-h--16"></div> <div class="padding-axl"> {{_i}}New to Twitter?{{/i}} <a href="https://twitter.com/signup" class="startflow-link" rel="url" target="_blank">{{_i}}Sign up now{{/i}} &raquo;</a></p> </div> </form>',e.exports["media/animated_gif.mustache"]='<div class="js-media-gif-container media-item nbfc {{thumbSizeClass}}" style="background-image: url({{imageSrc}})"> {{#isGifActive}} <video class="js-media-gif media-item-gif full-width block {{#isPossiblySensitive}}is-invisible{{/isPossiblySensitive}}" {{#withAutoplay}}autoplay{{/withAutoplay}}  loop src="{{src}}"> <source video-src="{{src}}" type="{{contentType}}" src="{{src}}"> </video> <div class="gif-badge"><i class="sprite sprite-gif"></i></div> <a class="js-gif-pause is-actionable gif-pause" rel="pause"><i class="sprite sprite-gif-pause"></i></a> <a class="js-gif-play pin-all gif-play" rel="play">{{> media/video_overlay}}</a> {{/isGifActive}}  {{^isGifActive}} <div class="media-item-gif full-width block" /> {{/isGifActive}} </div>',e.exports["media/media_gallery.mustache"]='<div class="js-mediatable ovl-block is-inverted-light" tabindex="-1"> <div class="s-padded"> <div class="js-modal-panel mdl s-full med-fullpanel"> <a href="#" class="mdl-dismiss js-dismiss mdl-dismiss-media mdl-btn-media" rel="dismiss"><i class="icon txt-size--24 icon-close"></i></a> <div class="js-embeditem med-embeditem"> <div class="l-table"> <div class="l-cell"> <div class="med-tray js-mediaembed"></div> </div> </div> <a href="#" class="js-media-gallery-prev link-no-focus mdl-btn-media mdl-media-prev is-hidden"> <i class="icon txt-size--26 icon-arrow-l"></i> </a> <a href="#" class="js-media-gallery-next link-no-focus mdl-btn-media mdl-media-next is-hidden"> <i class="icon txt-size--26 icon-arrow-r"></i> </a> </div> <div id="media-gallery-tray"></div> <div class="js-med-tweet med-tweet"></div> </div> </div> </div>',e.exports["media/media_upload.mustache"]='<input class="js-media-upload" type="file" accept="{{acceptedMedia}}" multiple />',e.exports["media/native_video.mustache"]='<div class="position-rel"> <iframe src="https://twitter.com/i/videos/{{#isDM}}dm{{/isDM}}{{^isDM}}tweet{{/isDM}}/{{chirpId}}?image_src={{imageSrc}}&amp;media_id={{mediaId}}&amp;video_url={{videoUrl}}&amp;content_type={{contentType}}&amp;owner_id={{ownerId}}&amp;auto_buffer=1&amp;autoplay={{autoplay}}" class="js-media-native-video {{#isPossiblySensitive}}is-invisible{{/isPossiblySensitive}}" height="{{height}}" width="{{width}}" frameborder="0" scrolling="no" allowfullscreen style="margin: 0px; padding: 0px; border: 0px;"> </iframe> {{> status/media_sensitive}} </div>',e.exports["media/tagged_users.mustache"]='{{#taggedUsers.length}} <div class="margin-v--4 txt-mute txt-size-variable--12"> <i class="icon icon-user icon-xsmall icon-base-valigned "></i> {{#taggedUsers}} {{{userLink}}}{{^isBeforeLast}}{{^isLast}}, {{/isLast}}{{/isBeforeLast}}  {{#hasTwoOrMoreUsers}} {{#isBeforeLast}} {{_i}}and{{/i}} {{/isBeforeLast}} {{/hasTwoOrMoreUsers}} {{/taggedUsers}} </div> {{/taggedUsers.length}}',e.exports["media/video_overlay.mustache"]='<div class="video-overlay icon-with-bg-round"> <i class="icon icon-bg-dot icon-twitter-blue-color"></i> <i class="icon icon-play-video"></i> </div>',e.exports["media/vine.mustache"]='<iframe class="vine-player" width="{{width}}" height="{{height}}" src="https://vine.co/v/{{id}}/card" frameborder="0"> </iframe>',e.exports["media/youtube.mustache"]='<iframe class="youtube-player" type="text/html" width="{{width}}" height="{{height}}" src="https://www.youtube.com/embed/{{id}}?autoplay={{autoplay}}{{#startTime}}&start={{startTime}}{{/startTime}}" allowfullscreen frameborder="0"> </iframe>',e.exports["menus/accordion_header.mustache"]='<div class="js-accordion-toggle-view accordion-header is-actionable link-clean block cf txt-size--14"> <div class="facet-title padding-l--36"> <i class="icon {{iconClass}} facet-type-icon"></i> <span class="txt-size--13">{{title}}</span> </div> <i class="icon icon-arrow-d pull-right txt-size--10"></i> <i class="icon icon-arrow-u pull-right txt-size--10"></i> <div class="{{jsClass}} facet-subtitle padding-t--3 padding-r--12 padding-l--36 nbfc"> {{summaryText}} </div> </div>',e.exports["menus/actions.mustache"]='<ul> {{#chirp}} {{#user}}{{^isProtected}} <li class="is-selectable"><a href="#" data-action="embed">{{_i}}Embed this Tweet{{/i}}</a></li> <li class="is-selectable"><a href="#" data-action="reference-to">{{_i}}Copy link to this Tweet{{/i}}</a></li> <li class="is-selectable"><a href="#" data-action="message-to">{{_i}}Share via Direct Message{{/i}}</a></li> <li class="is-selectable"><a href="#" data-action="email">{{_i}}Share via Email{{/i}}</a></li> <li class="drp-h-divider"></li> {{/isProtected}}{{/user}} {{/chirp}}  {{#user}} <li class="is-selectable"><a href="#" data-action="mention" class="txt-ellipsis">{{_i}}Tweet to @{{screenName}}{{/i}}</a></li> {{> menus/follow_menuitem }} {{#showFavorite}} <li class="is-selectable"> <a href="#" data-action="favoriteOrUnfavorite"> {{_i}}Like from accounts…{{/i}} </a> </li> {{/showFavorite}}  <li class="is-selectable"><a href="#" data-action="message">{{_i}}Send a Direct Message{{/i}}</a></li> <li class="is-selectable"><a href="#" data-action="lists">{{_i}}Add or remove from lists…{{/i}}</a></li> {{#chirp}}{{#user}}{{^isProtected}} <li class="feature-customtimelines is-selectable"><a href="#" data-action="customtimelines">{{_i}}Add to collection…{{/i}}</a></li> {{/isProtected}}{{/user}}{{/chirp}}  {{#chirp}}<li class="is-selectable"><a href="#" data-action="search-for-quoted">{{_i}}See who quoted this Tweet{{/i}}</a></li>{{/chirp}} {{/user}}  {{#user}} {{^isMe}} <li class="drp-h-divider"></li> {{#chirp}} {{#hasMedia}} <li class="is-selectable"> <a class="js-flag-media-link {{#isFlagged}}is-hidden{{/isFlagged}}" href="#" data-action="flag-media">{{_i}}Flag media{{/i}}</a> <a class="js-flag-more-info-link {{^isFlagged}}is-hidden{{/isFlagged}}" href="https://support.twitter.com/articles/20069937" data-action target="_blank" rel="url">{{_i}}Flagged (learn more){{/i}}</a> </li> {{/hasMedia}} {{/chirp}} {{^isMuted}} <li class="is-selectable"><a href="#" data-action="mute" class="txt-ellipsis">{{_i}}Mute @{{screenName}}{{/i}}</a></li> {{/isMuted}} {{#isMuted}} <li class="is-selectable"><a href="#" data-action="unmute" class="txt-ellipsis">{{_i}}Unmute @{{screenName}}{{/i}}</a></li> {{/isMuted}}  {{#chirp}} {{#isTweetDetailAction}} {{^isMutedConversation}} <li class="is-selectable"><a href="#" data-action="muteConversation" class="txt-ellipsis">{{_i}}Mute this conversation{{/i}}</a></li> {{/isMutedConversation}} {{#isMutedConversation}} <li class="is-selectable"><a href="#" data-action="unmuteConversation" class="txt-ellipsis">{{_i}}Unmute this conversation{{/i}}</a></li> {{/isMutedConversation}} {{/isTweetDetailAction}} {{/chirp}}  <li class="is-selectable"><a href="#" data-action="block" class="txt-ellipsis">{{_i}}Block @{{screenName}}{{/i}}</a></li> {{#chirp}} <li class="is-selectable"><a href="#" data-action="report-tweet" class="txt-ellipsis">{{_i}}Report Tweet{{/i}}</a></li> {{/chirp}} {{^chirp}} <li class="is-selectable"><a href="#" class="txt-ellipsis" data-action="report-spam">{{_i}}Report @{{screenName}}{{/i}}</a></li> {{/chirp}} {{/isMe}} {{/user}}  {{#chirp}} {{#isTranslatable}} <li class="drp-h-divider"></li> <li class="is-selectable"><a href="#" data-action="translate">{{_i}}Translate this Tweet{{/i}}</a></li> {{/isTranslatable}} {{#isRetweeted}} <li class="drp-h-divider"></li> <li class="is-selectable"><a href="#" data-action="undo-retweet">{{_i}}Undo Retweet{{/i}}</a></li> {{/isRetweeted}} {{#isOwnChirp}} {{^isRetweeted}} <li class="drp-h-divider"></li> <li class="is-selectable"><a href="#" data-action="destroy">{{_i}}Delete{{/i}}</a></li> {{/isRetweeted}} {{/isOwnChirp}} {{/chirp}} </ul>',e.exports["menus/actions_directmessage.mustache"]='<ul> {{#user}} {{> menus/follow_menuitem }} <li class="is-selectable"><a href="#" data-action="lists">{{_i}}Add or remove from lists…{{/i}}</a></li> {{^isMe}} <li class="drp-h-divider"></li> {{^isMuted}} <li class="is-selectable"><a href="#" data-action="mute">{{_i}}Mute @{{screenName}}{{/i}}</a></li> {{/isMuted}} {{#isMuted}} <li class="is-selectable"><a href="#" data-action="unmute">{{_i}}Unmute @{{screenName}}{{/i}}</a></li> {{/isMuted}} <li class="is-selectable"><a href="#" data-action="block">{{_i}}Block @{{screenName}}{{/i}}</a></li> <li class="is-selectable"><a href="#" data-action="report-tweet">{{_i}}Flag message{{/i}}</a></li> {{/isMe}} {{/user}}  {{#chirp}} <li class="drp-h-divider"></li> <li class="is-selectable"><a href="#" data-action="destroy">{{_i}}Delete{{/i}}</a></li> {{/chirp}} </ul>',e.exports["menus/column_nav_menu.mustache"]='<div class="js-column-nav-list"> <ul class="js-int-scroller"> {{#columns}} <li class="js-column-nav-menu-item column-nav-item {{#isNew}}is-new{{/isNew}} {{#customTimelineId}}js-droptarget{{/customTimelineId}}" data-column="{{key}}" data-customtimeline-id="{{customTimelineId}}" data-customtimeline-account="{{customTimelineAccount}}" > <i class="icon icon-xsmall icon-dot column-nav-updates"></i> <a class="js-header-action js-drag-handle drag-handle link-clean cf padding-h--10 column-nav-link txt-size--17" data-action="jumpto" data-column="{{key}}"> <div class="obj-left"> {{#isEventColumn}} <img src="{{#asset}}/web/assets/global/backgrounds/generalelection.png{{/asset}}" class="pull-left image-icon-small" /> {{/isEventColumn}} {{^isEventColumn}} <i class="icon {{iconclass}} icon-large position-rel" data-action="drag"> {{#isMessageColumn}} <span class="js-unread-count msg-unread-count numbered-badge numbered-badge-onnav anim anim-slower {{#unreadCount}}is-visible{{/unreadCount}}">{{unreadCount}}</span> {{/isMessageColumn}} </i> {{/isEventColumn}} </div> <div class="js-column-title nbfc hide-condensed">{{{title}}}</div> </a> </li> {{/columns}} </ul> <a class="js-header-action js-header-add-column link-clean cf app-nav-link padding-h--10 margin-tm with-nav-border-t" data-action="add-column" data-title="{{_i}}Add column{{/i}}"> <div class="obj-left margin-l--2"> <i class="icon icon-plus icon-medium"></i> </div> <div class="nbfc padding-ts hide-condensed txt-size--16">{{_i}}Add column{{/i}}</div> </a> </div>',e.exports["menus/column_share.mustache"]='<ul class="dropdown-text-large"> {{#isEmbeddable}} <li class="is-selectable"> <a href="#" data-action="embed"> <i class="icon icon-dropdown-context icon-share margin-rs"></i> {{_i}} {{>text/open_strong}}Embed{{>text/close_strong}} {{#isCustomTimeline}} collection {{/isCustomTimeline}} {{^isCustomTimeline}} timeline {{/isCustomTimeline}} {{/i}} </a> </li> {{/isEmbeddable}} {{#isSearchColumn}} <li class="is-selectable"> <a href="#" data-action="copy-search-query"> <i class="icon icon-dropdown-context icon-share margin-rs"></i> {{_i}}{{>text/open_strong}}Copy{{>text/close_strong}} search query{{/i}} </a> </li> {{/isSearchColumn}} {{#isViewable}} <li class="is-selectable"> <a href="#" data-action="view-on-web"> <i class="icon icon-dropdown-context icon-twitter-bird margin-rs"></i> {{_i}}{{>text/open_strong}}View{{>text/close_strong}} on twitter.com{{/i}} </a> </li> {{/isViewable}} {{#isShareable}} <li class="is-selectable"> <a href="#" data-action="reference-to"> <i class="icon icon-dropdown-context icon-compose margin-rs"></i> {{_i}} {{>text/open_strong}}Tweet{{>text/close_strong}} about this {{#isCustomTimeline}} collection {{/isCustomTimeline}} {{^isCustomTimeline}} timeline {{/isCustomTimeline}} {{/i}} </a> </li> {{/isShareable}} {{#decider.create_moment}} {{#isCustomTimeline}} {{#hasMomentMakerProAccess}} <li class="is-selectable"> <a href="#" data-action="moment"> <i class="icon icon-dropdown-context icon-lightning margin-rs"></i> {{_i}} {{>text/open_strong}}Create Moment{{>text/close_strong}} {{/i}} </a> </li> {{/hasMomentMakerProAccess}} {{/isCustomTimeline}} {{/decider.create_moment}} </ul>',e.exports["menus/datetime_footer.mustache"]='<div> <button type="button" class="btn btn-tertiary js-clear-date">Clear</button> </div>',e.exports["menus/datetime_input.mustache"]='<div class="search-input-control"> <input type="text" class="js-datetime-input txt-left width-p--100 bg-r-white" placeholder="{{placeHolderText}}" readonly /> <a href="#" class="js-select-date search-input-perform-search" tabindex="-1"> <i class="icon icon-calendar icon-small"></i> </a> <a href="#" class="js-clear-date search-input-clear-search" tabindex="-1"> <i class="icon icon-close icon-small"></i> </a> </div>',e.exports["menus/dm_conversations_menu.mustache"]='<ul> <li class="is-selectable"><a href="#" data-action="view-people">{{_i}}Add / view people{{/i}}</a></li> {{#group}} <li class="is-selectable"><a href="#" data-action="rename-conversation">{{_i}}Edit group name{{/i}}</a></li> {{/group}} {{#loginAccount}} <li class="is-selectable"><a href="#" data-action="notify-conversation"> {{^notificationsDisabled}}{{_i}}Turn off notifications{{/i}}{{/notificationsDisabled}} {{#notificationsDisabled}}{{_i}}Turn on notifications{{/i}}{{/notificationsDisabled}} </a></li> {{/loginAccount}} <li class="is-selectable"><a href="#" data-action="leave-conversation">{{_i}}Leave{{/i}}</a></li> <li class="is-selectable"><a href="#" data-action="flag-conversation">{{_i}}Flag conversation{{/i}}</a></li> </ul>',e.exports["menus/dropdown.mustache"]='<div class="js-dropdown dropdown-menu br--6 bs-1 bg-r-white txt-twitter-dark-black padding-v--9 {{position}}"> <div class="caret"> <span class="caret-outer"></span> <span class="caret-inner"></span> </div> <div class="js-dropdown-content"> </div> </div>',e.exports["menus/filter_info_generic.mustache"]='<div class="txt-size--11 padding-b--10 flex flex-row"> <div class="flex-shrink--0 margin-r--6"> <i class="icon icon-info icon-small"/> </div> <div> {{_i}} Your notification settings on <a rel="url noopener noreferrer" target="_blank" href="https://twitter.com/settings/notifications_timeline">Twitter.com</a> may be affecting the mentions you see here {{/i}} </div> </div>',e.exports["menus/flagged_media.mustache"]="",e.exports["menus/follow_menuitem.mustache"]='{{#isSingleAccount}} {{^isMe}} {{#following}} <li class="is-selectable"><a href="#" data-action="unfollow" class="txt-ellipsis">{{_i}}Unfollow @{{screenName}}{{/i}}</a></li> {{/following}} {{^following}} <li class="is-selectable"><a href="#" data-action="follow" class="txt-ellipsis">{{_i}}Follow @{{screenName}}{{/i}}</a></li> {{/following}} {{/isMe}} {{/isSingleAccount}} {{^isSingleAccount}} <li class="is-selectable"><a href="#" data-action="followOrUnfollow">{{_i}}Follow from accounts…{{/i}}</a></li> {{/isSingleAccount}}',e.exports["menus/notifications_info.mustache"]='{{#filters.length}}  <div class="txt-size--13 padding-b--5"> <div class="txt-bold padding-b--3">{{_i}}Hiding notifications from users:{{/i}}</div>  <ul> {{#filters}} <li class="padding-b--3"> <i class="icon icon-check notifications-info-icon"/> {{text}} </li> {{/filters}} </ul> </div>  <div class="txt-size--11 padding-b--12"> {{_i}}These filters will not affect notifications from people you follow.{{/i}} <a rel="url noopener noreferrer" target="_blank" href="https://twitter.com/settings/notifications_timeline"> {{_i}}Update your preferences on Twitter.com{{/i}} </a> </div>  {{/filters.length}}',e.exports["menus/quality_filter_info.mustache"]='<div class="txt-size--11 padding-b--10 flex flex-row"> <div class="flex-shrink--0 margin-r--6"> <i class="icon icon-info icon-small"/> </div> <div> <div class="txt-size--13">Quality filter {{qualityFilterText}}</div> {{_i}}Improves the quality of Tweets you\'ll see.{{/i}} <a rel="url noopener noreferrer" target="_blank" href="https://twitter.com/settings/notifications_timeline"> {{_i}}Update your preferences on Twitter.com{{/i}} </a> </div> </div>',e.exports["menus/search_accordion.mustache"]='{{#action}} <div class="js-accordion-item facet-type facet-type-action {{#isExpanded}}is-expanded is-active{{/isExpanded}}"> {{>menus/accordion_header}} <div class="js-action-filter js-accordion-panel accordion-panel"> </div> </div> {{/action}} {{#content}} <div class="js-accordion-item facet-type facet-type-content {{#isExpanded}}is-expanded is-active{{/isExpanded}}"> {{>menus/accordion_header}} <div class="js-content-filter js-accordion-panel accordion-panel"> </div> </div> {{/content}} {{#location}} <div class="js-accordion-item facet-type facet-type-location {{#isExpanded}}is-expanded is-active{{/isExpanded}}"> {{>menus/accordion_header}} <div class="js-accordion-panel accordion-panel m-b--10"> <div class="js-location-filter" style="height: 270px"></div> </div> </div> {{/location}} {{#user}} <div class="js-accordion-item facet-type facet-type-user {{#isExpanded}}is-expanded is-active{{/isExpanded}}"> {{>menus/accordion_header}} <div class="js-user-filter js-accordion-panel accordion-panel"> </div> </div> {{/user}} {{#engagement}} <div class="js-accordion-item facet-type facet-type-engagement {{#isExpanded}}is-expanded is-active{{/isExpanded}}"> {{>menus/accordion_header}} <div class="js-engagement-filter js-accordion-panel accordion-panel"> </div> </div> {{/engagement}}',e.exports["menus/search_action_form.mustache"]='<div class="padding-l--10 control-s"> <div class="control-group"> {{#available.showMentions}} <div class="controls margin-l--0 {{^available.showMentions}}is-hidden{{/available.showMentions}}"> <label class="txt-mute"> <input class="js-show-mentions" type="checkbox" value="mentions" {{#checked.showMentions}}checked="checked"{{/checked.showMentions}} /> <i class="icon icon-small-valigned icon-mention icon-mention-color"></i> {{_i}}Mentions{{/i}} </label> </div> {{/available.showMentions}} {{#available.showQuoted}} <div class="controls margin-l--0"> <label class="txt-mute"> <input class="js-show-quoted" type="checkbox" value="quoted" {{#checked.showQuoted}}checked="checked"{{/checked.showQuoted}} /> <i class="icon icon-small-valigned icon-content txt-r-dark-gray"></i> {{_i}}Quoted Tweets{{/i}} </label> </div> {{/available.showQuoted}} {{#available.showRetweets}} <div class="controls margin-l--0"> <label class="txt-mute"> <input class="js-show-retweets" type="checkbox" value="retweets" {{#checked.showRetweets}}checked="checked"{{/checked.showRetweets}} /> <i class="icon icon-small-valigned icon-retweet-filled icon-retweet-color"></i> {{_i}}Retweets{{/i}} </label> </div> {{/available.showRetweets}} {{#available.showFavorites}} <div class="controls margin-l--0"> <label class="txt-mute"> <input class="js-show-favorites" type="checkbox" value="favorites" {{#checked.showFavorites}}checked="checked"{{/checked.showFavorites}} /> <i class="icon icon-small-valigned icon-heart-filled icon-favorite-color"></i> {{_i}}Likes{{/i}} </label> </div> {{/available.showFavorites}} {{#available.showFollowers}} <div class="controls margin-l--0"> <label class="txt-mute"> <input class="js-show-followers" type="checkbox" value="followers" {{#checked.showFollowers}}checked="checked"{{/checked.showFollowers}} /> <i class="icon icon-small-valigned icon-user-filled icon-follow-color"></i> {{_i}}Followers{{/i}} </label> </div> {{/available.showFollowers}} {{#available.showLists}} <div class="controls margin-l--0"> <label class="txt-mute"> <input class="js-show-lists" type="checkbox" value="lists" {{#checked.showLists}}checked="checked"{{/checked.showLists}} /> <i class="icon icon-small-valigned icon-list icon-list-color"></i> {{_i}}Lists{{/i}} </label> </div> {{/available.showLists}} {{#available.showActionsOnRetweets}} <div class="controls margin-l--0 padding-t--3"> <label class="txt-mute"> <input class="js-show-actions-on-retweets margin-r--1" type="checkbox" value="actionsOnRTs" {{#checked.showActionsOnRetweets}}checked="checked"{{/checked.showActionsOnRetweets}} /> <i class="icon icon-small-valigned icon-retweet-filled icon-retweet-color"></i> {{_i}}Actions on my Retweets{{/i}} </label> </div> {{/available.showActionsOnRetweets}} {{#available.showInteractionsOnMentioned}} <div class="controls margin-l--0 padding-t--3"> <label class="txt-mute"> <input class="js-show-interactions-on-mentioned margin-r--1" type="checkbox" value="actionsOnMentioned" {{#checked.showInteractionsOnMentioned}}checked="checked"{{/checked.showInteractionsOnMentioned}} /> <i class="icon icon-small-valigned icon-mention icon-mention-color"></i> {{_i}}Actions on Tweets I\'m mentioned in{{/i}} </label> </div> {{/available.showInteractionsOnMentioned}} {{#available.showInteractionsOnTagged}} <div class="controls margin-l--0 padding-t--3"> <label class="txt-mute"> <input class="js-show-interactions-on-tagged margin-r--1" type="checkbox" value="actionsOnTagged" {{#checked.showInteractionsOnTagged}}checked="checked"{{/checked.showInteractionsOnTagged}} /> <i class="icon icon-small-valigned icon-image icon-image-color"></i> {{_i}}Actions on Tweets I\'m tagged in{{/i}} </label> </div> {{/available.showInteractionsOnTagged}}  </div> <div class="js-action-filter-error txt-center srt-error-msg margin-bm {{^showError}}is-hidden{{/showError}}"> {{_i}}Please select at least one interaction type{{/i}} </div> </div>',e.exports["menus/search_content_form.mustache"]='<div class="padding-hl control-s"> {{#withContentType}} <div class="control-group"> <label class="control-label txt-mute">{{_i}}Showing{{/i}}</label> <div class="controls"> <select class="js-containing" data-title="containing"> {{#containingOptions}} {{^hidden}} <option value="{{value}}">{{title}}</option> {{/hidden}} {{/containingOptions}} </select> </div> </div> {{/withContentType}} {{#withMatching}} <div class="control-group"> <label class="control-label txt-mute">{{_i}}Matching{{/i}}</label> {{>search_input}} </div> {{/withMatching}} {{#withExcluding}} <div class="control-group"> <label class="control-label txt-mute">{{_i}}Excluding{{/i}}</label> {{>search_input}} </div> {{/withExcluding}} {{#withDateTime}} <div class="js-datetime-filter" /> {{/withDateTime}} {{#withLanguage}} <div class="control-group"> <label class="control-label txt-mute">{{_i}}Written in{{/i}}</label> <div class="controls"> <select class="js-written-in" data-title="written_in"> <option value="any" >{{_i}}any language{{/i}}</option> <option value="0" disabled="disabled">---</option>  {{#userLanguage}} <option value="{{code}}">{{name}}</option> <option value="0" disabled="disabled">---</option> {{/userLanguage}}  {{#allLanguages}} <option value="{{code}}">{{localized_name}} ({{name}})</option> {{/allLanguages}} </select> </div> </div> {{/withLanguage}} {{#withRetweetsToggle}} <div class="control-group"> <label class="control-label txt-mute">{{_i}}Retweets{{/i}}</label> <div class="controls"> <select class="js-retweets" data-title="retweets"> {{#retweetOptions}} <option value="{{value}}">{{title}}</option> {{/retweetOptions}} </select> </div> </div> {{/withRetweetsToggle}} <div class="js-quality-filter-info txt-mute-text-only"></div> </div>',e.exports["menus/search_datetime_form.mustache"]='<div class="control-group"> <label class="control-label txt-mute">{{_i}}From{{/i}}</label> <div class="controls"> <div class="js-from-datepicker-holder search-input-control" /> </div> </div> <div class="control-group"> <label class="control-label txt-mute">{{_i}}To{{/i}}</label> <div class="controls"> <div class="js-to-datepicker-holder search-input-control" /> </div> </div>',e.exports["menus/search_engagement_form.mustache"]='<div class="padding-hl control-m"> <div class="control-group"> <label> <div class="control-label">{{_i}}At least{{/i}}</div> <div class="controls"> <input type="text" data-title="retweets" class="js-min-retweets frm-input-3-digit" value="{{minRetweets}}" inputmode="numeric" /> <i class="icon icon-small-valigned icon-retweet padding-h--2"></i> {{_i}}Retweets{{/i}} </div> </label> <label> <div class="control-label">{{_i}}at least{{/i}}</div> <div class="controls"> <input type="text" data-title="favorites" class="js-min-favorites frm-input-3-digit" value="{{minFavorites}}" inputmode="numeric" /> <i class="icon icon-small-valigned icon-favorite padding-h--2"></i> {{_i}}likes{{/i}} </div> </label> <label> <div class="control-label">{{_i}}and at least{{/i}}</div> <div class="controls"> <input type="text" data-title="replies" class="js-min-replies frm-input-3-digit" value="{{minReplies}}" inputmode="numeric" /> <i class="icon icon-small-valigned icon-reply padding-h--2"></i> {{_i}}replies{{/i}} </div> </label> </div> </div>',e.exports["menus/search_location_form.mustache"]='<div class="padding-hl control-s l-fullheight location-form"> <label class="txt-mute">{{_i}}Tweets geo-tagged near{{/i}} <span class="js-pretty-lat-lng">{{prettyLatLng}}</span></label> <input type="text" class="js-geo-search js-non-escapable-input geo-search padding-l--23" value="{{name}}" placeholder="Type in a location"> <i class="icon icon-translator icon-small bg-r-white txt-r-medium-gray"></i> <div class="js-typeahead-dropdown border-box typeahead-dropdown dropdown-menu bs-1 bg-r-white txt-twitter-dark-black scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} padding-t--0 padding-b--0"> <ul class="js-typeahead-location-list is-hidden"></ul> </div> <div class="control-group map-group height-p--60 margin-v--10 padding-b--0"> <i class="icon txt-size--16 txt-line-height--16 txt-r-text icon-close pin-right br-100 margin-t--5 margin-r--16 z-index--2 is-actionable {{#hideMapClear}}is-hidden{{/hideMapClear}} js-clear-map padding-a--4"></i> <div id="mapbox-map-{{identity}}" class="js-map-location l-fullheight z-index--1 br-1"></div> </div> <div class="control-group radius-group"> <label class="control-label txt-mute">{{_i}}Radius{{/i}}</label> <div class="controls"> <select class="js-radius" data-title="radius"> {{#radiusOptions}} <option value="{{value}}" {{#selected}} selected {{/selected}}>{{title}}</option> {{/radiusOptions}} </select> </div> </div> </div>',e.exports["menus/search_user_form.mustache"]='<div class="padding-hl control-s"> <div class="control-group"> <label class="control-label txt-mute">{{_i}}By{{/i}}</label> <div class="controls"> <select class="js-tweets-from" data-title="tweets_from"> {{#tweetsFromOptions}} <option value="{{value}}">{{title}}</option> {{/tweetsFromOptions}} </select> </div> <div class="controls"> {{#tweetsFromUser}} {{>search_input}} {{/tweetsFromUser}} {{#tweetsFromList}} {{>search_input}} {{/tweetsFromList}} <select class="js-tweets-from-me margin-txs" data-title="from_me"> {{#myAccounts}} <option value="{{value}}" {{#isDefault}}selected="selected"{{/isDefault}}>{{title}}</option> {{/myAccounts}} </select> </div> </div> <div class="control-group"> <label class="control-label txt-mute">{{_i}}Mentioning{{/i}}</label> <div class="controls"> <select class="js-mentioning" data-title="mentioning"> {{#mentioningOptions}} <option value="{{value}}">{{title}}</option> {{/mentioningOptions}} </select> </div> <div class="controls"> {{#mentioningUser}} {{>search_input}} {{/mentioningUser}} <select class="js-mentioning-me margin-txs" data-title="mentioning_me"> {{#myAccounts}} <option value="{{value}}" {{#isDefault}}selected="selected"{{/isDefault}}>{{title}}</option> {{/myAccounts}} </select> </div> </div> <div class="js-notification-filter-info txt-mute-text-only"></div> </div>',e.exports["menus/topbar_menu.mustache"]='<ul> <li><b class="non-selectable-item txt-ellipsis"> @{{account}} </b></li> <li class="drp-h-divider"></li> {{^isTouchDevice}} <li class="is-selectable"> <a href="#" data-action="keyboardShortcutList">{{_i}}Keyboard shortcuts{{/i}}</a> </li> {{/isTouchDevice}} <li class="is-selectable"> <a href="#" data-action="searchOperatorList">{{_i}}Search tips{{/i}}</a> </li> <li class="is-selectable"> <a href="#" data-action="globalSettings">{{_i}}Settings{{/i}}</a> </li> {{#showUpdateAvailable}} <li class="drp-h-divider"></li> <li class="is-selectable margin-v---6"> <a href="#" data-action="updateAvailable" class="update-available-item padding-v--10"> {{_i}}Update TweetDeck{{/i}} </a> </li> {{/showUpdateAvailable}} {{#showDisableDogfood}} <li class="drp-h-divider"></li> <li class="is-selectable margin-v---6"> <a href="#" data-action="disableDogfood" class="update-available-item padding-v--10"> {{_i}}Disable dev/dogfood features{{/i}} </a> </li> {{/showDisableDogfood}} <li class="drp-h-divider"></li> <li class="is-selectable"> <a href="#" data-action="signOut">{{_i}}Log out{{/i}}</a> </li> </ul>',e.exports["menus/user_results.mustache"]='<div class="js-dropdown-container scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} scroll-alt column-scroller column-background-fill margin-bs height-p--100 br--6"> {{#users}} {{<stream_item}} {{$content}} {{> account_summary }} {{/content}} {{/stream_item}} {{/users}} </div>',e.exports["modal.mustache"]='<div class="js-modal-panel mdl s-tall-fixed is-inverted-dark {{$modal_class}}{{/modal_class}} {{#loading}}is-loading{{/loading}}"> {{#loading}} <img src="{{#asset}}/web/assets/global/backgrounds/spinner_large_white.gif{{/asset}}" alt="{{_i}}Loading…{{/i}}" /> {{/loading}}  {{^loading}} {{> modal_header}} <div class="mdl-inner"> <div class="mdl-content js-mdl-content {{^no_horiz_flow_container}}horizontal-flow-container{{/no_horiz_flow_container}}"> {{$content}}default content{{/content}} </div> <footer class="mdl-buttonbar"> {{$footer_content}}{{/footer_content}} </footer> </div> {{/loading}} </div>',e.exports["modal/modal_context.mustache"]='<div class="js-modal-context {{#withClickTrap}}js-click-trap{{/withClickTrap}} {{#withNonDismissible}}js-non-dismissible{{/withNonDismissible}} overlay overlay-super scroll-v"> <div class="js-modal-inner mdl margin-v--20 s-fluid"> {{#withHeader}} {{> modal/modal_context_header}} {{/withHeader}}  {{#withDismissButton}} <a href="#" class="js-dismiss mdl-dismiss link-normal-dark"><i class="icon icon-close txt-size--18"></i></a> {{/withDismissButton}}  <div class="js-modal-content modal-content {{#withBorder}}modal-content-with-border{{/withBorder}} position-rel is-inverted-dark"></div>  {{#withFooter}} {{> modal/modal_context_footer}} {{/withFooter}} </div> </div>',e.exports["modal/modal_context_footer.mustache"]='<footer class="padding-axl no-collapse {{#withCenteredFooter}}txt-center{{/withCenteredFooter}}"> {{#withDoneButton}} <button class="js-dismiss btn btn-positive"> <i class="icon icon-check icon-small padding-rs"></i> <span class="label">{{_i}}Done{{/i}}</span> </button> {{/withDoneButton}} </footer>',e.exports["modal/modal_context_header.mustache"]='<header class="js-drag-handle padding-a--12 no-collapse mdl-header is-movable {{#withHeaderDivider}}mdl-header-divider{{/withHeaderDivider}}"> {{#title}} <h3 class="mdl-header-title">{{{title}}}</h3> {{/title}} </header>',e.exports["modal_header.mustache"]='<header class="js-mdl-header mdl-header js-drag-handle is-movable"> <h3 class="mdl-header-title js-header-title">{{{title}}}</h3> <a href="#" class="mdl-dismiss js-dismiss link-normal-dark"><i class="{{$close_class}}icon icon-close{{/close_class}}"></i></a> </header>',e.exports["new_custom_timeline_button.mustache"]='<button class="btn btn-positive margin-al"> <i class="icon icon-plus icon-small-valigned"></i> <span class="label padding-ls">{{{buttonText}}}</span> </button>',e.exports["number_ticker.mustache"]='<div class="ticker-outer"> <span class="js-ticker-inner ticker-inner"> {{#values}}<span class="js-ticker-value">{{value}}</span><br>{{/values}} </span> </div>',e.exports["open_column_footer.mustache"]='<button class="js-back btn btn-back">&larr; {{_i}}Back{{/i}}</button> <span class="pull-right"> <button class="js-add-column btn btn-positive"><i class="add"></i>{{_i}}Add Column{{/i}}</button> </span>',e.exports["open_column_home.mustache"]='<ul class="lst-launcher cf"> {{#options}} <li class="js-item-launch {{class}} {{#isDisabled}}is-disabled{{/isDisabled}} {{#isHidden}}is-hidden{{/isHidden}}" data-type="{{type}}"> <a href="#" class="btn hover-bg-r-faint-blue {{#isDisabled}}js-show-tip{{/isDisabled}}" {{#isDisabled}}disabled="disabled" title="{{_i}}You have already added this column{{/i}}"{{/isDisabled}}> {{#isEventColumn}} <img src="{{#asset}}/web/assets/global/backgrounds/generalelection.png{{/asset}}" class="block image-icon" /> {{/isEventColumn}} {{^isEventColumn}} <i class="block column-type-icon icon txt-r-medium-blue {{columnIconClass}}"></i> {{/isEventColumn}} <span class="txt-size--14 txt-r-dark-gray">{{title}}</span> {{#attribution}} <span class="txt-size--11 txt-r-medium-gray attribution block">{{attribution}}</span> {{/attribution}} </a> </li> {{/options}} </ul>',e.exports["open_column_list_group.mustache"]='{{#isFilterable}} <input type="search" class="js-search-filter width-p--85 margin-b--8 margin-h--8 padding-v--0 padding-h--8" placeholder="{{_i}}Search{{/i}}" /> {{/isFilterable}} <p class="js-no-match padding-v--11 padding-h--12 txt-mute is-hidden">{{_i}}No{{/i}} {{itemType}} {{_i}}match that name{{/i}}</p> {{#title}}<h3 class="js-title {{#isHidden}}is-hidden{{/isHidden}}">{{title}}</h3>{{/title}} <ul class="js-list-container {{className}}"></ul>',e.exports["open_column_list_multi_group.mustache"]='<div class="lst-group"> {{#groups}} {{>open_column_list_group}} {{/groups}} </div>',e.exports["open_column_list_with_header.mustache"]='<div class="lst-group"> {{>open_column_list_group}} </div>',e.exports["open_column_modal.mustache"]='<div class="js-modal-panel mdl s-tall-fixed "> {{> modal_header}} <div class="mdl-inner"> <div class="mdl-content js-mdl-content"> </div> <footer class="mdl-buttonbar"> </footer> </div> </div>',e.exports["open_column_shared_help.mustache"]='<div class="l-table"> <div class="l-cell padding-axl font-size-largest"> Someone shared a column with you. You can add a copy of this column to your TweetDeck. </div> </div>',e.exports["open_column_temp_help.mustache"]='<div class="l-table"> <div class="l-cell mdl-placeholder txt-size--16"> <p>{{helpText}}</p> </div> </div>',e.exports["open_split_menu.mustache"]='<div class="l-column mdl-column mdl-column-med"> <div class="js-left-pinned pin-top {{#hasAddMultipleUsersButton}}width-p--85{{/hasAddMultipleUsersButton}}"></div> {{#hasAddMultipleUsersButton}} <button class="js-add-multiple js-show-tip add-multiple btn btn-tertiary btn-square" data-title="Add multiple users"><i class="icon icon-small icon-user-team-mgr"></i></button> {{/hasAddMultipleUsersButton}} <div class="l-column-scrollv scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} scroll-alt js-left-column"></div> <div class="js-left-pinned-bottom pin-bottom"></div> </div> <div class="l-column mdl-column mdl-column-med mdl-column-rhs"> <div class="js-right-column scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} scroll-alt l-fullheight"></div> </div>',e.exports["overlay.mustache"]='<div class="overlay is-hidden"></div>',e.exports["participants_tooltip.mustache"]='<div class="js-tooltip margin-b--5 padding-h--5"> {{#title}}<b class="txt-size--14 block padding-v--10 conversation-tooltip-title">{{{title}}}</b>{{/title}} {{#participants}} <p class="txt-left txt-ellipsis padding-v--3"> <b class="txt-size--14">{{{emojifiedName}}}</b> <span class="txt-size--13">@{{screenName}}</span> </p> {{/participants}} </div>',e.exports["popover.mustache"]='<div class="js-popover popover br-1 bs-1 bg-r-white txt-twitter-dark-black is-hidden is-inverted-dark"> <div class="caret"> <span class="caret-outer"></span> <span class="caret-inner"></span> </div> <div class="js-popover-content scroll-none"></div> </div>',e.exports["profile/profile_full.mustache"]='<div class="media-item profile-bg-strip" style="background-image: url({{profileBannerURL}})"></div>  <div class="profile-full padding-hxl padding-bl"> <div class="profile-full-header cf pin-top-only"> <a class="prf-img profile-full-avatar obj-left link-clean" href="{{getProfileURL}}" target="_blank" data-user-name="{{screenName}}" rel="user"> <img src="{{biggerProfileImageURL}}" class="avatar size48 avatar-border--2"> </a> <div class="nbfc"> <div class="profile-follow-button"> {{>follow_button}} </div> </div> </div>  <div class="{{#isBadged}}fullname-badged-container{{/isBadged}}"> <a href="{{getProfileURL}}" class="account-link link-complex" target="_blank" data-user-name="{{screenName}}" rel="user"> <b class="fullname txt-ellipsis inline-block link-complex-target {{#isBadged}}fullname-badged{{/isBadged}} {{#isTranslator}}badge-translator{{/isTranslator}} {{#isVerified}}badge-verified{{/isVerified}} position-rel txt-size-variable--18"> {{name}} </b></a> </div> <div class=" txt-r-dark-gray"> <a href="{{getProfileURL}}" class="account-link link-complex" target="_blank" data-user-name="{{screenName}}" rel="user"> <span class="username txt-mute">@{{screenName}} {{#isProtected}}<i class="icon icon-protected icon-match-context icon-tt"></i>{{/isProtected}}</span> </a> </div>  <p class="profile-bio padding-tm padding-bs">{{{bio}}}</p>  <div class="padding-vm"> <a href="{{getFriendURL}}" rel="url" target="_blank" class="link-hover-override txt-uppercase txt-size-variable--12 txt-mute inline-block margin-rm" data-scribe-element="show_following">{{_i}}Following{{/i}}&nbsp;<b class="link-hover-target profile-full-bio-count">{{prettyFriendsCount}}</b></a> <a href="{{getFollowerURL}}" rel="url" target="_blank" class="link-hover-override txt-uppercase txt-size-variable--12 txt-mute inline-block" data-scribe-element="show_followers">{{_i}}Followers{{/i}}&nbsp;<b class="link-hover-target profile-full-bio-count">{{prettyFollowersCount}}</b></a> </div>  {{#location}}<p class="profile-location txt-ellipsis padding-ts"><i class="profile-icon icon icon-small-valigned icon-geo icon-tt"></i>&nbsp;{{location}}</p>{{/location}} {{#getDisplayURL}}<p class="profile-url txt-ellipsis padding-ts"><i class="profile-icon icon icon-small-valigned icon-link icon-tt"></i>&nbsp;<a href="{{url}}" class="prf-siteurl js-action-url" target="_blank" data-scribe-element="website">{{getDisplayURL}}</a></p> <p class="js-show-tip profile-joined-date padding-ts inline-block" data-original-title="{{prettyTimeDateJoinedDate}}"><i class="profile-icon icon icon-small-valigned icon-schedule icon-tt" ></i>&nbsp;{{_i}}Joined{{/i}}&nbsp;{{prettyJoinedDate}}</p>{{/getDisplayURL}} <p class="profile-media padding-ts"><i class="profile-icon icon icon-small-valigned icon-camera icon-tt"></i>&nbsp;<a href="{{getMediaURL}}" rel="search" data-search-term="{{getMediaSearchQuery}}" data-scribe-element="user_media">{{_i}}Photos &amp; videos{{/i}}</a></p> </div>',e.exports["profile_card_bio.mustache"]='<div class="prf-bio"> <p class="bio">{{{bio}}}</p> </div>',e.exports["profile_card_stats.mustache"]='<div class="prf-meta cf"> <div class="prf-follow-state padding-al"> {{> follow_button}} </div> {{#profile}} <ul class="prf-stats"> <li> <a href="https://twitter.com/{{screenName}}" data-action="open" data-type="tweets" class="js-action-url" target="_blank"> {{_i}}Tweets{{/i}} <strong>{{prettyStatusesCount}}</strong> </a> </li> <li> <a href="{{getFriendURL}}" class="js-action-url" target="_blank"> {{_i}}Following{{/i}} <strong>{{prettyFriendsCount}}</strong> </a> </li> <li> <a href="{{getFollowerURL}}" class="js-action-url" target="_blank"> {{_i}}Followers{{/i}} <strong>{{prettyFollowersCount}}</strong> </a> </li> <li> <a href="{{getListedURL}}" class="js-action-url" target="_blank"> {{_i}}Listed{{/i}} <strong>{{prettyListedCount}}</strong> </a> </li> </ul> {{/profile}} </div>',e.exports["report_flow.mustache"]='<iframe class="report-flow" src="{{url}}"></iframe>',e.exports["report_message_options.mustache"]='{{^isFinished}} {{^isGroupConversation}} <p class="txt-size--16 txt-twitter-deep-black padding-axl mdl-header-divider">{{_i}}Are you sure? The {{reportSource}} will be deleted from your inbox, and @{{screenName}} cannot message you until you message them first.{{/i}}</p> {{/isGroupConversation}}  {{#isGroupConversation}} <p class="txt-size--16 txt-twitter-deep-black padding-axl mdl-header-divider">{{_i}}Are you sure? The {{reportSource}} will be deleted from your inbox and you cannot be added to this group again.{{/i}}</p> {{/isGroupConversation}}  <ul class="txt-size--14 txt-bold txt-twitter-deep-black"> <li class="js-report-spam height--60 flex flex-align--center padding-axl mdl-header-divider border-box hover-bg-r-faint-gray">{{_i}}Yes, it\'s spam{{/i}}</li> <li class="js-mark-abusive height--60 flex flex-align--center padding-axl mdl-header-divider border-box hover-bg-r-faint-gray">{{_i}}Yes, it\'s abusive{{/i}}</li> </ul>  {{>learn_more_about_reporting}} {{/isFinished}}  {{#isFinished}} <p class="txt-size--16 txt-twitter-deep-black padding-axl mdl-header-divider">{{_i}}The report has been sent and the {{reportSource}} has been deleted.{{/i}}</p>  {{>learn_more_about_reporting}} {{/isFinished}}',e.exports["report_tweet_options.mustache"]='<fieldset> <legend>{{_i}}Report Tweet options{{/i}}</legend>  <div class="padding-hl padding-tl"> <label class="radio margin-bl"> <input checked type="radio" name="report-options" value="spam" class="js-report-option"> <b class="txt-size--14">{{_i}}Spam{{/i}}</b> <p>{{_i}}This Tweet may be spam or from a spam account{{/i}}</p> </label>  <label class="radio margin-bl"> <input type="radio" name="report-options" value="compromised" class="js-report-option"> <b class="txt-size--14">{{_i}}Compromised{{/i}}</b> <p>{{_i}}This user may not be in control of their account{{/i}}</p> </label>  <label class="radio margin-bl"> <input type="radio" name="report-options" value="abusive" class="js-report-option"> <b class="txt-size--14">{{_i}}Abusive{{/i}}</b> <p>{{_i}}This Tweet may be in violation of the <a href="https://support.twitter.com/articles/18311-the-twitter-rules" target="_blank">Twitter Rules</a>. In order to file a report, you must still choose and complete a form. Select this option to continue.{{/i}}</p> </label> </div> <div class="divider-bar"></div> <div class="padding-hl"> <label class="checkbox"> <input type="checkbox" name="report-block" value="block" class="js-report-block"> <b class="txt-size--14">{{_i}}Block and unfollow{{/i}} @{{screenName}}</b> <p>Blocking will hide @{{screenName}} Tweets. Learn more about what <a href="https://support.twitter.com/articles/117063-blocking-people-on-twitter" target="_blank">blocking</a> means.</p> </label> </div>  </fieldset>  <div class="padding-vl padding-l--27"> <button class="js-report-submit btn btn-positive" disabled></i>{{_i}}Submit{{/i}}</button> </div>',e.exports["report_tweet_options_abusive.mustache"]='<p>{{_i}}Please choose the topic that best defines your issue. Once you complete and the submit the form your report will be filed with Twitter.{{/i}}</p>  <ul class="margin-txl margin-lxl"> <li class="margin-bm"> <a href="https://support.twitter.com/forms/impersonation?reported_username={{screenName}}&amp;reported_tweet_id={{tweetId}}" target="_blank" data-scribe="impersonation" class="abuse-link">Impersonation</a> </li> <li class="margin-bm"> <a href="https://support.twitter.com/forms/trademark?reported_username={{screenName}}&amp;reported_tweet_id={{tweetId}}" target="_blank" data-scribe="trademarks" class="abuse-link">Trademarks</a> </li> <li class="margin-bm"> <a href="https://support.twitter.com/forms/abusiveuser?reported_username={{screenName}}&amp;reported_tweet_id={{tweetId}}" target="_blank" data-scribe="harassment" class="abuse-link">Harassment</a> </li> <li class="margin-bm"> <a href="https://support.twitter.com/forms/general?subtopic=self_harm&amp;reported_username={{screenName}}&amp;reported_tweet_id={{tweetId}}" target="_blank" data-scribe="report_self_harm" class="abuse-link">Report self harm</a> </li> <li class="margin-bm"> <a href="https://support.twitter.com/forms/ad?reported_username={{screenName}}&amp;reported_tweet_id={{tweetId}}" target="_blank" data-scribe="report_an_ad" class="abuse-link">Report an ad</a> </li> </ul>',e.exports["reverse_image_search.mustache"]='<a href="https://images.google.com/searchbyimage?image_url={{mediaPreviewSrc}}{{imageSrc}}" target="_blank" rel="url noopener noreferrer" class="js-show-tip reverse-image-search is-actionable {{#isMediaPreviewSmall}}media-size-small-reverse{{/isMediaPreviewSmall}}" title="Search image on Google"></a>',e.exports["scheduled_hint.mustache"]='<div class="{{#showHint}}anim anim-fade-in{{/showHint}}{{^showHint}} is-hidden{{/showHint}}"> {{#showHint}}{{_i}}Your scheduled Tweet will send even if TweetDeck is not running at the time.{{/i}}{{/showHint}} </div>',e.exports["search/search_in_popover.mustache"]='\x3c!-- app search --\x3e <form class="js-search-form app-search app-search-in-popover margin-a--10"> <label class="is-vishidden">{{_i}}Search{{/i}}</label> {{>search_input}} </form> \x3c!-- typeahead --\x3e {{>typeahead/typeahead_dropdown}} \x3c!-- search results --\x3e {{>search/search_results}}',e.exports["search/search_results.mustache"]='<div class="js-search-results-container is-hidden height-vh--100"> <div class="js-user-results user-results"></div> </div>',e.exports["search_input.mustache"]='<div class="js-search-input-control search-input-control {{searchInputControlClass}} {{#isControl}}controls{{/isControl}}"> <input type="text" class="{{searchInputClassName}} search-input" data-title="{{searchInputTitle}}" placeholder="{{searchInputPlaceholder}}" value="{{searchInputValue}}"> <a href="#" class="js-perform-search txt-size--14 search-input-perform-search" tabindex="-1"> <i class="icon icon-search txt-size--16"></i> </a> <a href="#" class="js-clear-search txt-size--14 search-input-clear-search" tabindex="-1"> <i class="icon icon-close icon-small"></i> </a> <span class="js-spinner txt-size--14 spinner-small spinner-small-trans search-input-spinner"></span> </div>',e.exports["search_no_tweets_placeholder.mustache"]='<div class="list-placeholder l-table pin-all"> <div class="l-cell"> {{#isDropTarget}} <p class="txt-size--16"><i class="icon icon-move icon-tb"></i> <span>{{_i}}Drag Tweets into this collection{{/i}}</span></p> {{/isDropTarget}} {{^isDropTarget}} <p class="txt-size--16">{{_i}}No recent Tweets.{{/i}}<br />{{_i}}New Tweets will appear here.{{/i}}</p> {{/isDropTarget}} </div>  {{#withAddByUrl}} <p class="pin-bottom txt-center">{{_i}}Or add by URL{{/i}}</p> {{/withAddByUrl}} </div>',e.exports["search_no_users_placeholder.mustache"]='<div class="list-placeholder"> <p>{{_i}}No users found.{{/i}}</p> </div>',e.exports["search_operator_list.mustache"]='<div class="bg-r-white txt-r-deep-gray padding-v--20"> <table class="search-operator-list l-table"> <thead> <tr> <th class="{{tblLeftItemClass}}">{{_i}}Operator{{/i}}</th> <th class="{{tblRightItemClass}}">{{_i}}Find tweets...{{/i}}</th> </tr> </thead> <tbody> {{#searchOperators}} {{>search_operator_list_item_group}} {{/searchOperators}} </tbody> </table> <div> {{#advancedSearches}} <div> <h4 class="{{sectionHeaderClass}}">{{sectionTitle}}</h4> <p class="{{advancedSearchContentClass}} txt-italic">{{sectionExplanation}}</p> {{#sectionExamples}} <p class="{{advancedSearchContentClass}} padding-t--20 txt-italic">{{example}}</p> <div class="{{advancedSearchContentClass}} query hover-bg-r-faint-blue flex flex-row flex-align--center"> <p class="inline-block flex-auto">{{query}}</p> {{>try_search_query_button}} </div> {{/sectionExamples}} </div> {{/advancedSearches}} </div> </div>',e.exports["search_operator_list_item.mustache"]='<tr class="hover-bg-r-faint-blue txt-size--12"> <td class="{{tblLeftItemClass}}">{{query}}</td> <td class="{{tblRightItemClass}} query flex flex-row flex-align--center"> <p class="inline-block flex-auto">{{description}}</p> {{>try_search_query_button}} </td> </tr>',e.exports["search_operator_list_item_group.mustache"]='{{#sectionTitle}} <tr> <th colspan="2" class="{{sectionHeaderClass}}">{{sectionTitle}}</th> </tr> {{#sectionOperators}} {{>search_operator_list_item}} {{/sectionOperators}} {{/sectionTitle}}',e.exports["settings/account_settings.mustache"]='<div class="js-accounts-column-holder is-inverted-dark column-holder txt-size--14"> <div class="js-account-manager-container column-panel border-box bg-twitter-faint-gray flex flex-column">  <header class="drawer-header padding-lxl flex-shrink--0"> <h1 class="column-title"> <span class="drawer-header-title block drawer-column-header-title">{{_i}}Accounts{{/i}}</span> </h1> <a class="js-drawer-close column-close-link txt-r-dark-gray" href="#" data-action="options"> <i class="icon icon-close icon-center-24"></i> </a> </header>  <div class="js-account-settings-scroll-container scroll-v margin-b---1"> <div class="accordion is-active"> <div class="js-account-settings-login-account is-active"></div> <div class="js-invitations-panel"></div> <div class="js-account-settings-team-info padding-v--12 txt-size--13 txt-r-dark-gray txt-bold padding-hxl position-rel account-row-separator-b is-hidden"> {{_i}}Accounts you can act as{{/i}} </div> <div class="js-account-settings-accounts bg-r-white"></div> </div> <div class="js-account-invited-accounts"></div> {{#decider.add_account}} <div class="join-team margin-t--10 width-p--100 bg-r-white"> {{>settings/account_settings_join_team}} </div> {{/decider.add_account}} </div>  </div>  <div class="js-contributor-manager-container column-panel border-box bg-twitter-faint-gray flex flex-column"></div>  <div class="js-team-invitations-container column-panel border-box bg-twitter-faint-gray"> <div class="drawer-header padding-lxl"> <h1 class="js-team-invitations-back is-actionable pull-left txt-weight-normal"> <span class="drawer-header-title block drawer-column-header-title"> <i class="icon icon-arrow-l icon-tt"></i> {{_i}}Team invitations{{/i}} </span> </h1> <a class="js-drawer-close column-close-link txt-r-dark-gray" href="#"> <i class="icon icon-close icon-center-24"></i> </a> </div> <div class="js-team-invitations team-invitations drawer-content pin-all scroll-v"></div> </div> </div>',e.exports["settings/account_settings_detail.mustache"]='{{#withManageTeam}} <div class="js-manage-team-disabled txt-size-variable--16 txt-r-dark-gray margin-vm cf"> <div class="obj-left"> <i class="icon icon-small icon-user-team-mgr pull-right"></i> </div> <div class="nbfc"> <p class="nbfc txt-size--13 padding-txs">{{_i}}Team @{{screenName}}{{/i}}</p> <p class="nbfc txt-size--13 padding-ts"> {{_i}}You\'re on the team! Only admins of this account can manage the team.{{/i}} <a href="https://support.twitter.com/articles/20171753-using-team-accounts-on-tweetdeck" target="_blank" rel="url">{{_i}}Learn more{{/i}}</a>. </p> </div> <div class="margin-l--23 margin-t--5"> {{>settings/account_settings_remove_account}} </div> </div> <div class="js-manage-team link-complex txt-size-variable--16 margin-vm cf is-hidden"> <div class="obj-left"> <i class="icon icon-small icon-user-team-mgr pull-right"></i> </div> <div class="nbfc"> <p class="nbfc txt-size--13 padding-txs">{{_i}}Team @{{screenName}}{{/i}}</p> <p class="nbfc txt-r-dark-gray txt-size--13 padding-ts"> {{_i}}Invite colleagues to use Twitter as @{{screenName}} without sharing the password with them.{{/i}} </p> </div> <div class="margin-l--23 margin-t--5"> <button href="#" class="btn btn-primary js-account-action txt-size--12" data-action="manageContributors" data-account-key="{{accountKey}}">{{_i}}Manage team{{/i}}</button> {{>settings/account_settings_remove_account}} </div> </div> {{/withManageTeam}}  <a class="js-account-action link-complex txt-size-variable--16 margin-vm cf" href="#" data-action="setAccountSafeguard" data-account-key="{{accountKey}}"> <div class="obj-left"> <i class="icon icon-small icon-toggle-{{#isSafeguarded}}on{{/isSafeguarded}}{{^isSafeguarded}}off{{/isSafeguarded}} pull-right txt-twitter-blue js-account-safeguard-switch" id="account-safeguard-{{accountKey}}"></i> </div> <div class="nbfc"> <p class="nbfc link-complex-target txt-size--13 padding-txs link-complex-target">{{_i}}Confirmation step{{/i}}</p> <p class="nbfc txt-r-dark-gray txt-size--13 padding-ts">{{_i}}Add a confirmation step before Tweeting as{{/i}} @{{screenName}}</p> </div> </a>  {{#isDefault}} <div class="txt-size-variable--16 margin-vm cf"> <div class="obj-left"> <i class="icon icon-small icon-toggle-on pull-right txt-twitter-blue"></i> </div> <div class="nbfc padding-t--4"> <p class="nbfc txt-size--13">{{_i}}Default account{{/i}}</p> <p class="nbfc txt-r-dark-gray txt-size--13 padding-ts">{{_i}}@{{screenName}} is your default account for new Tweets and searches{{/i}}</p> </div> </div> {{/isDefault}} {{^isDefault}} <a class="js-account-action link-complex txt-size-variable--16 margin-vm cf" href="#" data-action="setDefault" data-account-key="{{accountKey}}"> <div class="obj-left"> <i class="icon icon-small icon-toggle-{{#isDefault}}on{{/isDefault}}{{^isDefault}}off{{/isDefault}} pull-right txt-twitter-blue"></i> </div> <div class="nbfc padding-t--4"> <p class="nbfc link-complex-target txt-size--13 link-complex-target">{{_i}}Default account{{/i}}</p> <p class="nbfc txt-r-dark-gray txt-size--13 padding-ts">{{_i}}Set @{{screenName}} as your default account for new Tweets and searches{{/i}}</p> </div> </a> {{/isDefault}}',e.exports["settings/account_settings_invited_row.mustache"]='<div class="js-account-settings-invited-row padding-v--16 cf is-highlighted account-settings-row position-rel" data-account-key="{{accountKey}}" {{#isAdmin}}data-user-is-admin{{/isAdmin}} data-user-id="{{userId}}"> <div class="position-rel cf padding-h--16"> <div class="js-account-settings-summary nbfc"> {{>account_settings_account_summary}} </div> </div>  <div class="padding-a--0"> <div class="account-invited cf margin-t--8 padding-h--16 txt-size--13 txt-twitter-dark-gray"> <div class="account-invited-message padding-b--10"> <div> {{_i}}You have been invited to contribute to the @{{screenName}} team.{{/i}} </div> </div> <div class="cf"> <button class="js-account-action btn btn-positive pull-left" data-action="inviteAccept" data-account-key="{{accountKey}}"> {{_i}}Accept{{/i}} </button> <button class="js-account-action btn btn-negative margin-h--8 pull-left" data-action="inviteCancel" data-account-key="{{accountKey}}"> {{_i}}Decline{{/i}} </button> </div> <div class="margin-t--16"> <a href="https://support.twitter.com/articles/20171753-share-your-twitter-account-without-sharing-passwords" target="_blank" rel="url noopener noreferrer"> {{_i}}Read more about teams.{{/i}} </a> </div> </div> </div> </div>',e.exports["settings/account_settings_join_team.mustache"]='<a href="#" class="js-log-in-account txt-size--13 padding-hxl txt-line-height--40">{{_i}}Link another account you own{{/i}}</a>',e.exports["settings/account_settings_login_account.mustache"]='<div class="js-accordion-item js-account-settings-row js-account-settings-summary account-settings-row bg-r-white {{#isSoleAccount}}is-expanded{{/isSoleAccount}}" data-account-key="{{accountKey}}" data-user-id="{{userId}}">  <div class="js-account-profile-header account-profile-header"></div>  <div class="padding-h--16 padding-b--16 margin-t---24 account-settings-bb hyphenate"> <div class="flex flex-row"> <a href="{{getProfileURL}}" class="txt-size--0 " rel="user" target="_blank"> <img class="avatar size64 avatar-border--2" src="{{profileImageURL}}" width="64" height="64" alt="{{screenName}}\'s avatar"> </a> <a href="{{getProfileURL}}" class="link-complex margin-t--16 margin-l--10" rel="user" target="_blank"> <div class="margin-t--14"> <span class="txt-size--16 txt-twitter-dark-black txt-bold"> <span class="link-complex-target">{{{emojifiedName}}}</span> {{#isProtected}}<i class="icon icon-protected icon-match-context icon-tt"></i>{{/isProtected}} {{#isVerified}}<i class="sprite sprite-verified"></i>{{/isVerified}} {{#isTranslator}}<i class="sprite sprite-translator"></i>{{/isTranslator}} </span> <span class="txt-size--14 txt-twitter-dark-gray block"> @{{screenName}} </span> </div> </a> </div>  <div class="js-accordion-panel padding-a--0 margin-t--10"> {{>settings/account_settings_detail}} </div> </div> </div>',e.exports["settings/account_settings_remove_account.mustache"]='{{#isRemovable}} <button {{#notRemovable}}title="{{notRemovableMessage}}"{{/notRemovable}} class="js-account-action js-show-tip btn btn-tertiary txt-size--12 {{#notRemovable}}is-disabled{{/notRemovable}}" data-action="removeCheck" data-account-key="{{accountKey}}"> <span class="label">{{_i}}Leave team{{/i}}</span> </button>  <div class="js-account-remove-check account-remove-check cf margin-tm padding-axl bg-twitter-faint-gray br--4 padding-l--20 margin-l---20"> <div class="account-remove-check-message padding-bxl txt-r-dark-gray txt-size--13"> Leave this team? You will no longer have access to the @{{screenName}} account. </div> <button class="js-account-action btn btn-negative pull-left" data-action="remove" data-account-key="{{accountKey}}"> <span class="label">{{_i}}Leave{{/i}}</span> </button> <button class="js-account-action cf btn pull-left margin-hm" data-action="removeCancel" data-account-key="{{accountKey}}"> {{_i}}Cancel{{/i}} </button> </div> {{/isRemovable}}',e.exports["settings/account_settings_row.mustache"]='<div class="js-accordion-item js-account-settings-row padding-vxl cf account-row-separator-b account-settings-row position-rel" data-account-key="{{accountKey}}" data-user-id="{{userId}}"> <div class="js-accordion-toggle-view position-rel padding-hxl is-actionable flex flex-row flex-align--center"> <div class="js-account-settings-summary nbfc flex-auto"> {{>account_settings_account_summary}} </div> <div class="flex-shrink--0 margin-l--10"> <i class="icon icon-small icon-arrow-u txt-twitter-dark-gray"></i> <i class="icon icon-small icon-arrow-d txt-twitter-dark-gray"></i> </div> </div>  <div class="js-accordion-panel accordion-panel padding-an"> <div class="padding-tm padding-hxl"> {{>settings/account_settings_detail}} </div> </div> </div>',e.exports["settings/global_setting_filter.mustache"]='<fieldset id="global_filter_settings"> <legend class="frm-legend">{{_i}}Mute Settings{{/i}}</legend>  <div class="control-group"> <label for="filter-types" class="control-label">{{_i}}Mute{{/i}}</label> <div class="controls"> <select name="filter" class="js-filter-types"> <option value="phrase">{{_i}}Words or phrases{{/i}}</option> <option value="source">{{_i}}Tweet Source{{/i}}</option> </select> </div> </div>  <div class="control-group"> <label for="filter-input" class="control-label">{{_i}}Matching{{/i}}</label> <div class="controls"> <input class="js-filter-input" name="filter-input" size="30" type="text" placeholder="{{placeholderText}}"> </div> </div>  <div class="control-group"> <div class="controls js-add-filter-container"></div> </div>  <div class="js-filter-list"></div>  <div class="divider-bar"></div>  <div class="txt-size--12"> <i class="icon icon-info icon-large obj-left txt-r-medium-gray"></i> <p class="nbfc margin-t--2"> {{_i}}User mutes work across TweetDeck & Twitter. To review your list of user mutes visit <a href="https://twitter.com/settings/muted" target="_blank" rel="url">twitter.com/settings/muted</a>.{{/i}} </p> </div> </fieldset>',e.exports["settings/global_setting_filter_add_btn.mustache"]='<input type="button" name="add-filter" value="{{_i}}Mute{{/i}}"  class="btn js-add-filter" {{^addFilterButtonEnabled}}disabled{{/addFilterButtonEnabled}} />',e.exports["settings/global_setting_filter_list.mustache"]='<ul class="min-height--90"> {{#filters}} {{>settings/global_setting_filter_row}} {{/filters}} </ul>',e.exports["settings/global_setting_filter_row.mustache"]='<li class="list-filter cf"> {{_i}}Muting {{getDisplayType}} {{>text/global_filter_value}}{{/i}} <input type="button" name="remove-filter" value="{{_i}}Remove{{/i}}" data-id="{{id}}" class="js-remove-filter small btn btn-negative"> </li>',e.exports["settings/global_setting_general.mustache"]='<fieldset id="general_settings"> <legend>{{_i}}General Settings{{/i}}</legend>  <div class="control-group"> <div> <i class="js-streaming-updates icon icon-small icon-toggle-off txt-twitter-blue js-toggle-switch is-actionable align-top" id="streaming-updates"></i> <span class="margin-l--4">{{_i}}Stream Tweets in realtime{{/i}}</span> </div> <div> <i class="js-show-startup-notifications icon icon-small icon-toggle-off txt-twitter-blue js-toggle-switch is-actionable align-top" id="show-startup-notifications"></i> <span class="margin-l--4">{{_i}}Show notifications on startup{{/i}}</span> </div> <div> <i class="js-display-sensitive-media icon icon-small icon-toggle-off txt-twitter-blue js-toggle-switch is-actionable align-top" id="display-sensitive-media"></i> <span class="margin-l--4">{{_i}}Display media that may contain sensitive content{{/i}}</span> </div>  <div> <i class="js-auto-play-gifs icon icon-small icon-toggle-off txt-twitter-blue js-toggle-switch is-actionable align-top" id="auto-play-gifs"></i> <span class="margin-l--4">{{_i}}Autoplay GIFs{{/i}}</span> </div>  <div class="divider-bar"></div>  <div class="cf"> <div class="obj-left js-theme"> <label class="fixed-width-label txt-uppercase touch-larger-label"><b>{{_i}}Theme{{/i}}</b></label> <label class="fixed-width-label radio"> <input type="radio" class="js-settings-radio js-theme-radio touch-larger-label" name="theme" value="dark"> {{_i}}Dark{{/i}} </label> <label class="fixed-width-label radio"> <input type="radio" class="js-settings-radio js-theme-radio touch-larger-label" name="theme" value="light"> {{_i}}Light{{/i}} </label> </div> <div class="obj-left js-column-size"> <label class="fixed-width-label txt-uppercase touch-larger-label"><b>{{_i}}Columns{{/i}}</b></label> <label class="fixed-width-label radio"> <input type="radio" class="js-settings-radio js-column-size-radio touch-larger-label" name="column-size" value="narrow"> {{_i}}Narrow{{/i}} </label> <label class="fixed-width-label radio"> <input type="radio" class="js-settings-radio js-column-size-radio touch-larger-label" name="column-size" value="medium"> {{_i}}Medium{{/i}} </label> <label class="fixed-width-label radio"> <input type="radio" class="js-settings-radio js-column-size-radio touch-larger-label" name="column-size" value="wide"> {{_i}}Wide{{/i}} </label> </div> <div class="obj-left js-font-size"> <label class="fixed-width-label txt-uppercase touch-larger-label"><b>{{_i}}Font size{{/i}}</b></label> <label class="txt-size--12 fixed-width-label radio"> <input type="radio" class="js-settings-radio js-font-size-radio" name="font-size" value="smallest"> {{_i}}Smallest{{/i}} </label> <label class="txt-size--13 fixed-width-label radio"> <input type="radio" class="js-settings-radio js-font-size-radio" name="font-size" value="small"> {{_i}}Small{{/i}} </label> <label class="txt-size--14 fixed-width-label radio"> <input type="radio" class="js-settings-radio js-font-size-radio" name="font-size" value="medium"> {{_i}}Medium{{/i}} </label> <label class="txt-size--15 fixed-width-label radio"> <input type="radio" class="js-settings-radio js-font-size-radio" name="font-size" value="large"> {{_i}}Large{{/i}} </label> <label class="txt-size--16 fixed-width-label radio"> <input type="radio" class="js-settings-radio js-font-size-radio" name="font-size" value="largest"> {{_i}}Largest{{/i}} </label> </div> </div> </div>  <div class="mdl-links"> {{> app_links}} </div> </fieldset>',e.exports["settings/global_setting_link_shortening.mustache"]='\x3c!-- Services --\x3e <fieldset id="services_settings" > <legend>{{_i}}Services Settings{{/i}}</legend>  <div id="streaming-form" class="control-group"> <label for="link-shortening" class="control-label">{{_i}}Link Shortening{{/i}}</label> <div class="controls"> <select name="link-shortening" class="js-link-shortening"> <option value="twitter">Twitter</option> <option value="bitly">Bit.ly</option> </select> </div> </div> <div id="bitly-form" class="js-bitly-form"></div> </fieldset>',e.exports["settings/global_settings_modal.mustache"]='<div class="l-column mdl-column mdl-column-sml"> <div class="l-column-scrollv scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} scroll-alt bg-twitter-faint-gray"> <ul class="lst-group js-setting-list"> {{#tabs}} {{> list_module_list_item}} {{/tabs}} </ul> </div> </div> <div class="l-column mdl-column mdl-column-lrg"> <div class="l-column-scrollv scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} scroll-alt mdl-col-settings"> <form action="#" id="global-settings" accept-charset="utf-8" class="js-global-settings frm"></form> </div> </div>',e.exports["settings/invitations_panel.mustache"]='{{#showInvitationPanel}} <div class="js-account-action js-account-settings-team-invitations padding-hxl padding-v--12 txt-size--13 txt-r-dark-gray txt-bold position-rel account-row-separator-b flex flex-row flex-align--center is-actionable" data-action="showInvitations"> <span class="flex-grow--1">{{_i}}Team invitations{{/i}}</span> <div class="account-invitation-badge-container"> <span class="js-invitation-count numbered-badge numbered-badge-account-invites" data-count={{invitationCount}}>{{invitationCount}} </span> </div> <i class="icon icon-arrow-r icon-small-valigned padding-l--5 padding-b--2"></i> </div> {{/showInvitationPanel}}',e.exports["settings/link_shortening_bitly_form.mustache"]='<div class="control-group"> <label for="bitly-email" class="control-label">{{_i}}Bit.ly Username{{/i}}</label> <div class="controls"> <input id="bitly-email" class="js-bitly-email" name="bitly-email" size="30" type="text" value="{{#bitlyAccount}}{{login}}{{/bitlyAccount}}"> </div> </div> <div class="control-group"> <label for="bitly-key" class="control-label">{{_i}}Bit.ly API Key{{/i}}</label> <div class="controls"> <input id="bitly-key" class="js-bitly-key" name="bitly-key" size="40" type="text" value="{{#bitlyAccount}}{{apiKey}}{{/bitlyAccount}}"> </div> </div>',e.exports["short_modal.mustache"]='<div class="js-modal-panel mdl s-short is-inverted-dark"> {{> modal_header}} <div class="mdl-inner"> <div class="mdl-content js-mdl-content horizontal-flow-container"> {{{content}}} </div> <footer class="{{^centeredFooter}}mdl-buttonbar{{/centeredFooter}}{{#centeredFooter}}padding-vxl txt-center{{/centeredFooter}}"> {{#hasDoneButton}} <button class="js-dismiss btn btn-positive pull-right"> <i class="icon icon-check icon-small padding-rs"></i> <span class="label">{{_i}}Done{{/i}}</span> </button> {{/hasDoneButton}} </footer> </div> </div>',e.exports["spinner.mustache"]='<div class="disp-table"> <div class="disp-cell"> <div class="spinner"></div> </div> </div>';e.exports["spinner_large.mustache"]='<div class="js-infinitespinner spinner-large"></div>',e.exports["spinner_large_white.mustache"]='<div class="{{spinnerClasses}}"> <img src="{{#asset}}/web/assets/global/backgrounds/spinner_large_white.gif{{/asset}}" alt="{{_i}}Loading…{{/i}}"/> </div>',e.exports["splash/whats_new.mustache"]='<div class="release-notes-header nbfc"> <img class="release-notes-image pull-left" src="{{#asset}}/web/assets/logos/64.png{{/asset}}" alt="{{_i}}TweetDeck logo{{/i}}"> <h1 class="release-notes-header-title">{{_i}}Welcome to TweetDeck{{/i}}</h1> </div>  <div class="release-notes"> <div class="release-notes-section nbfc"> <img class="release-notes-image-bullet pull-left" src="{{#asset}}/web/assets/global/backgrounds/td_whatsnew_01.png{{/asset}}" alt="{{_i}}Create collections{{/i}}"> <h2>{{_i}}Create a custom Twitter experience{{/i}}</h2> <p>{{_i}}Organize and build collections, keep track of lists, searches, activity and more. Click the + in the sidebar.{{/i}}</p> </div>  <div class="release-notes-section nbfc"> <img class="release-notes-image-bullet pull-left" src="{{#asset}}/web/assets/global/backgrounds/td_whatsnew_02.png{{/asset}}" alt="{{_i}}Create filters{{/i}}"> <h2>{{_i}}Find exactly what you&rsquo;re looking for{{/i}}</h2> <p>{{_i}}Create searches to track topics, events and hashtags. Refine the results with filters at the top of each timeline.{{/i}}</p> </div>  <div class="release-notes-section margin-bn nbfc"> <img class="release-notes-image-bullet pull-left" src="{{#asset}}/web/assets/global/backgrounds/td_whatsnew_03.png{{/asset}}" alt="{{_i}}Multiple accounts{{/i}}"> <h2>{{_i}}Manage multiple accounts{{/i}}</h2> <p>{{_i}}Tweet, monitor and follow new accounts from all &mdash; or just one of your accounts. Add another account in <a href="#" data-action="openSettings"><i class="icon icon-user-switch icon-bot"></i> Accounts</a>.{{/i}}</p> </div> </div>  <button class="js-done btn btn-positive btn-extra-padding obj-center margin-tl"><i class="add"></i>{{_i}}Get started{{/i}}</button>',e.exports["startflow_wrapper.mustache"]='<div class="startflow-background pin-all anim anim-slower anim-fade-in"></div>  <div class="js-startflow-chrome app-masthead anim anim-slow anim-delayed anim-fade-in {{#withLoading}}is-hidden{{/withLoading}}"> <div class="app-signin-wrap"> <i class="sprite sprite-logo"></i> </div> </div>  <div class="js-startflow-content startflow anim anim-slow anim-fade-in"> {{$content}}{{/content}} </div>  <div class="js-startflow-chrome txt-center privacy-info pin-bottom padding-v--6 anim anim-slow anim-delayed anim-fade-in {{#withLoading}}is-hidden{{/withLoading}}"> <p> {{> app_links}} </p> </div>',e.exports["status/attachment_image.mustache"]='<p class="txt-italic txt-size-variable--12 txt-mute"><i class="icon icon-image txt-size-variable--12 align-top"></i> {{_i}}Image attached{{/i}}</p>',e.exports["status/attachment_poll.mustache"]='<div class="js-poll-badge media-badge txt-size-variable--12 txt-mute is-inverted-dark"><i class="icon icon-poll txt-size-variable--15 align-top"></i> {{_i}}Poll{{/i}}</div>',e.exports["status/attachment_tweet.mustache"]='<p class="txt-ellipsis txt-size-variable--12">{{_i}}{{getLightChirpURL}}{{/i}}</p>',e.exports["status/conversation.mustache"]='{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}is-actionable {{#unread}}is-unread {{/unread}} {{/stream_item_classes}}  {{$stream_item_content_classes}}js-show-detail {{/stream_item_content_classes}}  {{$stream_item_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/stream_item_data}}  {{$content}}  <div class="tweet tweet-message js-chirp">  <header class="tweet-header"> {{>status/conversation_timestamp}} {{#hasValidParticipant}} <div class="js-conversation-header"> {{> status/conversation_header }} </div> {{/hasValidParticipant}} </header>  <div class="l-table">  <div class="l-cell"> <div class="l-table"> <div class="l-cell tweet-body align-top full-width"> {{#showSenderName}} {{#sender}} <p class="tweet-text txt-mute">{{{sender.emojifiedName}}}: </p> {{/sender}} {{/showSenderName}} {{#htmlText}} <p class="js-tweet-text tweet-text with-linebreaks">{{{htmlText}}}</p> {{/htmlText}} {{#previewText}} <p class="js-tweet-text tweet-text">{{{previewText}}}</p> {{/previewText}} {{#attachmentOnly}} {{>status/attachment_image}} {{/attachmentOnly}} {{#decider.tweet_hide_suffix}} {{#hasQuotedTweet}} {{>status/attachment_tweet}} {{/hasQuotedTweet}} {{/decider.tweet_hide_suffix}} </div>  {{#hasMedia}} <div class="l-cell align-top padding-t--3 padding-r--8"> {{#getMedia}} <div class="tweet-message-attachment position-rel"> <div class="js-media-image-link media-item {{#isPossiblySensitive}}is-invisible{{/isPossiblySensitive}} {{#needsSecureUrl}}js-needs-secure-url{{/needsSecureUrl}} is-zoomable" {{#needsSecureUrl}}data-original-url="{{mediaPreviewSrc}}{{imageSrc}}"{{/needsSecureUrl}} {{^needsSecureUrl}}{{^imageSrc}}style="background-image:url({{mediaPreviewSrc}})"{{/imageSrc}}{{/needsSecureUrl}}> </div> </div> {{/getMedia}} </div> {{/hasMedia}} </div> </div> <div class="pull-right txt-right"> <i class="icon {{#replied}}icon-reply{{/replied}} txt-mute txt-size--14"></i> </div> </div>  </div>  {{/content}}  {{/stream_item}} {{/chirp}}',e.exports["status/conversation_cursor_top.mustache"]='<div class="js-stream-item js-cursor-top conversation-more stream-item is-actionable txt-link padding-v--10"> {{_i}}Show more{{/i}} </div> <div class="thread cursor-top-thread"></div> <div class="thread dot-thread dot-thread-top"></div> <div class="thread dot-thread dot-thread-top middle"></div> <div class="thread dot-thread dot-thread-top top"></div>',e.exports["status/conversation_failed_participants.mustache"]='{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}conversation-event txt-mute padding-h--10{{/stream_item_classes}} {{$content}} {{#failedParticipants}} {{#participant}} <a href="{{profileURL}}" rel="user" target="_blank">{{name}}</a> {{/participant}} {{^isLastItem}}and{{/isLastItem}} {{/failedParticipants}} {{_i}}could not be added{{/i}} {{/content}}  {{/stream_item}} {{/chirp}}',e.exports["status/conversation_failed_participants_preview.mustache"]='<span class="txt-mute"> {{_i}}Some users could not be added.{{/i}} </span>',e.exports["status/conversation_header.mustache"]='<div class="account-link"> <div class="obj-left item-img tweet-img"> {{^withMultipleAvatars}} {{#avatars.0}} <a class="account-inline account-link txt-ellipsis link-complex" rel="user" href="{{profileURL}}"> <img class="tweet-avatar avatar pull-right" src="{{profileImageURL}}" width="48" height="48" alt="{{screenName}}\'s avatar"> </a> {{/avatars.0}} {{/withMultipleAvatars}} {{#withMultipleAvatars}} <div class="tweet-avatar media-grid-container multiple-avatar-grid"> <div class="{{avatarsClass}}"> {{#avatars}} <div class="media-image-container media-image-container-compact"> <div class="media-image block position-rel" style="background-image: url({{profileImageURL}});" ></div> </div> {{/avatars}} </div> </div> {{/withMultipleAvatars}} </div> <div class="nbfc"> {{#getConversationTitleInformation}} {{#name}} <b class="inline-block txt-ellipsis">{{{name}}}</b> {{/name}} {{^name}} {{#isOneToOne}} {{#participants.0}} <a class="account-inline account-link txt-ellipsis link-complex" rel="user" href="{{profileURL}}"> <b class="link-complex-target">{{{emojifiedName}}}</b> <span class="attribution username txt-mute txt-size-variable--12">@{{screenName}}</span> </a> {{/participants.0}} {{/isOneToOne}} {{#isThreeway}} <span class="account-inline txt-ellipsis"> {{#participants.0}} <a class="account-link" rel="user" href="{{profileURL}}"><b>{{{emojifiedName}}}</b></a><b>, </b> {{/participants.0}} {{#participants.1}} <a class="account-link" rel="user" href="{{profileURL}}"><b>{{{emojifiedName}}}</b></a> {{/participants.1}} </span> {{/isThreeway}} {{#isOneToMany}} {{#participants.0}} <div class="conversation-title-container"> <span class="conversation-title txt-ellipsis inline-block position-rel"><a class="txt-ellipsis account-link" rel="user" href="{{profileURL}}"><b>{{{emojifiedName}}}</b></a> <b>+ {{numberOfOtherParticipants}}</b> </span> </div>  {{/participants.0}} {{/isOneToMany}} {{/name}} {{/getConversationTitleInformation}} </div> </div>',e.exports["status/conversation_join.mustache"]='{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}conversation-event txt-mute padding-h--10{{/stream_item_classes}} {{$stream_item_data}} data-key="{{conversation.id}}" {{/stream_item_data}}  {{$content}} <p class="margin-b--5"> {{#getParticipants}} {{#participant}} <a href="{{profileURL}}" rel="user" target="_blank"><img class="avatar size24" src="{{miniProfileImageURL}}" width="24" height="24" alt="{{name}} {{screenName}}" /></a> {{/participant}} {{#isEndOfRow}}<br />{{/isEndOfRow}} {{/getParticipants}} </p> <p class="margin-b--5"> {{_i}}There are{{/i}} <a href="#" rel="viewConversationParticipants">{{numberOfParticipants}} {{_i}}other people{{/i}}</a> {{_i}}in this group{{/i}} </p>  {{#sender}} <a href="{{profileURL}}" rel="user" target="_blank">{{name}}</a> {{/sender}}  {{_i}}added you{{/i}} {{/content}}  {{/stream_item}} {{/chirp}}',e.exports["status/conversation_join_preview.mustache"]='{{#chirp}} <span class="txt-mute"> {{sender.name}} {{_i}}added you{{/i}} </span> {{/chirp}}',e.exports["status/conversation_name_update.mustache"]='{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}conversation-event txt-mute padding-h--10{{/stream_item_classes}} {{$content}}  {{#isOwnChirp}} {{_i}}You{{/i}} {{/isOwnChirp}} {{^isOwnChirp}} <a class="txt-mute conversation-participants-name-list" href="{{sender.profileURL}}" rel="user" target="_blank">{{sender.name}}</a> {{/isOwnChirp}}  {{#sanitizedConversationName}} {{_i}}changed the group name to{{/i}} {{{sanitizedConversationName}}} {{/sanitizedConversationName}} {{^sanitizedConversationName}} {{_i}}removed the group name{{/i}} {{/sanitizedConversationName}}  {{/content}}  {{/stream_item}} {{/chirp}}',e.exports["status/conversation_name_update_preview.mustache"]='{{#chirp}} <span class="txt-mute"> {{#isOwnChirp}} {{_i}}You{{/i}} {{/isOwnChirp}} {{^isOwnChirp}} {{sender.name}} {{/isOwnChirp}}  {{#sanitizedConversationName}} {{_i}}changed the group name to{{/i}} {{{sanitizedConversationName}}} {{/sanitizedConversationName}} {{^sanitizedConversationName}} {{_i}}removed the group name{{/i}} {{/sanitizedConversationName}} </span> {{/chirp}}',e.exports["status/conversation_participants_join.mustache"]='{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}conversation-event txt-mute padding-h--10{{/stream_item_classes}} {{$content}} {{#isOwnChirp}} {{_i}}You{{/i}} {{/isOwnChirp}} {{^isOwnChirp}} {{#sender}} <a href="{{profileURL}}" rel="user" target="_blank">{{{emojifiedName}}}</a> {{/sender}} {{/isOwnChirp}}  {{_i}}added{{/i}}  {{#addedParticipants}} <a class="txt-mute conversation-participants-name-list" href="{{profileURL}}" rel="user" target="_blank">{{{emojifiedName}}}</a> {{/addedParticipants}} {{/content}}  {{/stream_item}} {{/chirp}}',e.exports["status/conversation_participants_join_preview.mustache"]='{{#chirp}} <span class="txt-mute"> {{#isOwnChirp}} {{_i}}You added{{/i}} {{/isOwnChirp}} {{^isOwnChirp}} {{{sender.emojifiedName}}} {{_i}}added{{/i}} {{/isOwnChirp}}  \x3c!-- one new participant --\x3e {{^addedParticipants.1}} {{{addedParticipants.0.emojifiedName}}} {{/addedParticipants.1}}  {{#addedParticipants.1}}  \x3c!-- two new participants --\x3e {{^addedParticipants.2}} {{{addedParticipants.0.emojifiedName}}} {{_i}}&amp;{{/i}} {{{addedParticipants.1.emojifiedName}}} {{/addedParticipants.2}}  \x3c!-- more than 2 new participants --\x3e {{#addedParticipants.2}} {{{addedParticipants.0.emojifiedName}}} {{_i}}+{{/i}} {{numberOfOtherParticipants}} {{/addedParticipants.2}} {{/addedParticipants.1}} </span>  {{/chirp}}',e.exports["status/conversation_participants_leave.mustache"]='{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}conversation-event txt-mute padding-h--10{{/stream_item_classes}} {{$content}} {{#leftParticipants}} <a class="txt-mute conversation-participants-name-list" href="{{profileURL}}" rel="user" target="_blank">{{name}}</a> {{/leftParticipants}} {{_i}}left{{/i}} {{/content}}  {{/stream_item}} {{/chirp}}',e.exports["status/conversation_participants_leave_preview.mustache"]='{{#chirp}} <span class="txt-mute"> {{$content}} {{#leftParticipants}} {{name}} {{/leftParticipants}} {{_i}}left{{/i}} {{/content}} </span> {{/chirp}}',e.exports["status/conversation_show_more.mustache"]='<div class="thread show-more-thread"></div> <div class="thread dot-thread dot-thread-more"></div> <div class="thread dot-thread middle dot-thread-more"></div> <div class="thread dot-thread top dot-thread-more"></div> <div class="js-conversation-show-more conversation-more stream-item is-actionable txt-link padding-v--10"> {{actionText}} </div>',e.exports["status/conversation_timestamp.mustache"]='{{#created}} <time class="tweet-timestamp js-timestamp pull-right margin-t--2" data-time="{{getTime}}"> {{/created}} <span class="txt-size-variable--12 txt-mute"> {{createdPretty}} </span> {{#created}} </time> {{/created}}',e.exports["status/dataminr.mustache"]='{{#dataminr}} {{> status/dataminr_header}} {{/dataminr}} <div class="is-dataminr-tweet"> {{> status/tweet_single}} {{> status/media_large_preview }} </div> {{#dataminr}} {{> status/dataminr_single_footer}} {{/dataminr}}',e.exports["status/dataminr_footer.mustache"]='<div class="padding-axl dataminr-external-link"> <a class="btn btn-extra-padding full-width padding-hn url-ext hidden-in-dark" href="{{expandAlertURL}}" rel="external noopener noreferrer" data-scribe-element="dataminr"> <i class="icon icon-dataminr"></i> <span class="label">{{_i}}Open in Dataminr{{/i}}</span> </a> <a class="btn btn-extra-padding full-width padding-hn url-ext hidden-in-light" href="{{expandAlertURL}}" rel="external noopener noreferrer" data-scribe-element="dataminr"> <i class="icon icon-dataminr"></i> <span class="label">{{_i}}Open in Dataminr{{/i}}</span> </a> </div> {{#eventLocation}} <p class="dataminr-title padding-al padding-hxl txt-size--12 txt-bold">{{_i}}Event Location{{/i}}{{#eventLocation.name}}: {{eventLocation.name}}{{/eventLocation.name}}</p> <div class="cf"> <a href="{{expandMapURL}}" target="_blank" rel="url noopener noreferrer" class="media-item block dataminr-map-img-full" style=\'background-image:url("{{eventMapLargeImageURL}}")\' data-scribe-element="map"></a> </div> {{/eventLocation}} <p class="dataminr-title padding-al padding-hxl txt-size--12 txt-bold">{{_i}}Event Keywords{{/i}}</p> <ul class="padding-vl padding-hxl block dataminr-search-terms-detail"> {{#relatedTerms}} <li class="inline-block dataminr-term"><a href="{{twitterUrl}}" data-search-term="{{query}}" target="_blank" rel="search" data-scribe-element="search">{{text}}</a></li> {{/relatedTerms}} <li class="dataminr-search-terms txt-size--13 padding-ts txt-bold"> <a href="{{anyRelatedTermsTwitterUrl}}" target="_blank" class="link-complex" rel="search" data-search-term="{{anyRelatedTermsQuery}}" data-scribe-element="search_any"> <i class="icon icon-search icon-match-context icon-tt"></i> <span class="link-complex-target">{{_i}}Search any{{/i}}</span> </a> or <a href="{{allRelatedTermsTwitterUrl}}" target="_blank" rel="search" data-search-term="{{allRelatedTermsQuery}}" data-scribe-element="search_all"> {{_i}}search all{{/i}} </a> </li> </ul>  <p class="dataminr-title padding-al padding-hxl txt-size--12 txt-bold">{{_i}}Original Source{{/i}}</p> <div class="js-source-profile position-rel"></div> <div class="dataminr-user-profile padding-hxl padding-bl">  {{#userTopHashtags.length}} <p class="padding-tm"><i class="icon icon-small-valigned icon-hashtag profile-icon icon-tt"></i>&nbsp;{{_i}}Top Hashtags{{/i}}</p> <ul class="padding-vm"> {{#userTopHashtags}} <li class="padding-vs"> <a href="{{twitterUrl}}" class="txt-capitalize txt-size--13" target="_blank" rel="hashtag" data-scribe-element="hashtag">{{text}}</a> </li> {{/userTopHashtags}} </ul> {{/userTopHashtags.length}} </div> <p class="js-replies-header is-hidden dataminr-title padding-al padding-hxl txt-size--12 txt-bold">{{_i}}Replies{{/i}}</p>',e.exports["status/dataminr_header.mustache"]='<div class="dataminr-header cf txt-size-variable--12 padding-bm"> <div class="txt-ellipsis"> {{#publisherCategory.name}} <span class="dataminr-category-pill dataminr-category-{{publisherCategory.shortName}} inline-block txt-capitalize pull-left"> <span class="dataminr-category-full">{{publisherCategory.name}}</span><span class="dataminr-category-short txt-uppercase"><abbr title="{{publisherCategory.name}}">{{publisherCategory.shortName}}</abbr></span></span> {{/publisherCategory.name}} <span class="pull-right padding-txs txt-dataminr"> <span class="dataminr-volume margin-rs"><i class="icon icon-small icon-user icon-match-context icon-tt"></i> {{eventVolume}}</span> {{#alertType}} <span class="dataminr-label dataminr-label-{{id}} margin-rs txt-dataminr">{{name}}<i class="sprite {{alertTypeSprite}} margin-ls"></i></span> {{/alertType}} {{createdAt}} </span> </div> </div>',e.exports["status/dataminr_in_stream.mustache"]='{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}is-actionable dataminr dataminr-separator{{/stream_item_classes}}  {{$stream_item_content_classes}}js-show-detail{{/stream_item_content_classes}}  {{$stream_item_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/stream_item_data}}  {{$content}} {{> status/dataminr }} {{/content}}  {{/stream_item}} {{/chirp}}',e.exports["status/dataminr_single_footer.mustache"]='<div class="margin-tm cf"> <div class="padding-bxxl"> {{#eventLocation}} <div class="obj-right txt-center dataminr-location"> <div class="cf"> {{#eventMapSmallImageURL}} <a href="{{expandMapURL}}" target="_blank" rel="url noopener noreferrer" class="media-item block dataminr-map-img pull-right" style=\'background-image:url("{{eventMapSmallImageURL}}")\' data-scribe-element="map"></a> {{/eventMapSmallImageURL}} </div> {{#name}} <div class="js-show-tip txt-ellipsis" data-original-title="{{name}}"> <a href="{{expandMapURL}}" target="_blank" rel="url noopener noreferrer" class="txt-size-variable--12" data-scribe-element="map" >{{name}}</a> </div> {{/name}} </div> {{/eventLocation}}  <div class="nbfc"> <ul class="dataminr-related-terms"> {{#relatedTerms}} <li class="inline-block dataminr-term"><a href="{{twitterUrl}}" class="txt-size--13" data-search-term="{{query}}" target="_blank" rel="search"data-scribe-element="search">{{text}}</a></li> {{/relatedTerms}} </ul> {{#user}} <div class="margin-ts"> <span class="txt-size--12 txt-dataminr inline-block margin-rm">{{_i}}Joined{{/i}}&nbsp;<b class="dataminr-bio-count">{{prettyJoinedDate}}</b></span> <a href="{{getFollowerURL}}" rel="url" target="_blank" class="txt-size--12 inline-block" data-scribe-element="show_followers">{{_i}}Followers{{/i}}&nbsp;<b>{{prettyFollowersCount}}</b></a>&nbsp; </div> {{/user}} </div> </div> <a href="{{{expandAlertURL}}}" class="txt-size--13 dataminr-openin-link txt-dataminr" target="_blank" rel="url noopener noreferrer" data-scribe-element="dataminr">{{_i}}Open in Dataminr{{/i}}<i class="icon icon-match-context icon-dataminr icon-tt link-clean padding-ls"></i></a> </div>',e.exports["status/follow_activity.mustache"]="{{#withActivityHeader}} {{> status/tweet_activity_header }} {{/withActivityHeader}}  {{#getRelatedUser}} {{> account_summary }} {{/getRelatedUser}}",e.exports["status/follow_activity_in_stream.mustache"]='{{#data}} {{<stream_item}}  {{$stream_item_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/stream_item_data}}  {{$content}} {{> status/follow_activity }} {{/content}}  {{/stream_item}} {{/data}}',e.exports["status/gap_in_stream.mustache"]='{{<stream_item}}  {{$stream_item_classes}}is-actionable gap-chirp{{/stream_item_classes}}  {{$stream_item_content_classes}}js-expand-gap padding-v--18{{/stream_item_content_classes}}  {{$stream_item_data}} data-key="{{id}}" {{/stream_item_data}}  {{$content}} <div class="gap-chirp-text {{#showSize}}gap-chirp-text--with-size{{/showSize}} padding-v--4 padding-h--16"> {{^showSize}}{{_i}}Show more{{/i}}{{/showSize}} {{#showSize}}{{size}}+ {{_i}}more{{/i}}{{/showSize}} </div> <div class="gap-chirp-spinner margin-v--5"></div> {{/content}}  {{/stream_item}}',e.exports["status/list_activity.mustache"]='{{#chirp}} {{<stream_item}}  {{$stream_item_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/stream_item_data}}  {{$content}} <div class="activity-header flex flex-row flex-align--baseline"> <div class="obj-left item-img flex-shrink--0"> {{#sourceAvatar}}<img class="avatar pull-right size24 margin-lm" src="{{sourceAvatar}}" width="24" height="24">{{/sourceAvatar}} <i class="pull-right icon icon-list-filled txt-size--16 txt-r-dark-gray"></i> </div> <div class="nbfc">{{{htmlText}}}</div> </div> {{/content}}  {{/stream_item}} {{/chirp}}',e.exports["status/media_image_container.mustache"]='<div class="media-image-container {{#isMediaPreviewCompact}}media-image-container-compact{{/isMediaPreviewCompact}} block position-rel"> <a class="js-media-image-link {{#needsSecureUrl}}js-needs-secure-url{{/needsSecureUrl}} pin-all media-image block {{#isPossiblySensitive}}is-invisible{{/isPossiblySensitive}}" {{#needsSecureUrl}}data-original-url="{{mediaPreviewSrc}}{{imageSrc}}"{{/needsSecureUrl}} {{^needsSecureUrl}}style="background-image:url({{mediaPreviewSrc}}{{imageSrc}})"{{/needsSecureUrl}} href="{{url}}" rel="mediaPreview" target="_blank" data-media-entity-id="{{mediaId}}" ></a> {{> reverse_image_search }} </div>',e.exports["status/media_large_preview.mustache"]='{{#withMediaPreview}} {{#hasMedia}} {{#isMediaPreviewLarge}}  <div class="js-media position-rel item-box-full-bleed margin-tm {{#isMediaGridContent}}media-size-large-height{{/isMediaGridContent}} {{#dataminr}}dataminr-large-preview{{/dataminr}}" data-key="{{id}}"> {{#isMediaGridContent}} <div class="media-caret"></div> <div class="media-grid-{{mediaLength}}"> {{#getMedia}} {{> status/media_image_container}} {{/getMedia}} </div> {{#isPossiblySensitive}} {{> status/media_sensitive}} {{/isPossiblySensitive}} {{/isMediaGridContent}} {{^isMediaGridContent}} {{#getMedia}} {{>status/media_thumb}} {{/getMedia}} {{/isMediaGridContent}} </div>  {{/isMediaPreviewLarge}} {{/hasMedia}} {{/withMediaPreview}}',e.exports["status/media_preview.mustache"]='{{#isMediaGridContent}} <div class="media-grid-{{mediaLength}}"> {{#getMedia}} {{> status/media_image_container}} {{/getMedia}} </div> {{#isPossiblySensitive}} {{> status/media_sensitive}} {{/isPossiblySensitive}} {{/isMediaGridContent}}  {{^isMediaGridContent}} {{#getMedia}} {{> status/media_thumb}} {{/getMedia}} {{/isMediaGridContent}}',e.exports["status/media_sensitive.mustache"]='{{#isPossiblySensitive}} <div class="js-media-sensitive-overlay media-sensitive {{^isMediaPreviewSmall}}{{thumbSizeClass}}{{/isMediaPreviewSmall}} {{#isMediaPreviewSmall}}media-size-medium{{/isMediaPreviewSmall}} "> <div class="{{^isNarrowColumns}}media-sensitive-content{{/isNarrowColumns}} padding-am"> <b class="media-sensitive-title">{{_i}}The following media may contain sensitive material.{{/i}}</b> <p>{{_i}}Your <a href="#" rel="globalSettings">Tweet media display settings</a> are configured to inform you when media may be sensitive.{{/i}}</p> <a href="#" target="_blank" rel="showSensitiveMedia">{{_i}}View{{/i}}</a>&nbsp;&middot; <a href="#" target="_blank" rel="alwaysShowSensitiveMedia">{{_i}}Always show me sensitive media{{/i}}</a> </div> </div> {{/isPossiblySensitive}}',e.exports["status/media_thumb.mustache"]='<div class=" js-media-preview-container media-preview-container position-rel width-p--100 {{^isMediaPreviewLarge}}{{^isMediaPreviewCompact}}{{^isMediaPreviewInQuoted}}margin-vm{{/isMediaPreviewInQuoted}}{{/isMediaPreviewCompact}}{{/isMediaPreviewLarge}} {{#isMediaPreviewSmall}}{{#isPossiblySensitive}}media-size-small{{/isPossiblySensitive}}{{/isMediaPreviewSmall}} {{#isMediaPreviewCompact}}media-size-medium margin-t--8{{/isMediaPreviewCompact}} {{#isMediaPreviewInQuoted}}margin-tm{{/isMediaPreviewInQuoted}} {{#isMediaPreviewLarge}}margin-t--20{{/isMediaPreviewLarge}} {{#isAnimatedGif}}is-gif{{/isAnimatedGif}} {{#isVideo}}is-video{{/isVideo}} {{^withAutoPlay}}{{^detailView}}is-paused{{/detailView}}{{/withAutoPlay}} "> {{#noPreview}} <img class="media-item" src="{{#asset}}/web/assets/global/backgrounds/preview-unavailable.png{{/asset}}" alt="Preview unavailable"> {{/noPreview}} {{^noPreview}} {{#isMediaPreviewLarge}} <div class="media-caret"></div> {{/isMediaPreviewLarge}}  {{#isAnimatedGif}} {{#animatedGif}} {{> media/animated_gif}} {{/animatedGif}} {{/isAnimatedGif}}  {{^isAnimatedGif}} <a class="js-media-image-link block med-link media-item {{thumbSizeClass}} {{#isPossiblySensitive}}is-invisible{{/isPossiblySensitive}} {{#needsSecureUrl}}js-needs-secure-url{{/needsSecureUrl}} {{^isGalleryView}}is-zoomable{{/isGalleryView}}" {{#needsSecureUrl}}data-original-url="{{mediaPreviewSrc}}{{imageSrc}}"{{/needsSecureUrl}} href="{{url}}" rel="mediaPreview" target="_blank" {{^needsSecureUrl}}{{^imageSrc}}style="background-image:url({{mediaPreviewSrc}})"{{/imageSrc}}{{/needsSecureUrl}} data-media-entity-id="{{mediaId}}"> {{#isVideo}} {{> media/video_overlay}} {{/isVideo}}  {{#imageSrc}} <img class="{{thumbClass}}" src="{{^needsSecureUrl}}{{imageSrc}}{{/needsSecureUrl}}" alt="Media preview"> {{/imageSrc}} {{^isDM}} {{^isFromProtectedUser}} {{> reverse_image_search }} {{/isFromProtectedUser}} {{/isDM}} </a>  {{#showTaggedUsers}} {{{ renderTaggedUsers }}} {{/showTaggedUsers}}  {{/isAnimatedGif}} {{> status/media_sensitive}} {{/noPreview}} </div>',e.exports["status/media_unique_preview.mustache"]='<div class="media-grid-{{mediaLength}}"> {{#getUniqueMedia}} {{{media.renderGridView}}} {{/getUniqueMedia}} </div>',e.exports["status/message.mustache"]='<div class="tweet js-chirp {{#quotedTweet}}is-quote-tweet{{/quotedTweet}}"> <header class="tweet-header"> {{> status/message_timestamp}}  {{#sender}} {{^isDeleted}} {{> status/tweet_single_header }} {{/isDeleted}} {{/sender}} </header>  <div class="tweet-body"> <p class="js-tweet-text tweet-text with-linebreaks full-width">{{{htmlText}}}</p> {{#quotedTweet}} {{{ renderQuoted }}} {{/quotedTweet}} {{#quotedTweetMissing}} {{>status/quoted_tweet_missing}} {{/quotedTweetMissing}} {{>status/tweet_media_wrapper}} {{#withFooter}} <footer class="tweet-footer cf"> <ul class="tweet-actions"> <li class="position-rel"> {{#getMainUser}} <a class="tweet-action" href="#" rel="actionsMenu" data-user-id="{{id}}" data-chirp-id="{{message.id}}" data-actions-menu-position="pos-l" data-account-key="{{accountKey}}"> <i class="icon icon-more"></i> <span class="is-vishidden">{{_i}}More options{{/i}}</span> </a> {{/getMainUser}} </li> </ul> </footer> {{/withFooter}} </div> </div>',e.exports["status/message_in_box.mustache"]='{{#message}} {{<item_box}}  {{$item_box_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/item_box_data}}  {{$content}}  {{> status/message}}  {{/content}}  {{/item_box}} {{/message}}',e.exports["status/message_in_stream.mustache"]='{{#message}} {{<stream_item}}  {{$stream_item_content_classes}}message-stream-item{{/stream_item_content_classes}}  {{$stream_item_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/stream_item_data}}  {{$content}}  {{>status/message}}  {{/content}}  {{/stream_item}} {{/message}}',e.exports["status/message_thread.mustache"]='{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}is-actionable {{#unread}}is-unread {{/unread}}{{/stream_item_classes}}  {{$stream_item_content_classes}}js-show-detail {{/stream_item_content_classes}}  {{$stream_item_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/stream_item_data}}  {{$content}}  <div class="tweet tweet-message js-chirp">  <header class="tweet-header"> {{>status/message_timestamp}}  {{#getMainUser}} {{> status/tweet_single_header }} {{/getMainUser}} </header>  <div class="l-table">  <div class="tweet-body l-cell"> <div class="l-table"> <p class="l-cell align-top"> {{#replied}} <i class="txt-size--14 txt-mute icon icon-reply"></i> {{/replied}} <span class="js-tweet-text tweet-text with-linebreaks">{{{htmlText}}}</span> {{#attachmentOnly}} <em>Attachment: image</em> {{/attachmentOnly}} </p> {{#hasMedia}} <div class="l-cell"> {{#getMedia}} <div class="tweet-message-attachment obj-right position-rel"> <div class="js-media-image-link media-item {{#isPossiblySensitive}}is-invisible{{/isPossiblySensitive}} {{#needsSecureUrl}}js-needs-secure-url{{/needsSecureUrl}} is-zoomable" {{#needsSecureUrl}}data-original-url="{{mediaPreviewSrc}}{{imageSrc}}"{{/needsSecureUrl}} {{^needsSecureUrl}}{{^imageSrc}}style="background-image:url({{mediaPreviewSrc}})"{{/imageSrc}}{{/needsSecureUrl}}> </div> </div> {{/getMedia}} </div> {{/hasMedia}} </div> </div>  <div class="conversation-indicator l-cell"> <i class="icon icon-arrow-r"></i> </div>  </div>  </div>  {{/content}}  {{/stream_item}} {{/chirp}}',e.exports["status/message_timestamp.mustache"]='{{#created}} <time class="tweet-timestamp pull-right margin-t--2" datetime="{{toISOString}}" data-time="{{getTime}}"> {{/created}} <span class="txt-size-variable--12 txt-mute"> {{createdPrettyTimeOrDate}} </span> {{#created}} </time> {{/created}}',e.exports["status/message_wrapper.mustache"]='{{> column/column_header_detail}}  <div class="column-content flex-auto position-rel"> <div class="js-detail-container js-dropdown-container column-scroller scroll-v pin-all {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"> <div> <div class="js-message-box"></div> <div class="js-message-detail chirp-container"> {{> spinner_large}} </div> </div> </div> </div>',e.exports["status/poll.mustache"]='{{#poll}} <div class="margin-tl"> <ul class="margin-b--12"> {{#choices}} <li class="position-rel margin-b--8 height-3"> <div class="poll-bar pin-top height-p--100 br-1 {{#isWinner}}poll-bar--winner{{/isWinner}} {{#hasTimeLeft}}br-left{{/hasTimeLeft}} width-p--{{percentage}}"/>  <div class="poll-label position-rel padding-a--4"> <span class="txt-bold txt-right inline-block width-5 padding-r--4">{{percentage}}%</span> {{{label}}} {{#isSelectedChoice}} <i class="icon icon-check txt-size-variable--11"></i> {{/isSelectedChoice}} </div> </li> {{/choices}} </ul>  {{#hasTimeLeft}} <a rel="url" class="js-poll-link poll-link txt-size-variable--12" href="{{chirp.getChirpURL}}" target="_blank"> {{_i}}Vote on twitter.com{{/i}} </a> {{/hasTimeLeft}}  <span class="inline-block txt-size-variable--12 padding-ls txt-twitter-dark-gray"> {{{prettyCount}}} &middot; {{#hasTimeLeft}} {{{prettyTimeLeft}}} {{/hasTimeLeft}} {{^hasTimeLeft}} {{_i}}Final results{{/i}} {{/hasTimeLeft}} </span> </div> {{/poll}}',e.exports["status/quoted_tweet.mustache"]='{{#tweet}} <div class="js-quote-detail quoted-tweet nbfc br--4 padding-al margin-b--8 position-rel {{^inCompose}}margin-tm is-actionable {{/inCompose}}" data-tweet-id="{{id}}" data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" rel="viewDetails"> <div> <header class="tweet-header"> {{#user}} {{>status/tweet_single_header}} {{/user}} </header> <div class="js-reply-info-container"> <div class="nbfc txt-ellipsis txt-mute"> {{{ getReplyContext }}} </div> </div> <p class="js-quoted-tweet-text with-linebreaks">{{{htmlText}}}</p> {{>status/tweet_media_wrapper}} {{#isQuoteStatus}} {{>status/attachment_tweet}} {{/isQuoteStatus}} {{#isInThread}} <p class="margin-t--4 margin-b---3 txt-mute">{{_i}}Show this thread{{/i}}</p> {{/isInThread}} </div> {{#inCompose}} <a class="js-quote-tweet-remove compose-media-grid-remove is-actionable"> {{>compose/close_button}} </a> {{/inCompose}} </div> {{/tweet}}',e.exports["status/quoted_tweet_missing.mustache"]='<div class="quoted-tweet nbfc br--4 padding-al margin-t--5 quoted-tweet-unavailable{{#hideTweetUnavailableMsg}} is-vishidden{{/hideTweetUnavailableMsg}}"> <p class="txt-mute">{{_i}}This Tweet is unavailable{{/i}}</p> </div>',e.exports["status/scheduled_tweet.mustache"]='{{#inStream}} {{<stream_item}}  {{$stream_item_data}} data-key="{{chirp.key}}{{chirp.id}}" data-account-key="{{chirp.account.getKey}}" {{/stream_item_data}}  {{$content}}{{> status/scheduled_tweet_single }}{{/content}}  {{/stream_item}} {{/inStream}} {{#inBox}} {{<item_box}}  {{$item_box_classes}}js-tweet-box{{/item_box_classes}}  {{$item_box_data}} data-key="{{chirp.key}}{{chirp.id}}" data-account-key="{{chirp.account.getKey}}" {{/item_box_data}}  {{$content}}{{> status/scheduled_tweet_single }}{{/content}}  {{/item_box}} {{/inBox}}',e.exports["status/scheduled_tweet_single.mustache"]='{{#featureFlag.tweetdeck_dogfood}} {{#chirp}} {{#reasonText}} <div class="margin-bl padding-as srt-error-msg"> {{reasonText}} </div> {{/reasonText}} <div class="padding-b--5 flex flex-row flex-align--center"> <span class="no-wrap flex-grow--1 txt-size--13">{{ formattedTime }}</span> {{#canEdit}} <a href="#" rel="edit"><i class="icon icon-edit padding-r--10"></i></a> {{/canEdit}} <a href="#" rel="destroy"><i class="icon icon-trash"></i></a> </div> <div class="padding-al br--4 scheduled-tweet"> {{#updates}} {{>status/scheduled_tweet_single_header}} {{/updates}}  <div class="txt-size-variable--12">{{{getReplyContext}}}</div>  {{#hasText}} <p class="with-linebreaks">{{{htmlText}}} {{#attachmentUrl}}{{attachmentUrl}}{{/attachmentUrl}}</p> {{/hasText}}  {{#hasMedia}} <div class="js-media media-preview position-rel" data-key="{{id}}"> {{#getMedia}} {{>status/media_thumb}} {{/getMedia}} </div> {{/hasMedia}} </div> {{/chirp}} {{/featureFlag.tweetdeck_dogfood}} {{^featureFlag.tweetdeck_dogfood}} {{#chirp}}  {{#reasonText}} <div class="margin-bl padding-as srt-error-msg"> {{reasonText}} </div> {{/reasonText}}  <div class="obj-left item-img"> &nbsp; </div>  <div class="nbfc"> {{_i}}Scheduled for:{{/i}} <p class="margin-b--3"> <b class="no-wrap">{{ prettyTime }}</b> </p>  <div class="txt-size-variable--12">{{{getReplyContext}}}</div>  <p class="with-linebreaks">{{{htmlText}}} {{#attachmentUrl}}{{attachmentUrl}}{{/attachmentUrl}}</p>  {{#hasMedia}} <div class="js-media media-preview position-rel" data-key="{{id}}"> {{#getMedia}} {{>status/media_thumb}} {{/getMedia}} </div> {{/hasMedia}}   <div class="img-strip"> {{#updates}} <span class="img-strip-media"> <img class="avatar size24" src="{{user.avatar}}" width="24" height="24" alt="{{user.username}}\'s avatar"> </span> {{/updates}} </div>  <footer class="tweet-actions txt-mute txt-size-variable--12 {{#withTweetActionsVisible}}is-visible{{/withTweetActionsVisible}}"> {{#canEdit}} <a href="#" rel="edit">{{_i}}Edit{{/i}}</a> &middot; {{/canEdit}} <a href="#" rel="destroy">{{_i}}Delete{{/i}}</a> </footer> </div>  {{/chirp}} {{/featureFlag.tweetdeck_dogfood}}',e.exports["status/scheduled_tweet_single_header.mustache"]='<a class="account-link link-complex flex flex-row flex-align--center padding-bl" href="{{user.profileURL}}" rel="user" target="_blank"> <img class="avatar size24" src="{{user.avatar}}" width="24" height="24" alt="{{user.screenName}}\'s avatar"> <span class="account-inline txt-ellipsis{{#user.isProtected}} is-protected{{/user.isProtected}}  padding-l--8"> <b class="fullname link-complex-target">{{{user.emojifiedName}}}</b> {{#user.isVerified}}<i class="js-show-tip sprite sprite-verified-mini" title="{{_i}}Verified account{{/i}}"></i>{{/user.isVerified}}  <span class="username txt-mute">@{{user.screenName}}</span> {{#user.isProtected}}<i class="icon icon-protected txt-mute txt-size--14"></i>{{/user.isProtected}} </span> </a>',e.exports["status/social_proof_for_tweet.mustache"]='{{> column/column_header_detail}}  <div class="column-content flex-auto position-rel"> <div class="column-scroller scroll-v pin-all {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"> <div class="social-proof-for-tweet-title padding-vl txt-center txt-size--14"> <b>{{title}}</b> </div> {{#users}} {{<stream_item}} {{$content}} {{>account_summary}} {{/content}} {{/stream_item}} {{/users}} {{^users}} {{>column_loading_placeholder}} {{/users}} </div> </div>',e.exports["status/trend_item.mustache"]='{{#trends}}{{#trend}} <li class="padding-b--10"> <a href="#" class="js-trend-item trend-item link-complex txt-size-variable--13" data-action="search" data-query="{{target.query}}"> <b class="trend-item-name link-complex-target ">{{{name}}}</b> <span class="trend-item-context">{{{description}}}</span> <div class="trend-item-stats txt-mute">{{{meta_description}}}</div> </a> </li> {{/trend}}{{/trends}}',e.exports["status/tweet_activity.mustache"]="{{#withActivityHeader}} {{> status/tweet_activity_header }} {{/withActivityHeader}}  {{#getRelatedTweet}} {{> status/tweet_single}} {{/getRelatedTweet}}",e.exports["status/tweet_activity_header.mustache"]='<div class="activity-header {{#sourceAvatar}}has-source-avatar{{/sourceAvatar}} flex flex-align--baseline"> <div class="margin-r--10 item-img flex-shrink--0"> {{#sourceAvatar}}<img class="avatar pull-right size24" src="{{sourceAvatar}}" width="24" height="24">{{/sourceAvatar}} <i class="icon pull-right {{iconClass}} txt-size--16"></i> </div> <div class="nbfc {{#withSourceMute}}txt-mute txt-size-variable--12{{/withSourceMute}} flex-auto"> {{{htmlText}}} </div> {{#isAboutYou}} {{>status/tweet_activity_timestamp}} {{/isAboutYou}} </div>',e.exports["status/tweet_activity_in_box.mustache"]='{{#chirp}} {{<item_box}}  {{$item_box_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/item_box_data}}  {{$content}} {{> status/tweet_activity }} {{/content}}  {{/item_box}} {{/chirp}}',e.exports["status/tweet_activity_in_stream.mustache"]='{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}is-actionable{{/stream_item_classes}}  {{$stream_item_content_classes}}js-show-detail {{/stream_item_content_classes}}  {{$stream_item_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" data-tweet-id="{{#targetTweet}}{{id}}{{/targetTweet}}" {{/stream_item_data}}  {{$content}} {{> status/tweet_activity }} {{> status/media_large_preview }} {{/content}}  {{/stream_item}} {{/chirp}}',e.exports["status/tweet_activity_timestamp.mustache"]='{{#created}} <time class="js-timestamp tweet-timestamp txt-mute flex-shrink--0 txt-size-variable--12" datetime="{{toISOString}}" data-time="{{getTime}}"> {{/created}} <span class="txt-size-variable--12 txt-mute">{{createdPretty}}</span> {{#created}} </time> {{/created}}',e.exports["status/tweet_detail.mustache"]='{{<stream_item}}  {{$stream_item_data}} {{#chirp}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" data-tweet-id="{{#getMainTweet}}{{id}}{{/getMainTweet}}" {{/chirp}} {{/stream_item_data}}  {{$content}}  {{#chirp}} <div class="js-tweet tweet-detail {{#isFavorite}}is-favorite{{/isFavorite}} {{#isRetweeted}}is-retweet{{/isRetweeted}} {{#quotedTweet}}is-quote-tweet{{/quotedTweet}} {{#isInThread}}{{#hasReplies}}js-has-replies {{#indentedChirp}}margin-l--58{{/indentedChirp}}{{/hasReplies}}{{/isInThread}}">  <div class="{{^indentedChirp}}margin-b--10{{/indentedChirp}} {{#indentedChirp}}margin-l---58{{/indentedChirp}}"> {{#getMainUser}} {{> account_summary }} {{/getMainUser}} </div>  {{^isInThread}} <div class="txt-size-variable--12 margin-b--2"> {{{getReplyContext}}} </div> {{/isInThread}}  {{#indentedChirp}} <div class="thread margin-t--4"></div> {{/indentedChirp}}  <p class="js-tweet-text tweet-text txt-size-variable--18 margin-b--10 with-linebreaks {{#translation}}tweet-translation-original-text margin-bn{{/translation}}" lang="{{lang}}">{{{htmlText}}}</p>  {{#translation}}{{>status/tweet_translation}}{{/translation}} {{#isTranslatable}}{{^translation}}<a class="js-translate-call-to-action txt-mute" href="#" rel="translateTweet">{{_i}}Translate Tweet{{/i}}</a>{{/translation}}{{/isTranslatable}}  <div class="js-poll"></div>  {{#getMainTweet}}  <div class="js-tweet-media tweet-detail-media margin-v--15 margin-h--0 is-hidden {{#user}}{{#isProtected}}is-protected{{/isProtected}}{{/user}}"></div>  {{^hasMedia}} {{#quotedTweet}} {{{ renderQuoted }}} {{/quotedTweet}} {{/hasMedia}}  {{#quotedTweetMissing}} {{! placeholder to be replaced when quoted tweet is fetched}} <div class="js-attachment-tweet"> {{>status/attachment_tweet}} </div> {{/quotedTweetMissing}}  <div class="js-card-container height--0"></div>  <div class="margin-tl txt-mute txt-size-variable--12"> <a href="{{getChirpURL}}" rel="url" target="_blank">{{createdPrettyFull}}</a> &middot; <a href="{{sourceUrl}}" rel="url" target="_blank">{{sourceNoHTML}}</a> </div>  {{#hasLocationData}} <div class="margin-bl txt-mute txt-size-variable--12 tweet-location"> <a href="{{getLocationURL}}" rel="url" target="_blank"><i class="icon icon-base-valigned icon-geo"></i>{{getLocationFullName}}</a> </div> {{/hasLocationData}}  <footer> <div class="js-tweet-stats"></div>  {{> status/tweet_detail_actions}} </footer> {{/getMainTweet}} </div> <div class="js-detail-view-inline detail-view-inline item-box-full-bleed padding-axl scroll-conversation {{^isInThread}}dark-border-top{{/isInThread}} {{#indentedChirp}}dark-border margin-l--58{{/indentedChirp}}"> <div rel="reply" class="js-detail-view-inline-text detail-view-inline-text padding-al inline-block full-width txt-ellipsis">{{_i}}Reply to{{/i}} {{mentions}}</div> </div> {{#dataminr}} <a class="js-skip-to-replies is-hidden is-actionable link-complex block item-box-full-bleed padding-hxl padding-bl scroll-conversation" rel="skipToReplies"> &#8595; <span class="link-complex-target align-middle">{{_i}}Skip to replies{{/i}}</span> </a> {{/dataminr}} {{/chirp}} {{/content}}  {{/stream_item}}',e.exports["status/tweet_detail_actions.mustache"]='<ul class="tweet-detail-actions {{^withRemove}}{{^withDragHandle}}without-tweet-drag-handles{{/withDragHandle}}{{/withRemove}}"> <li class="tweet-detail-action-item margin-ln"> <a class="js-reply-action tweet-detail-action position-rel" href="#" rel="reply"> <i class="icon icon-reply"></i><span class="is-vishidden">{{_i}}Reply{{/i}}</span> <span class="reply-triangle"></span> </a> </li> {{#getMainUser}} <li class="tweet-detail-action-item {{#isProtected}}is-protected-action{{/isProtected}}"> <a class="tweet-detail-action {{#isProtected}}no-pointer-events{{/isProtected}}" href="#" rel="retweet"> <i class="js-icon-retweet icon icon-retweet{{#isRetweeted}}-filled{{/isRetweeted}} icon-retweet-toggle"></i> <span class="is-vishidden">{{_i}}Retweet{{/i}}</span> </a> </li> {{/getMainUser}} <li class="tweet-detail-action-item"> {{#account}} <a class="js-show-tip tweet-detail-action position-rel" href="#" rel="favorite" title="{{>text/favorite_action}}"> <i class="js-icon-favorite icon {{^isFavorited}}icon-favorite{{/isFavorited}}{{#isFavorited}}icon-heart-filled{{/isFavorited}} icon-favorite-toggle txt-center"></i>            <span class="is-vishidden"> {{_i}}Like{{/i}} </span> </a> {{/account}} </li> <li class="tweet-detail-action-item position-rel"> <a class="js-tweet-detail-action tweet-detail-action" href="#" rel="actionsMenu" data-user-id="{{#getMainUser}}{{id}}{{/getMainUser}}" data-chirp-id="{{#getMainTweet}}{{id}}{{/getMainTweet}}" data-account-key="{{account.getKey}}"> <i class="icon icon-more"></i><span class="is-vishidden">{{_i}}Options{{/i}}</span> </a> </li> {{#withDragHandle}} <li class="feature-customtimelines tweet-drag-handle tweet-detail-action-item"> <span class="tweet-detail-action is-actionable" href="{{getChirpURL}}"> <i class="icon icon-move"></i><span class="is-vishidden">{{_i}}Drag to collection{{/i}}</span> </span> </li> {{/withDragHandle}} {{#withRemove}} <li class="feature-customtimelines tweet-detail-action-item"> <a class="js-show-tip tweet-detail-action tweet-detail-action" href="{{getChirpURL}}" rel="removeFromCustomTimeline" data-tweet-id="{{#getMainTweet}}{{id}}{{/getMainTweet}}" title="{{_i}}Remove from collection{{/i}}" data-placement="bottom"> <i class="icon icon-close"></i> </a> </li> {{/withRemove}} </ul>',e.exports["status/tweet_detail_inreplyto.mustache"]='<div class="js-replies-before tweet-detail-reply"></div>',e.exports["status/tweet_detail_media.mustache"]='{{#hasMedia}} {{#isMediaGridContent}} {{^isPossiblySensitive}} <div class="js-media media-preview detail-preview media-size-large"> {{> status/media_unique_preview}} </div> {{/isPossiblySensitive}} {{#isPossiblySensitive}} <div class="js-media media-preview detail-preview"> {{#getFirstMedia}} {{#media.renderDetailView}}{{/media.renderDetailView}} {{/getFirstMedia}} </div> {{/isPossiblySensitive}} {{/isMediaGridContent}} {{^isMediaGridContent}} <div class="js-media media-preview detail-preview"> {{#getUniqueMedia}} {{#media.renderDetailView}}{{/media.renderDetailView}} {{/getUniqueMedia}} </div> {{/isMediaGridContent}} {{/hasMedia}}',e.exports["status/tweet_detail_repliesto.mustache"]='<div class="js-replies-to replies-after"></div>',e.exports["status/tweet_detail_replybar.mustache"]='<div class="rpl"> <textarea name="inreplyto" class="js-reply-tweetbox scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} scroll-alt"></textarea> <div class="rpl-actions cf"> <button class="js-reply-popout js-show-tip btn btn-square btn-neutral dm-action" title="{{_i}}Popout{{/i}}"> <i class="icon icon-popout icon-medium"></i> </button> <button class="js-reply-add-image js-show-tip btn btn-square btn-neutral dm-action" title="{{_i}}Add image{{/i}}"> <i class="icon icon-camera icon-medium"></i> </button> <div class="pull-right"> <input type="text" readonly="readonly" class="js-reply-charcount pull-left"/> {{#avatarURL}} <img src="{{avatarURL}}" title="@{{from}}" class="js-show-tip avatar size30 neg-margin-bl obj-left"/> {{/avatarURL}} <button class="btn btn-positive js-send">{{_i}}Reply{{/i}}</button> </div> </div> </div>',e.exports["status/tweet_detail_socialstats.mustache"]='{{#analytics}} <div class="tweet-stats tweet-stat txt-size-variable--12 txt-mute padding-t--5"> <a href="{{url}}" target="_blank" rel="url noopener noreferrer" class="js-open-analytics js-show-tip full-width" title="{{_i}}View on analytics.twitter.com{{/i}}" data-placement="bottom"> <i class="icon icon-analytics icon-tb"></i> <span class="txt-size-variable--10">{{text}}</span> </a> </div> {{/analytics}}  {{#stats.length}} <div class="js-stats-list tweet-stats flex flex-row flex-align--baseline flex-wrap--wrap"> {{#stats}} <div data-type="{{type}}" class="{{^noLink}}js-tweet-stat is-actionable{{/noLink}} tweet-stat txt-size-variable--12 flex flex-row flex-align--baseline"> <b class="js-value margin-r--5"></b> <span class="js-label stat-word txt-size-variable--11">{{label}}</span> </div> {{/stats}} </div> {{/stats.length}}',e.exports["status/tweet_detail_wrapper.mustache"]='{{> column/column_header_detail}}  <div class="column-content flex-auto position-rel"> <div class="js-detail-container js-dropdown-container column-scroller scroll-v pin-all {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} scroll-conversation"> <div class="js-detail-content"> <div class="js-inreplyto"></div> {{#withDataminr}}<div class="js-dataminr-header dataminr padding-tm padding-hl padding-bn">Dataminr header</div>{{/withDataminr}} <div class="js-tweet-detail tweet-detail-wrapper"> {{> spinner_large}} </div> {{#withDataminr}}<div class="js-dataminr-footer dataminr">Dataminr footer</div>{{/withDataminr}} <div class="js-tweet-replies tweet-detail-reply"></div> </div> </div> </div>',e.exports["status/tweet_in_box.mustache"]='{{#tweet}} {{<item_box}}  {{$item_box_classes}}js-tweet-box{{/item_box_classes}}  {{$item_box_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/item_box_data}}  {{$content}} {{> status/tweet_single }} {{/content}}  {{/item_box}} {{/tweet}}',e.exports["status/tweet_in_stream.mustache"]='{{#tweet}} {{<stream_item}}  {{$stream_item_classes}}is-actionable {{chirpClassnames}}{{/stream_item_classes}}  {{$stream_item_content_classes}}js-show-detail {{/stream_item_content_classes}}  {{$stream_item_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/stream_item_data}}  {{$content}} {{> status/tweet_single }} {{> status/media_large_preview }} {{/content}}  {{/stream_item}} {{/tweet}}',e.exports["status/tweet_media_indications.mustache"]='{{#isMediaPreviewOff}} {{#hasAnimatedGif}} <div class="media-badge txt-size-variable--12 txt-mute"><i class="icon icon-gif-badge txt-size-variable--15 align-top"></i> {{_i}}GIF{{/i}}</div> {{/hasAnimatedGif}}  {{#hasImage}}{{^hasAnimatedGif}} <div class="media-badge txt-size-variable--12 txt-mute"><i class="icon icon-image txt-size-variable--15 align-top"></i> {{#isMediaGridContent}}{{_i}}Images{{/i}}{{/isMediaGridContent}} {{^isMediaGridContent}}{{_i}}Image{{/i}}{{/isMediaGridContent}} </div> {{/hasAnimatedGif}}{{/hasImage}}  {{#hasVideo}} <div class="media-badge txt-size-variable--12 txt-mute"><i class="icon icon-play-badge txt-size-variable--15 align-top"></i> {{_i}}Video{{/i}}</div> {{/hasVideo}}  {{#featureFlag.tweetdeck_dogfood}} {{#hasPoll}} {{>status/attachment_poll}} {{/hasPoll}} {{/featureFlag.tweetdeck_dogfood}} {{/isMediaPreviewOff}}',e.exports["status/tweet_media_wrapper.mustache"]='{{>status/tweet_media_indications}}  {{#withMediaPreview}} {{#hasMedia}} {{^isMediaPreviewLarge}}  {{^isMediaPreviewOff}} {{#isMediaGridContent}} <div class="js-media media-preview media-grid-container {{^isMediaPreviewCompact}} media-size-medium  margin-vm{{/isMediaPreviewCompact}} {{#isMediaPreviewCompact}} media-size-medium no-radius margin-t--8{{/isMediaPreviewCompact}}" data-key="{{id}}"> {{> status/media_preview}} </div> {{/isMediaGridContent}} {{^isMediaGridContent}} <div class="js-media media-preview {{#showThumbs}}detail-preview{{/showThumbs}} {{#isMediaPreviewCompact}} no-radius{{/isMediaPreviewCompact}} position-rel" data-key="{{id}}"> {{> status/media_preview}} {{#getMedia}} {{^isAnimatedGif}} {{^isVideo}} {{> reverse_image_search }} {{/isVideo}} {{/isAnimatedGif}} {{/getMedia}} </div> {{/isMediaGridContent}} {{/isMediaPreviewOff}}  {{/isMediaPreviewLarge}} {{/hasMedia}} {{/withMediaPreview}}',e.exports["status/tweet_single.mustache"]='<div class="js-tweet tweet {{#isFavorite}}is-favorite{{/isFavorite}} {{#isRetweeted}}is-retweet{{/isRetweeted}} {{#isInConvo}}is-conversation{{/isInConvo}} {{#isMinimalist}}is-minimalist{{/isMinimalist}} {{#quotedTweet}}is-quote-tweet{{/quotedTweet}} {{#quotedTweetMissing}}is-quote-tweet{{/quotedTweetMissing}} {{#withContentMute}}txt-mute{{/withContentMute}} {{#hasReplies}}js-has-replies{{/hasReplies}}"> {{#isRetweetedStatus}} <div class="tweet-context txt-size-variable--12 txt-mute padding-bs"> <div class="obj-left item-img"> <i class="pull-right icon icon-retweet-filled icon-small-context icon-retweet-color txt-size--16"></i> </div> <div class="nbfc"> {{#user}} <a href="{{getProfileURL}}" rel="user" target="_blank">{{{emojifiedName}}}</a>{{_i}} Retweeted{{/i}} {{/user}} </div> </div> {{/isRetweetedStatus}} <header class="tweet-header js-tweet-header flex flex-row flex-align--baseline"> {{#getMainUser}} {{>status/tweet_single_header}} {{/getMainUser}} {{#getMainTweet}} {{>status/tweet_timestamp}} {{/getMainTweet}} </header> {{#isInConvo}} {{#hasReplies}} <div class="thread"></div> {{/hasReplies}} {{/isInConvo}}  <div class="tweet-body js-tweet-body"> {{^isInThread}} {{#getMainTweet}} <div class="nbfc txt-size-variable--12 txt-ellipsis"> {{{ getReplyContext }}} </div> {{/getMainTweet}} {{/isInThread}}  <p class="js-tweet-text tweet-text {{#withLinebreaks}}with-linebreaks{{/withLinebreaks}} {{#translation}}tweet-translation-original-text margin-bn{{/translation}}" lang="{{lang}}">{{{htmlText}}}</p>  <div class="js-card-container height--0"></div>  {{^hasMedia}} {{#quotedTweet}} {{{ renderQuoted }}} {{/quotedTweet}} {{#isInThread}} <div class="margin-b--5"></div> {{/isInThread}} {{/hasMedia}} {{#quotedTweetMissing}} {{>status/quoted_tweet_missing}} {{/quotedTweetMissing}} {{#translation}}{{>status/tweet_translation}}{{/translation}} {{>status/tweet_media_wrapper}} </div> {{^isInConvo}} {{#isInThread}} {{^inDialog}} <span class="link-complex btn-neutral-positive"> <p class="txt-ellipsis link-complex-target margin-b--5">{{_i}}Show this thread{{/i}}</p> </span> {{/inDialog}} {{#inDialog}} <p class="txt-mute">{{_i}}Show this thread{{/i}}</p> {{/inDialog}} {{/isInThread}} {{/isInConvo}} {{>status/tweet_single_footer}} </div>',e.exports["status/tweet_single_actions.mustache"]='<ul class="js-tweet-actions tweet-actions full-width {{#withTweetActionsVisible}}is-visible{{/withTweetActionsVisible}}"> <li class="tweet-action-item pull-left margin-r--13"> <a class="js-reply-action tweet-action position-rel" href="#" rel="reply"> <i class="icon icon-reply txt-center"></i> <span class="is-vishidden">{{_i}}Reply{{/i}}</span> <span class="reply-triangle"></span> </a> </li> {{#getMainUser}} <li class="tweet-action-item pull-left margin-r--13 {{#isProtected}}is-protected-action{{/isProtected}}"> <a class="tweet-action {{#isProtected}}no-pointer-events{{/isProtected}}" href="#" rel="retweet"> <i class="js-icon-retweet icon icon-retweet{{#isRetweeted}}-filled{{/isRetweeted}} icon-retweet-toggle txt-center"></i> <span class="is-vishidden">{{_i}}Retweet{{/i}}</span> </a> </li> {{/getMainUser}} <li class="tweet-action-item pull-left margin-r--13 margin-l--1"> <a class="js-show-tip tweet-action position-rel" href="#" rel="favorite" title="{{>text/favorite_action}}"> <i class="js-icon-favorite icon {{^isFavorited}}icon-favorite{{/isFavorited}}{{#isFavorited}}icon-heart-filled{{/isFavorited}} icon-favorite-toggle txt-center"></i> <span class="is-vishidden"> {{_i}}Like{{/i}} </span> </a> </li> <li class="tweet-action-item position-rel pull-left margin-r--13"> <a class="tweet-action" href="#" rel="actionsMenu" data-user-id="{{getMainUser.id}}" data-chirp-id="{{id}}" data-account-key="{{account.getKey}}" data-actions-menu-position="{{actionsMenuPosition}}" data-parent-chirp-id="{{chirp.id}}"> <i class="icon icon-more txt-right"></i> <span class="is-vishidden">{{_i}}More options{{/i}}</span> </a> </li> {{#withDragHandle}} <li class="feature-customtimelines tweet-drag-handle tweet-action-item pull-right margin-l--7"> <span class="tweet-action" href="{{getChirpURL}}"> <i class="icon icon-move txt-right txt-right"></i> <span class="is-vishidden">{{_i}}Drag to collection{{/i}}</span> </span> </li> {{/withDragHandle}} {{#withRemove}} <li class="feature-customtimelines tweet-action-item pull-right margin-l--13"> <a class="js-show-tip tweet-action" href="{{getChirpURL}}" rel="removeFromCustomTimeline" data-tweet-id="{{#getMainTweet}}{{id}}{{/getMainTweet}}" title="{{_i}}Remove from collection{{/i}}" data-placement="bottom"> <i class="icon icon-close txt-right"></i> </a> </li> {{/withRemove}} </ul>',e.exports["status/tweet_single_footer.mustache"]='{{#withFooter}} <footer class="tweet-footer cf"> {{^decider.in_reply_to_indicator}} {{#getMainTweet}} {{#inReplyToID}} <a class="pull-left margin-v--2 txt-mute txt-size--12 link-complex" href="#" rel="viewDetails"> <span class="link-complex-target"> {{_i}}View Conversation{{/i}} </span> </a> {{/inReplyToID}} {{/getMainTweet}} {{/decider.in_reply_to_indicator}}  {{#withTweetActions}} {{> status/tweet_single_actions}} {{/withTweetActions}} </footer> {{/withFooter}}',e.exports["status/tweet_single_header.mustache"]='<a class="account-link link-complex {{#withInlinedUsername}}inline{{/withInlinedUsername}}{{^withInlinedUsername}}block{{/withInlinedUsername}} flex-auto" href="{{getProfileURL}}" rel="user" target="_blank"> <div class="obj-left item-img tweet-img position-rel"> {{#withAvatar}} <img class="tweet-avatar avatar pin-top" src="{{profileImageURL}}" width="48" height="48" alt="{{screenName}}\'s avatar"> {{/withAvatar}} </div> <div class="nbfc {{#withInlinedUsername}}inline{{/withInlinedUsername}}"> <span class="account-inline txt-ellipsis{{#isProtected}} is-protected{{/isProtected}}"> <b class="fullname link-complex-target">{{{emojifiedName}}}</b> {{#isVerified}}<i class="js-show-tip sprite sprite-verified-mini" title="{{_i}}Verified account{{/i}}"></i>{{/isVerified}}  <span class="username txt-mute">@{{screenName}}</span> {{#isProtected}}<i class="icon icon-protected txt-mute txt-size--14"></i>{{/isProtected}} </span> </div> </a>',e.exports["status/tweet_timestamp.mustache"]='{{#created}} <time class="tweet-timestamp js-timestamp txt-mute flex-shrink--0" datetime="{{toISOString}}" data-time="{{getTime}}"> {{/created}} <a class="txt-size-variable--12 no-wrap" href="{{getChirpURL}}" rel="url" target="_blank">{{createdPretty}}</a> {{#created}} </time> {{/created}}',e.exports["status/tweet_translation.mustache"]='<div class="js-tweet-translation in-tweet-divider"> <p class="tweet-translation-attribution-text block txt-uppercase padding-vl txt-mute"> {{#localizedLanguageName}}{{_i}}Translated from {{localizedLanguageName}} by {{>text/bing_translator_link}}{{/i}}{{/localizedLanguageName}} {{^localizedLanguageName}}{{_i}}Translated by {{>text/bing_translator_link}}{{/i}}{{/localizedLanguageName}} </p> <p class="js-tweet-translation-text tweet-translation-text">{{#translation}}{{{htmltext}}}{{/translation}}</p> </div>',e.exports["stream_item.mustache"]='<article class="stream-item js-stream-item {{#withDragHandle}} is-draggable {{/withDragHandle}} {{$stream_item_classes}}{{/stream_item_classes}}" {{$stream_item_data}}{{/stream_item_data}} {{#withDragHandle}} data-drag-type="tweet" data-tweet-id="{{#getMainTweet}}{{id}}{{/getMainTweet}}" {{/withDragHandle}}> <div class="js-stream-item-content item-box {{$stream_item_content_classes}}{{/stream_item_content_classes}}">  {{$content}}{{/content}}  </div> </article>',e.exports["suggest_refresh.mustache"]='<div class="pin-right pin-bottom-only margin-r--20 margin-b--20 padding-v--6 padding-r--10 padding-l--12 bg-twitter-faint-gray txt-twitter-dark-black z-index--1 br-1 bs-1"> {{_i}}A new version of TweetDeck is available!{{/i}} <button class="js-suggest-refresh--refresh btn btn-positive margin-l--6">{{_i}}Refresh{{/i}}</button> <a href="#" class="js-suggest-refresh--dismiss link-normal-dark margin-l--6"><i class="icon icon-close icon-tb txt-twitter-gray"></i></a> </div>',e.exports["team_invitations.mustache"]='<div class="padding-vxl"> <p class="txt-r-medium-gray txt-size--13 padding-hxl padding-bxl account-settings-bb"> {{_i}}You\'ve been invited to contribute to these Twitter accounts.{{/i}} <a href="https://support.twitter.com/articles/20171753-using-team-accounts-on-tweetdeck" target="_blank" rel="url noopener noreferrer">{{_i}}Learn more{{/i}}</a>. </p> {{#invitations}} <div class="js-account-settings-invited-row padding-vl padding-hxl bg-r-white position-rel account-settings-bb" data-account-key="{{accountKey}}" {{#isAdmin}}data-user-is-admin{{/isAdmin}} data-user-id="{{userId}}"> <div class="js-account-settings-summary nbfc flex-auto"> <a href="{{profileURL}}" class="link-complex" rel="user" target="_blank"> {{>account_settings_account_summary}} </a> </div> <div class="flex-row flex margin-t--12"> <button class="js-account-action btn btn-positive flex-grow--1 margin-r--5" data-action="inviteAccept" data-account-key="{{accountKey}}">Accept</button> <button class="js-account-action btn btn-negative flex-grow--1 margin-l--5" data-action="inviteCancel" data-account-key="{{accountKey}}">Decline</button> </div> </div> {{/invitations}} </div>',e.exports["text/already_registered.mustache"]='{{_i}}There\'s already a TweetDeck account for that email address.{{/i}} <a href="#" data-action="forgotPassword">{{_i}}Want to recover your password?{{/i}}</a>',e.exports["text/b.mustache"]="<b>{{{content}}}</b>",e.exports["text/bing_translator_link.mustache"]='<a href="http://aka.ms/Twitter2BingTranslator" rel="url noopener noreferrer" target="_blank" class="inline-block align-middle sprite bing-logo"></a>',e.exports["text/br.mustache"]="<br>",e.exports["text/close_em.mustache"]="</em>",e.exports["text/close_strong.mustache"]="</strong>",e.exports["text/em.mustache"]="<em>",e.exports["text/favorite_action.mustache"]="{{#account}} {{^isFavorite}} {{_i}}Like from {{getUsername}}{{/i}} {{/isFavorite}} {{#isFavorite}} {{_i}}Unlike from {{getUsername}}{{/i}} {{/isFavorite}} {{/account}}",e.exports["text/followers_you_follow_link.mustache"]='<a href="https://www.twitter.com/{{screenName}}/followers_you_follow" target="_blank">{{_i}}more{{/i}}</a>',e.exports["text/gallery_flag_media.mustache"]='<a class="js-media-flag-nsfw med-flaglink {{#flagged}}is-hidden{{/flagged}}" href="#">{{_i}}Flag media{{/i}}</a> <a class="js-media-flagged-nsfw med-flaglink {{^flagged}}is-hidden{{/flagged}}" href="https://support.twitter.com/articles/20069937" rel="url" target="_blank">{{_i}}Flagged (learn more){{/i}}</a>',e.exports["text/gallery_original_link.mustache"]='<a href="{{url}}" class="med-origlink" rel="url noopener noreferrer" target="_blank">{{_i}}View original{{/i}}</a>',e.exports["text/global_filter_value.mustache"]="&ldquo;<em>{{value}}</em>&rdquo;",e.exports["text/hashflag.mustache"]='{{#hashFlagUrl}}<img class="hashflag" draggable="false" src="{{hashFlagUrl}}">{{/hashFlagUrl}}',e.exports["text/list_link_real_name.mustache"]='<a href="https://twitter.com/{{#user}}{{screenName}}{{/user}}/lists/{{slug}}" rel="list" data-screen-name="{{#user}}{{screenName}}{{/user}}" data-slug="{{slug}}" target="_blank">{{name}}</a>',e.exports["text/list_link_slug.mustache"]='<a href="https://twitter.com/{{#user}}{{screenName}}{{/user}}/lists/{{slug}}" rel="list" data-screen-name="{{#user}}{{screenName}}{{/user}}" data-slug="{{slug}}" target="_blank">{{fullName}}</a>',e.exports["text/login_verification_link.mustache"]='<a href="http://support.twitter.com/articles/20170388-using-login-verification" rel="url" target="_blank" class="startflow-link">{{_i}}login verification{{/i}}</a>',e.exports["text/open_strong.mustache"]="<strong>",e.exports["text/profile_link.mustache"]='<a href="https://twitter.com/{{#user}}{{screenName}}{{/user}}/{{slug}}" rel="user" data-user-name="{{#user}}{{screenName}}{{/user}}" class="link-complex" target="_blank"><span>@</span><span class="link-complex-target">{{#user}}{{screenName}}{{/user}}</span></a>',e.exports["text/retweet_by_link.mustache"]='<a href="{{getProfileURL}}" rel="user" target="_blank">{{name}}</a>',e.exports["text/screenname_txt.mustache"]="@{{inReplyToScreenName}}",e.exports["text/search_link.mustache"]='<a href="https://twitter.com/search?q={{escapedSymbol}}{{searchTerm}}" rel="hashtag" target="_blank" class="link-complex"><span class="hash">{{symbol}}</span><span class="link-complex-target">{{searchTerm}}</span>{{>text/hashflag}}</a>',e.exports["text/social_proof_link.mustache"]='<a href="https://twitter.com/{{screenName}}" rel="user" target="_blank">{{{emojifiedName}}}</a>',e.exports["text/strong.mustache"]="<strong> {{#text}} {{text}} {{/text}} {{^text}} {{#name}} {{name}} {{/name}} {{/text}} {{{html}}} </strong>",e.exports["text/user_link_fullname.mustache"]='<a class="account-link {{#withBold}}txt-bold{{/withBold}}" href="{{profileUrl}}" rel="user" target="_blank">{{#unsafe}}{{{name}}}{{/unsafe}}{{^unsafe}}{{name}}{{/unsafe}}</a>',e.exports["text/user_link_screenname.mustache"]='<a href="{{getProfileURL}}" rel="user" class="pretty-link" target="_blank">@{{screenName}}</a>',e.exports["topbar/app_header.mustache"]='<header class="js-app-header pin-all app-header"> <div class="js-app-header-inner pin-v app-header-inner">  <button class="js-show-drawer js-show-tip btn btn-compose margin-bm tweet-button" title="{{_i}}New Tweet{{/i}}" data-tooltip-position="right" data-drawer="compose"> <i class="icon icon-compose"></i> <span class="label margin-an">{{_i}}New Tweet{{/i}}</span> </button>  <div class="attach-compose-buttons">\x3c!-- wrap close button as it has different padding --\x3e <button class="js-hide-drawer btn btn-compose margin-bm tweet-button is-hidden" data-drawer="compose"> <i class="icon icon-compose" data-tweet-type="tweet reply"></i> <i class="icon icon-compose-dm icon-large" data-tweet-type="message"></i> </button> </div>  <div class="js-search js-overlay app-search"> <button class="js-header-action js-show-tip app-search-fake padding-al margin-bm" data-action="show-search" title="{{_i}}Search{{/i}}" data-tooltip-position="right"> <i class="icon icon-search"></i> </button> <form class="js-search-form app-search-form full-width"> <label class="is-vishidden">{{_i}}Search{{/i}}</label> {{>search_input}} </form> <div class="js-search-in-popover"></div> </div>  <div class="js-column-nav-scroller column-navigator antiscroll-wrap"> <nav id="column-navigator" class="js-column-nav scroll-v antiscroll-inner"></nav> </div>  <nav class="app-navigator margin-bm padding-ts"> <a class="js-header-action js-app-add-column link-clean cf app-nav-link padding-h--10 with-nav-border-t" data-action="add-column" data-title="{{_i}}Add column{{/i}}"> <div class="obj-left margin-l--2"> <i class="icon icon-plus icon-medium"></i> </div> <div class="nbfc padding-ts hide-condensed txt-size--16">{{_i}}Add column{{/i}}</div> </a> <a class="js-header-action link-clean cf app-nav-link padding-h--10" data-action="change-sidebar-width" data-title="{{_i}}Expand{{/i}}"> <div class="obj-left margin-l--2"> <i class="icon icon-arrow-l-double icon-medium"></i> <i class="icon icon-arrow-r-double icon-medium"></i> </div> <div class="nbfc padding-ts hide-condensed txt-size--16">{{_i}}Collapse{{/i}}</div> </a>  <a class="js-show-drawer js-header-action link-clean cf app-nav-tab"  data-title="{{_i}}Accounts{{/i}}" data-drawer="accountSettings"> <div class="obj-left margin-l--2"> <i class="icon icon-user-switch icon-medium position-rel"> <span class="js-invite-count msg-unread-count numbered-badge numbered-badge-onnav"></span> </i> </div> <div class="nbfc padding-ts hide-condensed txt-size--16">{{_i}}Accounts{{/i}}</div> </a>  <a class="js-hide-drawer position-rel link-clean cf app-nav-tab bg-twitter-faint-gray txt-r-text is-hidden is-selected"  data-title="{{_i}}Accounts{{/i}}" data-drawer="accountSettings"> <div class="obj-left margin-l--2"> <i class="icon icon-user-switch icon-medium"></i> </div> <div class="nbfc padding-ts hide-condensed txt-size--16">{{_i}}Accounts{{/i}}</div> </a>  <a class="js-header-action js-app-settings link-clean cf app-nav-link padding-h--10" data-action="settings-menu" data-title="{{_i}}Settings{{/i}}"> <div class="obj-left margin-l--2"> <i class="icon icon-settings icon-medium"></i> </div> <div class="nbfc padding-ts hide-condensed txt-size--16">{{_i}}Settings{{/i}}</div> </a>   </nav>  <div class="js-account-summary"/>  <h1 class="app-title"> <i class="sprite sprite-logo"></i> <i class="sprite sprite-logo-badge"></i> <span class="is-vishidden">TweetDeck</span> </h1> </div>  </header>',e.exports["topbar/message_banner.mustache"]='<div class="message-content padding-hl padding-vm"> <span class="message-text padding-r--20"> {{text}} {{#actions}} <a class="btn {{buttonClass}} margin-l--10" data-action-id="{{actionId}}" {{#isExternalUrl}} href="{{url}}" rel="url" {{/isExternalUrl}}> {{label}} </a> {{/actions}} </span>  {{^isUndismissable}} <a href="#" class="js-dismiss dismiss"> <i class="icon icon-close txt-r-white"></i> </a> {{/isUndismissable}}  </div>',e.exports["topbar/navbar_account_summary.mustache"]='<a data-user-name="{{screenName}}" href="#" rel="user"> <div class="nav-user-info cf margin-r--6 txt-size--14"> <img class="obj-left tweet-avatar avatar size36 margin-h--6" src="{{profileImageURL}}" width="36" height="36" alt="{{screenName}}\'s avatar">  <div class="nbfc hide-condensed margin-t--2"> <div class="{{#isBadged}}fullname-badged-container{{/isBadged}}"> <span class="fullname txt-ellipsis inline-block txt-size--14 {{#isBadged}}fullname-badged{{/isBadged}} {{#isTranslator}}badge-translator{{/isTranslator}} {{#isVerified}}badge-verified{{/isVerified}} position-rel"> {{{emojifiedName}}} </span> </div> <span class="username txt-ellipsis inline-block txt-size--12"> @{{screenName}} {{#isProtected}} <i class="icon icon-protected icon-match-context icon-tt"></i> {{/isProtected}} </span> </div> </div> </a>',e.exports["try_search_query_button.mustache"]='<button class="js-try-query try-query Button Button--xsmall is-invisible flex-shrink--0 margin-l--28" data-query="{{query}}"> {{_i}}Try{{/i}} </button>',e.exports["twitter_profile.mustache"]='<div class="{{#loading}}is-loading{{/loading}}"> {{#loading}} <img src="{{#asset}}/web/assets/global/backgrounds/spinner_large_white.gif{{/asset}}" alt="{{_i}}Loading…{{/i}}"> {{/loading}} {{^loading}} <a href="#" class="js-dismiss mdl-dismiss link-normal-dark"> <i class="icon icon-close txt-r-white"></i> </a> {{/loading}}  {{#twitterProfile}} <div class="s-profile prf"> {{#profile}} <div class="prf-header" style="background-image: url({{profileBannerURL}})"> <div class="prf-header-inner-overlay"></div> <div class="width-p--85 margin-a-auto position-rel padding-b--20"> <a class="js-action-url link-clean" href="{{getProfileURL}}" target="_blank"> <span class="prf-img"> <img src="{{biggerProfileImageURL}}" class="avatar size73 avatar-border--2"> </span>  <strong class="fullname txt-size--24 hyphenate">{{{emojifiedName}}} {{#isVerified}}<i title="{{_i}}Verified account{{/i}}" class="js-show-tip sprite sprite-verified"></i>{{/isVerified}}{{#isTranslator}}<i title="{{_i}}Translator{{/i}}" class="js-show-tip sprite sprite-translator"></i>{{/isTranslator}}</strong> <p class="username">@{{screenName}}{{#isProtected}}<i class="icon icon-protected"></i>{{/isProtected}}<span class="prf-follow-status">{{_i}}Follows @{{preferredAccount}}{{/i}}</span></p> </a> <p class="prf-bio">{{{bio}}}</p> <p class="location txt-ellipsis"> {{location}}{{#getDisplayURL}}{{#location}}&nbsp;&nbsp;<strong>&middot;</strong>&nbsp;&nbsp;{{/location}}<a href="{{url}}" class="prf-siteurl js-action-url" target="_blank">{{getDisplayURL}}</a>{{/getDisplayURL}} </p> </div> </div> {{/profile}}  <div class="prf-actions"> {{> profile_card_stats}}  <div class="js-social-proof social-proof-container txt-size--13 cf padding-al is-hidden"></div>  <div class="js-profile-columns"> <ul class="lst-profile cf"> {{#displayOrderProfile}} <li class="js-item-launch {{class}}" data-action="open" data-type="{{type}}"> <a href="#"> <i class="icon {{columnIconClass}}"></i> <span class="txt-ellipsis">{{title}}</span> </a> </li> {{/displayOrderProfile}} </ul> </div> </div> </div> {{/twitterProfile}} </div>',e.exports["twitter_profile_social_proof.mustache"]='<p class="pull-left">{{_i}}Followed by{{/i}} </p><p class="social-proof-names pull-right">{{{followedByString}}}{{#others}} and {{{others}}}{{/others}}.</p>',e.exports["typeahead/typeahead_conversations.mustache"]='{{#chirp}} <li class="js-typeahead-item js-typeahead-conversation-item is-actionable list-item item-box" data-search-type="conversation" data-search-query="{{title}}" data-conversation-id="{{conversationId}}" data-account-key="{{accountKey}}" data-profile-image-url="{{profile_image_url_https}} "> <div class="account-summary cf"> <div class="obj-left item-img-24"> {{^withMultipleAvatars}} {{#avatars.0}} <img class="pull-left" src="{{profileImageURL}}" width="24" height="24" alt="{{screenName}}\'s avatar"> {{/avatars.0}} {{/withMultipleAvatars}} {{#withMultipleAvatars}} <div class="pull-left media-grid-container multiple-avatar-grid-mini "> <div class="{{avatarsClass}}"> {{#avatars}} <div class="media-image-container media-image-container-mini"> <div class="media-image block position-rel" style="background-image: url({{profileImageURL}});" ></div> </div> {{/avatars}} </div> </div> {{/withMultipleAvatars}} </div> <div class="nbfc"> <div class="list-text link-complex inline-block"> {{#getConversationTitleInformation}} {{#name}} <b class="fullname block txt-ellipsis">{{{name}}}</b> {{/name}} {{^name}} {{#isOneToOne}} {{#participants.0}} <b class="fullname block txt-ellipsis">{{name}}</b> @{{screenName}} {{/participants.0}} {{/isOneToOne}} {{#isThreeway}} <b class="fullname block txt-ellipsis"> {{#participants.0}} {{name}}, {{/participants.0}} {{#participants.1}} {{name}} {{/participants.1}} </b> {{/isThreeway}} {{#isOneToMany}} {{#participants.0}} <b class="fullname block txt-ellipsis">{{name}}</b> + {{numberOfOtherParticipants}} {{/participants.0}} {{/isOneToMany}} {{/name}} {{/getConversationTitleInformation}} </div> </div> </div> </li> {{/chirp}}',e.exports["typeahead/typeahead_dropdown.mustache"]='<div class="js-typeahead-dropdown margin-t--6 scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"> <div class="js-typeahead-recent-search-clear js-typeahead-item recent-search-clear is-actionable txt-r-text-link pull-right margin-r--12 margin-t--6 padding-t--2" data-search-type="recent-search-clear" data-search-query="recent-search-clear"> {{_i}}Clear all{{/i}} </div> <ul class="js-typeahead-recent-search-list is-hidden"></ul> <ul class="js-typeahead-saved-search-list is-hidden"></ul> <ul class="js-typeahead-topic-list is-hidden"></ul> <ul class="js-typeahead-user-list is-hidden"></ul> <ul class="js-typeahead-conversation-list is-hidden list-divider"></ul> <ul class="js-typeahead-lists-list is-hidden list-divider"></ul> </div>',e.exports["typeahead/typeahead_lists.mustache"]='{{#lists}} <li class="js-typeahead-item js-typeahead-list-item list-item is-actionable item-box" data-search-type="list" data-search-query="{{query}}"> <div class="list-summary cf"> <div class="obj-left item-img-24"> <i class="icon icon-list icon-medium list-icon"></i> </div> <div class="nbfc"> <div class="list-text link-complex inline-block"> <b class="fullname block txt-ellipsis">{{name}}</b> <span class="username block txt-ellipsis txt-mute">@{{screenName}}</span> </div> </div> </div> </li> {{/lists}}',e.exports["typeahead/typeahead_locations.mustache"]='{{#locations}} <li class="js-typeahead-item js-typeahead-location-item is-actionable list-item item-box" data-search-type="location" data-location-name="{{fullName}}" data-location-lat="{{lat}}" data-location-lng="{{lng}}"> {{fullName}} </li> {{/locations}}',e.exports["typeahead/typeahead_recent_searches.mustache"]='<h4 class="padding-h--12 padding-t--6 padding-b--6 txt-bold txt-r-dark-gray"> {{_i}}Recent searches{{/i}} </h4> {{#recentSearches}} <li class="js-typeahead-item js-typeahead-recent-search-item list-item padding-v--10 padding-h--12 is-actionable item-box" data-search-type="recent-search" data-search-query="{{query}}"> <div class="nfbc txt-ellipsis width-p--94">{{{name}}}</div> <i class="remove-recent-search-item icon icon-close icon-small pin-right margin-r--12 margin-t---17"></i> </li> {{/recentSearches}}',e.exports["typeahead/typeahead_saved_searches.mustache"]='{{#savedSearches}} <li class="js-typeahead-item js-typeahead-saved-search-item list-item is-actionable item-box" data-search-type="saved-search" data-search-query="{{query}}"> <div class="obj-left item-img-24"> <i class="icon icon-search icon-medium list-icon"></i> </div> <div class="nfbc list-text txt-ellipsis">{{{name}}}</div> </li> {{/savedSearches}}',e.exports["typeahead/typeahead_topics.mustache"]='{{#topics}} <li class="js-typeahead-item js-typeahead-topic-item list-item is-actionable item-box padding-v--8 padding-h--12" data-search-type="topic" data-search-query="{{topic}}"> <div class="nfbc list-text txt-ellipsis">{{{name}}}</div> </li> {{/topics}}',e.exports["typeahead/typeahead_users.mustache"]='{{! NB: this template assumes data is in format provided by typeahead, not standard user object}} {{#users}} <li class="js-typeahead-item js-typeahead-user-item is-actionable list-item item-box" data-search-type="user" data-search-query="{{screen_name}}" data-screen-name="{{screen_name}}" data-user-name="{{name}}" data-user-id="{{id}}" data-profile-image-url="{{profile_image_url_https}} "> <div class="account-summary cf"> <div class="obj-left item-img-32"> <img class="js-avatar tweet-avatar avatar size32 pull-right" src="{{profile_image_url_https}}" width="32" height="32" /> </div> <div class="nbfc"> <div class="list-text link-complex inline-block max-width-p--100"> <b class="fullname block txt-ellipsis">{{{emojifiedName}}} {{#verified}}<i class="sprite sprite-verified-mini"></i>{{/verified}} </b> <span class="username block txt-ellipsis txt-mute">@{{screen_name}}</span> </div> </div> </div> </li> {{/users}} <li class="js-typeahead-item js-typeahead-user-item is-actionable list-item item-box" data-search-query="{{query}}" data-search-type="topic" data-search-scope="users"> Search all people for <strong>{{query}}</strong> </li>',e.exports["typeahead/typeahead_users_compose.mustache"]='{{#users}} <li class="js-typeahead-item js-typeahead-user-item typeahead-item padding-am cf is-actionable" data-search-type="user" data-search-query="{{screen_name}}" data-screen-name="{{screen_name}}" data-user-name="{{name}}" data-user-id="{{id_str}}" data-user-is-dm-able="{{is_dm_able}}" data-profile-image-url="{{profile_image_url_https}}" data-verified="{{verified}}"> <img src="{{profile_image_url_https}}" class="avatar obj-left size24"> <div class="nbfc txt-ellipsis padding-ts"> <strong class="fullname">{{{emojifiedName}}}</strong> {{#verified}}<i class="js-show-tip sprite sprite-verified-mini txt-bot" title="{{_i}}Verified account{{/i}}"></i>{{/verified}} <span class="username"><span>@</span><span class="js-screenname">{{screen_name}}</span></span> </div> </li> {{/users}}',e.exports["user_actions_btn_inv.mustache"]='<div class="follow-combo"> <span> <button class="js-user-actions-menu btn btn-square" data-user-id="{{profile.id}}" data-menu-position="{{actionsMenuPosition}}"> <i class="icon icon-more"></i> </button> </span> </div>',e.exports["user_selector.mustache"]='<div class="js-search-input-control search-input-control"> <input class="js-username-input js-submittable-input" type="text" placeholder="{{placeholder}}" value="" > {{#withSelectButton}} <a href="#" class="js-select-button txt-size--14 search-input-perform-search" tabindex="-1"> <i class="icon icon-small {{selectButtonIconClass}}"></i> </a> {{/withSelectButton}} <a href="#" class="js-clear-search txt-size--14 search-input-clear-search" tabindex="-1"> <i class="icon icon-close icon-small"></i> </a> <span class="js-spinner txt-size--14 spinner-small spinner-small-trans search-input-spinner"></span> </div>',e.exports["version.mustache"]="Version {{version}}{{#buildIDShort}}-{{buildIDShort}}{{/buildIDShort}} ({{#wrapperVersion}}{{wrapperVersion}}-{{/wrapperVersion}}{{appEnv}}{{#isTouchDevice}}-touch{{/isTouchDevice}})",e.exports["video_preview.mustache"]='<div class="js-video-container video-container is-hidden position-rel txt-r-white"> <video preload="auto" class="br--4" poster width="100%"></video> <div class="js-custom-video-controls"></div> </div> <div class="js-processing-video full-width height--125 br--4 bg-twitter-deep-black"> <div class="processing-video-spinner"></div> <div class="txt-r-white padding-t--8">{{_i}}Loading preview{{/i}}</div> </div>'},function(e,t){!function(e){function t(t,i){this.el=e(t),this.options=i||{},this.x=!1!==this.options.x||this.options.forceHorizontal,this.y=!1!==this.options.y||this.options.forceVertical,this.autoHide=!1!==this.options.autoHide,this.padding=void 0==this.options.padding?2:this.options.padding,this.position=this.options.position,this.showOnMouseOver=!1!==this.options.showOnMouseOver,this.inner=this.el.find(".antiscroll-inner"),this.inner.css({right:this.y?-s()+"px":0,bottom:this.x?-s()+"px":0}),this.refresh()}function i(t){this.pane=t,this.pane.el.append(this.el),this.innerEl=this.pane.inner.get(0),this.dragging=!1,this.enter=!1,this.shown=!1,this.pane.el.mouseenter(e.proxy(this,"mouseenter")),this.pane.el.mouseleave(e.proxy(this,"mouseleave")),this.el.mousedown(e.proxy(this,"mousedown")),this.innerPaneScrollListener=e.proxy(this,"scroll"),this.pane.inner.scroll(this.innerPaneScrollListener),this.innerPaneMouseWheelListener=e.proxy(this,"mousewheel"),this.pane.inner.bind("mousewheel",this.innerPaneMouseWheelListener);var i=this.pane.options.initialDisplay;!1!==i&&(this.show(),this.pane.autoHide&&(this.hiding=setTimeout(e.proxy(this,"hide"),parseInt(i,10)||3e3)))}function n(e,t){function i(){}i.prototype=t.prototype,e.prototype=new i}function s(){if(void 0===r){var t=e('<div class="antiscroll-inner" style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"></div>');e("body").append(t);var i=e(t).innerWidth(),n=e("div",t).innerWidth();e(t).remove(),r=i-n}return r}e.fn.antiscroll=function(t){return this.each(function(){e(this).data("antiscroll")&&e(this).data("antiscroll").destroy(),e(this).data("antiscroll",new e.Antiscroll(this,t))})},e.Antiscroll=t,t.prototype.refresh=function(){var e=this.inner.get(0).scrollWidth>this.el.width()+(this.y?s():0),t=this.inner.get(0).scrollHeight>this.el.height()+(this.x?s():0);this.x&&(!this.horizontal&&e?this.horizontal=new i.Horizontal(this):this.horizontal&&!e?(this.horizontal.destroy(),this.horizontal=null):this.horizontal&&this.horizontal.update()),this.y&&(!this.vertical&&t?this.vertical=new i.Vertical(this):this.vertical&&!t?(this.vertical.destroy(),this.vertical=null):this.vertical&&this.vertical.update())},t.prototype.destroy=function(){return this.horizontal&&(this.horizontal.destroy(),this.horizontal=null),this.vertical&&(this.vertical.destroy(),this.vertical=null),this},t.prototype.rebuild=function(){return this.destroy(),this.inner.attr("style",""),t.call(this,this.el,this.options),this},i.prototype.destroy=function(){return this.el.remove(),this.pane.inner.unbind("scroll",this.innerPaneScrollListener),this.pane.inner.unbind("mousewheel",this.innerPaneMouseWheelListener),this},i.prototype.mouseenter=function(){this.enter=!0,this.pane.showOnMouseOver&&this.show()},i.prototype.mouseleave=function(){this.enter=!1,this.dragging||this.pane.autoHide&&this.hide()},i.prototype.scroll=function(){this.shown||(this.show(),!this.dragging&&this.pane.autoHide&&(this.hiding=setTimeout(e.proxy(this,"hide"),1e3))),this.update()},i.prototype.mousedown=function(t){t.preventDefault(),this.dragging=!0,this.startPageY=t.pageY-parseInt(this.el.css("top"),10),this.startPageX=t.pageX-parseInt(this.el.css("left"),10),this.el[0].ownerDocument.onselectstart=function(){return!1};var i=(this.pane,e.proxy(this,"mousemove")),n=this;e(this.el[0].ownerDocument).mousemove(i).mouseup(function(){n.dragging=!1,this.onselectstart=null,e(this).unbind("mousemove",i),n.enter||n.hide()})},i.prototype.show=function(e){this.hiding&&(clearTimeout(this.hiding),this.hiding=null),!this.shown&&this.update()&&(this.el.addClass("antiscroll-scrollbar-shown"),this.shown=!0)},i.prototype.hide=function(){!1!==this.pane.autoHide&&this.shown&&(this.el.removeClass("antiscroll-scrollbar-shown"),this.shown=!1)},i.Horizontal=function(t){var n=document;t.el.length>0&&(n=t.el[0].ownerDocument),this.el=e('<div class="antiscroll-scrollbar antiscroll-scrollbar-horizontal">',n),i.call(this,t)},n(i.Horizontal,i),i.Horizontal.prototype.update=function(){var e=this.pane.el.width(),t=e-2*this.pane.padding,i=this.pane.inner.get(0);return this.el.css("width",t*e/i.scrollWidth).css("left",t*i.scrollLeft/i.scrollWidth),e<i.scrollWidth},i.Horizontal.prototype.mousemove=function(e){var t=this.pane.el.width()-2*this.pane.padding,i=e.pageX-this.startPageX,n=this.el.width(),s=this.pane.inner.get(0),r=Math.min(Math.max(i,0),t-n);s.scrollLeft=(s.scrollWidth-this.pane.el.width())*r/(t-n)},i.Horizontal.prototype.mousewheel=function(e,t,i,n){if(i<0&&0==this.pane.inner.get(0).scrollLeft||i>0&&this.innerEl.scrollLeft+Math.ceil(this.pane.el.width())==this.innerEl.scrollWidth)return e.preventDefault(),!1},i.Vertical=function(t){var n=document;t.el.length>0&&(n=t.el[0].ownerDocument),this.el=e('<div class="antiscroll-scrollbar antiscroll-scrollbar-vertical">',n),this.el.addClass("left"===t.position?"antiscroll-scrollbar-position-left":"antiscroll-scrollbar-position-right"),i.call(this,t)},n(i.Vertical,i),i.Vertical.prototype.update=function(){var e=this.pane.el.height(),t=e-2*this.pane.padding,i=this.innerEl,n=t*e/i.scrollHeight;n=n<20?20:n;var s=t*i.scrollTop/i.scrollHeight;if(s+n>t){s=s-(s+n-t)-3}return this.el.css("height",n).css("top",s),e<i.scrollHeight},i.Vertical.prototype.mousemove=function(e){var t=this.pane.el.height(),i=t-2*this.pane.padding,n=e.pageY-this.startPageY,s=this.el.height(),r=this.innerEl,o=Math.min(Math.max(n,0),i-s);r.scrollTop=(r.scrollHeight-t)*o/(i-s)},i.Vertical.prototype.mousewheel=function(e,t,i,n){if(n>0&&0==this.innerEl.scrollTop||n<0&&this.innerEl.scrollTop+Math.ceil(this.pane.el.height())==this.innerEl.scrollHeight)return e.preventDefault(),!1};var r}(jQuery)},function(e,t){!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,i,n){var s,r,o,a,c;for(this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.enabled=!0,o=this.options.trigger.split(" "),c=o.length;c--;)a=o[c],"click"==a?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=a&&(s="hover"==a?"mouseenter":"focus",r="hover"==a?"mouseleave":"blur",this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);if(!i.options.delay||!i.options.delay.show)return i.show();clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)},leave:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!i.options.delay||!i.options.delay.hide)return i.hide();i.hoverState="out",this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)},show:function(){var t,i,n,s,r,o,a=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),t.detach(),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),r=this.getPlacement(),t.css({top:"object"==typeof r?r.top:0,left:"object"==typeof r?r.left:0,display:"block"}),i=this.getPosition(),n=t[0].offsetWidth,s=t[0].offsetHeight,this.elementOffset=this.$element.offset();var c=function(){var e=this.$element.closest("body").length>0,t=this.$element.offset(),i=this.elementOffset&&(this.elementOffset.top!=t.top||this.elementOffset.left!=t.left);e&&!i||this.hide()};switch(this.interval&&clearTimeout(this.interval),this.interval=setInterval(function(){requestAnimationFrame(c.bind(this))}.bind(this),500),r){case"bottom":o={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":o={top:i.top-s,left:i.left+i.width/2-n/2};break;case"left":o={top:i.top+i.height/2-s/2,left:i.left-n};break;case"right":o={top:i.top+i.height/2-s/2,left:i.left+i.width}}this.applyPlacement(o,r.className||r),this.$element.trigger("shown")}},applyPlacement:function(e,t){var i,n,s,r,o=this.tip(),a=o[0].offsetWidth,c=o[0].offsetHeight;o.offset(e).addClass("string"==typeof t?t:t.placement).addClass("in"),i=o[0].offsetWidth,n=o[0].offsetHeight,"top"==t&&n!=c&&(e.top=e.top+c-n,r=!0),"bottom"==t||"top"==t?(s=0,e.left<0&&(s=-2*e.left,e.left=0,o.offset(e),i=o[0].offsetWidth,n=o[0].offsetHeight),this.replaceArrow(s-a+i,i,"left")):this.replaceArrow(n-c,n,"top"),r&&o.offset(e)},replaceArrow:function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){var t=this.tip(),i=e.Event("hide");if(this.$element.trigger(i),!i.isDefaultPrevented())return t.removeClass("in"),!this.options.suppressFadeOut&&e.support.transition&&this.$tip.hasClass("fade")?function(){var i=setTimeout(function(){t.off(e.support.transition.end).detach()},500);t.one(e.support.transition.end,function(){clearTimeout(i),t.detach()})}():t.detach(),this.elementOffset=null,clearInterval(this.interval),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPlacement:function(){var e=this.$element,t=e.attr("data-tooltip-position");return t||(t="function"==typeof this.options.placement?this.options.placement.call(this,this.$tip[0],this.$element[0]):this.options.placement),t},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var i=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;i.tip().hasClass("in")?i.hide():i.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each(function(){var n=e(this),s=n.data("tooltip"),r="object"==typeof i&&i;s||n.data("tooltip",s=new t(this,r)),"string"==typeof i&&s[i]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(window.jQuery)},function(e,t){!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in i)if(void 0!==t.style[e])return i[e]}();return e&&{end:e}}()})}(window.jQuery)},function(e,t){/**
 * @license
 * jQuery Tools 1.2.5 Dateinput - <input type="date" /> for humans
 *
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 *
 * http://flowplayer.org/tools/form/dateinput/
 *
 * Since: Mar 2010
 * Date:    Wed Sep 22 06:02:10 2010 +0000
 */
!function(e){function t(e,t){return 32-new Date(e,t,32).getDate()}function i(e,t){for(e=""+e,t=t||2;e.length<t;)e="0"+e;return e}function n(e,t,n){var s=e.getDate(),r=e.getDay(),o=e.getMonth(),a=e.getFullYear(),c={d:s,dd:i(s),ddd:d[n].shortDays[r],dddd:d[n].days[r],m:o+1,mm:i(o+1),mmm:d[n].shortMonths[o],mmmm:d[n].months[o],yy:String(a).slice(2),yyyy:a},l=t.replace(h,function(e){return e in c?c[e]:e.slice(1,e.length-1)});return p.html(l).html()}function s(e){return parseInt(e,10)}function r(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}function o(e){if(e){if(e.constructor==Date)return e;if("string"==typeof e){var t=e.split("-");if(3==t.length)return new Date(s(t[0]),s(t[1])-1,s(t[2]));if(!/^-?\d+$/.test(e))return;e=s(e)}var i=new Date;return i.setDate(i.getDate()+e),i}}function a(i,a){function c(t,s,r){S=t,m=t.getFullYear(),g=t.getMonth(),v=t.getDate(),r=r||e.Event("api"),r.type="change",x.trigger(r,[t]),r.isDefaultPrevented()||(i.val(n(t,s.format,s.lang)),i.data("date",t),_.hide(r))}function h(e){e.type="onShow",x.trigger(e)}var p,f,m,g,v,T,_=this,y=new Date,w=a.css,b=d[a.lang],D=e("#"+w.root),C=D.find("#"+w.title),S=i.attr("data-value")||a.value||i.val(),E=i.attr("min")||a.min,I=i.attr("max")||a.max;if(0===E&&(E="0"),S=o(S)||y,E=o(E||365*a.yearRange[0]),I=o(I||365*a.yearRange[1]),!b)throw"Dateinput: invalid language: "+a.lang;if("date"==i.attr("type")){var A=e("<input/>");e.each("class,disabled,id,maxlength,name,readonly,required,size,style,tabindex,title,value".split(","),function(e,t){A.attr(t,i.attr(t))}),i.replaceWith(A),i=A}i.addClass(w.input);var x=i.add(_);if(!D.length){if(D=e("<div><div><div/></div><div><div/><div/></div></div>").hide().css({position:"relative"}).attr("id",w.root),D.children().eq(0).attr("id",w.head).end().eq(1).attr("id",w.body).children().eq(0).attr("id",w.days).end().eq(1).attr("id",w.weeks).end().end().end(),C=D.find("#"+w.head).find("div").attr("id",w.title),a.selectors){var k=e("<select/>").attr("id",w.month),M=e("<select/>").attr("id",w.year);C.html(k.add(M))}for(var O=D.find("#"+w.days),R=0;R<7;R++)O.append(e("<span/>").text(b.shortDays[(R+a.firstDay)%7]));e("#calendar").append(D)}var L=D.find("#"+w.weeks);M=D.find("#"+w.year),k=D.find("#"+w.month),e.extend(_,{show:function(t){if(!(i.attr("readonly")||i.attr("disabled")||T||(t=t||e.Event(),t.type="onBeforeShow",x.trigger(t),t.isDefaultPrevented()))){e.each(l,function(){this.hide()}),T=!0,k.unbind("change").change(function(){_.setValue(M.val(),e(this).val())}),M.unbind("change").change(function(){_.setValue(e(this).val(),k.val())}),p=D.find("#"+w.prev).unbind("click").click(function(e){return p.hasClass(w.disabled)||_.addMonth(-1),!1}),f=D.find("#"+w.next).unbind("click").click(function(e){return f.hasClass(w.disabled)||_.addMonth(),!1}),_.setValue(S);var n=i.offset();return/iPad/i.test(navigator.userAgent)&&(n.top-=e(window).scrollTop()),a.speed?D.show(a.speed,function(){h(t)}):(D.show(),h(t)),_}},setValue:function(i,n,o){var l=s(n)>=-1?new Date(s(i),s(n),s(o||1)):i||S;if(l<E?l=E:l>I&&(l=I),i=l.getFullYear(),n=l.getMonth(),o=l.getDate(),-1==n?(n=11,i--):12==n&&(n=0,i++),!T)return c(l,a),_;g=n,m=i,v=o;var u,d=new Date(i,n,1-a.firstDay),h=d.getDay(),D=t(i,n),A=t(i,n-1);if(a.selectors){k.empty(),e.each(b.months,function(t,n){E<new Date(i,t+1,-1)&&I>new Date(i,t,0)&&k.append(e("<option/>").html(n).attr("value",t))}),M.empty();for(var x=y.getFullYear(),O=x+a.yearRange[0];O<x+a.yearRange[1];O++)E<=new Date(O+1,-1,1)&&I>new Date(O,0,0)&&M.append(e("<option/>").text(O));k.val(n),M.val(i)}else C.html(b.months[n]+" "+i);L.empty(),p.add(f).removeClass(w.disabled);for(var R,F,N=h?0:-7;N<(h?42:35);N++)R=e("<a/>"),N%7==0&&(u=e("<div/>").addClass(w.week),L.append(u)),N<h?(R.addClass(w.off),F=A-h+N+1,l=new Date(i,n-1,F)):N>=h+D?(R.addClass(w.off),F=N-D-h+1,l=new Date(i,n+1,F)):(F=N-h+1,l=new Date(i,n,F),r(S,l)?R.attr("id",w.current).addClass(w.focus):r(y,l)&&R.attr("id",w.today)),E&&l<E&&R.add(p).addClass(w.disabled),I&&l>I&&R.add(f).addClass(w.disabled),R.attr("href","#"+F).text(F).data("date",l),u.append(R);return L.find("a").click(function(t){var i=e(this);return i.hasClass(w.disabled)||(e("#"+w.current).removeAttr("id"),i.attr("id",w.current),c(i.data("date"),a,t)),!1}),w.sunday&&L.find(w.week).each(function(){var t=a.firstDay?7-a.firstDay:0;e(this).children().slice(t,t+1).addClass(w.sunday)}),_},setMin:function(e,t){return E=o(e),t&&S<E&&_.setValue(E),_},setMax:function(e,t){return I=o(e),t&&S>I&&_.setValue(I),_},today:function(){return _.setValue(y)},addDay:function(e){return this.setValue(m,g,v+(e||1))},addMonth:function(e){return this.setValue(m,g+(e||1),v)},addYear:function(e){return this.setValue(m+(e||1),g,v)},hide:function(t){if(T){if(t=e.Event(),t.type="onHide",x.trigger(t),e(document).unbind("click.d").unbind("keydown.d"),t.isDefaultPrevented())return;D.hide(),T=!1}return _},getConf:function(){return a},getInput:function(){return i},getCalendar:function(){return D},getValue:function(e){return e?n(S,e,a.lang):S},isOpen:function(){return T}}),e.each(["onBeforeShow","onShow","change","onHide"],function(t,i){e.isFunction(a[i])&&e(_).bind(i,a[i]),_[i]=function(t){return t&&e(_).bind(i,t),_}}),i.bind("focus click",_.show).keydown(function(t){var i=t.keyCode;return!T&&e(u).index(i)>=0?(_.show(t),t.preventDefault()):!!(t.shiftKey||t.ctrlKey||t.altKey||9==i)||t.preventDefault()}),o(i.val())&&c(S,a)}e.tools=e.tools||{version:"1.2.5"};var c,l=[],u=[75,76,38,39,74,72,40,37],d={};c=e.tools.dateinput={conf:{format:"mm/dd/yy",selectors:!1,yearRange:[-5,5],lang:"en",offset:[0,0],speed:0,firstDay:0,min:void 0,max:void 0,trigger:!1,css:{prefix:"cal",input:"date",root:0,head:0,title:0,prev:0,next:0,month:0,year:0,days:0,body:0,weeks:0,today:0,current:0,week:0,off:0,sunday:0,focus:0,disabled:0,trigger:0}},localize:function(t,i){e.each(i,function(e,t){i[e]=t.split(",")}),d[t]=i}},c.localize("en",{months:"January,February,March,April,May,June,July,August,September,October,November,December",shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",days:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",shortDays:"S,M,T,W,T,F,S"});var h=/d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*'/g,p=e("<a/>");e.expr[":"].date=function(t){var i=t.getAttribute("type");return i&&"date"==i||!!e(t).data("dateinput")},e.fn.dateinput=function(t){if(this.data("dateinput"))return this;t=e.extend(!0,{},c.conf,t),e.each(t.css,function(e,i){i||"prefix"==e||(t.css[e]=(t.css.prefix||"")+(i||e))});var i;return this.each(function(){var n=new a(e(this),t);l.push(n);var s=n.getInput().data("dateinput",n);i=i?i.add(s):s}),i||this}}(jQuery)},function(e,t){!function(e){var t=function(t){function i(){var t=e(this).position().top+T.scrollTop(),i=e(this).position().left+T.scrollLeft(),n=e(this).innerWidth();p.top.unshift(t),p.left.unshift(i),e(this).css({position:"absolute",top:t,left:i,width:n})}function n(n){p={top:[],left:[]},e.fn.reverse=[].reverse,g=function(){var i=0;return T.find(t.contentSelector).each(function(){i+=e(this).outerHeight()}),i}(),v=function(){var i=0;return T.find(t.contentSelector).each(function(){i+=e(this).outerWidth()}),i}(),e(this).append(e("<"+t.tagName+"/>",{class:"placeholder",height:e(this).height(),width:e(this).width()})),T.css("z-index",2).find(t.selector).each(function(t){e(this).data("draggable-index",t)}).reverse().each(i),h=e(n.target),h.css({"z-index":10})}function s(e,i){var n,s,r=h.data("draggable-index"),o=e.data("draggable-index"),a=e.outerHeight()-h.outerHeight(),c=e.outerWidth()-h.outerWidth(),l=parseInt(h.css("margin-left"),10),u=parseInt(h.css("margin-top"),10),d=parseInt(e.css("margin-right"),10),f=parseInt(e.css("margin-bottom"),10);switch(i){case y:n=p.top[r]-a;break;case w:n=p.top[r],p.top[o]=n+e.outerHeight()+f+u;break;case b:s=p.left[r]-c;break;case D:s=p.left[r],p.left[o]=s+e.outerWidth()+d+l}"vertical"===t.orientation?e.stop().animate({top:n},"fast"):e.stop().animate({left:s},"fast"),h.data("draggable-index",o),e.data("draggable-index",r)}function r(e){var i,n,r,o,a,c=h.position().top,l=h.outerHeight(),u=h.position().left,d=h.outerWidth();if(i=e===y||e===b?h.prev(t.selector):h.next(t.selector),i.length)switch(n=i.position().top,r=i.outerHeight(),o=i.position().left,a=i.outerWidth(),e){case y:c<n+r/2&&(h.insertBefore(i),s(i,e));break;case w:c+l>n+r/2&&(h.insertAfter(i),s(i,e));break;case b:u<o+a/2&&(h.insertBefore(i),s(i,e));break;case D:u+d>o+a/2&&(h.insertAfter(i),s(i,e))}}function o(e){var i=(new Date).getTime()-m,n=T.scrollTop(),s=parseInt(h.css("top"),10),o=s+h.outerHeight(),a=T.scrollLeft(),l=parseInt(h.css("left"),10),u=l+h.outerWidth(),d=1+i/1e3,p=Math.min(d*t.scroll_speed,3*t.scroll_speed);p=e===w||e===D?p:-p,"vertical"===t.orientation?n+p<0?c():n+p>g-T.innerHeight()?c():(T.scrollTop(T.scrollTop()+p),s+p>0&&o+p<g&&h.css({top:s+p}),r(e)):a+p<0?c():a+p>v-T.innerWidth()?c():(T.scrollLeft(T.scrollLeft()+p),l+p>0&&u+p<v&&h.css({left:l+p}),r(e))}function a(e){m=(new Date).getTime(),c(),f=setInterval(_.bind(o,this,e),C)}function c(){clearInterval(f),f=null}function l(e,i,n){if(h){var s,o,l,u=parseInt(h.css("top"),10),d=u+h.outerHeight(),p=parseInt(h.css("left"),10),m=p+h.outerWidth(),g=T.scrollTop()+T.innerHeight(),v=T.scrollLeft()+T.innerWidth();if(i)if("vertical"===t.orientation){for(s=i.y<0?y:w,o=i.y;o<0;)r(s),o+=h.outerHeight();for(o=i.y;o>0;)r(s),o-=h.outerHeight()}else{for(s=i.x<0?b:D,l=i.x;l<0;)r(s),l+=h.outerWidth();for(l=i.x;l>0;)r(s),l-=h.outerWidth()}n?(n.y>T.offset().top||n.y<T.offset().top+T.outerHeight())&&c():c(),f||("vertical"===t.orientation?d>g?a(w):u<T.scrollTop()?a(y):c():m>v?a(D):p<T.scrollLeft()?a(b):c())}}function u(){e(this).find(".placeholder").remove(),T.css("height","").find(t.selector).attr("style",""),h.trigger("dropped.dragdroplist")}function d(){p&&(c(),"vertical"===t.orientation?h.animate({top:p.top[h.data("draggable-index")]},"fast",u.bind(this)):h.animate({left:p.left[h.data("draggable-index")]},"fast",u.bind(this)),h.trigger("drop.dragdroplist"))}var h,p,f,m,g,v,T=t.$boundary,y="up",w="down",b="left",D="right",C=30;return{handleDragStart:n,handleDrop:d,handleDrag:l}};e.fn.dragdroplist=function(i){var n={orientation:"vertical",tagName:"li",selector:".draggable",contentSelector:"> *",scroll_speed:8};return e(this).each(function(){var s,r,o=function(e){e.draggable({translateX:"horizontal"===r.orientation,translateY:"vertical"===r.orientation,handle:r.handle?r.handle:r.tagName,boundary:r.$boundary})};e(this).data("dragdroplist")||(r=e.extend({},n,i),r.$boundary=r.$boundary||e(this),e(this).data("dragdroplist",{settings:r}),s=new t(r),e(this).find(r.tagName).each(function(){o(e(this))}),e(this).bind("start.draggable",s.handleDragStart).bind("drop.draggable",s.handleDrop).bind("drag.draggable",s.handleDrag)),e(this).on("itemadded.dragdroplist",function(t){o(e(t.target))})}),e(this)}}(jQuery)},function(e,t){!function(e){e.fn.draggable=function(t){var i={translateY:!0,translateX:!0,boundary:"body"};return e(this).each(function(){function n(){h&&0!==h.length||(h="function"==typeof d.boundary?d.boundary():e(d.boundary))}function s(){return h[0].scrollHeight}function r(){return h[0].scrollWidth}function o(e,t,i){var n,o,a,c,l,u,d,p,f,m,g,T,_,y,w;"x"===i?(t=t.x,c=v.outerWidth(),n=v.offset().left,l=h.offset().left,u=h.outerWidth(),p=e.pageX<n,f=e.pageX>n+c,y="left",w=r()):(t=t.y,c=v.outerHeight(),n=v.offset().top,l=h.offset().top,u=h.outerHeight(),p=e.pageY<n,f=e.pageY>n+c,y="top",w=s()),T=t>0,_=t<0,o=parseInt(v.css(y),10),m=n<l,a=o+c,g=n+c>l+u,p&&T||f&&_||m&&_||g&&T||(d=_?o+t<0?0:o+t:a+t>w?w-c-1:o+t,v.css(y,d))}function a(e){var t={y:e.pageY-m,x:e.pageX-g},i=!1;m=e.pageY,g=e.pageX,e.preventDefault(),d.translateY&&(o(e,t,"y"),i=!0),d.translateX&&(o(e,t,"x"),i=!0),i&&v.trigger("drag.draggable",[t,{y:e.pageY,x:e.pageX}])}function c(){e(document).unbind("mousemove",l).unbind("mousemove",a).unbind("mouseup",c),T&&v.trigger("drop.draggable").removeClass("draggable-dragging"),T=!1}function l(t){T=!0,e(document).unbind("mousemove",l).bind("mousemove",a),m=t.pageY,g=t.pageX,n(),p=s(),f=r(),v.trigger("start.draggable",[t.offsetY,t.offsetX]).addClass("draggable-dragging")}function u(t){t.preventDefault(),e(document).bind("mousemove",l).bind("mouseup",c)}var d,h,p,f,m,g,v=e(this),T=!1;d=v.data("draggable")?e.extend({},v.data("draggable").settings,t):e.extend({},i,t),void 0===d.handle&&(d.handle=v),"string"==typeof d.handle?v.off("mousedown",d.handle,u).on("mousedown",d.handle,u):d.handle.unbind("mousedown",u).bind("mousedown",u),v.data("draggable",{settings:d})}),this}}(jQuery)},function(e,t){jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,n,s){return jQuery.easing[jQuery.easing.def](e,t,i,n,s)},easeInQuad:function(e,t,i,n,s){return n*(t/=s)*t+i},easeOutQuad:function(e,t,i,n,s){return-n*(t/=s)*(t-2)+i},easeInOutQuad:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t+i:-n/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,n,s){return n*(t/=s)*t*t+i},easeOutCubic:function(e,t,i,n,s){return n*((t=t/s-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,n,s){return n*(t/=s)*t*t*t+i},easeOutQuart:function(e,t,i,n,s){return-n*((t=t/s-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t*t+i:-n/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,n,s){return n*(t/=s)*t*t*t*t+i},easeOutQuint:function(e,t,i,n,s){return n*((t=t/s-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t*t*t+i:n/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,n,s){return-n*Math.cos(t/s*(Math.PI/2))+n+i},easeOutSine:function(e,t,i,n,s){return n*Math.sin(t/s*(Math.PI/2))+i},easeInOutSine:function(e,t,i,n,s){return-n/2*(Math.cos(Math.PI*t/s)-1)+i},easeInExpo:function(e,t,i,n,s){return 0==t?i:n*Math.pow(2,10*(t/s-1))+i},easeOutExpo:function(e,t,i,n,s){return t==s?i+n:n*(1-Math.pow(2,-10*t/s))+i},easeInOutExpo:function(e,t,i,n,s){return 0==t?i:t==s?i+n:(t/=s/2)<1?n/2*Math.pow(2,10*(t-1))+i:n/2*(2-Math.pow(2,-10*--t))+i},easeInCirc:function(e,t,i,n,s){return-n*(Math.sqrt(1-(t/=s)*t)-1)+i},easeOutCirc:function(e,t,i,n,s){return n*Math.sqrt(1-(t=t/s-1)*t)+i},easeInOutCirc:function(e,t,i,n,s){return(t/=s/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,n,s){var r=1.70158,o=0,a=n;if(0==t)return i;if(1==(t/=s))return i+n;if(o||(o=.3*s),a<Math.abs(n)){a=n;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(n/a);return-a*Math.pow(2,10*(t-=1))*Math.sin((t*s-r)*(2*Math.PI)/o)+i},easeOutElastic:function(e,t,i,n,s){var r=1.70158,o=0,a=n;if(0==t)return i;if(1==(t/=s))return i+n;if(o||(o=.3*s),a<Math.abs(n)){a=n;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(n/a);return a*Math.pow(2,-10*t)*Math.sin((t*s-r)*(2*Math.PI)/o)+n+i},easeInOutElastic:function(e,t,i,n,s){var r=1.70158,o=0,a=n;if(0==t)return i;if(2==(t/=s/2))return i+n;if(o||(o=s*(.3*1.5)),a<Math.abs(n)){a=n;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(n/a);return t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*s-r)*(2*Math.PI)/o)*-.5+i:a*Math.pow(2,-10*(t-=1))*Math.sin((t*s-r)*(2*Math.PI)/o)*.5+n+i},easeInBack:function(e,t,i,n,s,r){return void 0==r&&(r=1.70158),n*(t/=s)*t*((r+1)*t-r)+i},easeOutBack:function(e,t,i,n,s,r){return void 0==r&&(r=1.70158),n*((t=t/s-1)*t*((r+1)*t+r)+1)+i},easeInOutBack:function(e,t,i,n,s,r){return void 0==r&&(r=1.70158),(t/=s/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+i:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+i},easeInBounce:function(e,t,i,n,s){return n-jQuery.easing.easeOutBounce(e,s-t,0,n,s)+i},easeOutBounce:function(e,t,i,n,s){return(t/=s)<1/2.75?n*(7.5625*t*t)+i:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+i:n*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,n,s){return t<s/2?.5*jQuery.easing.easeInBounce(e,2*t,0,n,s)+i:.5*jQuery.easing.easeOutBounce(e,2*t-s,0,n,s)+.5*n+i}})},function(e,t){e.exports={properties:{feeds:{items:{required:["accountkey","metadata","mtime","service","type"],properties:{accountkey:{type:"string"},metadata:{required:["baseQuery","searchFilterData","term"],properties:{baseQuery:{type:"string"},searchFilterData:{required:["action","content","engagement","user"],properties:{action:{properties:{showFavorites:{type:"boolean"},showFollowers:{type:"boolean"},showLists:{type:"boolean"},showMentions:{type:"boolean"},showRetweets:{type:"boolean"}},type:"object"},content:{properties:{excluding:{type:"string"},includeRTs:{type:"boolean"},lang:{type:"string"},matching:{type:"string"},type:{type:"string"}},type:"object"},engagement:{properties:{minFavorites:{type:"number"},minReplies:{type:"number"},minRetweets:{type:"number"}},type:"object"},user:{properties:{from_name:{type:["string","null"]},from_type:{type:["string","null"]},mention_name:{type:["string","null"]}},type:"object"}},type:"object"},term:{type:"string"}},type:"object"},mtime:{type:"string"},service:{type:"string"},type:{type:"string"}},type:"object"},type:"array"},filters:{properties:{action:{properties:{showFavorites:{type:"boolean"},showFollowers:{type:"boolean"},showLists:{type:"boolean"},showMentions:{type:"boolean"},showRetweets:{type:"boolean"}},type:"object"},content:{properties:{excluding:{type:"string"},includeRTs:{type:"boolean"},lang:{type:"string"},matching:{type:"string"},type:{type:"string"}},type:"object"},engagement:{properties:{minFavorites:{type:"number"},minReplies:{type:"number"},minRetweets:{type:"number"}},type:"object"},user:{properties:{from_name:{type:["string","null"]},from_type:{type:["string","null"]}},type:"object"}},type:"object"}},required:["feeds","filters"],type:"object"}},function(e,t,i){!function(t,n){e.exports=n(i(86),i(278),i(116))}(0,function(e,t,i){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}var c=i(1),l=n(c),u=i(2),d=n(u),h=i(3),p=n(h),f=i(5),m=n(f),g=i(6),v=n(g),T='<ul class="Dropdown" role="menu"></ul>',_=function(e){function t(i){r(this,t);var n=o(this,e.call(this,i));return n.defaultOptions=l.default.extend({},t.defaultOptions,{$target:null,$footer:null}),n.options=l.default.extend(!0,{},n.defaultOptions,i),n.$el=n._initializeTarget(),n.$targetLabel=n.$("."+t.classNames.TARGET_LABEL),n.datePicker=new d.default(n.options.datePickerOptions),n.datePicker.$el.on(d.default.events.CHANGE,n._handleDatePickerChange.bind(n)),n._model=n.datePicker._model,n.dropdown=new m.default({$wrapper:(0,l.default)(T).addClass(t.classNames.BASE)}),n.dropdown.openOnClick(n.$el),n._renderMenuItem(),n._renderMenuItemFooter(),n.render(),n}return a(t,e),t.prototype._getOptions=function(){return this.options},t.prototype._getDatePickerOptions=function(){return this.datePicker.options},t.prototype.$=function(e){return this.$el.find(e)},t.prototype._initializeTarget=function(){return this.options.$target||(0,l.default)('\n        <button type="button" class="'+t.classNames.TARGET+' Button">\n          <span class="Button-adornment">\n            <span class="Icon Icon--calendar"></span>\n          </span>\n          <span class="'+t.classNames.TARGET_LABEL+' Button-label"></span>\n          <span class="Button-adornment">\n            <span class="Icon Icon--caretDown"></span>\n          </span>\n        </button>\n      ')},t.prototype._renderMenuItem=function(){(0,l.default)("<li />").addClass(t.classNames.MENU_ITEM).append(this.datePicker.$el).appendTo(this.dropdown.$el)},t.prototype._renderMenuItemFooter=function(){this.options.$footer&&(0,l.default)("<li />").addClass(t.classNames.MENU_ITEM_FOOTER).append(this.options.$footer).appendTo(this.dropdown.$el)},t.prototype.render=function(){return this.$targetLabel.text(this._getTargetLabelText()),this},t.prototype._handleDatePickerChange=function(){var e=this.options,t=e.closeOnChange,i=e.hideOnChange,n=void 0===i?t:i;this.render(),n&&this.dropdown.close()},t.prototype.remove=function(){return this.datePicker.remove(),this.dropdown.remove(),this.$el.remove(),this},t}((0,p.default)(v.default));e.exports=_},function(t,i){t.exports=e},function(e,i){e.exports=t},function(e,t,i){"use strict";function n(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):n(e,t))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(4),d=function(e){return e&&e.__esModule?e:{default:e}}(u),h={hideOnChange:void 0};t.default=function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){function e(){o(this,e)}return e}();return t=e=function(e){function t(){return o(this,t),s(this,e.apply(this,arguments))}return r(t,e),t.prototype._getOptions=function(){throw new Error("DatePickerDropdown must implement `_getOptions`")},t.prototype._getDatePickerOptions=function(){throw new Error("DatePickerDropdown must implement `_getDatePickerOptions`")},t.prototype._getTargetLabelText=function(){var e=this._getOptions(),t=e.targetLabelText,i=this._model.getDate();switch(void 0===t?"undefined":c(t)){case"string":return t;case"function":return t(i);default:return this._time.date.format(i)}},l(t,[{key:"_time",get:function(){return this._model.time}}]),t}(i),e.classNames=d.default,e.defaultOptions=a({},h,{closeOnChange:!0,datePickerOptions:{},targetLabelText:null}),t}},function(e,t,i){"use strict";t.__esModule=!0,t.default={BASE:"DatePickerDropdown",MENU_ITEM:"DatePickerDropdown-menuItem",MENU_ITEM_FOOTER:"DatePickerDropdown-menuItem--footer",TARGET:"DatePickerDropdownTarget",TARGET_LABEL:"DatePickerDropdownTarget-label"}},function(e,t){e.exports=i},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=i(7),r=i(9),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){function e(){n(this,e)}return e.prototype.on=function(e){return c(e,"on"),(0,s.checkDeprecatedEventName)(e,"on"),this.$el?this.$el.on.apply(this.$el,arguments):this.el.addEventListener.apply(this.el,arguments),this},e.prototype.off=function(e){return c(e,"off"),(0,s.checkDeprecatedEventName)(e,"off"),this.$el?this.$el.off.apply(this.$el,arguments):this.el.removeEventListener.apply(this.el,arguments),this},e.prototype.trigger=function(e,t){if(c(e,"trigger"),this.$el)this.$el.trigger.apply(this.$el,arguments);else{var i=new o.default(e,t);this.el.dispatchEvent(i)}return this},e}(),c=function(e,t){if(!e)throw new Error("Called `"+t+"()` with an undefined or empty event name. Perhaps you are using an event name that has been removed? See the list of deprecated events on http://go/feather/docs/history")};t.default=a},function(e,t,i){"use strict";function n(e,t){return Object.keys(t).reduce(function(i,n){var s=t[n].newName||"";return i[n]=e+":"+n+":"+s+":"+a,i},{})}function s(e){if("string"==typeof e&&e.endsWith(a)){var t=e.split(":"),i=t[0],n=t[1],s=t[2],r=i+": Event `"+n+"` is deprecated.";s&&(r+=" Use `"+s+"` instead."),(0,o.default)(r)}}t.__esModule=!0,t.deprecatedEventNames=n,t.checkDeprecatedEventName=s;var r=i(8),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a="deprecated"},function(e,t,i){"use strict";function n(e){s[e]||(console.warn(e),s[e]=!0)}t.__esModule=!0,t.default=n;var s={}},function(e,t,i){"use strict";t.__esModule=!0;var n=void 0;try{n=new CustomEvent("test").constructor}catch(e){var s={bubbles:!1,cancelable:!1,detail:void 0};n=function(e,t){t=Object.assign({},s,t);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i},n.prototype=window.Event.prototype}t.default=n}])})},function(e,t,i){!function(t,n){e.exports=n(i(86),i(438),i(116))}(0,function(e,t,i){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}var c=i(1),l=n(c),u=i(2),d=n(u),h=i(3),p=n(h),f=i(5),m=n(f),g=i(6),v=n(g),T='<ul role="menu"></ul>',_=function(e){function t(i){r(this,t);var n=o(this,e.call(this,i));return n.defaultOptions=l.default.extend({},t.defaultOptions,{$target:null,$footer:null}),n.options=l.default.extend(!0,{},n.defaultOptions,i),n.$el=n._initializeTarget(),n.$targetLabel=n.$("."+t.classNames.TARGET_LABEL),n.dateRange=new d.default(n.options.dateRangeOptions),n.dateRange.$el.on(d.default.events.CHANGE,n._handleDateRangeChange.bind(n)),n._datePickerModel=n.dateRange._leftModel,n.dropdown=new m.default({$wrapper:(0,l.default)(T).addClass([m.default.classNames.BASE,t.classNames.BASE].join(" "))}),n.dropdown.openOnClick(n.$el),n._renderMenuItem(),n._renderMenuItemFooter(),n._render(),n}return a(t,e),t.prototype._getOptions=function(){return this.options},t.prototype._getDateRangeOptions=function(){return this.dateRange.options},t.prototype._getDatePickerOptions=function(){return this.dateRange._getDatePickerOptions()},t.prototype.$=function(e){return this.$el.find(e)},t.prototype._initializeTarget=function(){return this.options.$target||(0,l.default)('\n        <button class="'+t.classNames.TARGET+' Button">\n          <span class="Button-adornment">\n            <span class="Icon Icon--calendar"></span>\n          </span>\n          <span class="'+t.classNames.TARGET_LABEL+'"></span>\n          <span class="Button-adornment">\n            <span class="Icon Icon--caretDown"></span>\n          </span>\n        </button>\n      ')},t.prototype._renderMenuItem=function(){(0,l.default)("<li />").addClass(t.classNames.MENU_ITEM).append(this.dateRange.$el).appendTo(this.dropdown.$el)},t.prototype._renderMenuItemFooter=function(){this.options.$footer&&(0,l.default)("<li />").addClass(t.classNames.MENU_ITEM_FOOTER).append(this.options.$footer).appendTo(this.dropdown.$el)},t.prototype._render=function(){this.$targetLabel.text(this._getTargetLabelText())},t.prototype._handleDateRangeChange=function(){var e=this.options,t=e.closeOnChange,i=e.hideOnChange,n=this.dateRange.options.showTime,s=void 0===i?t:i;this._render(),s&&!n&&this.dropdown.close()},t.prototype.remove=function(){return this.$el.remove(),this.dateRange.remove(),this.dropdown.remove(),this},t}((0,p.default)(v.default));e.exports=_},function(t,i){t.exports=e},function(e,i){e.exports=t},function(e,t,i){"use strict";function n(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):n(e,t))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(4),d=function(e){return e&&e.__esModule?e:{default:e}}(u),h={hideOnChange:void 0};t.default=function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){function e(){o(this,e)}return e}();return t=e=function(e){function t(){return o(this,t),s(this,e.apply(this,arguments))}return r(t,e),t.prototype._getOptions=function(){throw new Error("DateRangeDropdown must implement `_getOptions`")},t.prototype._getDateRangeOptions=function(){throw new Error("DateRangeDropdown must implement `_getDateRangeOptions`")},t.prototype._getDatePickerOptions=function(){throw new Error("DateRangeDropdown must implement `_getDatePickerOptions`")},t.prototype._getTargetLabelText=function(){var e=this._getOptions(),t=e.targetLabelText,i=this._datePickerModel.getDateRange(),n=this._getSelectedPresetText();switch(void 0===t?"undefined":c(t)){case"string":return t;case"function":return t(i.startDate,i.endDate,n);default:var s=this._getDatePickerOptions(),r=s.rangeEndDaySelectMethod;return n||this._time.date.formatRange(i,{withExclusiveEndTime:"ceil"===r})}},t.prototype._getSelectedPresetText=function(){for(var e=this._getDateRangeOptions(),t=e.presets,i=this._datePickerModel.getDateRange(),n=0;n<t.length;n++){var s=t[n],r=this._datePickerModel.getClampedPresetDateRange(s.fn);if(i.startDate-r.startDate==0&&i.endDate-r.endDate==0)return s.string||s.text}},l(t,[{key:"_time",get:function(){return this._datePickerModel.time}}]),t}(i),e.classNames=d.default,e.defaultOptions=a({},h,{closeOnChange:!0,dateRangeOptions:{},targetLabelText:null}),t}},function(e,t,i){"use strict";t.__esModule=!0,t.default={BASE:"DateRangeDropdown",MENU_ITEM:"DateRangeDropdown-menuItem",MENU_ITEM_FOOTER:"DateRangeDropdown-menuItem--footer",TARGET:"DateRangeDropdownTarget",TARGET_LABEL:"DateRangeDropdownTarget-label"}},function(e,t){e.exports=i},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=i(7),r=i(9),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){function e(){n(this,e)}return e.prototype.on=function(e){return c(e,"on"),(0,s.checkDeprecatedEventName)(e,"on"),this.$el?this.$el.on.apply(this.$el,arguments):this.el.addEventListener.apply(this.el,arguments),this},e.prototype.off=function(e){return c(e,"off"),(0,s.checkDeprecatedEventName)(e,"off"),this.$el?this.$el.off.apply(this.$el,arguments):this.el.removeEventListener.apply(this.el,arguments),this},e.prototype.trigger=function(e,t){if(c(e,"trigger"),this.$el)this.$el.trigger.apply(this.$el,arguments);else{var i=new o.default(e,t);this.el.dispatchEvent(i)}return this},e}(),c=function(e,t){if(!e)throw new Error("Called `"+t+"()` with an undefined or empty event name. Perhaps you are using an event name that has been removed? See the list of deprecated events on http://go/feather/docs/history")};t.default=a},function(e,t,i){"use strict";function n(e,t){return Object.keys(t).reduce(function(i,n){var s=t[n].newName||"";return i[n]=e+":"+n+":"+s+":"+a,i},{})}function s(e){if("string"==typeof e&&e.endsWith(a)){var t=e.split(":"),i=t[0],n=t[1],s=t[2],r=i+": Event `"+n+"` is deprecated.";s&&(r+=" Use `"+s+"` instead."),(0,o.default)(r)}}t.__esModule=!0,t.deprecatedEventNames=n,t.checkDeprecatedEventName=s;var r=i(8),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a="deprecated"},function(e,t,i){"use strict";function n(e){s[e]||(console.warn(e),s[e]=!0)}t.__esModule=!0,t.default=n;var s={}},function(e,t,i){"use strict";t.__esModule=!0;var n=void 0;try{n=new CustomEvent("test").constructor}catch(e){var s={bubbles:!1,cancelable:!1,detail:void 0};n=function(e,t){t=Object.assign({},s,t);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i},n.prototype=window.Event.prototype}t.default=n}])})},function(e,t,i){!function(t,n){e.exports=n(i(418),i(439))}(0,function(e,t){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,i){"use strict";function n(e,t){return Object.keys(t).reduce(function(i,n){var s=t[n].newName||"";return i[n]=e+":"+n+":"+s+":"+a,i},{})}function s(e){if("string"==typeof e&&e.endsWith(a)){var t=e.split(":"),i=t[0],n=t[1],s=t[2],r=i+": Event `"+n+"` is deprecated.";s&&(r+=" Use `"+s+"` instead."),(0,o.default)(r)}}t.__esModule=!0,t.deprecatedEventNames=n,t.checkDeprecatedEventName=s;var r=i(7),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a="deprecated"},function(e,t,i){"use strict";t.__esModule=!0,t.default={BASE:"Dialog",CLOSE:"Dialog-close",CONTENT:"Dialog-content",IS_MODAL:"Dialog--modal",IS_OPEN:"is-open",MODAL:"DialogModal",WITH_CLOSE:"Dialog--withClose",WITH_TITLE:"Dialog--withTitle"}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}},function(e,t,i){"use strict";t.__esModule=!0,window.Feather=window.Feather||{};var n=window,s=n.Feather;if(!s._uniqueId){var r=0;s._uniqueId=function(){return r++}}t.default=s._uniqueId},function(e,t,i){"use strict";var n=i(5),s=function(e){return e&&e.__esModule?e:{default:e}}(n);e.exports=s.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=i(6),u=n(l),d=i(15),h=n(d),p=i(0),f=i(3),m=n(f),g=(0,p.deprecatedEventNames)("@twitter/feather-component-drawer",{HIDE_END:{newName:"AFTER_CLOSE"},HIDE_START:{newName:"BEFORE_CLOSE"},SHOW_END:{newName:"AFTER_OPEN"},SHOW_START:{newName:"BEFORE_OPEN"}}),v=function(e){function t(){var i,n,s;r(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return i=n=o(this,e.call.apply(e,[this].concat(c))),n._headerId="feather-drawer-header-"+(0,m.default)(),s=i,o(n,s)}return a(t,e),t}(u.default);v.classNames=h.default,v.events=c({},g,{AFTER_CLOSE:"featherDrawerAfterClose",BEFORE_CLOSE:"featherDrawerBeforeClose",AFTER_OPEN:"featherDrawerAfterOpen",BEFORE_OPEN:"featherDrawerBeforeOpen"}),t.default=v},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}t.__esModule=!0,t.AbstractDialog=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=i(1),u=n(l),d=i(0),h=i(8),p=n(h),f=i(9),m=n(f),g=i(11),v=n(g),T=i(12),_=n(T),y=i(13),w=n(y),b=i(14),D=n(b),C=i(2),S=n(C),E=i(3),I=n(E),A=(0,d.deprecatedEventNames)("@twitter/feather-component-dialog",{HIDE_END:{newName:"AFTER_CLOSE"},HIDE_START:{newName:"BEFORE_CLOSE"},SHOW_END:{newName:"AFTER_OPEN"},SHOW_START:{newName:"BEFORE_OPEN"}}),x=function(e){function t(i){var n;r(this,t);var s=o(this,e.call(this,i));s._headerId="feather-dialog-header-"+(0,I.default)(),s._handleTransitionEnd=function(){s._inTransition=!1,s._isOpen()?(s.trigger(s.constructor.events.AFTER_OPEN),s.trigger(s.constructor.events.SHOW_END)):(s._modal.hide(),s.trigger(s.constructor.events.AFTER_CLOSE),s.trigger(s.constructor.events.HIDE_END))},s.open=function(){return s._isOpen()?s:(s.trigger(s.constructor.events.BEFORE_OPEN),s.trigger(s.constructor.events.SHOW_START),s._modal.show(),s._attachEventHandlers(),s._modal.activate(),s._inTransition||(s._inTransition=!0,(0,w.default)(s.el,"opacity",s._handleTransitionEnd)),s.el.classList.add(s.constructor.classNames.IS_OPEN),s)},s.close=function(){return s._isOpen()?(s.trigger(s.constructor.events.BEFORE_CLOSE),s.trigger(s.constructor.events.HIDE_START),s._modal.deactivate(),s._removeEventHandlers(),s._inTransition||(s._inTransition=!0,(0,w.default)(s.el,"opacity",s._handleTransitionEnd)),s.el.classList.remove(s.constructor.classNames.IS_OPEN),s):s},s.options=c({},s.constructor.defaultOptions,i);var a=s.options,l=a.closeOnEscapeKey,u=a.closeOnOverlayClick;return s._modal=new _.default.Modal({className:s.constructor.classNames.MODAL,closeOnEscapeKey:l,closeOnOverlayClick:u,onCloseAction:s.close,shouldTransition:!0}),s.el=document.createElement("div"),n=s,o(s,n)}return a(t,e),t.prototype._getEl=function(){return this.el},t.prototype._getContentHtml=function(){return('\n      <div class="'+this.constructor.classNames.CONTENT+" "+p.default.classNames.BASE+'">\n        <div class="'+p.default.classNames.BODY+'" tabindex="-1">\n        </div>\n      </div>\n    ').trim()},t.prototype._getCloseButtonHtml=function(){return('\n      <button type="button" class="'+this.constructor.classNames.CLOSE+'">\n        <span class="Icon Icon--close Icon--small" aria-hidden="true"></span>\n      </button>\n    ').trim()},t.prototype._renderBase=function(){var e=this.options,t=e.className,i=e.size,n=e.withCloseButton;this.el.className=[t,this.constructor.classNames.BASE,this.constructor.classNames.IS_MODAL].join(" "),this.el.setAttribute("dir",this.options.dir),this.el.setAttribute("role","dialog"),this.el.innerHTML=this._getContentHtml(),i&&this.el.classList.add(this.constructor.classNames.BASE+"--"+i),this._contentEl=this.el.querySelector("."+this.constructor.classNames.CONTENT),this._bodyEl=this.el.querySelector("."+p.default.classNames.BODY),n&&this._renderCloseButton()},t.prototype._renderCloseButton=function(){this._closeEl=(0,v.default)(this._getCloseButtonHtml()),this._closeEl.setAttribute("aria-label",this.options.closeText),this.el.insertBefore(this._closeEl,this.el.firstChild),this.el.classList.add(this.constructor.classNames.WITH_CLOSE)},t.prototype._renderTitleEls=function(){this._headerEl||(this._headerEl=(0,v.default)('<div class="'+p.default.classNames.HEADER+'" id="'+this._headerId+'"></div>'),this._contentEl.insertBefore(this._headerEl,this._bodyEl),this.el.setAttribute("aria-labelledby",this._headerId)),this._titleEl||(this._titleEl=(0,v.default)('<h3 class="'+p.default.classNames.TITLE+'"></h3>'),this._headerEl.appendChild(this._titleEl))},t.prototype.renderTitleText=function(e){return"string"!=typeof e?this:(this._renderTitleEls(),this._titleEl.textContent=e,this.el.classList.add(this.constructor.classNames.WITH_TITLE),this)},t.prototype.renderTitle=function(e){return e?(this._renderTitleEls(),(0,D.default)(this._titleEl),this._titleEl.appendChild(e),this.el.classList.add(this.constructor.classNames.WITH_TITLE),this):this},t.prototype.renderBody=function(e){return e&&((0,D.default)(this._bodyEl),this._bodyEl.appendChild(e)),this},t.prototype.renderFooter=function(e){return e?(this._footerEl?(0,D.default)(this._footerEl):(this._footerEl=(0,v.default)('<div class="'+p.default.classNames.FOOTER+'"></div>'),this._contentEl.appendChild(this._footerEl)),this._footerEl.appendChild(e),this):this},t.prototype.render=function(e){return this._contentEl||this._renderBase(),e.titleText?this.renderTitleText(e.titleText):this.renderTitle(e.titleEl),this.renderBody(e.bodyEl),this.renderFooter(e.footerEl),this._modal.render(this.el),this},t.prototype.removeTitle=function(){return this._headerEl&&((0,S.default)(this._headerEl),this._headerEl=null,this._titleEl=null,this.el.classList.remove(this.constructor.classNames.WITH_TITLE)),this},t.prototype.removeFooter=function(){return this._footerEl&&((0,S.default)(this._footerEl),this._footerEl=null),this},t.prototype.remove=function(){return this._isOpen()&&(this.close(),this._handleTransitionEnd()),this._modal.remove(),this._headerEl=null,this._titleEl=null,this._contentEl=null,this._bodyEl=null,this._footerEl=null,this._closeEl=null,this},t.prototype._attachEventHandlers=function(){this._closeEl&&this._closeEl.addEventListener("click",this.close)},t.prototype._removeEventHandlers=function(){this._closeEl&&this._closeEl.removeEventListener("click",this.close)},t.prototype._isOpen=function(){return this.el.classList.contains(this.constructor.classNames.IS_OPEN)},t.prototype.show=function(){return this.open.apply(this,arguments)},t.prototype.hide=function(){return this.close.apply(this,arguments)},t}(m.default);x.defaultOptions={className:"",closeOnEscapeKey:!0,closeOnOverlayClick:!0,closeText:"Close",dir:"ltr",size:"",withCloseButton:!0},x.classNames=u.default,x.events=c({},A,{AFTER_CLOSE:"featherDialogAfterClose",AFTER_OPEN:"featherDialogAfterOpen",BEFORE_CLOSE:"featherDialogBeforeClose",BEFORE_OPEN:"featherDialogBeforeOpen"}),t.default=x,t.AbstractDialog=x},function(e,t,i){"use strict";function n(e){s[e]||(console.warn(e),s[e]=!0)}t.__esModule=!0,t.default=n;var s={}},function(t,i){t.exports=e},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=i(0),r=i(10),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){function e(){n(this,e)}return e.prototype.on=function(e){return c(e,"on"),(0,s.checkDeprecatedEventName)(e,"on"),this.$el?this.$el.on.apply(this.$el,arguments):this.el.addEventListener.apply(this.el,arguments),this},e.prototype.off=function(e){return c(e,"off"),(0,s.checkDeprecatedEventName)(e,"off"),this.$el?this.$el.off.apply(this.$el,arguments):this.el.removeEventListener.apply(this.el,arguments),this},e.prototype.trigger=function(e,t){if(c(e,"trigger"),this.$el)this.$el.trigger.apply(this.$el,arguments);else{var i=new o.default(e,t);this.el.dispatchEvent(i)}return this},e}(),c=function(e,t){if(!e)throw new Error("Called `"+t+"()` with an undefined or empty event name. Perhaps you are using an event name that has been removed? See the list of deprecated events on http://go/feather/docs/history")};t.default=a},function(e,t,i){"use strict";t.__esModule=!0;var n=void 0;try{n=new CustomEvent("test").constructor}catch(e){var s={bubbles:!1,cancelable:!1,detail:void 0};n=function(e,t){t=Object.assign({},s,t);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i},n.prototype=window.Event.prototype}t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){var t=document.createElement("div");t.innerHTML=e;var i=t.firstElementChild;return(0,s.default)(i),i};var n=i(2),s=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,i){e.exports=t},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t,i){var n=function n(s){s.target===e&&s.propertyName===t&&(e.removeEventListener("transitionend",n),i(s))};e.addEventListener("transitionend",n)}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){Array.from(e.childNodes).forEach(function(t){e.removeChild(t)})}},function(e,t,i){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s=i(1),r=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default=n({},r.default,{BASE:"Drawer",CLOSE:"Drawer-close",CONTAINER:"Drawer-container",CONTENT:"Drawer-content",IS_INLINE:"Drawer--inline",IS_MODAL:"Drawer--modal",MODAL:"DrawerModal",NEIGHBOR:"Drawer-neighbor",RESIZES_NEIGHBOR:"Drawer--resizesNeighbor",WITH_CLOSE:"Drawer--withClose",WITH_TITLE:"Drawer--withTitle"})}])})},function(e,t,i){!function(t,n){e.exports=n(i(86))}(0,function(e){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,i){"use strict";function n(e){s[e]||(console.warn(e),s[e]=!0)}t.__esModule=!0,t.default=n;var s={}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){if(this.options=o.default.extend(!0,{},this.defaultOptions,e),this.$select=(0,o.default)(this.options.$select),!this.$select.is("select"))throw new Error("Feather.FormSelect requires a valid `$select` option");var t=d[this.options.appearance];if(!t)throw new Error("Feather.FormSelect `appearance` must be 'button' or 'input'");this.$el=(0,o.default)(document.createElement("fieldset")).prop("disabled",this.$select.prop("disabled")).addClass(s.classNames.BASE).html(t.html).insertBefore(this.$select),this._$target=this.$el.children().addClass(this.options.className),this.$select.prop("disabled",!1).change(this._handleSelectChange.bind(this)).on("focus blur",this._handleSelectFocusOrBlur.bind(this)).on("mouseenter mouseleave",this._handleSelectHover.bind(this)).on("keyup",this.render.bind(this)).prependTo(this.$el),this.$label=this.$(t.labelSelector),this.render()}var r=i(2),o=n(r),a=i(3),c=n(a),l=i(0),u=n(l),d={button:{html:'\n      <button type="button" class="Button" tabindex="-1">\n        <span class="Button-adornment Button-adornment--end">\n          <span class="Icon Icon--caretDown"></span>\n        </span>\n        <span class="Button-label"></span>\n      </button>',labelSelector:".Button-label"},input:{html:'\n      <span class="FormInputWrapper FormInputWrapper--withAbsoluteEndAdornment">\n        <button type="button" class="FormInput" tabindex="-1"></button>\n        <span class="FormInputWrapper-absoluteEndAdornment">\n          <span class="Icon Icon--caretDown"></span>\n        </span>\n      </span>',labelSelector:".FormInput"}};o.default.extend(s.prototype,c.default.prototype,{defaultOptions:{className:"",$select:null,label:null,appearance:"button"},$:function(e){return this.$el.find(e)},render:function(){return this.$label.text(this._getLabel()),this},_getLabel:function(){var e=(0,o.default)("option:selected",this.$select),t=e.text();return o.default.isFunction(this.options.label)?this.options.label.call(this,e.val(),t):t},_handleSelectChange:function(e){this.trigger(s.events.CHANGE,e),this.render()},_handleSelectFocusOrBlur:function(e){this._$target.toggleClass(s.classNames.IS_FOCUS,"focus"===e.type)},_handleSelectHover:function(e){this._$target.toggleClass(s.classNames.IS_HOVER,"mouseenter"===e.type)},val:function(){return(0,u.default)("@twitter/feather-component-form-select: `val()` is deprecated. Use `value()` instead."),this.value.apply(this,arguments)},value:function(e){return void 0!==e?(this.$select.val(e),this.render()):this.$select.val()},remove:function(){return this.$el.remove(),this}}),o.default.extend(s,{events:{CHANGE:"change"},classNames:{BASE:"FormSelect",IS_FOCUS:"is-focus",IS_HOVER:"is-hover"}}),e.exports=s},function(t,i){t.exports=e},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=i(4),r=i(5),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){function e(){n(this,e)}return e.prototype.on=function(e){return c(e,"on"),(0,s.checkDeprecatedEventName)(e,"on"),this.$el?this.$el.on.apply(this.$el,arguments):this.el.addEventListener.apply(this.el,arguments),this},e.prototype.off=function(e){return c(e,"off"),(0,s.checkDeprecatedEventName)(e,"off"),this.$el?this.$el.off.apply(this.$el,arguments):this.el.removeEventListener.apply(this.el,arguments),this},e.prototype.trigger=function(e,t){if(c(e,"trigger"),this.$el)this.$el.trigger.apply(this.$el,arguments);else{var i=new o.default(e,t);this.el.dispatchEvent(i)}return this},e}(),c=function(e,t){if(!e)throw new Error("Called `"+t+"()` with an undefined or empty event name. Perhaps you are using an event name that has been removed? See the list of deprecated events on http://go/feather/docs/history")};t.default=a},function(e,t,i){"use strict";function n(e,t){return Object.keys(t).reduce(function(i,n){var s=t[n].newName||"";return i[n]=e+":"+n+":"+s+":"+a,i},{})}function s(e){if("string"==typeof e&&e.endsWith(a)){var t=e.split(":"),i=t[0],n=t[1],s=t[2],r=i+": Event `"+n+"` is deprecated.";s&&(r+=" Use `"+s+"` instead."),(0,o.default)(r)}}t.__esModule=!0,t.deprecatedEventNames=n,t.checkDeprecatedEventName=s;var r=i(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a="deprecated"},function(e,t,i){"use strict";t.__esModule=!0;var n=void 0;try{n=new CustomEvent("test").constructor}catch(e){var s={bubbles:!1,cancelable:!1,detail:void 0};n=function(e,t){t=Object.assign({},s,t);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i},n.prototype=window.Event.prototype}t.default=n}])})},function(e,t,i){!function(t,n){e.exports=n(i(116),i(723))}(0,function(e,t){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,i){"use strict";t.__esModule=!0,t.default={BASE:"FormTokenInput",FORM_TEXTAREA:"FormTextarea",ICON_CLOSE:"Icon Icon--close",INNER_WRAPPER:"FormTokenInput-innerWrapper",INPUT:"FormTokenInput-input",IS_DISABLED:"is-disabled",IS_FOCUS:"is-focus",IS_INVALID:"is-invalid",TOKEN_IS_FOCUS:"is-focused",TOKEN_IS_SELECTED:"is-selected",TOKEN_LABEL:"Token-label",TOKEN_TRIGGER:"Token-trigger",TOKEN:"Token",ZERO_WIDTH_SPACE:"FormTokenInput-zeroWidthSpace"}},function(e,t,i){"use strict";function n(e){s[e]||(console.warn(e),s[e]=!0)}t.__esModule=!0,t.default=n;var s={}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=i(0),u=n(l),d=i(4),h=n(d),p=i(5),f=n(p),m=i(8),g=n(m),v=i(12),T=n(v),_=i(13),y=n(_),w=i(1),b=n(w),D=i(2),C=n(D),S=(0,y.default)('\n  <span class="'+u.default.TOKEN+'" tabindex="-1">\n    <span class="'+u.default.TOKEN_LABEL+'">\n      Text node\n      <span class="'+u.default.ZERO_WIDTH_SPACE+'">&#8203;</span>\n    </span>\n  </span>\n'),E=(0,y.default)('\n  <button class="'+u.default.TOKEN_TRIGGER+'" tabindex="-1" type="button">\n    <span class="'+u.default.ICON_CLOSE+'" aria-hidden="true"></span>\n  </button>\n'),I=function(e){function t(i){r(this,t);var n=o(this,e.call(this,i));return n._state={focusedTokenIds:[],isFocused:!1,isInvalid:!1,value:[]},n._handleVanillaInputFocus=function(e){n._handleInputFocus(e),n.trigger(t.events.FOCUS)},n._handleVanillaInputInput=function(e){n._handleInputInput(e),n.trigger(t.events.INPUT)},n._handleVanillaTypeaheadSelect=function(e){n._handleTypeaheadSelect(e.detail)},n.options=c({},t.defaultOptions,i),n._state.value=n.options.value.slice(0),n._initializeDom(),n._initializeTypeahead(),n._bindEventHandlers(),n.render(),n}return a(t,e),t.prototype._initializeTypeahead=function(){this._typeahead=new T.default({filterItems:this._filterTypeaheadItems,itemGroups:[],targetEl:this.el}),this._typeahead._dropdown.options._autoFocusMenuItem=!0},t.prototype._getEl=function(){return this.el},t.prototype._getInnerWrapperEl=function(){return this._innerWrapperEl},t.prototype._getInputEl=function(){return this._inputEl},t.prototype._getOptions=function(){return this.options},t.prototype._getState=function(){return this._state},t.prototype._setState=function(e,t){this._state=c({},this._state,e),this.render(),t&&t()},t.prototype._isControlled=function(){return!1},t.prototype._isDisabled=function(){return this.options.isDisabled},t.prototype._triggerBlur=function(){this.trigger(t.events.BLUR)},t.prototype._triggerChange=function(e){this.trigger(t.events.CHANGE,{detail:e})},t.prototype._triggerInvalid=function(e){this.trigger(t.events.INVALID,{detail:e})},t.prototype._initializeDom=function(){this.el=document.createElement("div"),this._innerWrapperEl=document.createElement("div"),this._innerWrapperEl.className=u.default.INNER_WRAPPER,this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className=u.default.INPUT,this.el.appendChild(this._innerWrapperEl),this._innerWrapperEl.appendChild(this._inputEl)},t.prototype.render=function(){return this._renderRootEl(),this._renderTypeahead(),this._renderInputEl(),this._renderTokens(),this},t.prototype._renderRootEl=function(){var e=this.options,t=e.className,i=e.dir,n=e.size,s=this._state,r=s.isFocused,o=s.isInvalid;this.el.dir=i,this.el.className=[t,u.default.BASE,u.default.FORM_TEXTAREA,u.default.BASE+"--"+n,u.default.FORM_TEXTAREA+"--"+n,this._isInputDisabled()?u.default.IS_DISABLED:"",r?u.default.IS_FOCUS:"",o?u.default.IS_INVALID:""].join(" ")},t.prototype._renderTypeahead=function(){var e=this.options.typeaheadItemGroups;this._typeahead.options.itemGroups=this._isInputDisabled()?[]:e},t.prototype._renderInputEl=function(){var e=this.options,t=e.autofocus,i=e.autoFocus,n=e.placeholderText,s=e.tabIndex;i&&(0,b.default)("@twitter/feather-component-form-token-input: `autoFocus` is deprecated. Use `autofocus` instead."),this._inputEl.autofocus=t||i,this._inputEl.disabled=this._isDisabled(),this._inputEl.placeholder=this._isInputDisabled()?"":n,this._inputEl.tabIndex=s},t.prototype._renderTokens=function(){var e=this,t=this._state.value;this._makeAccessors(),this._addAndRemoveTokens(),t.forEach(function(t,i){var n=e._innerWrapperEl.children[i];e._updateTokenEl(n,t,i)})},t.prototype._addAndRemoveTokens=function(){var e=this._state.value,t=e.map(this._tokenIdAccessor),i=this._innerWrapperEl.children,n=i.length-1;if(e.length<n)for(var s=this._innerWrapperEl.querySelectorAll("."+u.default.TOKEN),r=0;r<s.length;r++){var o=s[r],a=o.getAttribute("data-id");-1===t.indexOf(a)&&this._innerWrapperEl.removeChild(o)}else if(e.length>n){var c=document.createDocumentFragment();for(n;n!==e.length;n++)c.appendChild(S.cloneNode(!0));this._innerWrapperEl.insertBefore(c,this._innerWrapperEl.firstChild)}},t.prototype._updateTokenEl=function(e,t,i){var n=this.options.dir,s=this._tokenIdAccessor(t,i);e.dir=n,e.setAttribute("data-id",s);var r=e.children[0].firstChild,o=this._tokenLabelAccessor(t,i)||"";o!==r.nodeValue&&(r.nodeValue=o),this._updateTokenElSizeClass(e,t,i),this._updateTokenElColorClass(e,t,i),this._updateTokenElSelectedClass(e,t,i),this._updateTokenElFocusedClass(e,t,i),this._updateTokenElDeleteButton(e,t,i)},t.prototype._updateTokenElSizeClass=function(e){var t=this._getTokenSize(),i=e.getAttribute("data-size");e.setAttribute("data-size",t),t!==i&&(e.classList.remove(u.default.TOKEN+"--"+i),t&&e.classList.add(u.default.TOKEN+"--"+t))},t.prototype._updateTokenElColorClass=function(e,t,i){var n=this._tokenColorAccessor(t,i)||"",s=e.getAttribute("data-color");e.setAttribute("data-color",n),n!==s&&(e.classList.remove(u.default.TOKEN+"--"+s),n&&e.classList.add(u.default.TOKEN+"--"+n))},t.prototype._updateTokenElSelectedClass=function(e,t,i){!!this._tokenSelectedAccessor(t,i)!==e.classList.contains(u.default.TOKEN_IS_SELECTED)&&e.classList.toggle(u.default.TOKEN_IS_SELECTED)},t.prototype._updateTokenElFocusedClass=function(e,t,i){var n=this._state.focusedTokenIds,s=this._tokenIdAccessor(t,i);n.indexOf(s)>-1!==e.classList.contains(u.default.TOKEN_IS_FOCUS)&&e.classList.toggle(u.default.TOKEN_IS_FOCUS)},t.prototype._updateTokenElDeleteButton=function(e){var t=this.options,i=t.deleteTokenText,n=t.isDisabled,s=e.children[1];n===!!s&&(n?(0,C.default)(s):(s=E.cloneNode(!0),e.appendChild(s))),s&&i!==s.getAttribute("aria-label")&&s.setAttribute("aria-label",i)},t.prototype._bindEventHandlers=function(){this.el.addEventListener("blur",this._handleBlurCapture,!0),this.el.addEventListener("click",this._handleClick),this.el.addEventListener("copy",this._handleCopy),this.el.addEventListener("focus",this._handleFocusCapture,!0),this.el.addEventListener("keydown",this._handleKeyDown),this.el.addEventListener("mousedown",this._handleMouseDown),this._inputEl.addEventListener("focus",this._handleVanillaInputFocus),this._inputEl.addEventListener("input",this._handleVanillaInputInput),this._inputEl.addEventListener("paste",this._handleInputPaste),this._typeahead.on(T.default.events.SELECT,this._handleVanillaTypeaheadSelect),this._typeahead.on(h.default.events.BLUR,this._handleBlur)},t.prototype.value=function(e){return 0===arguments.length?this._getValue():this._setValue(e)},t.prototype._getValue=function(){return this._state.value.slice(0)},t.prototype._setValue=function(e){return Array.isArray(e)&&this._setState({value:e.slice(0)}),this},t.prototype.remove=function(){return(0,C.default)(this.el),this._typeahead.remove(),this},t}((0,g.default)(f.default));I.defaultOptions=c({},I.defaultOptions,{isDisabled:!1,value:[]}),I.events={BLUR:"featherFormTokenInputBlur",CHANGE:"featherFormTokenInputChange",FOCUS:"featherFormTokenInputFocus",INPUT:"featherFormTokenInputInput",INVALID:"featherFormTokenInputInvalid"},e.exports=I},function(t,i){t.exports=e},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=i(6),r=i(7),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){function e(){n(this,e)}return e.prototype.on=function(e){return c(e,"on"),(0,s.checkDeprecatedEventName)(e,"on"),this.$el?this.$el.on.apply(this.$el,arguments):this.el.addEventListener.apply(this.el,arguments),this},e.prototype.off=function(e){return c(e,"off"),(0,s.checkDeprecatedEventName)(e,"off"),this.$el?this.$el.off.apply(this.$el,arguments):this.el.removeEventListener.apply(this.el,arguments),this},e.prototype.trigger=function(e,t){if(c(e,"trigger"),this.$el)this.$el.trigger.apply(this.$el,arguments);else{var i=new o.default(e,t);this.el.dispatchEvent(i)}return this},e}(),c=function(e,t){if(!e)throw new Error("Called `"+t+"()` with an undefined or empty event name. Perhaps you are using an event name that has been removed? See the list of deprecated events on http://go/feather/docs/history")};t.default=a},function(e,t,i){"use strict";function n(e,t){return Object.keys(t).reduce(function(i,n){var s=t[n].newName||"";return i[n]=e+":"+n+":"+s+":"+a,i},{})}function s(e){if("string"==typeof e&&e.endsWith(a)){var t=e.split(":"),i=t[0],n=t[1],s=t[2],r=i+": Event `"+n+"` is deprecated.";s&&(r+=" Use `"+s+"` instead."),(0,o.default)(r)}}t.__esModule=!0,t.deprecatedEventNames=n,t.checkDeprecatedEventName=s;var r=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a="deprecated"},function(e,t,i){"use strict";t.__esModule=!0;var n=void 0;try{n=new CustomEvent("test").constructor}catch(e){var s={bubbles:!1,cancelable:!1,detail:void 0};n=function(e,t){t=Object.assign({},s,t);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i},n.prototype=window.Event.prototype}t.default=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=i(0),u=n(l),d=i(9),h=n(d),p=i(11),f=n(p),m=/\r?\n|\r/g,g={COMMA_OR_WHITESPACE:/[,\s]/g},v=0===navigator.platform.indexOf("Mac");t.default=function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){function e(){a(this,e)}return e}();return t=e=function(e){function t(){var i,n,s;a(this,t);for(var o=arguments.length,c=Array(o),l=0;l<o;l++)c[l]=arguments[l];return i=n=r(this,e.call.apply(e,[this].concat(c))),n._handleBlurCapture=function(e){var t=n._getEl();setTimeout(function(){t.contains(document.activeElement)||n._setState({focusedTokenIds:[]})},0)},n._handleFocusCapture=function(e){var t=n._getClosestEl(e.target,".Token"),i=document.getSelection(),s=t&&t.contains(i.anchorNode)&&t.contains(i.focusNode);if(t&&!s){var r=t.querySelector("."+u.default.ZERO_WIDTH_SPACE);setTimeout(function(){i.selectAllChildren(r),t.focus()},0)}},n._handleClick=function(e){!!n._getClosestEl(e.target,".Token-trigger")&&n._handleDelegatedTokenDeleteButtonClick(e)},n._handleCopy=function(e){var t=n._getOptions(),i=t.inputJoinSeparator,s=n._getState(),r=s.focusedTokenIds;if(r.length){e.preventDefault();var o=n._getTokensWithIds(r),a=o.map(n._tokenLabelAccessor).join(i);(e.clipboardData||window.clipboardData).setData("text",a)}},n._handleKeyDown=function(e){if(!n._isInputFocused()||!n._getInputEl().value)switch(e.which){case f.default.A:n._handleAKeyDown(e);break;case f.default.ARROW_LEFT:n._offsetFocus(-1);break;case f.default.ARROW_RIGHT:n._offsetFocus(1);break;case f.default.BACKSPACE:n._handleBackspaceKeyDown(e);break;case f.default.DELETE:n._handleDeleteKeyDown(e)}e.which===f.default.ENTER&&n._tokenizeInputString()},n._handleMouseDown=function(e){var t=n._getEl(),i=n._getInnerWrapperEl(),s=n._getInputEl(),r=!!n._getClosestEl(e.target,".Token");!n._getClosestEl(e.target,".Token-trigger")?r?n._handleDelegatedTokenMouseDown(e):e.target!==t&&e.target!==i||(e.preventDefault(),s.focus()):e.preventDefault()},n._handleBlur=function(e){n._setState({isFocused:!1},function(){n._tokenizeInputString(),n._triggerBlur()})},n._handleTypeaheadSelect=function(e){var t=e.item,i=n._getInputEl();i.value="",i.focus(),n._addTokens([t])},n._handleInputFocus=function(e){n._setState({focusedTokenIds:[],isFocused:!0})},n._handleInputInput=function(e){var t=n._getOptions(),i=t.inputSplitSeparator,s=n._parseInputString(),r=s.isInvalid,o=n._getInputEl();n._getState().isInvalid&&n._setState({isInvalid:!1}),n._isInputDisabled()&&(o.value=""),!r&&o.value.split(i).length>1&&n._tokenizeInputString(),n._typeahead&&n._typeahead.setQuery(o.value,{open:!0})},n._handleInputPaste=function(e){var t=n._getOptions(),i=t.inputJoinSeparator,s=n._getInputEl(),r=0===s.selectionStart&&s.selectionEnd===s.value.length,o=!s.value||r,a=e.clipboardData||window.clipboardData,c=a.getData("text"),l=c.split(m);if(1!==l.length&&o){e.preventDefault();var u=l.join(i);n._tokenizeInputString(u)}},n._filterTypeaheadItems=function(e){var t=n._getState(),i=t.value,s=i.map(n._tokenIdAccessor);return e.filter(function(e,t){var i=n._tokenIdAccessor(e,t);return-1===s.indexOf(i)})},s=i,r(n,s)}return o(t,e),t.prototype._makeAccessors=function(){var e=this._getOptions(),t=e.tokenColor,i=e.tokenId,n=e.tokenLabel,s=e.tokenSelected;this._tokenColorAccessor=this._makeAccessor(t),this._tokenIdAccessor=this._makeAccessor(i,{parse:function(e){return String(e)}}),this._tokenLabelAccessor=this._makeAccessor(n),this._tokenSelectedAccessor=this._makeAccessor(s)},t.prototype._makeAccessor=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.parse,n=void 0===i?function(e){return e}:i;return"string"==typeof e?function(t){return n(t[e])}:function(t,i){return n(e(t,i))}},t.prototype._getEl=function(){throw new Error("FormTokenInput must implement `_getEl`")},t.prototype._getInnerWrapperEl=function(){throw new Error("FormTokenInput must implement `_getInnerWrapperEl`")},t.prototype._getInputEl=function(){throw new Error("FormTokenInput must implement `_getInputEl`")},t.prototype._getOptions=function(){throw new Error("FormTokenInput must implement `_getOptions`")},t.prototype._getState=function(){throw new Error("FormTokenInput must implement `_getState`")},t.prototype._setState=function(){throw new Error("FormTokenInput must implement `_setState`")},t.prototype._isControlled=function(){throw new Error("FormTokenInput must implement `_isControlled`")},t.prototype._isDisabled=function(){throw new Error("FormTokenInput must implement `_isDisabled`")},t.prototype._triggerBlur=function(){throw new Error("FormTokenInput must implement `_triggerBlur`")},t.prototype._triggerChange=function(){throw new Error("FormTokenInput must implement `_triggerChange`")},t.prototype._triggerInvalid=function(){throw new Error("FormTokenInput must implement `_triggerInvalid`")},t.prototype._handleDelegatedTokenDeleteButtonClick=function(e){var t=this._getState(),i=t.value,n=this._getClosestTokenIndex(e.target),s=this._tokenIdAccessor(i[n],n);this._deleteTokensWithIds([s],{deleteForward:!0})},t.prototype._handleAKeyDown=function(e){this._isEventModifierKeyDown(e)&&(e.preventDefault(),this._focusAllTokens())},t.prototype._handleBackspaceKeyDown=function(e){this._isDisabled()||(this._isInputFocused()?this._deleteLastToken():(e.preventDefault(),this._deleteFocusedTokens()))},t.prototype._handleDeleteKeyDown=function(){this._isDisabled()||this._deleteFocusedTokens({deleteForward:!0})},t.prototype._handleDelegatedTokenMouseDown=function(e){var t=this._getState(),i=t.focusedTokenIds,n=t.value,s=this._getClosestTokenIndex(e.target),r=this._tokenIdAccessor(n[s],s);this._isEventModifierKeyDown(e)?-1===i.indexOf(r)?this._setState({focusedTokenIds:i.concat([r])}):this._setState({focusedTokenIds:i.filter(function(e){return e!==r})}):this._setState({focusedTokenIds:[r]})},t.prototype._isEventModifierKeyDown=function(e){return v?e.metaKey:e.ctrlKey},t.prototype._addTokens=function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._getOptions(),s=n.maxLength,r=this._getState(),o=r.value,a=o.map(this._tokenIdAccessor),l=Math.max(0,s-o.length),u=this._excludeTokensWithIds(e,a).slice(0,l),d=u.length>0,h=d?o.concat(u):o;this._setState(c({},i,{isInvalid:i.isInvalid||!1,value:this._isControlled()?o:h}),function(){t._typeahead&&t._typeahead.setQuery(t._getInputEl().value)}),d&&this._triggerChange(h)},t.prototype._tokenizeInputString=function(e){var t=this._getOptions(),i=t.typeaheadItemGroups,n=this._getInputEl();if(i.length){return void(this._getState().isFocused||(n.value="",this._typeahead&&this._typeahead.setQuery("")))}var s=this._parseInputString(e),r=s.invalidTokensString,o=s.isInvalid,a=s.validTokens;o?(n.value=r,this._isInputFocused()&&n.select(),this._triggerInvalid(r)):n.value="",this._addTokens(a,{isInvalid:o})},t.prototype._deleteFocusedTokens=function(e){var t=this._getState(),i=t.focusedTokenIds;this._deleteTokensWithIds(i,e)},t.prototype._deleteLastToken=function(){var e=this._getState(),t=e.value,i=t.length-1,n=t[i];if(void 0!==n){var s=this._tokenIdAccessor(n,i);this._deleteTokensWithIds([s])}},t.prototype._deleteTokensWithIds=function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.deleteForward,s=void 0!==n&&n,r=this._getState(),o=r.value,a=this._excludeTokensWithIds(o,e);if(a.length!==o.length){var c=this._getInputEl();if(!this._isInputFocused()){var l=this._getTokensWithIds(e),u=o.indexOf(l[0]),d=u+(s?0:-1),h=a[d];h?this._focusToken(h):c.focus()}this._isControlled()||this._setState({value:a},function(){t._typeahead&&t._typeahead.setQuery(c.value)}),this._triggerChange(a)}},t.prototype._offsetFocus=function(e){var t=this._getOptions(),i=t.dir,n=this._getState(),s=n.focusedTokenIds,r=n.value;"rtl"===i&&(e*=-1);var o=this._getTokensWithIds(s),a=void 0;if(this._isInputFocused()&&e<0)a=r[r.length-1];else if(o.length>1)a=e<0?o[0]:o[o.length-1];else if(1===o.length){var c=r.indexOf(o[0]);c===r.length-1&&e>0?this._getInputEl().focus():a=r[c+e]}this._focusToken(a)},t.prototype._focusToken=function(e){var t=this._getState(),i=t.value,n=i.indexOf(e);if(n>-1){var s=this._tokenIdAccessor(e,n);this._setState({focusedTokenIds:[s]});this._getInnerWrapperEl().children[n].focus()}},t.prototype._focusAllTokens=function(){var e=this._getState(),t=e.value;this._setState({focusedTokenIds:t.map(this._tokenIdAccessor)});var i=this._getInnerWrapperEl(),n=i.firstElementChild;n&&n.focus()},t.prototype._isTypeaheadEnabled=function(){var e=this._getOptions(),t=e.typeaheadItemGroups;return!!t&&t.length>0},t.prototype._isInputDisabled=function(){var e=this._getOptions(),t=e.maxLength,i=this._getState(),n=i.value;return this._isDisabled()||n.length>=t},t.prototype._isInputFocused=function(){return this._getInputEl()===document.activeElement},t.prototype._getTokenSize=function(){switch(this._getOptions().size){case"small":return"xsmall";case"large":return;default:return"small"}},t.prototype._parseInputString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getInputEl().value,t=this._getTokenStringsFromString(e),i=this._parseTokens(t),n=i.filter(function(e){return null!==e});return{invalidTokensString:this._getInvalidTokensString(t,i),isInvalid:n.length!==i.length,validTokens:n}},t.prototype._getTokenStringsFromString=function(e){var t=this._getOptions(),i=t.inputSplitSeparator;return this._validateInputSeparatorOptions(),e.split(i).map(function(e){return e.trim()}).filter(function(e){return!!e})},t.prototype._parseTokens=function(e){var t=this,i=this._getOptions(),n=i.maxLength,s=i.parseToken,r=this._getState(),o=r.value,a=o.map(this._tokenIdAccessor);return e.map(function(e,i){var r=s(e),o=t._tokenIdAccessor(r,i),c=a.length+1<=n&&-1===a.indexOf(o)&&(!!r||0===r);return c&&a.push(o),c?r:null})},t.prototype._getInvalidTokensString=function(e,t){var i=this._getOptions(),n=i.inputJoinSeparator;return this._validateInputSeparatorOptions(),e.reduce(function(e,i,n){return null===t[n]&&-1===e.indexOf(i)&&e.push(i),e},[]).join(n)},t.prototype._excludeTokensWithIds=function(e,t){var i=this;return e.filter(function(e,n){var s=i._tokenIdAccessor(e,n);return-1===t.indexOf(s)})},t.prototype._getTokensWithIds=function(e){var t=this;return this._getState().value.filter(function(i,n){var s=t._tokenIdAccessor(i,n);return e.indexOf(s)>-1})},t.prototype._getClosestTokenIndex=function(e){var t=this._getInnerWrapperEl(),i=this._getClosestEl(e,".Token");return Array.prototype.indexOf.call(t.children,i)},t.prototype._getClosestEl=function(e,t){var i=this._getEl();return(0,h.default)(e,t,i)},t.prototype._validateInputSeparatorOptions=function(){var e=this._getOptions(),t=e.inputJoinSeparator,i=e.inputSplitSeparator;2!==t.split(i).length&&console&&console.warn&&console.warn("FormTokenInput `inputJoinSeparator` does not match `inputSplitSeparator`: ",this)},t}(i),e.classNames=u.default,e.inputSeparators=g,e.defaultOptions={autofocus:!1,autoFocus:!1,className:"",deleteTokenText:"Delete",dir:"",inputJoinSeparator:", ",inputSplitSeparator:",",maxLength:1/0,parseToken:function(e){return e},placeholderText:"",size:"",tabIndex:0,tokenColor:function(){return null},tokenId:function(e){return e},tokenLabel:function(e){return e},tokenSelected:function(){return null},typeaheadItemGroups:[]},t}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t,i){for(;e&&e!==i;){if((0,s.default)(e,t))return e;e=e.parentNode}};var n=i(10),s=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){return e instanceof Element&&a.call(e,t)};var n=window.Element.prototype,s=n.matches,r=n.msMatchesSelector,o=n.webkitMatchesSelector,a=s||r||o},function(e,t,i){"use strict";t.__esModule=!0,t.default={A:65,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,BACKSPACE:8,DELETE:46,END:35,ENTER:13,ESCAPE:27,HOME:36,PAGE_DOWN:34,PAGE_UP:33,SPACE:32,TAB:9,Y:89,Z:90}},function(e,i){e.exports=t},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){var t=document.createElement("div");t.innerHTML=e;var i=t.firstElementChild;return(0,s.default)(i),i};var n=i(2),s=function(e){return e&&e.__esModule?e:{default:e}}(n)}])})},function(e,t,i){!function(t,n){e.exports=n(i(116))}(0,function(e){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,i){"use strict";function n(e){return r.default.remove(e)}t.__esModule=!0,t.removeDiacritics=n;var s=i(10),r=function(e){return e&&e.__esModule?e:{default:e}}(s)},function(e,t,i){"use strict";function n(e){return e?String(e).split(/\s+/):[]}t.__esModule=!0,t.whitespace=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=i(1),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(o),c=i(12),l=n(c),u=i(13),d=n(u),h=function(){function e(t){s(this,e),this.options=r({},e.defaultOptions,t)}return e.prototype.initialize=function(){return this._prefixMap=new d.default,this._queryMap=new Map,this._ids=new Set,this},e.prototype.add=function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],s=n.getItemId,r=n.normalizeText,o=this.options.tokenizeItem,a=i.normalizedQueryText,c=i.queryKey;return"string"==typeof a?this._queryMap.set(c,e):e.forEach(function(e){var i=s(e);t._ids.has(i)||(t._ids.add(i),o(e).forEach(function(i){var n=r(i);t._prefixMap.add(n,e)}))}),this},e.prototype.find=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],i=t.getItemId,n=t.normalizeText,s=e.normalizedQueryText,r=e.queryKey,o=this._queryMap.get(r)||[],a=o.map(i);return this._findItemsFromPrefixMap(s,{getItemId:i,normalizeText:n}).filter(function(e){return-1===a.indexOf(i(e))}).concat(o)},e.prototype._findItemsFromPrefixMap=function(e,t){var i=this,n=(t.getItemId,t.normalizeText),s=this.options,r=s.sort,o=s.tokenizeQuery,a=o(e);0===a.length&&a.push("");var c=a.map(function(e){var t=n(e);return i._prefixMap.find(t)}),u=(0,l.default)(c);return r?r(u):this.sort(u,{normalizeText:n}),u},e.prototype.sort=function(e,t){var i=t.normalizeText,n=this.options.tokenizeItem;e.sort(function(e,t){var s=i(n(e).join()),r=i(n(t).join());return s.localeCompare(r)})},e}();h.defaultOptions={sort:null,tokenizeItem:a.whitespace,tokenizeQuery:a.whitespace},t.default=h},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=i(4),u=n(l),d=i(5),h=n(d),p=i(9),f=n(p),m=i(16),g=n(m),v=i(18),T=n(v),_=i(20),y=n(_),w=function(e){function t(i){r(this,t);var n=o(this,e.call(this,i));n._handleClick=function(e){var i=(0,g.default)(e.target,"."+u.default.classNames.MENU_ITEM,n.el);if(i){var s=i.getAttribute("data-key"),r=n._itemsByMenuItemKey[s],o=n._itemGroupsByMenuItemKey[s],a={item:r,itemGroup:o};n.trigger(t.events.SELECT,{detail:a})}},n._handleItemFocus=function(e){var i=e.detail,s=i.menuItemKey,r=i.relatedEventType,o=n._itemsByMenuItemKey[s],a=n._itemGroupsByMenuItemKey[s],c={item:o,itemGroup:a,relatedEventType:r};n.trigger(t.events.ITEM_FOCUS,{detail:c})},n.options=c({},t.defaultOptions,i);var s=n.options,a=s.openOnClick,l=s.openOnFocus,d=s.targetEl;return n._state=c({},t.defaultState,{itemsByGroupId:{}}),n.el=document.createElement("div"),n.el.className=[u.default.classNames.BASE,t.classNames.BASE].join(" "),n.el.addEventListener("click",n._handleClick),n.el.addEventListener(u.default.events.BEFORE_OPEN,n._handleBeforeOpen),n.el.addEventListener(u.default.events.AFTER_OPEN,n._handleAfterOpen),n.el.addEventListener(u.default.events.AFTER_CLOSE,n._handleClose),n.el.addEventListener(u.default.events.ITEM_FOCUS,n._handleItemFocus),n._menuItemListEl=document.createElement("ul"),n._menuItemListEl.className=u.default.classNames.MENU_ITEM_LIST,n.el.appendChild(n._menuItemListEl),n._dropdown=new u.default({_clickFocusedMenuItemOnSpaceKey:!1,el:n.el}),n._dropdown._initializeTarget(d),a&&n._dropdown.openOnClick(d),l&&n._dropdown._openOnFocus(d),n}return a(t,e),t.prototype._getOptions=function(){return this.options},t.prototype._getState=function(){return this._state},t.prototype._setState=function(e,t){this._state=c({},this._state,e),this.render(),t&&t()},t.prototype._open=function(){this._dropdown.open(this.options.targetEl)},t.prototype.render=function(){var e=document.createDocumentFragment();this._renderMenuItems().forEach(function(t){e.appendChild(t)}),(0,y.default)(this._menuItemListEl),this._menuItemListEl.appendChild(e),this._isOpen&&this._dropdown.render()},t.prototype._renderLoadingIndicator=function(){return(0,T.default)('\n      <li class="'+t.classNames.LOADING_INDICATOR+'">\n        <span class="Icon Icon--loadingMedium"></span>\n      </li>\n    ')},t.prototype._renderDivider=function(){return(0,T.default)('<li class="'+u.default.classNames.DIVIDER+'"></li>')},t.prototype._renderGroupLabel=function(e){var t=e.labelText,i=document.createElement("li");return i.className=u.default.classNames.MENU_GROUP_LABEL,i.textContent=t,i},t.prototype._renderItem=function(e){var t=e.itemGroup,i=e.item,n=e.index,s=t.options,r=s.dangerouslyRenderItemDetailHtml,o=s.dangerouslyRenderItemHtml,a=s.getItemId,c=s.renderItem,l=s.renderItemDetail,d=t.id+"-"+(a(i)||n);this._itemsByMenuItemKey[d]=i,this._itemGroupsByMenuItemKey[d]=t;var h=(0,T.default)('\n      <li class="'+u.default.classNames.MENU_ITEM+'" data-key="'+d+'"></li>\n    ');if(o?h.innerHTML=o(i):h.textContent=c(i),!h.firstElementChild){var p=document.createElement("button");p.type="button",h.firstChild&&p.appendChild(h.firstChild),h.appendChild(p)}if(h.firstElementChild.classList.add(u.default.classNames.MENU_ITEM_CONTENT),r||l){var f=(0,T.default)('\n        <div class="'+u.default.classNames.MENU_ITEM_DETAIL+'"></div>\n      ');r?f.innerHTML=r(i):f.textContent=l(i),h.appendChild(f)}return h},t.prototype.remove=function(){return this._dropdown.remove(),this},t}((0,f.default)(h.default));w.defaultOptions=c({},w.defaultOptions,{targetEl:null}),w.events={ITEM_FOCUS:"featherFormTypeaheadItemFocus",SELECT:"featherFormTypeaheadSelect"},e.exports=w},function(t,i){t.exports=e},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=i(6),r=i(8),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){function e(){n(this,e)}return e.prototype.on=function(e){return c(e,"on"),(0,s.checkDeprecatedEventName)(e,"on"),this.$el?this.$el.on.apply(this.$el,arguments):this.el.addEventListener.apply(this.el,arguments),this},e.prototype.off=function(e){return c(e,"off"),(0,s.checkDeprecatedEventName)(e,"off"),this.$el?this.$el.off.apply(this.$el,arguments):this.el.removeEventListener.apply(this.el,arguments),this},e.prototype.trigger=function(e,t){if(c(e,"trigger"),this.$el)this.$el.trigger.apply(this.$el,arguments);else{var i=new o.default(e,t);this.el.dispatchEvent(i)}return this},e}(),c=function(e,t){if(!e)throw new Error("Called `"+t+"()` with an undefined or empty event name. Perhaps you are using an event name that has been removed? See the list of deprecated events on http://go/feather/docs/history")};t.default=a},function(e,t,i){"use strict";function n(e,t){return Object.keys(t).reduce(function(i,n){var s=t[n].newName||"";return i[n]=e+":"+n+":"+s+":"+a,i},{})}function s(e){if("string"==typeof e&&e.endsWith(a)){var t=e.split(":"),i=t[0],n=t[1],s=t[2],r=i+": Event `"+n+"` is deprecated.";s&&(r+=" Use `"+s+"` instead."),(0,o.default)(r)}}t.__esModule=!0,t.deprecatedEventNames=n,t.checkDeprecatedEventName=s;var r=i(7),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a="deprecated"},function(e,t,i){"use strict";function n(e){s[e]||(console.warn(e),s[e]=!0)}t.__esModule=!0,t.default=n;var s={}},function(e,t,i){"use strict";t.__esModule=!0;var n=void 0;try{n=new CustomEvent("test").constructor}catch(e){var s={bubbles:!1,cancelable:!1,detail:void 0};n=function(e,t){t=Object.assign({},s,t);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i},n.prototype=window.Event.prototype}t.default=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},u=i(0),d=s(u),h=i(1),p=s(h),f=i(11),m=n(f),g=i(2),v=n(g),T=i(15),_=n(T);t.default=function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){function e(){c(this,e)}return e}();return t=e=function(e){function t(){var i,n,s;c(this,t);for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];return i=n=o(this,e.call.apply(e,[this].concat(a))),n._isOpen=!1,n._handleBeforeOpen=function(){n._updateItems()},n._handleAfterOpen=function(){n._isOpen=!0,n._isUpdatingItems||n._closeIfMenuIsEmpty()},n._handleClose=function(){n._isOpen=!1,n._cancelPendingItemGroupFetchRequests()},n._handleFindDone=function(e,t){var i=n._getState(),s=i.query,r=i.lastUpdateTime;n._isOpen&&e===s&&t===r&&n._updateItems()},s=i,o(n,s)}return a(t,e),t.prototype._getOptions=function(){throw new Error("FormTypeahead must implement `_getOptions`")},t.prototype._getState=function(){throw new Error("FormTypeahead must implement `_getState`")},t.prototype._setState=function(){throw new Error("FormTypeahead must implement `_setState`")},t.prototype._renderLoadingIndicator=function(){throw new Error("FormTypeahead must implement `_renderLoadingIndicator`")},t.prototype._renderDivider=function(){throw new Error("FormTypeahead must implement `_renderDivider`")},t.prototype._renderGroupLabel=function(){throw new Error("FormTypeahead must implement `_renderGroupLabel`")},t.prototype._renderItem=function(){throw new Error("FormTypeahead must implement `_renderItem`")},t.prototype._open=function(){throw new Error("FormTypeahead must implement `_open`")},t.prototype._renderMenuItems=function(){var e=this,t=this._getOptions(),i=t.getQueryKey,n=t.getQueryText,s=t.itemGroups,r=this._getState(),o=r.areItemsPending,a=r.hasItems,c=r.itemsByGroupId,l=r.query;return this._itemsByMenuItemKey={},this._itemGroupsByMenuItemKey={},!a&&o?[this._renderLoadingIndicator()]:s.reduce(function(t,s){var r=s.options,o=r.groupItems,a=r.maxItems,u=s.isPending(l,{getQueryKey:i,getQueryText:n});return o(c[s.id]||[]).forEach(function(i,n){var r=s.id+"-"+n;if(i.length||u){t.length&&t.push(e._renderDivider({keyPrefix:r}));var o=e._getItemGroupLabelText({itemGroup:s,items:i});o&&t.push(e._renderGroupLabel({keyPrefix:r,labelText:o}))}i.length?i.slice(0,a).forEach(function(i,n){t.push(e._renderItem({itemGroup:s,item:i,index:n}))}):u&&t.push(e._renderLoadingIndicator({keyPrefix:r}))}),t},[])},t.prototype._getItemGroupLabelText=function(e){var t=e.itemGroup,i=e.items,n=t.options.labelText;return"function"==typeof n?n(i):n},t.prototype.setQuery=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.open,n=!this._isOpen&&!0===i;return this._isOpen&&!1===i&&this._close(),this._isOpen?this._updateItems(e):this._setState({query:e}),n&&this._open(),this},t.prototype._close=function(){this._dropdown.close()},t.prototype._closeIfMenuIsEmpty=function(){var e=this._getState(),t=e.hasItems,i=e.areItemsPending;!this._isOpen||t||i||this._close()},t.prototype._updateItems=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getState().query,i=this._getOptions(),n=i.filterItems,s=i.getQueryKey,r=i.getQueryText,o=i.itemGroups,a=this._getState(),c=a.hasItems,u=performance.now(),d=this._handleFindDone.bind(this,t,u),h=o.reduce(function(e,i){var o=i.find(t,d,{filterItems:n,getQueryKey:s,getQueryText:r});return e.areItemsPending=e.areItemsPending||i.isPending(t,{getQueryKey:s,getQueryText:r}),e.hasItems=e.hasItems||o.length>0,e.itemsByGroupId[i.id]=o,e},l({},this.constructor.defaultState,{itemsByGroupId:{},lastUpdateTime:u,query:t}));return this._isOpen&&!c&&h.hasItems&&this._dropdown._resetMenuAlignment(),this._isUpdatingItems=!0,this._setState(h,function(){e._isUpdatingItems=!1,e._closeIfMenuIsEmpty()}),h},t.prototype._cancelPendingItemGroupFetchRequests=function(){this._getOptions().itemGroups.forEach(function(e){e.cancelPendingFetchRequest()})},t}(i),e.normalizers=d,e.tokenizers=p,e.ItemGroup=m.default,e.ItemStore=v.default,e.Transport=_.default,e.classNames={BASE:"FormTypeahead",LOADING_INDICATOR:"FormTypeahead-loadingIndicator"},e.defaultOptions={filterItems:void 0,getQueryKey:void 0,getQueryText:void 0,itemGroups:void 0,openOnClick:!0,openOnFocus:!0},e.defaultState={areItemsPending:!1,hasItems:!1,itemsByGroupId:void 0,lastUpdateTime:-1,query:""},t}},function(e,t){function i(e){return e.replace(/[^\u0000-\u007e]/g,function(e){return s[e]||e})}t.remove=i;for(var n=[{base:" ",chars:" "},{base:"0",chars:"߀"},{base:"A",chars:"ⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",chars:"Ꜳ"},{base:"AE",chars:"ÆǼǢ"},{base:"AO",chars:"Ꜵ"},{base:"AU",chars:"Ꜷ"},{base:"AV",chars:"ꜸꜺ"},{base:"AY",chars:"Ꜽ"},{base:"B",chars:"ⒷＢḂḄḆɃƁ"},{base:"C",chars:"ⒸＣꜾḈĆCĈĊČÇƇȻ"},{base:"D",chars:"ⒹＤḊĎḌḐḒḎĐƊƉᴅꝹ"},{base:"Dh",chars:"Ð"},{base:"DZ",chars:"ǱǄ"},{base:"Dz",chars:"ǲǅ"},{base:"E",chars:"ɛⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎᴇ"},{base:"F",chars:"ꝼⒻＦḞƑꝻ"},{base:"G",chars:"ⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾɢ"},{base:"H",chars:"ⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",chars:"ⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",chars:"ⒿＪĴɈȷ"},{base:"K",chars:"ⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",chars:"ⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",chars:"Ǉ"},{base:"Lj",chars:"ǈ"},{base:"M",chars:"ⓂＭḾṀṂⱮƜϻ"},{base:"N",chars:"ꞤȠⓃＮǸŃÑṄŇṆŅṊṈƝꞐᴎ"},{base:"NJ",chars:"Ǌ"},{base:"Nj",chars:"ǋ"},{base:"O",chars:"ⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OE",chars:"Œ"},{base:"OI",chars:"Ƣ"},{base:"OO",chars:"Ꝏ"},{base:"OU",chars:"Ȣ"},{base:"P",chars:"ⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",chars:"ⓆＱꝖꝘɊ"},{base:"R",chars:"ⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",chars:"ⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",chars:"ⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"Th",chars:"Þ"},{base:"TZ",chars:"Ꜩ"},{base:"U",chars:"ⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",chars:"ⓋＶṼṾƲꝞɅ"},{base:"VY",chars:"Ꝡ"},{base:"W",chars:"ⓌＷẀẂŴẆẄẈⱲ"},{base:"X",chars:"ⓍＸẊẌ"},{base:"Y",chars:"ⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",chars:"ⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",chars:"ⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐɑ"},{base:"aa",chars:"ꜳ"},{base:"ae",chars:"æǽǣ"},{base:"ao",chars:"ꜵ"},{base:"au",chars:"ꜷ"},{base:"av",chars:"ꜹꜻ"},{base:"ay",chars:"ꜽ"},{base:"b",chars:"ⓑｂḃḅḇƀƃɓƂ"},{base:"c",chars:"ｃⓒćĉċčçḉƈȼꜿↄ"},{base:"d",chars:"ⓓｄḋďḍḑḓḏđƌɖɗƋᏧԁꞪ"},{base:"dh",chars:"ð"},{base:"dz",chars:"ǳǆ"},{base:"e",chars:"ⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇǝ"},{base:"f",chars:"ⓕｆḟƒ"},{base:"ff",chars:"ﬀ"},{base:"fi",chars:"ﬁ"},{base:"fl",chars:"ﬂ"},{base:"ffi",chars:"ﬃ"},{base:"ffl",chars:"ﬄ"},{base:"g",chars:"ⓖｇǵĝḡğġǧģǥɠꞡꝿᵹ"},{base:"h",chars:"ⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",chars:"ƕ"},{base:"i",chars:"ⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",chars:"ⓙｊĵǰɉ"},{base:"k",chars:"ⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",chars:"ⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇɭ"},{base:"lj",chars:"ǉ"},{base:"m",chars:"ⓜｍḿṁṃɱɯ"},{base:"n",chars:"ⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥлԉ"},{base:"nj",chars:"ǌ"},{base:"o",chars:"ⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿꝋꝍɵɔᴑ"},{base:"oe",chars:"œ"},{base:"oi",chars:"ƣ"},{base:"oo",chars:"ꝏ"},{base:"ou",chars:"ȣ"},{base:"p",chars:"ⓟｐṕṗƥᵽꝑꝓꝕρ"},{base:"q",chars:"ⓠｑɋꝗꝙ"},{base:"r",chars:"ⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",chars:"ⓢｓśṥŝṡšṧṣṩșşȿꞩꞅẛʂ"},{base:"ss",chars:"ß"},{base:"t",chars:"ⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"th",chars:"þ"},{base:"tz",chars:"ꜩ"},{base:"u",chars:"ⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",chars:"ⓥｖṽṿʋꝟʌ"},{base:"vy",chars:"ꝡ"},{base:"w",chars:"ⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",chars:"ⓧｘẋẍ"},{base:"y",chars:"ⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",chars:"ⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],s={},r=0;r<n.length;r+=1)for(var o=n[r].chars,a=0;a<o.length;a+=1)s[o[a]]=n[r].base;t.replacementList=n,t.diacriticsMap=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=i(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(o),c=i(2),l=n(c),u=i(14),d=n(u),h=function(){function e(t){s(this,e),this.options=r({},e.defaultOptions,t),this.id=String((0,d.default)()),this.options.store||(this.options.store=new l.default),this.initialize()}return e.prototype.initialize=function(){var e=this.options,t=e.items,i=e.store;return this.cancelPendingFetchRequest(),this._cancelPendingPrefechRequest(),this._loadingQueries=new Set,this._loadedQueries=new Set,this._fetchSuccessHandlers=new Map,i.initialize(),this._add(t),this._prefetchItems(),this},e.prototype.find=function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=n.filterItems,r=n.getQueryKey,o=void 0===r?this._getQueryKey:r,a=n.getQueryText,c=void 0===a?this._getQueryText:a,l=this.options,u=l.createQueryItems,d=l.fetchDebounceMs,h=l.getItemId,p=l.normalizeText,f=l.store;this.cancelPendingFetchRequest();var m=this._parseQuery(e,{getQueryKey:o,getQueryText:c}),g=m.queryKey,v=m.queryText;if(!this._isQueryTextValid(v))return[];this._prefetchItems(t),this._loadingQueries.has(g)?this._fetchItemsForQuery(e,m,t):this._fetchTimeoutId=setTimeout(function(){i._fetchItemsForQuery(e,m,t)},d);var T=f.find(m,{getItemId:h,normalizeText:p});if(u){var _=T.map(h);T=u(e).filter(function(e){return-1===_.indexOf(h(e))}).concat(T)}return s&&(T=s(T)),T},e.prototype.isPending=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.getQueryKey,n=void 0===i?this._getQueryKey:i,s=t.getQueryText,r=void 0===s?this._getQueryText:s,o=this.options.transport,a=this._parseQuery(e,{getQueryKey:n,getQueryText:r}),c=a.queryKey,l=a.queryText;return!(!o||!this._isQueryTextValid(l))&&!this._loadedQueries.has(c)},e.prototype.cancelPendingFetchRequest=function(){return clearTimeout(this._fetchTimeoutId),delete this._fetchTimeoutId,this},e.prototype._cancelPendingPrefechRequest=function(){clearTimeout(this._prefetchTimeoutId),delete this._prefetchTimeoutId},e.prototype._add=function(e,t){var i=this.options,n=i.getItemId,s=i.normalizeText;i.store.add(e,t,{getItemId:n,normalizeText:s})},e.prototype._parseQuery=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.getQueryKey,n=void 0===i?this._getQueryKey:i,s=t.getQueryText,r=void 0===s?this._getQueryText:s,o=this.options.normalizeText,a=r(e),c=o(a);return{normalizedQueryText:c,queryKey:n(e,c),queryText:a}},e.prototype._getQueryText=function(e){return e},e.prototype._getQueryKey=function(e,t){return t},e.prototype._isQueryTextValid=function(e){var t=this.options.minQueryLength;return"string"==typeof e&&e.trim().length>=t},e.prototype._prefetchItems=function(e){var t=this.options,i=t.parsePrefetchData,n=t.prefetchTransport;n&&this._fetchItemsFromTransport({onSuccess:e,parseData:i,timeoutIdName:"_prefetchTimeoutId",transport:n})},e.prototype._fetchItemsForQuery=function(e,t,i){var n=this.options,s=n.parseFetchData,r=n.transport;r&&this._fetchItemsFromTransport({onSuccess:i,parseData:s,query:e,queryProps:t,timeoutIdName:"_fetchTimeoutId",transport:r})},e.prototype._fetchItemsFromTransport=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.onSuccess,n=e.query,s=e.queryProps,r=e.transport,o=s||{},a=o.normalizedQueryText,c=o.queryKey,l=void 0===c?null:c;if(!this._loadedQueries.has(l)){if(0===t){var u=this._fetchSuccessHandlers.get(l)||[];u.push(i),this._fetchSuccessHandlers.set(l,u)}if(!this._loadingQueries.has(l)){this._loadingQueries.add(l);var d=this._getTransportFetchCallback(e,t),h=r.fetch(a,d,{query:n,queryKey:l});this._handlePromise(h,d)}}},e.prototype._getTransportFetchCallback=function(e,t){var i=this,n=e.parseData,s=void 0===n?function(e){return e}:n,r=e.query,o=e.queryProps,a=e.timeoutIdName,c=void 0===a?"":a,l=!r,u=l?null:o.queryKey,d=this[c];return function(n,r){if(i._loadingQueries.delete(u),n){if(n&&d===i[c]){t++;var a=i._fetchItemsFromTransport.bind(i,e,t);i[c]=i._retryFetch(a,t)}}else{var l=s(r);i._add(l,o),i._loadedQueries.add(u),i._fetchSuccessHandlers.get(u).forEach(function(e){e&&e()}),i._fetchSuccessHandlers.delete(u)}}},e.prototype._handlePromise=function(e,t){e&&"function"==typeof e.then&&e.then(function(e){return t(null,e)},function(e){return t(e)})},e.prototype._retryFetch=function(e,t){var i=this.options.getFetchRetryDelayMs;if(i){var n=i(t);if("number"==typeof n&&n<1/0)return setTimeout(e,n)}},e}();h.defaultOptions={dangerouslyRenderItemDetailHtml:null,dangerouslyRenderItemHtml:null,createQueryItems:null,fetchDebounceMs:250,getFetchRetryDelayMs:function(e){return 250*Math.pow(2,e-1)},getItemId:function(e){return e},groupItems:function(e){return[e]},items:[],labelText:"",maxItems:10,minQueryLength:1,normalizeText:function(e){return a.removeDiacritics(e.toLowerCase().trim())},parseFetchData:function(e){return e},parsePrefetchData:function(e){return e},prefetchTransport:null,renderItem:function(e){return e},store:null,transport:null},t.default=h},function(e,t,i){"use strict";function n(e){for(var t=new Map,i=0;i<e.length;i++)for(var n=e[i],s=new Set,r=0;r<n.length;r++){var o=n[r];t.has(o)||t.set(o,0),s.has(o)||(s.add(o),t.set(o,t.get(o)+1))}var a=[];return t.forEach(function(t,i){t===e.length&&a.push(i)}),a}t.__esModule=!0,t.default=n},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=function(){function e(){n(this,e),this._map=new Map}return e.prototype.add=function(e,t){this._map.has(e)||this._map.set(e,[]),this._map.get(e).push(t),e.length>0&&this.add(e.substr(0,e.length-1),t)},e.prototype.find=function(e){return this._map.get(e)||[]},e}();t.default=s},function(e,t,i){"use strict";t.__esModule=!0,window.Feather=window.Feather||{};var n=window,s=n.Feather;if(!s._uniqueId){var r=0;s._uniqueId=function(){return r++}}t.default=s._uniqueId},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=function(){function e(t){n(this,e),this.options=s({},e.defaultOptions,t),this._promises=new Map}return e.prototype.fetch=function(e){function t(t,i,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,i){var n=this,s=i.query,r=i.queryKey,o=this.options,a=o.dataType,c=o.options,l=o.url;if(this._promises.has(r))return this._promises.get(r);var u="function"==typeof l?l(e,s):l;if(!u)return Promise.resolve([]);var d="function"==typeof c?c(e,s):c,h=fetch(u,d||{}).then(this._checkIfResponseOk).then(function(e){return e[a]()});return this._promises.set(r,h),h.catch(function(){}).then(function(){n._promises.delete(r)}),h}),e.prototype._checkIfResponseOk=function(e){return e.ok?e:Promise.reject(new Error(e.statusText))},e}();r.defaultOptions={dataType:"json",options:null,url:""},t.default=r},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t,i){for(;e&&e!==i;){if((0,s.default)(e,t))return e;e=e.parentNode}};var n=i(17),s=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){return e instanceof Element&&a.call(e,t)};var n=window.Element.prototype,s=n.matches,r=n.msMatchesSelector,o=n.webkitMatchesSelector,a=s||r||o},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){var t=document.createElement("div");t.innerHTML=e;var i=t.firstElementChild;return(0,s.default)(i),i};var n=i(19),s=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){Array.from(e.childNodes).forEach(function(t){e.removeChild(t)})}}])})},function(e,t,i){!function(t,i){e.exports=i()}(0,function(){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,i){"use strict";t.__esModule=!0,t.default={BASE:"NotificationList",NOTIFICATION:"Notification",NOTIFICATION_BODY:"Notification-body",NOTIFICATION_CLOSE_BUTTON:"Notification-closeButton",NOTIFICATION_CONTENT:"Notification-content",NOTIFICATION_ICON:"Notification-icon",NOTIFICATION_INNER:"Notification-inner",NOTIFICATION_IS_EXPIRED:"is-expired",NOTIFICATION_LIST_LAYER:"NotificationListLayer",NOTIFICATION_TITLE:"Notification-title"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}var c=i(0),l=n(c),u=i(2),d=n(u),h=i(6),p=n(h),f=i(8),m=n(f),g=i(13),v=n(g),T=function(e){function t(){r(this,t);var i=o(this,e.apply(this,arguments));return i.el=i._initializeEl(),i._layerEl.appendChild(i.el),i}return a(t,e),t.prototype._initializeEl=function(){var e=document.createElement("ul");return e.className=l.default.BASE,e.addEventListener("animationend",this._handleAnimationEnd),e.addEventListener("mouseenter",this._handleMouseEnter),e.addEventListener("mouseleave",this._handleMouseLeave),e.addEventListener("transitionend",this._handleTransitionEnd),e},t.prototype._render=function(){var t=this;e.prototype._render.call(this),Array.from(this.el.children).forEach(function(e,i){var n=e.getAttribute("data-id"),s=t._notifications.find(function(e){return e._id===n});s?s._isExpired&&e.classList.add(l.default.NOTIFICATION_IS_EXPIRED):t.el.removeChild(e)})},t.prototype._renderNotification=function(e,t){var i=e._color,n=e._id;t?(0,v.default)(t):(t=document.createElement("li"),t.role="alert",t.setAttribute("data-id",n)),t.className=l.default.NOTIFICATION,i&&t.classList.add("Notification--"+i);var s=document.createElement("div");return s.className=l.default.NOTIFICATION_INNER,t.appendChild(s),s.appendChild(this._renderNotificationIcon(e)),s.appendChild(this._renderNotificationContent(e)),s.appendChild(this._renderNotificationCloseButton(e)),t},t.prototype._renderNotificationIcon=function(e){var t=document.createElement("div");t.className=l.default.NOTIFICATION_ICON;var i=document.createElement("span");return i.className="Icon Icon--medium "+e._icon,t.appendChild(i),t},t.prototype._renderNotificationContent=function(e){var t=document.createElement("div");t.className=l.default.NOTIFICATION_CONTENT;var i=this._renderNotificationTitle(e),n=this._renderNotificationBody(e);return i&&t.appendChild(i),n&&t.appendChild(n),t},t.prototype._renderNotificationTitle=function(e){var t=e.titleHtml,i=e.titleText,n=document.createElement("div");if(n.className=l.default.NOTIFICATION_TITLE,t)n.innerHTML=t;else{if(!i)return null;n.textContent=i}return n},t.prototype._renderNotificationBody=function(e){var t=e.bodyHtml,i=e.bodyText,n=document.createElement("div");if(n.className=l.default.NOTIFICATION_BODY,t)n.innerHTML=t;else{if(!i)return null;n.textContent=i}return n},t.prototype._renderNotificationCloseButton=function(e){var t=(0,p.default)('\n      <button type="button" class="'+l.default.NOTIFICATION_CLOSE_BUTTON+'">\n        <span class="Icon Icon--smallest Icon--close" aria-hidden="true"></span>\n      </button>\n    ');return t.setAttribute("aria-label",e.closeText),t.addEventListener("click",this._handleNotificationCloseButtonClick),t},t.prototype.add=function(){var t,i=(t=e.prototype.add).call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n=this._renderNotification(i);return this.el.insertBefore(n,this.el.firstChild),this._updateNotificationHeight(n),i},t.prototype.update=function(t){var i;(i=e.prototype.update).call.apply(i,[this].concat(Array.prototype.slice.call(arguments)));var n=Array.from(this.el.children).find(function(e,i){return e.getAttribute("data-id")===t._id});return n&&this._renderNotification(t,n),this},t}((0,m.default)(d.default)),_=new T;e.exports=_},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=i(3),r=i(5),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){function e(){n(this,e)}return e.prototype.on=function(e){return c(e,"on"),(0,s.checkDeprecatedEventName)(e,"on"),this.$el?this.$el.on.apply(this.$el,arguments):this.el.addEventListener.apply(this.el,arguments),this},e.prototype.off=function(e){return c(e,"off"),(0,s.checkDeprecatedEventName)(e,"off"),this.$el?this.$el.off.apply(this.$el,arguments):this.el.removeEventListener.apply(this.el,arguments),this},e.prototype.trigger=function(e,t){if(c(e,"trigger"),this.$el)this.$el.trigger.apply(this.$el,arguments);else{var i=new o.default(e,t);this.el.dispatchEvent(i)}return this},e}(),c=function(e,t){if(!e)throw new Error("Called `"+t+"()` with an undefined or empty event name. Perhaps you are using an event name that has been removed? See the list of deprecated events on http://go/feather/docs/history")};t.default=a},function(e,t,i){"use strict";function n(e,t){return Object.keys(t).reduce(function(i,n){var s=t[n].newName||"";return i[n]=e+":"+n+":"+s+":"+a,i},{})}function s(e){if("string"==typeof e&&e.endsWith(a)){var t=e.split(":"),i=t[0],n=t[1],s=t[2],r=i+": Event `"+n+"` is deprecated.";s&&(r+=" Use `"+s+"` instead."),(0,o.default)(r)}}t.__esModule=!0,t.deprecatedEventNames=n,t.checkDeprecatedEventName=s;var r=i(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a="deprecated"},function(e,t,i){"use strict";function n(e){s[e]||(console.warn(e),s[e]=!0)}t.__esModule=!0,t.default=n;var s={}},function(e,t,i){"use strict";t.__esModule=!0;var n=void 0;try{n=new CustomEvent("test").constructor}catch(e){var s={bubbles:!1,cancelable:!1,detail:void 0};n=function(e,t){t=Object.assign({},s,t);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i},n.prototype=window.Event.prototype}t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){var t=document.createElement("div");t.innerHTML=e;var i=t.firstElementChild;return(0,s.default)(i),i};var n=i(7),s=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=i(0),u=n(l),d=i(9),h=n(d),p=i(11),f=n(p),m=i(12),g=n(m);t.default=function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){function e(){a(this,e)}return e}();return t=e=function(e){function t(){a(this,t);var i=r(this,e.call(this));return i._notifications=[],i._handleMouseEnter=function(){i._notifications.forEach(function(e){e._isExpired||(e._expirationTime=1/0)}),i._clearRenderTimeout()},i._handleMouseLeave=function(){i._notifications.forEach(function(e){e._isExpired||i._updateNotificationExpirationTime(e)}),i._render()},i._handleAnimationEnd=function(e){e.animationName.startsWith("feather-notification-list-hide")&&(e.target.style.height="0px")},i._handleTransitionEnd=function(e){if(e.target.classList.contains(u.default.NOTIFICATION)&&"height"===e.propertyName&&"0px"===e.target.style.height){var t=i._getEventNotificationIndex(e);i._notifications.splice(t,1),i._render()}},i._handleNotificationCloseButtonClick=function(e){var t=i._getEventNotificationIndex(e);i.remove(i._notifications[t])},i.setDefaultOptions(i.constructor.defaultNotificationOptions),i._layerEl=i._initializeLayerEl(),i}return o(t,e),t.prototype._initializeLayerEl=function(){var e=document.createElement("div");return e.className=[f.default.BASE,u.default.NOTIFICATION_LIST_LAYER].join(" "),e},t.prototype._render=function(){this._appendLayerEl(),this._markExpiredNotifications(),this._setRenderTimeout()},t.prototype._appendLayerEl=function(){this._layerEl.parentNode||document.body.appendChild(this._layerEl)},t.prototype._updateNotificationHeight=function(e){var t=e.querySelector("."+u.default.NOTIFICATION_INNER),i=parseInt(window.getComputedStyle(t).marginBottom,10);e.style.height=t.offsetHeight+i+"px"},t.prototype._getEventNotificationIndex=function(e){var t=this._getClosestNotificationEl(e.target);return Array.from(t.parentNode.children).indexOf(t)},t.prototype._getClosestNotificationEl=function(e){return(0,h.default)(e,"."+u.default.NOTIFICATION)},t.prototype.setDefaultOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._defaultNotificationOptions=c({},this._defaultNotificationOptions||{},e),this},t.prototype.add=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c({},this._defaultNotificationOptions,e,{_id:String((0,g.default)())});return this._updateNotificationExpirationTime(t),this._notifications.unshift(t),this._render(),t},t.prototype.addDanger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.add(c({_color:"red",_icon:"Icon--circleError",timeoutDelayMs:1/0},e))},t.prototype.addSuccess=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.add(c({_color:"green",_icon:"Icon--featherCircleCheck"},e))},t.prototype.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e._id;return Object.assign(e,t,{_id:i}),this._updateNotificationExpirationTime(e),this._render(),this},t.prototype.remove=function(e){return e&&(e._isExpired=!0,this._render()),this},t.prototype._setRenderTimeout=function(){this._clearRenderTimeout();var e=this._notifications.map(function(e){return e._expirationTime});if(e.length){var t=Math.min.apply(Math,e),i=t-performance.now();this._renderTimeout=setTimeout(this._render.bind(this),i)}},t.prototype._clearRenderTimeout=function(){clearTimeout(this._renderTimeout)},t.prototype._updateNotificationExpirationTime=function(e){e._expirationTime=performance.now()+e.timeoutDelayMs},t.prototype._markExpiredNotifications=function(){this._notifications.forEach(function(e){var t=e._expirationTime,i=e._isExpired;e._isExpired=i||performance.now()>=t})},t}(i),e.classNames=u.default,e.defaultNotificationOptions={_icon:"Icon--notifications",closeText:"Close",timeoutDelayMs:5e3},t}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t,i){for(;e&&e!==i;){if((0,s.default)(e,t))return e;e=e.parentNode}};var n=i(10),s=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){return e instanceof Element&&a.call(e,t)};var n=window.Element.prototype,s=n.matches,r=n.msMatchesSelector,o=n.webkitMatchesSelector,a=s||r||o},function(e,t,i){"use strict";t.__esModule=!0,t.default={BASE:"Layer",IS_VISIBLE:"is-visible",LOCAL:"Layer--local",MODAL:"Modal",OVERLAY:"ModalOverlay"}},function(e,t,i){"use strict";t.__esModule=!0,window.Feather=window.Feather||{};var n=window,s=n.Feather;if(!s._uniqueId){var r=0;s._uniqueId=function(){return r++}}t.default=s._uniqueId},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){Array.from(e.childNodes).forEach(function(t){e.removeChild(t)})}}])})},function(e,t,i){!function(t,i){e.exports=i()}(0,function(){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,i){"use strict";var n={BASELINE_GAP:"9px",COLUMN_GAP:"20px",COLUMN_WIDTH:"78px",COLUMN_COUNT:12};n.PAGE_WIDTH=parseFloat(n.COLUMN_WIDTH)*parseFloat(n.COLUMN_COUNT)+parseFloat(n.COLUMN_GAP)*(n.COLUMN_COUNT-1)+"px",e.exports=n},function(e,t,i){"use strict";e.exports={colors:i(2),formControls:i(3),grid:i(0),typography:i(4)}},function(e,t,i){"use strict";var n={BLUE_PRIMARY:"#1da1f2",TEXT_PRIMARY:"#14171a",TEXT_LINK:"#1b95e0",GRAY_DEEP:"#657786",GRAY_MEDIUM:"#aab8c2",GRAY_LIGHT:"#ccd6dd",GRAY_FADED:"#e6ecf0",GRAY_FAINT:"#f5f8fa",RED_DEEP:"#a01744",RED_MEDIUM:"#e0245e",RED_LIGHT:"#f6809a",RED_FADED:"#ffb8c2",ORANGE_DEEP:"#d82e18",ORANGE_MEDIUM:"#f45d22",ORANGE_LIGHT:"#ff8d57",ORANGE_FADED:"#ffbe78",YELLOW_DEEP:"#f98e00",YELLOW_MEDIUM:"#ffad1f",YELLOW_LIGHT:"#ffd03f",YELLOW_FADED:"#ffe76e",GREEN_DEEP:"#008951",GREEN_MEDIUM:"#17bf63",GREEN_LIGHT:"#68e090",GREEN_FADED:"#a5f2aa",BLUE_DEEP:"#005fd1",BLUE_MEDIUM:"#1da1f2",BLUE_LIGHT:"#71c9f8",BLUE_FADED:"#97e3ff",BLUE_FAINT:"#eaf5fd",PURPLE_DEEP:"#4f0299",PURPLE_MEDIUM:"#794bc4",PURPLE_LIGHT:"#a37ced",PURPLE_FADED:"#c7b4fa"};n.RED_FAINT=n.RED_FADED,n.ORANGE_FAINT=n.ORANGE_FADED,n.YELLOW_FAINT=n.YELLOW_FADED,n.GREEN_FAINT=n.GREEN_FADED,n.PURPLE_FAINT=n.PURPLE_FADED,n.GRAY_DARK="#8899a6",n.RED_DARK="#8c0015",n.ORANGE_DARK="#d64f00",n.YELLOW_DARK="#d64f00",n.GREEN_DARK="#008a4c",n.BLUE_DARK="#005091",n.PURPLE_DARK="#5b008c",e.exports=n},function(e,t,i){"use strict";var n=i(0),s={};s.XSMALL_FONT_SIZE="12px",s.XSMALL_LINE_HEIGHT="18px",s.XSMALL_PADDING_Y="0px",s.XSMALL_PADDING_X=s.XSMALL_FONT_SIZE,s.XSMALL_BORDER_RADIUS="4px",s.XSMALL_HEIGHT=2*parseFloat(n.BASELINE_GAP)+"px",s.XSMALL_ADORNMENT_MARGIN=parseFloat(s.XSMALL_FONT_SIZE)/2+"px",s.SMALL_FONT_SIZE="12px",s.SMALL_LINE_HEIGHT="18px",s.SMALL_PADDING_Y="3.5px",s.SMALL_PADDING_X=s.SMALL_FONT_SIZE,s.SMALL_BORDER_RADIUS="4px",s.SMALL_HEIGHT=3*parseFloat(n.BASELINE_GAP)+"px",s.SMALL_ADORNMENT_MARGIN=parseFloat(s.SMALL_FONT_SIZE)/2+"px",s.DEFAULT_FONT_SIZE="14px",s.DEFAULT_LINE_HEIGHT="22px",s.DEFAULT_PADDING_Y="6px",s.DEFAULT_PADDING_X=s.DEFAULT_FONT_SIZE,s.DEFAULT_BORDER_RADIUS="4px",s.DEFAULT_HEIGHT=4*parseFloat(n.BASELINE_GAP)+"px",s.DEFAULT_ADORNMENT_MARGIN=parseFloat(s.DEFAULT_FONT_SIZE)/2+"px",s.LARGE_FONT_SIZE="18px",s.LARGE_LINE_HEIGHT="25px",s.LARGE_PADDING_Y="9px",s.LARGE_PADDING_X=s.LARGE_FONT_SIZE,s.LARGE_BORDER_RADIUS="4px",s.LARGE_HEIGHT=5*parseFloat(n.BASELINE_GAP)+"px",s.LARGE_ADORNMENT_MARGIN=parseFloat(s.LARGE_FONT_SIZE)/2+"px",e.exports=s},function(e,t,i){"use strict";function n(e,t){return{fontSize:e,lineHeight:t}}function s(e){return Object.assign({fontWeight:r.FONT_WEIGHT_BOLD},e)}var r={FONT_FAMILY_BASE:"'Helvetica Neue', Helvetica, Arial, sans-serif",FONT_FAMILY_MONOSPACE:"Menlo, Monaco, Consolas, 'Courier New', monospace",FONT_SIZE_JUMBO:"27px",LINE_HEIGHT_JUMBO:"36px",FONT_SIZE_XLARGE:"21px",LINE_HEIGHT_XLARGE:"27px",FONT_SIZE_LARGE:"18px",LINE_HEIGHT_LARGE:"27px",FONT_SIZE_NORMAL:"14px",LINE_HEIGHT_NORMAL:"18px",FONT_SIZE_SMALL:"12px",LINE_HEIGHT_SMALL:"18px",FONT_WEIGHT_NORMAL:400,FONT_WEIGHT_BOLD:700};r.TEXT_JUMBO=n(r.FONT_SIZE_JUMBO,r.LINE_HEIGHT_JUMBO),r.TEXT_XLARGE=n(r.FONT_SIZE_XLARGE,r.LINE_HEIGHT_XLARGE),r.TEXT_LARGE=n(r.FONT_SIZE_LARGE,r.LINE_HEIGHT_LARGE),r.TEXT_NORMAL=n(r.FONT_SIZE_NORMAL,r.LINE_HEIGHT_NORMAL),r.TEXT_SMALL=n(r.FONT_SIZE_SMALL,r.LINE_HEIGHT_SMALL),r.TEXT_SMALL_CAPS=Object.assign({fontWeight:r.FONT_WEIGHT_BOLD,letterSpacing:"0.5px",textTransform:"uppercase"},r.TEXT_SMALL),r.H1=s(r.TEXT_JUMBO),r.H2=s(r.TEXT_XLARGE),r.H3=s(r.TEXT_LARGE),r.H4=s(r.H3),r.H5=s(r.TEXT_NORMAL),r.H6=s(r.TEXT_SMALL),e.exports=r}])})},function(e,t,i){"use strict";var n=i(55),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(288);TD.services.ChirpBase=function(e){this.account=e},TD.services.ChirpBase.kMEDIA_CLASS="s-media",TD.services.ChirpBase.RETWEET_CLASS="is-retweet",TD.services.ChirpBase.FAVORITE_CLASS="is-favorite",TD.services.ChirpBase.UNREAD_CLASS="is-unread",TD.services.ChirpBase.TWEET="tweet",TD.services.ChirpBase.GAP="gap",TD.services.ChirpBase.CONVERSATION_JOIN="conversation_participants_join",TD.services.ChirpBase.CONVERSATION_PARTICIPANTS_JOIN="conversation_participants_join",TD.services.ChirpBase.CONVERSATION_PARTICIPANTS_FAILED="conversation_participants_failed",TD.services.ChirpBase.CONVERSATION_NAME_UPDATE="conversation_name_update",TD.services.ChirpBase.MESSAGE="message",TD.services.ChirpBase.MESSAGE_THREAD="message_thread",TD.services.ChirpBase.SCHEDULED_STATUS="scheduled_status",TD.services.ChirpBase.SCHEDULED_GROUP="scheduled_group",TD.services.ChirpBase.SCHEDULED_TWEET="scheduled_tweet",TD.services.ChirpBase.SCHEDULED_TWEET_GROUP="scheduled_tweet_group",TD.services.ChirpBase.DATAMINR_ALERT="dataminr_alert",TD.services.ChirpBase.prototype.id="",TD.services.ChirpBase.prototype.chirpType="unknown",TD.services.ChirpBase.prototype.text="",TD.services.ChirpBase.prototype.created=null,TD.services.ChirpBase.prototype.htmlText="",TD.services.ChirpBase.prototype.creatorAccount=null,TD.services.ChirpBase.prototype.embeds=null,TD.services.ChirpBase.prototype.isQuoteStatus=!1,TD.services.ChirpBase.prototype.isListAction=!1,TD.services.ChirpBase.prototype.apiBounds=null,TD.services.ChirpBase.prototype.getApiBounds=function(e){return this.apiBounds=this.apiBounds||{},this.apiBounds[e]||{}},TD.services.ChirpBase.prototype.setApiBounds=function(e,t){return this.apiBounds=this.apiBounds||{},this.apiBounds[e]=t,this},TD.services.ChirpBase.prototype.apiSource="rest",TD.services.ChirpBase.prototype.cursor=null,TD.services.ChirpBase.prototype.sortIndex=null,TD.services.ChirpBase.prototype._hasImage=null,TD.services.ChirpBase.prototype._hasVideo=null,TD.services.ChirpBase.prototype._hasAnimatedGif=null,TD.services.ChirpBase.prototype._hasVine=null,TD.services.ChirpBase.prototype._hasLink=null,TD.services.ChirpBase.prototype.fromJSONObject=function(){throw new Error("fromJSONObject Not Implemented")},TD.services.ChirpBase.prototype.isOwnChirp=function(){throw new Error("isOwnChirp Not Implemented")},TD.services.ChirpBase.prototype.destroy=function(){throw new Error("destroy Not Implemented")},TD.services.ChirpBase.prototype.render=function(){throw new Error("render Not Implemented")},TD.services.ChirpBase.prototype.getNotificationData=function(){return null},TD.services.ChirpBase.prototype.email=function(){throw new Error("email Not Implemented")},TD.services.ChirpBase.prototype.postComment=function(){throw new Error("postComment Not Implemented")},TD.services.ChirpBase.prototype.getChirpURL=function(){throw new Error("getChirpURL Not Implemented")},TD.services.ChirpBase.prototype.isTranslatable=function(){return!1},TD.services.ChirpBase.prototype.translate=function(){throw new Error("translate Not Implemented")},TD.services.ChirpBase.prototype.getChirpType=function(){return this.chirpType},TD.services.ChirpBase.prototype.getScribeItemData=function(){throw new Error("getScribeItemData not implemented")},TD.services.ChirpBase.prototype.getDOMChirps=function(){var e="[data-key$='"+this.id+"'][data-account-key='"+this.account.getKey()+"']";return $(e)},TD.services.ChirpBase.prototype.passFilters=function(e){return TD.controller.filterManager.pass(this,e)},TD.services.ChirpBase.prototype._generateHTMLText=function(){this.htmlText=TD.util.transform(this.text)},TD.services.ChirpBase.prototype.createdPretty=function(){return TD.util.prettyDate(this.created)},TD.services.ChirpBase.prototype.createdPrettyFull=function(){return TD.util.prettyTimeString(this.created)},TD.services.ChirpBase.prototype.createdPrettyTimeOrDate=function(){return TD.util.prettyTimeOrDateString(this.created)},TD.services.ChirpBase.prototype.getSinceId=function(){return this.id},TD.services.ChirpBase.prototype.getUnreadChirps=function(e){var t=!e||this.belongsAbove(e);return!this.isOwnChirp()&&t?[this]:[]},TD.services.ChirpBase.prototype.getSortIndex=function(){return this.sortIndex||(this.sortIndex={value:this.created.getTime(),type:"milliseconds"}),this.sortIndex},TD.services.ChirpBase.prototype.belongsAbove=function(e){return TD.util.chirpColumnSort(this,e)<0},TD.services.ChirpBase.prototype.belongsBelow=function(e){return TD.util.chirpColumnSort(this,e)>0},TD.services.ChirpBase.prototype.getFilterableText=function(){return this.text},TD.services.ChirpBase.prototype.getSenders=function(){return null},TD.services.ChirpBase.prototype.isRetweetedStatus=function(){return null},TD.services.ChirpBase.prototype.getRelatedTweet=function(){return null},TD.services.ChirpBase.prototype.getMedia=function(){return this._media?this._media:[]},TD.services.ChirpBase.prototype.getCardsForGallery=function(){return[]},TD.services.ChirpBase.prototype.hasMedia=function(){return this.getMedia().length>0},TD.services.ChirpBase.prototype.hasCard=function(){return Boolean(this.card)},TD.services.ChirpBase.prototype.getCardUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.hasCard())return null;var t="dark"!==TD.settings.getTheme()||e.isInvertedDark?"light":"dark",i={bearer_token:TD.config.bearer_token,client:"tweetdeck",forward:!0,theme:"tweetdeck-"+t,font_size:TD.settings.getFontSizePixels(TD.settings.getFontSize())};e.isPossiblySensitive&&(i.possibly_sensitive=!0),this.account.isContributor()&&(i.act_as_user_id=this.account.getUserID()),(0,r.isStaticCard)(this.card)&&(i.static_view=!0);var n=this.getMainTweet?this.getMainTweet().id:this.id;return(0,s.default)("https://twitter.com/i/cards/tfw/v1/"+n).search(i).toString()},TD.services.ChirpBase.prototype.isMediaGridContent=function(){return TD.decider.get("multi_photo_media_grid")&&this.getMedia().length>1},TD.services.ChirpBase.prototype.mediaLength=function(){return this.getMedia().length},TD.services.ChirpBase.prototype.hasImage=function(){return null===this._hasImage&&(this._hasImage=this.getMedia().some(function(e){return!e.isVideo})),this._hasImage},TD.services.ChirpBase.prototype.hasVideo=function(){return null===this._hasVideo&&(this._hasVideo=this.getMedia().some(function(e){return e.isVideo})),this._hasVideo},TD.services.ChirpBase.prototype.hasVine=function(){return null===this._hasVine&&(this._hasVine=this.getMedia().some(function(e){return e.isVine})),this._hasVine},TD.services.ChirpBase.prototype.hasAnimatedGif=function(){return null===this._hasAnimatedGif&&(this._hasAnimatedGif=this.getMedia().some(function(e){return e.isAnimatedGif})),this._hasAnimatedGif},TD.services.ChirpBase.prototype.hasLink=function(){return null===this._hasLink&&(this._hasLink=twttrTxt.extractUrls(this.text).length>0),this._hasLink},TD.services.ChirpBase.prototype.isFromVerifiedUser=function(){return!1},TD.services.ChirpBase.msFudge=0,TD.services.ChirpBase.prototype.fudgeCreatedTime=function(e){var t=TD.services.ChirpBase.msFudge;e.setMilliseconds(t),t++,t%=1e3,TD.services.ChirpBase.msFudge=t},TD.services.ChirpBase.prototype.scribeMediaImpression=function(){},TD.services.ChirpBase.prototype.isStreamed=function(){return"realtime"===this.apiSource}},function(e,t,i){"use strict";TD.services.DataminrAlert=function(e){this.account=e},TD.services.DataminrAlert.prototype=new TD.services.TwitterStatus,TD.services.DataminrAlert.prototype.chirpType=TD.services.ChirpBase.DATAMINR_ALERT,TD.services.DataminrAlert.prototype.dataminr=null,TD.services.DataminrAlert.prototype.fromJSONObject=function(e){return TD.services.TwitterStatus.prototype.fromJSONObject.call(this,e.displayTweet),this.sortIndex={value:e.eventTime,type:"milliseconds"},this.dataminr={},e.alertType&&(this.dataminr.alertType=e.alertType,this.dataminr.alertType.alertTypeSprite=this.getAlertTypeSpriteClass(e.alertType.id)),this.dataminr.created=new Date(e.eventTime),this.dataminr.createdAt=TD.util.prettyTimeOfDayString(this.dataminr.created),this.dataminr.eventVolume=e.eventVolume,this.dataminr.eventLocation=e.eventLocation,this.dataminr.publisherCategory=e.publisherCategory,this.dataminr.headerLabel=e.headerLabel,this.dataminr.expandAlertURL=e.expandAlertURL,this.dataminr.eventMapSmallImageURL=e.eventMapSmallURL,this.dataminr.eventMapLargeImageURL=e.eventMapLargeURL,this.dataminr.expandMapURL=e.expandMapURL,this.dataminr.relatedTerms=e.relatedTerms,this.dataminr.userTopHashtags=e.userTopHashtags,this.dataminr.userRecentImages=e.userRecentImages,this.dataminr.userTopHashtags.forEach(function(e){e.text=e.text.replace(/^#?/,"#")}),e.publisherCategory.shortName&&(this.dataminr.publisherCategory.shortName=e.publisherCategory.shortName.toLowerCase()),this.dataminr.relatedTerms.forEach(this.augmentWithQueryTermAndTwitterSearchUrl),this.dataminr.userTopHashtags.forEach(this.augmentWithQueryTermAndTwitterSearchUrl),this.dataminr.allRelatedTermsQuery=this.getQueryStringForAllRelatedTerms(),this.dataminr.anyRelatedTermsQuery=this.getQueryStringForAnyRelatedTerms(),this.dataminr.allRelatedTermsTwitterUrl=TD.net.util.addURLParam("https://twitter.com/search","q",this.dataminr.allRelatedTermsQuery),this.dataminr.anyRelatedTermsTwitterUrl=TD.net.util.addURLParam("https://twitter.com/search","q",this.dataminr.anyRelatedTermsQuery),this},TD.services.DataminrAlert.prototype.getAlertTypeSpriteClass=function(e){var t;switch(e){case"urgentUpdate":t="sprite-dataminr-plus";break;case"flash":t="sprite-flash";break;case"momentum":t="sprite-dataminr-momentum-dot";break;default:t="sprite-dataminr-dot"}return t},TD.services.DataminrAlert.prototype.augmentWithQueryTermAndTwitterSearchUrl=function(e){e.query=-1!==e.text.indexOf(" ")?'"'+e.text+'"':e.text,e.twitterUrl=TD.net.util.addURLParam("https://twitter.com/search","q",e.query)},TD.services.DataminrAlert.prototype.getQueryStringForAnyRelatedTerms=function(){return this.dataminr.relatedTerms.map(function(e){return e.query}).join(" OR ")},TD.services.DataminrAlert.prototype.getQueryStringForAllRelatedTerms=function(){return this.dataminr.relatedTerms.map(function(e){return e.query}).join(" ")},TD.services.DataminrAlert.prototype.render=function(e){e=e||{};var t=TD.settings.getDisplaySensitiveMedia();return TD.ui.template.render("status/dataminr_in_stream",{chirp:this,withTweetActions:!0,withFooter:!0,withAvatar:!0,withDragHandle:!0,withMediaPreview:!0,isMediaPreviewOff:e.mediaPreviewSize===TD.vo.Column.MEDIA_PREVIEW_OFF,isMediaPreviewSmall:e.mediaPreviewSize===TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL,isMediaPreviewLarge:e.mediaPreviewSize===TD.vo.Column.MEDIA_PREVIEW_SIZE_LARGE,mediaPreviewSrc:function(){return this.getMediaSrcForPreviewSize(e.mediaPreviewSize)},animatedGif:function(){return this.getAnimatedGifForPreview()},renderQuoted:function(){return this.renderQuotedTweet(e)},thumbSizeClass:TD.services.TwitterMedia.thumbSizeClasses[e.mediaPreviewSize],isPossiblySensitive:this.getRelatedTweet().possiblySensitive&&!t,withLinebreaks:!0})},TD.services.DataminrAlert.prototype.getNotificationData=function(){var e=[TD.ui.template.toHtml("@{{username}}{{#categoryName}} ({{categoryName}}){{/categoryName}}",{username:this.user.screenName,categoryName:this.dataminr.publisherCategory&&this.dataminr.publisherCategory.name}),TD.i("{{count}} followers",{count:TD.util.prettyNumber(this.user.followersCount,{noNegativeNumbers:!0})}),TD.i("{{count}} Tweets",{count:TD.util.prettyNumber(this.user.statusesCount,{noNegativeNumbers:!0})})];return{title:this.text,text:e.join(" • "),img:TD.assets.get("/web/assets/global/backgrounds/dmr_growl_icon.png")}}},function(e,t,i){"use strict";TD.services.GapChirp=function(e,t){t=t||{},this.id=_.uniqueId("gap_"),this.gapCursor=e,this.gapSize=this.processGapSize(t.gapSize),this.sortIndex={type:t.sortIndex.type,value:t.sortIndex.value,conflictResolution:"after"}},TD.services.GapChirp.prototype=new TD.services.ChirpBase,TD.services.GapChirp.prototype.chirpType=TD.services.ChirpBase.GAP,TD.services.GapChirp.prototype.processGapSize=function(e){return"number"!=typeof e?0:10*~~(Math.max(e,0)/10)},TD.services.GapChirp.prototype.render=function(){return TD.ui.template.render("status/gap_in_stream",{id:this.id,showSize:this.gapSize>10,size:TD.util.truncateNumber(this.gapSize)})}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){return e.result.places.map(function(e){var t=e.full_name,i=e.centroid,n=(0,o.default)(i,2),s=n[0];return{fullName:t,lat:n[1],lng:s}})}var r=i(236),o=n(r),a=i(281),c=n(a),l=TD.config,u=l.twitter_api_base,d=l.twitter_api_version,h=u+"/"+d;e.exports={search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=h+"/geo/search.json",i=TD.storage.accountController.getDefault();if(!e.query)throw Error("Required field is missing");var n={params:{query:e.query,max_results:e.maxResults||4,granularity:e.granularity||"city"},handleSuccess:!0,processor:s},r=TD.net.ajax.request(t,n);return r.addCallbacks(function(e){return{locations:c.default.processSuccessResponse(t,n,e,{oauth:{account:i}}).data}},function(e){return c.default.processErrorResponse(t,n,e,i)}),r}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(1296),r=n(s),o=i(43),a=n(o),c=i(15),l=n(c),u=i(517),d=n(u),h=i(79),p=n(h),f=i(80),m=n(f),g=i(18),v=i(117),T=i(1075),y=i(447),w=function(){function e(){var t=this;(0,p.default)(this,e),this.subscriptions=new d.default,v.graphQLSubscriptionsEnabled$.subscribe(function(e){t.subscriptionsEnabled=e})}return(0,m.default)(e,[{key:"getSubscriptions",value:function(){return this.subscriptions}},{key:"getGraphQLQueryOptsForFeed",value:function(e){var t=e.getType();return"usertweets"===t?this.getUserQuery(e):"search"===t?this.getTrackQuery(e):void 0}},{key:"getUserQuery",value:function(e){var t=e.getMetadata().id;if(!t){t=TD.storage.accountController.get(e.getAccountKey()).getUserID()}return{queryId:"gnMIVMYJdix9dx_5haqqXg",variables:{user_id:t}}}},{key:"getTrackQuery",value:function(t){var i=t.getMetadata().term;return(0,T.trackQuerySupportedByContent)(i)?{queryId:"3lmr4VfI7mb6IFUJdsieNw",variables:{query:i}}:(e.logUnsupportedTrackTerm(i),void $(document).trigger("metric",{key:"project-content:unsupported-track"}))}},{key:"addSubscription",value:function(e){if(this.subscriptionsEnabled){var t=e.getKey();if(t&&!this.subscriptions.has(t)){var i=this.getGraphQLQueryOptsForFeed(e);if(i){var n=TD.storage.accountController.get(e.getAccountKey()),s=this.doSubscribe((0,l.default)({},i,{account:n}));this.subscriptions.set(t,s),$(document).trigger("metric",{key:"project-content:subscribe:"+e.getType()})}}}}},{key:"doSubscribe",value:function(t){var i=t.queryId,n=t.variables,s=t.account;return(0,y.getAccountPipeline)(s).subscribeToGraphQLQuery({query_id:i,variables:(0,a.default)(n)}).subscribe(function(t){return e.logData((0,l.default)({},t,{variables:n}))})}},{key:"removeSubscription",value:function(e){if(!e)return console.error("no subscription passed"),!1;var t=e.getKey(),i=this.subscriptions.get(t);return i&&t?(i.unsubscribe(),this.subscriptions.delete(t),$(document).trigger("metric",{key:"project-content:unsubscribe:"+e.getType()}),this.subscriptions):(console.error('subscription with feed key "'+t+'" not found'),!1)}},{key:"clearAll",value:function(){var e=this;this.subscriptions.forEach(function(t,i){return e.removeSubscription(i)})}}],[{key:"summaryForConsoleLogging",value:function(e){var t=_.get(e,"payload.user.tweet.legacy.full_text"),i=_.get(e,"payload.track.tweet.legacy.full_text");return t||i||e}},{key:"logUnsupportedTrackTerm",value:function(e){v.subscriptionsDebugEnabled$.subscribe(function(t){t&&console.log("👩‍🔬 CONTENT: Track not supported: "+e)})}},{key:"logData",value:function(t){var i=e.summaryForConsoleLogging(t),n=t.variables.user_id||0,s=128512+n%21;v.subscriptionsDebugEnabled$.switchMap(function(e){return e?v.subscriptionsDebugEnabled$:g.Observable.empty()}).subscribe(function(){console.log("👩‍🔬 CONTENT: "+n+" "+(0,r.default)(s),i)})}}]),e}();t.default=w},function(e,t,i){"use strict";var n=i(281),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=TD.config,o=r.twitter_api_base,a=r.twitter_api_version,c=o+"/"+a;e.exports={create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c+"/moments/create.json",i=e.title,n=e.description,r=e.collectionId,o=e.curatorId,a=TD.storage.accountController.getAccountFromId(o);if(!e.collectionId||!e.curatorId)throw Error("Required field is missing");var l={params:{title:i||TD.i("New Moment"),description:n||TD.i("Add a description"),scratch_buffer_timeline_id:r.replace("custom-",""),curator_id:o,is_production_only:!1},headers:{"content-type":"application/json","X-Twitter-UTCOffset":"+0400"},handleSuccess:!0,method:"POST",account:a},u=TD.net.ajax.request(t,l);return u.addCallbacks(function(e){return{moment:e.data.created_moment.moment}},function(e){return s.default.processErrorResponse(t,l,e,a)}),u}}},function(e,t,i){"use strict";TD.services.TweetDeckClient=function(){var e={},t=TD.sync.tdapi;return e.type="tweetdeck",e.statusMenuTemplate="",e.getChirpsForFeed=function(){return TD.core.defer.succeed([])},e.forgotPassword=function(e,i,n){var s={type:"DELETE",headers:{Authorization:"x-td-basic "+TD.core.base64.encode(e+":junk")}},r=t.drequest("/password",s);return r.addCallback(function(t){return{httpStatus:200,email:e}}),r.addErrback(function(t){return{httpStatus:t.number,message:t.message,data:t.req.responseJSON,email:e}}),r},e.feedIsStreaming=function(e){return!1},e}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(235),r=n(s),o=i(516),a=n(o),c=i(27),l=n(c),u=i(161),d=n(u),h=i(162),p=n(h),f=i(1680),m=n(f),g=i(380),v=n(g),T=i(652),_=n(T),y=i(112),w=n(y),b=i(398),D=n(b),C=i(651),S=n(C),E=i(167),I=n(E),A=i(263),x=n(A),k=i(17),M=n(k),O=i(111),R=n(O),L=i(202),F=n(L),N=i(1682),P=n(N),j=i(62),U=n(j),B=i(442),H=n(B),z=i(1081),W=n(z),K=i(281),V=n(K),G=i(443),q=n(G);TD.services.TwitterClient=function(e){var t=this;this.type="twitter",this.STREAMING_BASE_URL=TD.config.twitter_stream_base+"/1.1/user.json",this.streamEngine=new H.default(e,(0,P.default)(this.processStreamData,this)),this.firstStreamConnect=!0,this.cachedStreamingQueries={},this.conversations=new TD.services.Conversations(e,this),this.friends={},this.blocks={},this.mutes={},this.retweetBlocks={},this.publishQueue={},this.flushPending=!1,this.searches=[],this.customTimelines=[],this.logoutTimeout=5e3,this.cacheReloadPeriod=900,this.scheduledTasks=[],this.cachedScheduledGroups=[],this.cachedScheduledLastModifiedDate=new Date(0),this.FEED_TYPES=TD.controller.FeedPoller.FEED_TYPES,this.streamingFeeds={},this.ACTIVITY_EVENT_TYPES={favorite:!0,favorited_retweet:!0,retweeted_retweet:!0,follow:!0,list_member_added:!0,list_created:!0,retweet:!0,quoted_tweet:!0},this.NETWORK_ACTIVITY_EVENT_TYPES={favorite:!0,follow:!0,list_member_added:!0,list_created:!0,retweet:!0,quoted_tweet:!0},this.DELETE_ACTIVITY_EVENT_TYPES={unfavorite:!0,unfollow:!0,list_member_removed:!0,list_destroyed:!0},this.STREAM_LIST_EVENTS={list_created:!0,list_updated:!0,list_destroyed:!0,list_member_added:!0,list_member_removed:!0,list_user_subscribed:!0,list_user_unsubscribed:!0},this.streamWarningCodes={FOLLOWS_OVER_LIMIT:"FOLLOWS_OVER_LIMIT"},this.oauth=TD.controller.auth.create("twitter",e),this.loadCaches(),this.scheduledTasks.push(TD.controller.scheduler.schedulePeriodicTask(this.cacheReloadPeriod,function(){TD.decider.get("disable_twitter_cache_reload")||this.loadCaches()}.bind(this))),this.getChirpsForFeed=function(e,t){var i=new TD.core.defer.Deferred;return this.refreshFeed(e,i.callback.bind(i),i.errback.bind(i),t),i},this.refreshFeed=function(e,i,n,s){s=s||{};var r,o,a=e.bounds.lower,c=e.bounds.upper,l=s.poller,u=l.feed,d=s.feedType,h=l.isStreamableForOauthUser(this.oauth.account.getUserID()),p=s.metadata,f=s.forceFetch,m=this.streamEngine.isStreaming(),g=c||!m||f;if(h){if(this.streamingFeeds[u.getKey()]=u,!g&&!TD.decider.get("poll_streamed_feed_"+d))return TD.util.metric("api:client:refresh:is-streaming"),TD.util.metric("api:client:refresh:is-streaming:"+d),n(),this}else delete this.streamingFeeds[u.getKey()];var v=TD.storage.accountController.get(u.getAccountKey()),T=v.getIsVerified(),_=TD.controller.FeedPoller.NOTIFICATION_FEED_TYPES.includes(d),y=e.interval.from.finite,w=e.interval.to.finite,b=y&&!w,D=y&&w,C=!y&&w;switch(TD.util.metric("api:client:refresh:request"),TD.util.metric("api:client:refresh:request:"+d),b&&(TD.util.metric("api:client:refresh:poll"),TD.util.metric("api:client:refresh:poll:"+d),T&&_&&TD.util.metric("api:client:refresh:poll:"+d+":verified")),D&&(TD.util.metric("api:client:refresh:gapfill"),TD.util.metric("api:client:refresh:gapfill:"+d)),C&&(TD.util.metric("api:client:refresh:infinitescroll"),TD.util.metric("api:client:refresh:infinitescroll:"+d)),d){case this.FEED_TYPES.home:t.getHomeTimeline(a,c,null,i,n);break;case this.FEED_TYPES.direct:1!==a&&!c?this.getDMUserUpdates(a,i,n):this.getDMUserInbox(a,c,i,n);break;case this.FEED_TYPES.favorites:t.getFavoritesTimeline(a,p.id,c,40,i,n);break;case this.FEED_TYPES.list:t.getListTimeline(p.listId,p.screenName,p.slug,a,c,null,i,n);break;case this.FEED_TYPES.customTimeline:t.get3NFTimeline({id:p.id,minPosition:a,maxPosition:c},i,n);break;case this.FEED_TYPES.event:case this.FEED_TYPES.search:var S=p.baseQuery,E=p.searchFilterData,I=p.term,A=p.id,x=S||"",k=d===this.FEED_TYPES.event?"entity_id:"+A+" "+x:S;if(k&&E){r=new TD.vo.SearchFilter(E);var M=r.getQueryString();o=[k,M].join(" "),$(document).trigger("dataSearchPoll",{baseFeedQuery:k,uiQuery:M})}else o=I;TD.decider.get("universal_search_timelines")?t.getUniversalSearchTimeline(o,a,c,null,i,n):t.getSearchTimeline(o,a,c,null,i,n);break;case this.FEED_TYPES.usertweets:t.getProfileTimeline(p.id,40,a,c,i,n);break;case this.FEED_TYPES.usertimeline:t.getUserTimeline(p.id,a,c,null,i,n);break;case this.FEED_TYPES.mentions:t.getMentionsTimeline({sinceID:a,maxID:c,count:null,following:p.usersIFollowFilter},i,n);break;case this.FEED_TYPES.interactions:t.getInteractionsTimeline({minID:a,maxID:c,count:40,following:p.usersIFollowFilter},i,n);break;case this.FEED_TYPES.networkactivity:t.getNetworkActivityTimeline(a,c,null,i,n);break;case this.FEED_TYPES.scheduled:TD.decider.hasAccessLevel("scheduler","READ_BACKGROUND")&&t.getScheduledGroups({since_execute_at:c},{forceFetch:f}).addCallbacks(i,n);break;case this.FEED_TYPES.dataminr:t.getDataminrAlerts(a,c,s.metadata.watchlist.id,i,n);break;case this.FEED_TYPES.livevideo:t.getLiveVideoTimeline({id:p.id,maxID:c,minID:a,timelineId:p.timelineId},i,n);break;default:n()}return this},this.feedIsStreaming=function(e){return this.streamingFeeds[e]&&this.streamEngine.isStreaming()},this._checkUserStream=(0,P.default)(this.checkUserStream,this),this.subscription=$.subscribe("/storage/client/settings/use_stream",this._checkUserStream)},TD.services.TwitterClient.prototype.API_BASE_URL=[TD.config.twitter_api_base,TD.config.twitter_api_version,""].join("/"),TD.services.TwitterClient.prototype.URT_BASE_URL=TD.config.twitter_api_base+"/2/",TD.services.TwitterClient.prototype.makeTwitterCall=function(e,t,i,n,s,r,o){s=s||function(){},r=r||function(){};var a=this.request(e,{method:i,params:t,processor:n,feedType:o});return a.addCallbacks(function(e){s(e.data)},function(e){r(e.req,"",e.msg,e.req.errors)}),a},TD.services.TwitterClient.prototype.request=function(e,t){if(!e)throw Error("Request needs a URL");if("string"!=typeof e)throw Error("Request URL must be a string");t=(0,F.default)(t||{},{method:"GET",handleSuccess:!0,handleError:!0});var i="DELETE"===t.method?{}:{cards_platform:"Web-13",include_entities:1,include_user_entities:1,include_cards:1,send_error_codes:1,tweet_mode:"extended"};if(t.params=(0,F.default)(t.params||{},i),t.headers=(0,F.default)(t.headers||{},{}),t.account=this.oauth.account,t.processor&&"function"!=typeof t.processor)throw new Error("Request processor must be a function");var n=TD.net.ajax.request(e,t);return n.addCallbacks(function(i){return V.default.processSuccessResponse(e,t,i,this)}.bind(this),function(i){V.default.processErrorResponse(e,t,i,this.oauth.account)}.bind(this)),n},TD.services.TwitterClient.prototype.loadCaches=function(){this.getListOwnerships(null,function(e){(0,R.default)(e,TD.cache.lists.add)}),this.getListSubscriptions(null,function(e){(0,R.default)(e,TD.cache.lists.add)}),this.getSavedSearches(function(e){this.searches=e}.bind(this)),this.getCustomTimelines(this.oauth.account.getUserID(),null,function(e){this.customTimelines=e}.bind(this)),this.populateBlockList(),this.populateMuteList(),this.populateRetweetBlockList()},TD.services.TwitterClient.prototype.processTweet=function(e){try{return new TD.services.TwitterStatus(this.oauth.account).fromJSONObject(e)}catch(t){return V.default.logTweetProcessingError(e,t),null}},TD.services.TwitterClient.prototype.processDataminrAlert=function(e){return new TD.services.DataminrAlert(this.oauth.account).fromJSONObject(e)},TD.services.TwitterClient.prototype.deleteMessage=function(e){var t=this.conversations.deleteMessageByIdAndReturnChangedConversations(e);this.publishChirpsInternal("publish","direct",t)},TD.services.TwitterClient.prototype.processPlaces=function(e){return e.result.places},TD.services.TwitterClient.prototype.processTimeline=function(e){var t=this,i=(0,M.default)(e,"globalObjects.tweets"),n=(0,M.default)(e,"globalObjects.users"),s=(0,M.default)(e,"timeline.instructions"),r=!(0,x.default)(i);if(r&&(e=(0,I.default)(i).map(function(e){var t=n[e.user_id_str];return(0,S.default)(e,{user:t})})),!e.length)return[];var o=e.reduce(function(e,i){var n=(0,U.default)(i.sender,function(){return t.processDM(i)},function(){return t.processTweet(i)});return(0,U.default)(n,function(){return e.concat([n])},function(){return e})},[]);return r?{tweets:o,instructions:s}:o},TD.services.TwitterClient.prototype.process3NFTimeline=function(e){var t=e.objects||e.twitter_objects,i=this.hydrateTimeline(e.response.timeline,t);return i.length&&e.response.position?(i[0].cursor=e.response.position.max_position,i[i.length-1].cursor=e.response.position.min_position):i.length&&e.response.cursor&&(i[0].cursor=e.response.cursor.top,i[i.length-1].cursor=e.response.cursor.bottom),i},TD.services.TwitterClient.prototype.processLiveVideoEvent=function(e){if(e.objects||e.twitter_objects)return e.twitter_objects.events},TD.services.TwitterClient.prototype.hydrateTimeline=function(e,t){return e.map(function(e){try{var i=e.tweet.id_str||e.tweet.id,n=this.hydrateTweet(t.tweets[i],t),s=this.processTweet(n)}catch(e){return null}return e.tweet.sort_index&&(s.sortIndex={value:e.tweet.sort_index,type:"numericString"}),s},this).filter(Boolean)},TD.services.TwitterClient.prototype.hydrateTweet=function(e,t){if(!e||!e.id_str)return null;var i=e.id_str;return e=(0,D.default)(t.tweets[i]||e),e.user=this.hydrateUser(e.user,t),["retweeted_status","quoted_status"].forEach(function(i){e[i]=this.hydrateTweet(e[i],t)},this),e},TD.services.TwitterClient.prototype.hydrateUser=function(e,t){if(!e||!e.id_str)return null;var i=e.id_str;return e=(0,D.default)(t.users[i]||e),e.status=null,e},TD.services.TwitterClient.prototype.processTrends=function(e){for(var t,i={locations:e[0].locations,trends:[]},n=e[0].trends,s=0;s<n.length;s++)t=(new TD.services.TrendingTopic).fromJSONObject(n[s]),i.trends.push(t);return i},TD.services.TwitterClient.prototype.processTrendLocations=function(e){function t(e,t){var i=e.sortString,n=t.sortString;return i<n?-1:i>n?1:0}var i,n,s=[];for(n=0;n<e.length;n++)i=(new TD.services.TrendLocation).fromJSONObject(e[n]),s.push(i);return s.sort(t)},TD.services.TwitterClient.prototype.processTailoredTrends=function(e){return{trends:e.modules.map(function(e){return(new TD.services.TrendingTopic).fromJSONObject({name:e.trend.name,query:e.trend.target.query})})}},TD.services.TwitterClient.prototype.processList=function(e){return new TD.services.TwitterList(this.oauth.account).fromJSONObject(e)},TD.services.TwitterClient.prototype.processCustomTimeline=function(e){return new TD.services.CustomTimeline(this.oauth.account).fromJSONObject(e)},TD.services.TwitterClient.prototype.process3NFCustomTimeline=function(e){var t=e.objects.timelines[e.response.timeline_id];return t.id=e.response.timeline_id,t.user=e.objects.users[t.user_id],this.processCustomTimeline(t)},TD.services.TwitterClient.prototype.process3NFCustomTimelines=function(e){return e.response.results.map(function(t){var i=e.objects.timelines[t.timeline_id];return i.id=t.timeline_id,i.user=e.objects.users[i.user_id],this.processCustomTimeline(i)}.bind(this))},TD.services.TwitterClient.prototype.processLists=function(e){return(0,w.default)(e,(0,P.default)(this.processList,this))},TD.services.TwitterClient.prototype.processUser=function(e){return new TD.services.TwitterUser(this.oauth.account).fromJSONObject(e)},TD.services.TwitterClient.prototype.processDeletedUser=function(e){return new TD.services.TwitterDeletedUser(this.oauth.account,e)},TD.services.TwitterClient.prototype.processUsers=function(e){for(var t=[],i=0;i<e.length;i++)t.push(this.processUser(e[i]));return t},TD.services.TwitterClient.prototype.processActions=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];if(n.action===TD.services.TwitterAction.LIST_MEMBER_ADDED&&n.targets_size>1&&n.target_objects_size>1){var s=new TD.services.TwitterActionMultiListMemberAdded(this.oauth.account);s.fromJSONObject(n,[n],!1),t.push(s)}else{var r=TD.services.TwitterAction.processRESTAction(n,this.oauth.account);r&&(t=t.concat(r))}}return t},TD.services.TwitterClient.prototype.showUser=function(e,t,i,n){var s={};e?s.user_id=e:s.screen_name=t,this.makeTwitterCall(this.API_BASE_URL+"users/show.json",s,"GET",this.processUser,i,n)},TD.services.TwitterClient.prototype.getUsersByIds=function(e,t,i){var n={user_id:e.join(",")};this.makeTwitterCall(this.API_BASE_URL+"users/lookup.json",n,"POST",this.processUsers,t,i)},TD.services.TwitterClient.prototype.followUser=function(e,t,i){this.makeTwitterCall(this.API_BASE_URL+"friendships/create.json",{screen_name:e},"POST",this.processUser,t,i)},TD.services.TwitterClient.prototype.unfollowUser=function(e,t,i){this.makeTwitterCall(this.API_BASE_URL+"friendships/destroy.json",{screen_name:e},"POST",this.processUser,t,i)},TD.services.TwitterClient.prototype.typeaheadSearch=function(e,t,i){var n=function(i){t(i,e)};if(!e.query&&!e.prefetch)throw new Error("Typeahead API needs a query");this.makeTwitterCall(this.API_BASE_URL+"search/typeahead.json",{q:e.query,count:e.count||10,prefetch:!!e.prefetch},"GET",null,n,i)},TD.services.TwitterClient.prototype.userSearch=function(e,t,i){var n=this,s=function(t){var i,s,r=e.toLowerCase();for(t=n.processUsers(t),i=0;i<t.length;i++)if(s=t[i],s.screenName.toLowerCase()==r&&0!==i){t.splice(i,1),t=[s].concat(t);break}return t};this.makeTwitterCall(this.API_BASE_URL+"users/search.json",{q:e},"GET",s,t,i)},TD.services.TwitterClient.prototype.getRetweetedBy=function(e,t,i,n,s){var r={count:t||12,page:i||1};this.makeTwitterCall(this.API_BASE_URL+"statuses/"+e+"/retweeted_by.json",r,"GET",this.processUsers,n,s)},TD.services.TwitterClient.prototype.showFriendship=function(e,t,i,n,s){var r={source_id:e};null!==t?r.target_id=t:null!==i&&(r.target_screen_name=i),this.makeTwitterCall(this.API_BASE_URL+"friendships/show.json",r,"GET",null,n,s)},TD.services.TwitterClient.prototype.showFriendshipForScreenName=function(e,t,i,n){this.makeTwitterCall(this.API_BASE_URL+"friendships/show.json",{source_id:e,target_screen_name:t},"GET",null,i,n)},TD.services.TwitterClient.prototype.blockUser=function(e,t,i){this.makeTwitterCall(this.API_BASE_URL+"blocks/create.json",{screen_name:e},"POST",this.processUser,t,i)},TD.services.TwitterClient.prototype.unblockUser=function(e,t,i){this.makeTwitterCall(this.API_BASE_URL+"blocks/destroy.json",{screen_name:e},"POST",this.processUser,t,i)},TD.services.TwitterClient.prototype.muteUser=function(e){return this.request(this.API_BASE_URL+"mutes/users/create.json",{method:"POST",params:{user_id:e},processor:this.processUser})},TD.services.TwitterClient.prototype.unmuteUser=function(e){return this.request(this.API_BASE_URL+"mutes/users/destroy.json",{method:"POST",params:{user_id:e},processor:this.processUser})},TD.services.TwitterClient.prototype.muteConversation=function(e){return this.request(this.API_BASE_URL+"mutes/conversations/create.json",{method:"POST",params:{tweet_id:e}})},TD.services.TwitterClient.prototype.unmuteConversation=function(e){return this.request(this.API_BASE_URL+"mutes/conversations/destroy.json",{method:"POST",params:{tweet_id:e}})},TD.services.TwitterClient.prototype.blockAndReportUser=function(e,t,i){this.makeTwitterCall(this.API_BASE_URL+"users/report_spam.json",{screen_name:e},"POST",this.processUser,t,i)},TD.services.TwitterClient.prototype.reportDMSpam=function(e,t,i){var n=e.reportType,s=e.blockUser,r=e.dmId,o=e.conversationId,a={report_as:n,block_user:s};r?a.dm_id=r:o&&(a.conversation_id=o);var c=TD.net.util.addURLParameters(this.API_BASE_URL+"direct_messages/report_spam.json",a);this.makeTwitterCall(c,{},"POST",null,t,i)},TD.services.TwitterClient.prototype.flagTweet=function(e,t,i){this.makeTwitterCall(this.API_BASE_URL+"statuses/flag_possibly_sensitive.json",{id:e},"POST",null,t,i)},TD.services.TwitterClient.prototype.getList=function(e,t,i,n,s){var r={};e?r.list_id=e:(r.slug=i,r.owner_screen_name=t),this.makeTwitterCall(this.API_BASE_URL+"lists/show.json",r,"GET",this.processList,n,s)},TD.services.TwitterClient.prototype.createList=function(e,t,i,n,s){var r={name:e,description:t||"",mode:i?"private":"public"},o=function(e){TD.cache.lists.add(e),n(e),TD.controller.stats.listCreated()};this.makeTwitterCall(this.API_BASE_URL+"lists/create.json",r,"POST",this.processList,o,s)},TD.services.TwitterClient.prototype.updateList=function(e,t,i,n,s,r){var o={list_id:e,name:t,description:i||"",mode:n?"private":"public"},a=function(e){TD.cache.lists.add(e),s(e),TD.controller.stats.listUpdated()};this.makeTwitterCall(this.API_BASE_URL+"lists/update.json",o,"POST",this.processList,a,r)},TD.services.TwitterClient.prototype.destroyList=function(e,t,i){var n=function(e){TD.cache.lists.purge(e.id),t(e),TD.controller.stats.listDeleted()};this.makeTwitterCall(this.API_BASE_URL+"lists/destroy.json",{list_id:e},"POST",this.processList,n,i)},TD.services.TwitterClient.prototype.getListMembers=function(e,t,i){var n=this,s={list_id:e.id,skip_status:1,cursor:e.cursor?e.cursor:-1,count:e.count||20},r=function(e){e.users=n.processUsers(e.users),t(e)};this.makeTwitterCall(this.API_BASE_URL+"lists/members.json",s,"GET",null,r,i)},TD.services.TwitterClient.prototype.subscribeToList=function(e,t,i){var n=function(e){TD.cache.lists.add(e),t(e)};this.makeTwitterCall(this.API_BASE_URL+"lists/subscribers/create.json",{list_id:e},"POST",this.processList,n,i)},TD.services.TwitterClient.prototype.addUserToList=function(e,t,i,n){var s=function(e){TD.cache.lists.add(e),i(e)};this.makeTwitterCall(this.API_BASE_URL+"lists/members/create.json",{screen_name:t,list_id:e},"POST",this.processList,s,n)},TD.services.TwitterClient.prototype.addUsersToList=function(e,t,i,n){var s=function(e){TD.cache.lists.add(e),i(e)};this.makeTwitterCall(this.API_BASE_URL+"lists/members/create_all.json",{screen_name:t.join(","),list_id:e},"POST",this.processList,s,n)},TD.services.TwitterClient.prototype.removeUserFromList=function(e,t,i,n){var s=function(e){TD.cache.lists.add(e),i(e)};this.makeTwitterCall(this.API_BASE_URL+"lists/members/destroy.json",{screen_name:t,list_id:e},"POST",this.processList,s,n)},TD.services.TwitterClient.prototype.getBlockIDs=function(e,t,i){var n={stringify_ids:!0,cursor:e||-1};this.makeTwitterCall(this.API_BASE_URL+"blocks/ids.json",n,"GET",null,t,i)},TD.services.TwitterClient.prototype.getMuteIDs=function(e){var t={stringify_ids:!0,cursor:e||"-1"};return this.request(this.API_BASE_URL+"mutes/users/ids.json",{method:"GET",params:t})},TD.services.TwitterClient.prototype.getNoRetweetIDs=function(e,t){this.makeTwitterCall(this.API_BASE_URL+"friendships/no_retweets/ids.json",null,"GET",null,e,t)},TD.services.TwitterClient.prototype.getTweetSummary=function(e,t,i){var n={stringify_ids:1};this.makeTwitterCall(this.API_BASE_URL+"statuses/"+e+"/activity/summary.json",n,"GET",null,t,i)},TD.services.TwitterClient.prototype.getEmbeddedTweet=function(e,t,i,n,s,r){var o;if(!e)throw new Error("getEmbeddedTweet: tweetID is a required parameter");o={id:e,partner:"tweetdeck"},t&&(o.hide_thread=t),i&&(o.hide_media=i),n&&(o.maxwidth=n),this.makeTwitterCall(this.API_BASE_URL+"statuses/oembed.json",o,"GET",null,s,r)},TD.services.TwitterClient.prototype.translateTweet=function(e,t,i,n){var s;if(!e)throw new Error("translateTweet: tweetID is a required parameter");if(!t)throw new Error("translateTweet: destLang is a required parameter");s={id:e,dest:t,use_display_text:!0},this.makeTwitterCall(this.API_BASE_URL+"translations/show.json",s,"GET",null,i,n)},TD.services.TwitterClient.prototype.getFollowingFollowersOf=function(e,t,i){var n;if(!e)throw new Error("getFollowingFollowersOf: screenName is a required parameter");n={screen_name:e},this.makeTwitterCall(this.API_BASE_URL+"friends/following/list.json",n,"GET",null,t,i)},TD.services.TwitterClient.prototype.getHomeTimeline=function(e,t,i,n,s){this.getTimeline("statuses/home_timeline.json",e,t,i,n,s,{},this.FEED_TYPES.home)},TD.services.TwitterClient.prototype.getUserTimeline=function(e,t,i,n,s,r){var o={user_id:e};this.getTimeline("statuses/following_timeline.json",t,i,n,s,r,o,this.FEED_TYPES.usertimeline)},TD.services.TwitterClient.prototype.getMentionsTimeline=function(e,t,i){var n=e.sinceID,s=e.maxID,r=e.count,o=e.following,a={};o&&(a.filters="following"),this.getTimeline("statuses/mentions_timeline.json",n,s,r,t,i,a,this.FEED_TYPES.mentions)},TD.services.TwitterClient.prototype.getInteractionsTimeline=function(e,t,i){var n=e.minID,s=e.maxID,r=e.count,o=e.following,a={model_version:7};o&&(a.filters="following");var c=function(e){e=e.filter(function(e){return!e.isListAction||!TD.decider.get("notification_disable_list_events")}),t(e)};this.getActivityTimeline("activity/about_me.json",n,s,r,c,i,a,this.FEED_TYPES.interactions)},TD.services.TwitterClient.prototype.getNetworkActivityTimeline=function(e,t,i,n,s){this.getActivityTimeline("activity/by_friends.json",e,t,i,n,s,{},this.FEED_TYPES.networkactivity)},TD.services.TwitterClient.prototype.getActivityTimeline=function(e,t,i,n,s,r,o){o=o||{},i&&(o.max_id=i),Number(t)>1&&(o.since_id=t),o.count=n||170,o.skip_aggregation=!0,this.makeTwitterCall(this.API_BASE_URL+e,o,"GET",this.processActions,s,r)},TD.services.TwitterClient.prototype.getDMUserInbox=function(e,t,i,n){var s={max_conv_count:20,include_groups:!0};e&&1!==e&&(s.min_id=e),t&&(s.max_id=t);var r=1===e;this.makeTwitterCall(this.API_BASE_URL+"dm/user_inbox.json",s,"GET",this.conversations.processUserUpdates.bind(this.conversations,r),i,n,this.FEED_TYPES.direct)},TD.services.TwitterClient.prototype.getDMUserUpdates=function(e,t,i){var n={cursor:e,include_groups:!0};this.makeTwitterCall(this.API_BASE_URL+"dm/user_updates.json",n,"GET",this.conversations.processUserUpdates.bind(this.conversations,!1),t,i,this.FEED_TYPES.direct)},TD.services.TwitterClient.prototype.getDmConversation=function(e,t){var i=this.request(this.API_BASE_URL+"dm/conversation/"+e+".json",{params:t});return i.addCallback(this.getDataFromDeferred),i.addCallback(this.conversations.processUserUpdates.bind(this.conversations,!1)),i},TD.services.TwitterClient.prototype.getFavoritesTimeline=function(e,t,i,n,s,r){var o={};t&&(o.user_id=t),this.getTimeline("favorites/list.json",e,i,n,s,r,o,this.FEED_TYPES.favorites)},TD.services.TwitterClient.prototype.getListTimeline=function(e,t,i,n,s,r,o,a){var c={include_rts:1};e?c.list_id=e:(c.owner_screen_name=t,c.slug=i),this.getTimeline("lists/statuses.json",n,s,r,o,a,c,this.FEED_TYPES.list)},TD.services.TwitterClient.prototype.getProfileTimeline=function(e,t,i,n,s,r){var o={include_rts:1};e&&e!==this.oauth.account.getUserID()&&(o.user_id=e),this.getTimeline("statuses/user_timeline.json",i,n,t,s,r,o,this.FEED_TYPES.usertweets)},TD.services.TwitterClient.prototype.getSearchTimeline=function(e,t,i,n,s,r){var o,a={count:n||200,q:e,result_type:"recent"},c=this;o=c.API_BASE_URL+"search/tweets.json";var l=function(e){return c.processTimeline(e.statuses)},u=function(e,t,i){e&&e.errors&&e.errors[0]===q.default.INVALID_SEARCH_QUERY?s([]):r.apply(null,arguments)};i&&(a.max_id=i),t&&1!=t&&(a.since_id=t),this.makeTwitterCall(o,a,"GET",l,s,u,this.FEED_TYPES.search)},TD.services.TwitterClient.prototype.getUniversalSearchTimeline=function(e,t,i,n,s,r){var o,a={q:e,count:n||200,modules:"status",result_type:"recent",pc:!1,ui_lang:TD.languages.getSystemLanguageCode()},c=this;o=c.API_BASE_URL+"search/universal.json";var l=function(e){var t=[];return e.modules.forEach(function(e){e.status&&t.push(e.status.data)}),c.processTimeline(t)},u=function(e,t,i){e&&e.errors&&e.errors[0]===q.default.INVALID_SEARCH_QUERY?s([]):r.apply(null,arguments)};i&&(TD.decider.get("universal_search_timelines_by_id")?a.q+=" max_id:"+i:a.until_time=i),t&&1!=t&&(TD.decider.get("universal_search_timelines_by_id")?a.q+=" since_id:"+t:a.since_time=t),this.makeTwitterCall(o,a,"GET",l,s,u,this.FEED_TYPES.search)},TD.services.TwitterClient.prototype.getDataminrAlerts=function(e,t,i,n,s){$(document).trigger("uiNeedsDataminrAlerts",{params:{start_time:e,end_time:t,lists:[i]},success:function(e){this.inflateDataminrAlerts(e,n,s)}.bind(this),error:s})},TD.services.TwitterClient.prototype.inflateDataminrAlerts=function(e,t,i){var n=e.map(function(e){return e.displayTweet.id_str});this.lookupTweets(n,function(i){var n=i.reduce(function(e,t){return e[t.id_str]=t,e},{}),s=e.filter(function(e){return!!n[e.displayTweet.id_str]}).map(function(e){return e.displayTweet=n[e.displayTweet.id_str],this.processDataminrAlert(e)}.bind(this));t(s)}.bind(this),i,null)},TD.services.TwitterClient.prototype.getTimeline=function(e,t,i,n,s,r,o,a){var c={count:n||200,include_my_retweet:1},l="";l=(0,_.default)(e,"https://")?e:this.API_BASE_URL+e,t&&(c.since_id=t),i&&(c.max_id=i),o&&(0,S.default)(c,o),this.makeTwitterCall(l,c,"GET",this.processTimeline,s,r,a)},TD.services.TwitterClient.prototype.pendingConversation={},TD.services.TwitterClient.prototype.getConversation=function(e){var t=this;if(!this.pendingConversation[e]){var i=function(i){delete t.pendingConversation[e];var n={ancestors:[],descendants:[],root:null},s=i.instructions[0],r=(0,M.default)(s,"addEntries.entries",[]),o=!1;r.forEach(function(t,s){var a=t.entryId,c=[];if(a.includes("conversationThread-")){var l=(0,M.default)(t,"content.item.content.conversationThread.conversationComponents",[]),u=(0,M.default)(t,"content.item.content.conversationThread.showMoreCursor",null);if(c=l.map(function(t,n){var s=(0,M.default)(t,"conversationTweetComponent.tweet.id"),r=(0,v.default)(i.tweets,{id:s});if(!r)return null;if(r.setPositionInConversation(n),r.setNumberOfTweetsInConversation(l),r.setConversationRootId(e),r.setShowMoreCursor(u),r.isQuoteStatus){var o=(0,v.default)(i.tweets,{id:r.quotedStatusId});r.setQuotedStatus(o)}return r}),u){var d=(0,M.default)(u,"displayTreatment.actionText","");c.push({showMore:!0,actionText:TD.i(d)})}}else if(a.includes("tweet-")){var h=a.replace("tweet-",""),p=(0,v.default)(i.tweets,{id:h});if(!p)return null;var f=(0,M.default)(t,"content.item.content.tweet.displayType"),m="SelfThread"===f;if(m&&p.setIsSelfThreadEnd(r,e),r.length>2&&(p.setPositionInConversation(s),p.setNumberOfTweetsInConversation(r),p.setConversationRootId(e)),p.isQuoteStatus){var g=(0,v.default)(i.tweets,{id:p.quotedStatusId});p.setQuotedStatus(g)}c=[p]}else a.includes("cursor-top-")&&c.push({topCursor:!0});c.forEach(function(t){t&&(t.topCursor?n.ancestors.unshift(t):o?n.descendants.push(t):t.id===e?(o=!0,n.root=t):n.ancestors.push(t))})}),$.publish("/tweets/conversation/"+e,[n])},n=function(){delete t.pendingConversation[e];var i={ancestors:[],descendants:[],root:null};$.publish("/tweets/conversation/"+e,[i])};this.pendingConversation[e]=!0;var s=this.URT_BASE_URL+"timeline/conversation/"+e+".json";this.makeTwitterCall(s,{include_reply_count:!0},"GET",this.processTimeline,i,n)}},TD.services.TwitterClient.prototype.destroy=function(e,t,i){this.makeTwitterCall(this.API_BASE_URL+"statuses/destroy/:id.json".replace(":id",e),{},"POST",this.processTweet,t,i)},TD.services.TwitterClient.prototype.show=function(e,t,i){this.makeTwitterCall(this.API_BASE_URL+"statuses/show.json",{id:e},"GET",this.processTweet,t,i)},TD.services.TwitterClient.prototype.lookupTweets=function(e,t,i,n){this.makeTwitterCall(this.API_BASE_URL+"statuses/lookup.json",{id:e.join(",")},"POST",void 0!==n?n:this.processTimeline,t,i)},TD.services.TwitterClient.prototype.createCustomTimeline=function(e,t,i){e=e||{};var n={name:e.name||"New Collection",description:e.description||"",url:e.url||""},s=function(e){this.customTimelines.push(e),t(e),$(document).trigger("dataCustomTimelineCreateSuccess")}.bind(this);this.makeTwitterCall(this.API_BASE_URL+"collections/create.json",n,"POST",this.process3NFCustomTimeline,s,i)},TD.services.TwitterClient.prototype.updateCustomTimeline=function(e,t,i,n){t=t||{};var s={id:e};"string"==typeof t.name&&(s.name=t.name||"New Collection"),"string"==typeof t.description&&(s.description=t.description||""),"string"==typeof t.url&&(s.url=t.url||"");var r=function(t){TD.cache.names.updateCustomTimelineName(t.id,t.name),this.customTimelines=this.customTimelines.filter(function(t){return t.id!==e}),this.customTimelines.push(t),i(t),$(document).trigger("dataCustomTimelineUpdateSuccess")}.bind(this);this.makeTwitterCall(this.API_BASE_URL+"collections/update.json",s,"POST",this.process3NFCustomTimeline,r,n)},TD.services.TwitterClient.prototype.deleteCustomTimeline=function(e,t,i){var n={id:e},s=function(i){this.customTimelines=this.customTimelines.filter(function(t){return t.id!==e}),t(i),$(document).trigger("dataCustomTimelineDeleteSuccess")}.bind(this);this.makeTwitterCall(this.API_BASE_URL+"collections/destroy.json",n,"POST",null,s,i)},TD.services.TwitterClient.prototype.getCustomTimelines=function(e,t,i,n){var s={count:200};e&&(s.user_id=e),t&&(s.tweet_id=t),this.makeTwitterCall(this.API_BASE_URL+"collections/list.json",s,"GET",this.process3NFCustomTimelines,i,n)},TD.services.TwitterClient.prototype.getCustomTimeline=function(e,t,i){var n={id:e};this.makeTwitterCall(this.API_BASE_URL+"collections/show.json",n,"GET",this.process3NFCustomTimeline,t,i)},TD.services.TwitterClient.prototype.addOrMoveTweetToCustomTimeline=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,i=arguments[1],n=arguments[2];if(!e.customTimelineId||!e.tweetId)throw Error("Required fields are missing");i=i||function(){},n=n||function(){};var s;"move"===e.actionType?s=this.moveTweetWithinCustomTimeline(e):(s=this.addTweetToCustomTimeline(e),s.addCallback(function(e){if(t.didAddReturnDuplicateResponse(e))throw Error("duplicate");return e})),s.addCallbacks(i,n)},TD.services.TwitterClient.prototype.addTweetToCustomTimeline=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1],arguments[2];if(!e.customTimelineId||!e.tweetId)throw Error("Required fields are missing");var t={id:e.customTimelineId,tweet_id:e.tweetId};return e.relativeToId&&!e.above&&(t.relative_to=e.relativeToId,t.above=!1),this.request(this.API_BASE_URL+"collections/entries/add.json",{method:"POST",params:t}).addCallback(function(e){return e.data})},TD.services.TwitterClient.prototype.didAddReturnDuplicateResponse=function(e){return!!(0,M.default)(e,"response.errors")&&e.response.errors.map(function(e){return e.reason}).includes("duplicate")},TD.services.TwitterClient.prototype.moveTweetWithinCustomTimeline=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.customTimelineId||!e.relativeToId||!e.relativeToId)throw Error("Required fields are missing");var t={id:e.customTimelineId,tweet_id:e.tweetId,relative_to:e.relativeToId,above:e.above};return this.request(this.API_BASE_URL+"collections/entries/move.json",{method:"POST",params:t})},TD.services.TwitterClient.prototype.removeTweetFromCustomTimeline=function(e,t,i,n){i=i||function(){},n=n||function(){};var s={id:e,tweet_id:t};this.makeTwitterCall(this.API_BASE_URL+"collections/entries/remove.json",s,"POST",null,i,n)},TD.services.TwitterClient.prototype.bulkAddRemoveFromCustomTimeline=function(e,t,i,n,s){var r={id:e,changes:[]};i.forEach(function(e){r.changes.push({op:"remove",tweet_id:e})}),t.forEach(function(e){r.changes.push({op:"add",tweet_id:e})}),this.makeTwitterCall(this.API_BASE_URL+"collections/entries/curate.json",r,"POST",null,n,s)},TD.services.TwitterClient.prototype.get3NFTimeline=function(e,t,i){e=e||{};var n={id:e.id};e.maxCount&&(n.max_count=e.maxCount),e.minPosition&&(n.min_position=e.minPosition),e.maxPosition&&(n.max_position=e.maxPosition),this.makeTwitterCall(this.API_BASE_URL+"collections/entries.json",n,"GET",this.process3NFTimeline,t,i)},TD.services.TwitterClient.prototype.getLiveEvents=function(){return this.request(this.API_BASE_URL+"live_video/1/events.json",{method:"GET"})},TD.services.TwitterClient.prototype.getLiveVideoTimeline=function(e,t,i){var n={up_cursor:e.minID,down_cursor:e.maxID};e.timelineId&&(n.timeline_id=e.timelineId),this.makeTwitterCall(this.API_BASE_URL+"live_video/1/"+e.id+"/timeline.json",n,"GET",this.process3NFTimeline,t,i)},TD.services.TwitterClient.prototype.getScheduledTweets=function(e,t){if(e=e||{},(0,F.default)(e,{count:200,state:"scheduled,failed",since_execute_at:void 0,ascending:1}),t=t||{},(0,F.default)(t,{isPoll:!1,forceFetch:!1}),t.forceFetch&&(this.cachedScheduledLastModifiedDate=new Date(0)),!e.since_execute_at){var i=new Date;i.setMonth(i.getMonth()-1),e.since_execute_at=~~(i.getTime()/1e3)}e=(0,l.default)(e).reduce(function(t,i){return void 0!==e[i]&&null!==e[i]&&(t[i]=e[i]),t},{});var n={};t.isPoll&&(n["if-modified-since"]=this.cachedScheduledLastModifiedDate.toUTCString());var s=this.request(this.API_BASE_URL+"schedule/status/list.json",{method:"GET",params:e,processor:this.processScheduledTweets,headers:n});return t.isPoll&&s.addCallbackWith(this,this.cacheScheduledLastModifiedDate),s.addCallbackWith(this,this.getResultsFromDeferred),s},TD.services.TwitterClient.prototype.getScheduledGroups=function(e,t){var i=this;e=e||{},t=t||{},(0,F.default)(t,{forceFetch:!1,isPoll:!e.since_execute_at});var n=this.getScheduledTweets(e,t);return n.addCallbackWith(this,this.groupScheduledTweets),n.addCallbackWith(this,function(e){var t=0===e.length;return $(document).trigger("dataThrottleFeed",{feedType:"scheduled",accountKey:this.oauth.account.getKey(),doThrottle:t}),TD.decider.hasAccessLevel("scheduler","READ_VISIBLE")?e:(e.forEach(function(e){TD.controller.feedManager.deleteChirp(e.token)}),[])}),n.addCallback(TD.util.effect(function(e){TD.decider.get("scheduler_hydrate_replies")&&i.hydrateScheduledTweetReplyStatus(e)})),n},TD.services.TwitterClient.prototype.hydrateScheduledTweetReplyStatus=function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=t.filter(function(e){return e.autoPopulateReplyMetadata}).map(function(e){return e.inReplyToStatusId}).filter(Boolean),n=(0,a.default)(new r.default(i));n.length;){var s=n.slice(0,100);n=n.slice(100),this.lookupTweets(s,function(i){var n=(0,m.default)(i,"id"),s=t.filter(function(e){var t=n[e.inReplyToStatusId],i=e.inReplyToStatus!==t;return e.inReplyToStatus=t,i});e.publishChirpsInternal("publish","scheduled",s)})}},TD.services.TwitterClient.prototype.cacheScheduledLastModifiedDate=function(e){var t=e.xhr.getResponseHeader("last-modified");return t&&(this.cachedScheduledLastModifiedDate=new Date(t)),e},TD.services.TwitterClient.prototype.processScheduledTweets=function(e){return e=e||{},e.results=e.results||[],{results:e.results.map(this.processScheduledTweet,this)}},TD.services.TwitterClient.prototype.processScheduledTweet=function(e){return(new TD.services.ScheduledTweet).fromJSONObject(e)},TD.services.TwitterClient.prototype.groupScheduledTweets=function(e){if(!e)return[];var t=Date.now(),i=function(e){return e instanceof TD.services.ScheduledTweetGroup&&"scheduled"===e.state&&e.time<t};TD.storage.feedController.getAll().filter(function(e){return"twitter"===e.getService()&&"scheduled"===e.getType()}).forEach(function(e){TD.controller.feedManager.getPoller(e.getKey()).removeWhere(i)});var n={canceled:!0,completed:!0,dismissed:!0},s=e.reduce(function(e,t){if(t.retweetedStatusId)return e;try{e[t.token]||(e[t.token]=new TD.services.ScheduledTweetGroup(t.token)),e[t.token].addUpdate(t)}catch(e){console.log("Error processing scheduled update",t,e)}return e},{});return(0,I.default)(s).filter(function(e){var t=!n[e.state];return t||TD.controller.feedManager.deleteChirp(e.token),t})},TD.services.TwitterClient.prototype.update=function(e,t,i,n,s,r,o){var a={status:e};a.in_reply_to_status_id=t,a.lat=i,a.long=n,a.place_id=s,this.makeTwitterCall(this.API_BASE_URL+"statuses/update.json",a,"POST",this.processTweet,r,o)},TD.services.TwitterClient.prototype.getLists=function(e,t,i){var n={reverse:!0};e&&(n.screen_name=e),this.makeTwitterCall(this.API_BASE_URL+"lists/list.json",n,"GET",this.processLists,t,i)},TD.services.TwitterClient.prototype.getListMemberships=function(e,t,i,n){var s={},r=this;e&&(s.screen_name=e),t&&(s.filter_to_owned_lists=1);var o=function(e){return r.processLists(e.lists)};this.makeTwitterCall(this.API_BASE_URL+"lists/memberships.json",s,"GET",o,i,n)},TD.services.TwitterClient.prototype.getListOwnerships=function(e,t,i){var n={count:1e3},s=this,r=function(e){return s.processLists(e.lists)};e&&(n.screen_name=e),this.makeTwitterCall(this.API_BASE_URL+"lists/ownerships.json",n,"GET",r,t,i)},TD.services.TwitterClient.prototype.getListSubscriptions=function(e,t,i){var n={count:1e3},s=this,r=function(e){return s.processLists(e.lists)};e&&(n.screen_name=e),this.makeTwitterCall(this.API_BASE_URL+"lists/subscriptions.json",n,"GET",r,t,i)},TD.services.TwitterClient.prototype.getSavedSearches=function(e,t){var i={};this.makeTwitterCall(this.API_BASE_URL+"saved_searches/list.json",i,"GET",null,e,t)},TD.services.TwitterClient.prototype.favorite=function(e,t,i){var n=this,s=function(e){n.updateFavoriteInternal(e,!0),t(e)};this.makeTwitterCall(this.API_BASE_URL+"favorites/create.json",{id:e},"POST",this.processTweet,s,i)},TD.services.TwitterClient.prototype.unfavorite=function(e,t,i){var n=this,s=function(e){n.updateFavoriteInternal(e,!1),t(e)};this.makeTwitterCall(this.API_BASE_URL+"favorites/destroy.json",{id:e},"POST",this.processTweet,s,i)},TD.services.TwitterClient.prototype.destroyDM=function(e,t,i){$(document).trigger("uiDeleteDm",{id:e,accountKey:this.oauth.account.getKey(),success:t,error:i})},TD.services.TwitterClient.prototype.markMessagesAsRead=function(e,t,i,n){var s={last_message_id:e};t&&(s.sender_id=t),this.makeTwitterCall(this.API_BASE_URL+"direct_messages/read.json",s,"POST",null,i,n)},TD.services.TwitterClient.prototype.geoSearch=function(e,t,i,n,s,r,o){var a={};t&&(a.lat=t),i&&(a.long=i),n&&(a.accuracy=n),e&&(a.query=e),a.granularity=s||"neighborhood",this.makeTwitterCall(this.API_BASE_URL+"geo/search.json",a,"GET",this.processPlaces,r,o)},TD.services.TwitterClient.prototype.getTrends=function(e,t,i){e=e||1,this.makeTwitterCall(this.API_BASE_URL+"trends/place.json",{id:e},"GET",this.processTrends,t,i)},TD.services.TwitterClient.prototype.getTrendLocations=function(e,t){this.makeTwitterCall(this.API_BASE_URL+"trends/available.json",null,"GET",this.processTrendLocations,e,t)},TD.services.TwitterClient.prototype.getTailoredTrends=function(e,t){this.makeTwitterCall(this.API_BASE_URL+"trends/plus.json",null,"GET",this.processTailoredTrends,e,t)},TD.services.TwitterClient.prototype.updateFavoriteInternal=function(e,t){e=e.retweetedStatus?e.retweetedStatus:e,e.setFavorite(t);var i=t?"publish":"remove";this.publishChirpsInternal(i,"favorites",[e])},TD.services.TwitterClient.prototype.removeAction=function(e){var t=TD.services.TwitterAction.processStreamAction(e,this.oauth.account);t&&(t.isAboutYou()?this.publishChirpsInternal("remove","interactions",[t]):t.isOwnChirp()||this.publishChirpsInternal("remove","networkactivity",[t]))},TD.services.TwitterClient.prototype.publishStreamAction=function(e){var t=TD.services.TwitterAction.processStreamAction(e,this.oauth.account);t&&(t.fudgeCreatedTime(t.created),t.isAboutYou()?this.publishChirpsInternal("publish","interactions",[t]):!t.isOwnChirp()&&this.NETWORK_ACTIVITY_EVENT_TYPES[t.action]&&this.publishChirpsInternal("publish","networkactivity",[t]))},TD.services.TwitterClient.prototype.queueChirpsForDispatch=function(e,t){this.publishQueue[e]=(this.publishQueue[e]||[]).concat(t),this.flushPending||(this.flushPending=!0,(0,p.default)(function(){this.flushPending=!1,(0,l.default)(this.publishQueue).forEach(function(e){var t=void 0,i=[];try{if(!(t=TD.controller.feedManager.getPoller(e)))return;var n=t.feed.getType(),s="interactions"===n||"mentions"===n,r=!TD.controller.stats.isInExperimentBucket("tweetdeck_notifications_streaming_5807","no_streaming");if(s&&!r)return;i=this.publishQueue[e].filter(W.default.chirpPasses.bind(W.default,this.blocks)).filter(W.default.chirpPasses.bind(W.default,this.mutes)).filter(function(e){return!(s&&e.isListAction&&TD.decider.get("notification_disable_list_events"))}),t.acceptStreamChirps(i)}catch(e){var o=t?t.feed.getType():"unknown_feed_type",a=(0,d.default)(i.map(function(e){return e.getChirpType()})),c=1===a.length?a[0]:"unknown_chirp_type";$(document).trigger("metric",{key:"client:publish:error:"+o+":"+c})}finally{delete this.publishQueue[e]}}.bind(this))}.bind(this)))},TD.services.TwitterClient.prototype.publishChirpsInternal=function(e,t,i,n){var s=TD.storage.Feed.generateKeyFor(this.oauth.account.getKey(),t,n);if("publish"===e)this.queueChirpsForDispatch(s,i);else if("remove"===e){var r=TD.controller.feedManager.getPoller(s);r&&(0,R.default)(i,function(e){r.removeChirp(e.id)})}},TD.services.TwitterClient.prototype.addIdToBlockList=function(e){this.blocks[e]||(this.blocks[e]=!0,$.publish("/user/removeTweets",[e,this.oauth.account.getUserID()]))},TD.services.TwitterClient.prototype.blockListNextCursor=-1,TD.services.TwitterClient.prototype.populateBlockList=function(){var e=function(t){var i,n=t.ids;for(-1===this.blockListNextCursor&&(this.blocks={}),i=0;i<n.length;i++)this.addIdToBlockList(n[i]);t.next_cursor_str&&"0"!==t.next_cursor_str?this.blockListNextCursor=t.next_cursor_str:this.blockListNextCursor=-1,TD.decider.get("fetch_entire_blocklist")&&-1!==this.blockListNextCursor&&this.getBlockIDs(this.blockListNextCursor,e)}.bind(this);this.getBlockIDs(this.blockListNextCursor,e)},TD.services.TwitterClient.prototype.addIdToMuteList=function(e){this.mutes[e]||(this.mutes[e]=!0,$.publish("/user/removeTweets",[e,this.oauth.account.getUserID()]))},TD.services.TwitterClient.prototype.populateMuteList=function(e){e=e||"-1";var t=function(t){var i=t.data;if("-1"===e&&(this.mutes={}),i.ids.forEach(this.addIdToMuteList,this),i.next_cursor_str&&"0"!==i.next_cursor_str)return this.populateMuteList(i.next_cursor_str)};this.getMuteIDs(e).addCallbackWith(this,t)},TD.services.TwitterClient.prototype.populateRetweetBlockList=function(){this.getNoRetweetIDs(function(e){var t;for(this.retweetBlocks={},t=0;t<e.length;t++)this.retweetBlocks[e[t]]=!0}.bind(this))},TD.services.TwitterClient.prototype.constructStreamingUrl=function(){var e=this,t={},i=!1,n=!0;(0,R.default)(this.streamingFeeds,function(s,r){var o=s.getMetadata();if(TD.controller.feedManager.getPoller(r))if(n=!1,s.managed&&"search"==s.getType()){var a=o.term,c=a.toLowerCase(),l=new TD.services.TwitterSearchParser(a);t[c]=l}else"home"===s.getType()&&(i=!0);else delete e.streamingFeeds[r]});var s=[];for(var r in t)s.push(t[r].trackQuery);s=(0,d.default)(s.join(",").split(","));var o=s.join(","),a={stringify_friend_ids:!0};o&&(a.track=o),i||(a.with="user");var c=!1;return(0,R.default)(TD.storage.feedController.getAll(),function(t){"networkactivity"===t.getType()&&"twitter"===t.getService()&&e.oauth.account.getKey()===t.getAccountKey()&&(c=!0)}),c&&(a.include_followings_activity=!0),n?null:TD.net.util.addURLParameters(this.STREAMING_BASE_URL,a)},TD.services.TwitterClient.prototype.checkUserStream=function(){TD.util.shouldStream()?this.streamEngine.connect(this.constructStreamingUrl()):this.streamEngine.disconnect()},TD.services.TwitterClient.prototype.processDeleteChirpEvent=function(e){e.status?TD.controller.feedManager.deleteChirp(e.status.id_str):e.direct_message?this.deleteMessage(e.direct_message.id_str):e.conversationId&&this.conversations.deleteConversation(e.conversationId)},TD.services.TwitterClient.prototype.processStreamData=function(e){var t,i=e.friends_str||e.friends;if(i){for(var n=0;n<i.length;n++)this.friends[i[n]]=!0;try{this.firstStreamConnect||TD.controller.feedScheduler.refreshAccountFeeds(this.oauth.account.getKey(),!0)}finally{this.firstStreamConnect=!1}}else if(e.warning)switch(e.warning.code){case this.streamWarningCodes.FOLLOWS_OVER_LIMIT:}else if(e.event)this.processStreamEvent(e);else if(e.limit);else if(e.delete)this.processDeleteChirpEvent(e.delete);else if(e.user_events)t=this.conversations.processStreamData(e),t.addCallbackWith(this,function(e){this.publishChirpsInternal("publish","direct",e)});else if(e.id_str&&e.text)try{var s=this.processTweet(e);s.fudgeCreatedTime(s.created),this.processMiscTweet(s)}catch(t){V.default.logTweetProcessingError(e,t)}else e.conversationRenamed?this.conversations.renameConversation(e.conversationRenamed):e.participantAdded?(t=this.conversations.processStreamData(e.participantAdded,!0),t.addCallbackWith(this,function(e){e.forEach(function(e){$(document).trigger("dataConversationParticipants",{conversationId:e.conversationId,participants:e.participants})}),this.publishChirpsInternal("publish","direct",e)})):TD.controller.stats.unknownStreamData(e)},TD.services.TwitterClient.prototype.processMiscTweet=function(e){var t,i,n,s,r,o=this,a=Boolean(this.friends[e.user.id]),c=e.user.id==this.oauth.account.getUserID(),l=e.isMention(),u=Boolean(e.inReplyToID),d=Boolean(e.retweetedStatus),h=d&&e.retweetedStatus.user.id==this.oauth.account.getUserID(),p=d&&(e.retweetedStatus.user.following||this.friends[e.retweetedStatus.user.id]);if(e.apiSource="realtime",n=e.entities&&e.entities.user_mentions&&e.entities.user_mentions.some(function(e){if(e.indices&&0===e.indices[0])return r=e.id,!0}),s=n&&Boolean(this.friends[r]),(!d||!this.retweetBlocks[e.user.id]||h)&&(!c||!h)&&(c&&d&&(e.setRetweeted(!0),e.retweetedStatus.setRetweeted(!0)),(c||a&&(!n||s||l))&&(h||p||this.publishChirpsInternal("publish","home",[e])),h?(i=new TD.services.TwitterActionRetweet(this.oauth.account).fromRetweet(e),this.publishChirpsInternal("publish","interactions",[i])):l&&!d&&(this.publishChirpsInternal("publish","mentions",[e]),c||(t=new TD.services.TwitterActionMention(this.oauth.account).fromStreamData(e),this.publishChirpsInternal("publish","interactions",[t]))),(0,R.default)(this.streamingFeeds,function(t,i){var n=t.getMetadata();if(t.managed&&"search"==t.getType()){var s=n.term,r=o.cachedStreamingQueries[s];r||(r=o.cachedStreamingQueries[s]=new TD.services.TwitterSearchParser(s)),r.match(e.getFilterableText())&&o.queueChirpsForDispatch(i,[e])}}),this.publishChirpsInternal("publish","usertweets",[e],{id:parseInt(e.user.id,10)}),c&&this.publishChirpsInternal("publish","usertweets",[e],{}),u)){var f={ancestors:[],descendants:[e]};$.publish("/tweets/conversation/"+e.inReplyToID,[f])}},TD.services.TwitterClient.prototype.processStreamEvent=function(e){var t,i,n=!1;if(this.STREAM_LIST_EVENTS[e.event]&&(t=new TD.services.TwitterList(this.oauth.account).fromJSONObject(e.target_object)),e.source.id==this.oauth.account.getUserID())switch(e.event){case"favorite":n=e.source.id_str===e.target_object.user.id_str,i=this.processTweet(e.target_object),this.updateFavoriteInternal(i,!0);break;case"unfavorite":i=this.processTweet(e.target_object),this.updateFavoriteInternal(i,!1);break;case"follow":this.friends[e.target.id_str]=!0;break;case"unfollow":delete this.friends[e.target.id_str];break;case"block":this.addIdToBlockList(e.target.id_str),delete this.friends[e.target.id_str];break;case"unblock":delete this.blocks[e.target.id_str];break;case"mute":this.addIdToMuteList(e.target.id_str);break;case"unmute":delete this.mutes[e.target.id_str];break;case"list_created":case"list_updated":case"list_member_added":case"list_member_removed":case"list_user_subscribed":TD.cache.lists.add(t);break;case"list_destroyed":TD.cache.lists.purge(t.id);break;case"list_user_unsubscribed":TD.cache.lists.unsubscribe(t)}else"favorite"===e.event&&(e.target_object.favorited=!1,e.target_object.retweeted=!1);i&&(i.apiSource="realtime"),this.ACTIVITY_EVENT_TYPES[e.event]&&!n?this.publishStreamAction(e):this.DELETE_ACTIVITY_EVENT_TYPES[e.event]&&this.removeAction(e)},TD.services.TwitterClient.prototype.getResultsFromDeferred=function(e){var t=this.getDataFromDeferred(e);if(t&&void 0!==t.results)return t.results},TD.services.TwitterClient.prototype.getDataFromDeferred=function(e){if(e&&void 0!==e.data)return e.data;throw TypeError("deferred result is missing data")},TD.services.TwitterClient.prototype.cleanUp=function(){$.unsubscribe(this.subscription),this.streamEngine.disconnect(),this.scheduledTasks.forEach(function(e){TD.controller.scheduler.removePeriodicTask(e)})}},function(e,t,i){"use strict";TD.services.TwitterAction=function(e){this.account=e},TD.services.TwitterAction.FAVORITE="favorite",TD.services.TwitterAction.FAVORITED_RETWEET="favorited_retweet",TD.services.TwitterAction.FAVORITED_MENTION="favorited_mention",TD.services.TwitterAction.FAVORITED_MEDIA="favorited_media_tagged",TD.services.TwitterAction.RETWEET="retweet",TD.services.TwitterAction.RETWEETED_RETWEET="retweeted_retweet",TD.services.TwitterAction.RETWEETED_MENTION="retweeted_mention",TD.services.TwitterAction.RETWEETED_MEDIA="retweeted_media_tagged",TD.services.TwitterAction.MENTION="mention",TD.services.TwitterAction.REPLY="reply",TD.services.TwitterAction.FOLLOW="follow",TD.services.TwitterAction.LIST_MEMBER_ADDED="list_member_added",TD.services.TwitterAction.LIST_CREATED="list_created",TD.services.TwitterAction.UNFAVORITE="unfavorite",TD.services.TwitterAction.LIST_MEMBER_REMOVED="list_member_removed",TD.services.TwitterAction.LIST_DESTROYED="list_destroyed",TD.services.TwitterAction.QUOTED_TWEET="quoted_tweet",TD.services.TwitterAction.QUOTE="quote",TD.services.TwitterAction.UNFOLLOW="unfollow",TD.services.TwitterAction.processStreamAction=function(e,t){var i=TD.services.TwitterAction._getActionConstructor(e.event);return i?new i(t).fromJSONObject(e,null,!0):null},TD.services.TwitterAction.processRESTAction=function(e,t){var i=TD.services.TwitterAction._getActionConstructor(e.action);if(!i)return[];for(var n=e.sources,s=e.targets_size>0?e.targets:[void 0],r=e.target_objects_size>0?e.target_objects:[void 0],o=[],a=0;a<n.length;a++)if(e.action!==TD.services.TwitterAction.RETWEET)for(var c=0;c<s.length;c++)for(var l=0;l<r.length;l++)e.action===TD.services.TwitterAction.LIST_MEMBER_ADDED&&n[a].id!==r[l].user.id||o.push([e,n[a],s[c],r[l]]);else{if(r[0].user.id!=t.getUserID())continue;o.push([e,n[a],s[a],r[0]])}return o.map(function(n){return new i(t).fromJSONObject(e,n,!1)})},TD.services.TwitterAction._getActionConstructor=function(e){switch(e){case TD.services.TwitterAction.MENTION:case TD.services.TwitterAction.REPLY:return TD.services.TwitterActionMention;case TD.services.TwitterAction.FAVORITE:case TD.services.TwitterAction.UNFAVORITE:return TD.services.TwitterActionFavorite;case TD.services.TwitterAction.FAVORITED_RETWEET:case TD.services.TwitterAction.FAVORITED_MENTION:case TD.services.TwitterAction.FAVORITED_MEDIA:return TD.services.TwitterActionFavoritedInteraction;case TD.services.TwitterAction.RETWEET:return TD.services.TwitterActionRetweet;case TD.services.TwitterAction.RETWEETED_RETWEET:case TD.services.TwitterAction.RETWEETED_MENTION:case TD.services.TwitterAction.RETWEETED_MEDIA:return TD.services.TwitterActionRetweetedInteraction;case TD.services.TwitterAction.QUOTED_TWEET:case TD.services.TwitterAction.QUOTE:return TD.services.TwitterActionQuotedTweet;case TD.services.TwitterAction.FOLLOW:case TD.services.TwitterAction.UNFOLLOW:return TD.services.TwitterActionFollow;case TD.services.TwitterAction.LIST_MEMBER_ADDED:case TD.services.TwitterAction.LIST_MEMBER_REMOVED:return TD.services.TwitterActionListMemberAdded;case TD.services.TwitterAction.LIST_CREATED:case TD.services.TwitterAction.LIST_DESTROYED:return TD.services.TwitterActionListCreated;default:return null}},TD.services.TwitterAction.prototype=new TD.services.ChirpBase,TD.services.TwitterAction.prototype.getChirpType=function(){return this.action},TD.services.TwitterAction.prototype.action=null,TD.services.TwitterAction.prototype.maxPosition=null,TD.services.TwitterAction.prototype.minPosition=null,TD.services.TwitterAction.msFudge=0,TD.services.TwitterAction.prototype.fromJSONObject=function(e,t,i){return i?this.fromStreamData(e):this.fromRESTData.apply(this,t),this.created=TD.util.parseDateString(e.created_at),this.maxPosition=e.max_position||this.created.getTime().toString(),this.minPosition=e.min_position||this.created.getTime().toString(),this.generateInternalID(),this.generateText(),this},TD.services.TwitterAction.prototype.fromRESTData=function(e,t,i,n){throw new Error("TwitterAction.fromRESTData not implemented")},TD.services.TwitterAction.prototype.fromStreamData=function(e){throw new Error("TwitterAction.fromStreamData not implemented")},TD.services.TwitterAction.prototype.generateInternalID=function(){throw new Error("TwitterAction.generateInternalID not implemented")},TD.services.TwitterAction.prototype.generateText=function(){},TD.services.TwitterAction.prototype.render=function(){throw new Error("TwitterAction.render not implemented")},TD.services.TwitterAction.prototype.isAboutYou=function(){throw new Error("TwitterAction.isAboutYou not implemented")},TD.services.TwitterAction.prototype.isOwnChirp=function(){throw new Error("TwitterAction.isOwnChirp not implemented")},TD.services.TwitterAction.prototype.getChirpURL=function(){return"https://twitter.com/activity"},TD.services.TwitterAction.prototype.getCreator=function(){throw new Error("TwitterAction.getCreator not implemented")},TD.services.TwitterAction.prototype.getSenders=function(){return[this.getCreator().screenName]},TD.services.TwitterAction.prototype.isFromVerifiedUser=function(){return this.getCreator().isVerified},TD.services.TwitterAction.prototype.getTargetUsers=function(){throw new Error("TwitterAction.getTargetUsers not implemented")}},function(e,t,i){"use strict";var n=i(175);TD.services.TwitterActionFavorite=function(e){this.account=e},TD.services.TwitterActionFavorite.prototype=new TD.services.TwitterActionOnTweet,TD.services.TwitterActionFavorite.prototype.action=TD.services.TwitterAction.FAVORITE,TD.services.TwitterActionFavorite.prototype.iconClass="icon-heart-filled icon-favorite-color",TD.services.TwitterActionFavorite.prototype.fromRESTData=function(e,t,i,n){this.sourceUser=new TD.services.TwitterUser(this.account).fromJSONObject(t),this.targetTweet=new TD.services.TwitterStatus(this.account).fromJSONObject(i)},TD.services.TwitterActionFavorite.prototype.fromStreamData=function(e){this.sourceUser=new TD.services.TwitterUser(this.account).fromJSONObject(e.source),this.targetTweet=new TD.services.TwitterStatus(this.account).fromJSONObject(e.target_object)},TD.services.TwitterActionFavorite.prototype.generateText=function(){var e=TD.i("{{{user}}} liked",null,!0);this.text=TD.ui.template.toHtml(e,{user:this.sourceUser.name}),this.htmlText=TD.ui.template.toHtml(e,{user:(0,n.linkifyUser)(this.sourceUser,{withBold:this.isAboutYou()})})}},function(e,t,i){"use strict";var n=i(175);TD.services.TwitterActionFavoritedInteraction=function(e){this.account=e},TD.services.TwitterActionFavoritedInteraction.prototype=new TD.services.TwitterActionOnTweet,TD.services.TwitterActionFavoritedInteraction.prototype.action=TD.services.TwitterAction.FAVORITED_RETWEET,TD.services.TwitterActionFavoritedInteraction.prototype.iconClass="icon-heart-filled icon-favorite-color",TD.services.TwitterActionFavoritedInteraction.prototype.fromRESTData=function(e,t,i,n){var s=i.retweeted_status,r=s||i,o=_.get(i,"extended_entities.media[0].features.all.tags",[]),a=this.account.getUserID();if(s||(this.action=TD.services.TwitterAction.FAVORITED_MENTION),o.length){var c=o.find(function(e){return e.user_id===a});this.mediaTagged=c,this.action=TD.services.TwitterAction.FAVORITED_MEDIA}this.sourceUser=new TD.services.TwitterUser(this.account).fromJSONObject(t),this.targetUser=new TD.services.TwitterUser(this.account).fromJSONObject(n),this.targetTweet=new TD.services.TwitterStatus(this.account).fromJSONObject(r),this.hasRetweet=i.retweeted_status},TD.services.TwitterActionFavoritedInteraction.prototype.isAboutYou=function(){return this.targetUser.isMe()},TD.services.TwitterActionFavoritedInteraction.prototype.fromStreamData=function(e){this.sourceUser=new TD.services.TwitterUser(this.account).fromJSONObject(e.source),this.targetUser=new TD.services.TwitterUser(this.account).fromJSONObject(e.target),this.targetTweet=new TD.services.TwitterStatus(this.account).fromJSONObject(e.target_object.retweeted_status||e.target_object),this.hasRetweet=e.target_object.retweeted_status},TD.services.TwitterActionFavoritedInteraction.prototype.generateText=function(){var e="{{{user}}} liked your Retweet";this.hasRetweet||(e=this.mediaTagged?"{{{user}}} liked a Tweet you were tagged in":"{{{user}}} liked a Tweet you were mentioned in");var t=TD.i(e,null,!0);this.text=TD.ui.template.toHtml(t,{user:this.sourceUser.name}),this.htmlText=TD.ui.template.toHtml(t,{user:(0,n.linkifyUser)(this.sourceUser,{withBold:this.isAboutYou()})})}},function(e,t,i){"use strict";var n=i(175);TD.services.TwitterActionFollow=function(e){this.account=e},TD.services.TwitterActionFollow.prototype=new TD.services.TwitterAction,TD.services.TwitterActionFollow.prototype.action=TD.services.TwitterAction.FOLLOW,TD.services.TwitterActionFollow.prototype.following=null,TD.services.TwitterActionFollow.prototype.followed=null,TD.services.TwitterActionFollow.prototype.fromRESTData=function(e,t,i,n){this.following=new TD.services.TwitterUser(this.account).fromJSONObject(t),this.followed=new TD.services.TwitterUser(this.account).fromJSONObject(i)},TD.services.TwitterActionFollow.prototype.fromStreamData=function(e){this.following=new TD.services.TwitterUser(this.account).fromJSONObject(e.source),this.followed=new TD.services.TwitterUser(this.account).fromJSONObject(e.target)},TD.services.TwitterActionFollow.prototype.generateInternalID=function(){this.id=[this.action,this.following.id,this.followed.id].join("_")},TD.services.TwitterActionFollow.prototype.generateText=function(){var e;e=this.isAboutYou()?TD.i("{{{user}}} followed you",null,!0):TD.i("{{{user}}} followed",null,!0),this.text=TD.ui.template.toHtml(e,{user:this.following.name}),this.htmlText=TD.ui.template.toHtml(e,{user:(0,n.linkifyUser)(this.following,{withBold:this.isAboutYou()})})},TD.services.TwitterActionFollow.prototype.render=function(){return TD.ui.template.render("status/follow_activity_in_stream",{data:this,iconClass:"icon-user-filled icon-follow-color",withoutAvatar:!1,withSourceMute:!0,withContentMute:this.isAboutYou(),withActivityHeader:!0,withUserMenu:!0,withUserBio:!0,isInline:!0})},TD.services.TwitterActionFollow.prototype.isAboutYou=function(){return this.followed.id==this.account.getUserID()},TD.services.TwitterActionFollow.prototype.isOwnChirp=function(){return this.following.id==this.account.getUserID()},TD.services.TwitterActionFollow.prototype.getNotificationData=function(){var e=this.getRelatedUser(),t=null!==e.description?"\n"+e.description:"";return{title:this.text,img:e.profileImageURL,text:"@"+e.screenName+t}},TD.services.TwitterActionFollow.prototype.getTargetUsers=function(){return[this.followed]},TD.services.TwitterActionFollow.prototype.getRelatedUser=function(){return this.isAboutYou()?this.following:this.followed},TD.services.TwitterActionFollow.prototype.getCreator=function(){return this.following},TD.services.TwitterActionFollow.prototype.getFilterableText=function(){return this.followed.screenName}},function(e,t,i){"use strict";TD.services.TwitterActionListCreated=function(e){this.account=e},TD.services.TwitterActionListCreated.prototype=new TD.services.TwitterAction,TD.services.TwitterActionListCreated.prototype.action=TD.services.TwitterAction.LIST_CREATED,TD.services.TwitterActionListCreated.prototype.owner=null,TD.services.TwitterActionListCreated.prototype.list=null,TD.services.TwitterActionListCreated.prototype.isListAction=!0,TD.services.TwitterActionListCreated.prototype.fromRESTData=function(e,t,i){this.owner=new TD.services.TwitterUser(this.account).fromJSONObject(t),this.list=new TD.services.TwitterList(this.account).fromJSONObject(i)},TD.services.TwitterActionListCreated.prototype.fromStreamData=function(e){this.owner=new TD.services.TwitterUser(this.account).fromJSONObject(e.source),this.list=new TD.services.TwitterList(this.account).fromJSONObject(e.target_object)},TD.services.TwitterActionListCreated.prototype.generateInternalID=function(){this.id=[this.action,this.owner.id,this.list.id].join("_")},TD.services.TwitterActionListCreated.prototype.generateText=function(){var e=TD.i("{{{owner}}} created the list {{{list}}}",null,!0);this.text=TD.ui.template.toHtml(e,{owner:this.owner.name,list:this.list.fullName}),this.htmlText=TD.ui.template.toHtml(e,{owner:TD.ui.template.render("text/user_link_fullname",{name:this.owner.name,profileUrl:this.owner.getProfileURL(),withBold:!0}),list:TD.ui.template.render("text/list_link_real_name",this.list)})},TD.services.TwitterActionListCreated.prototype.isOwnChirp=function(){return this.owner.id==this.account.getUserID()},TD.services.TwitterActionListCreated.prototype.isAboutYou=function(){return!1},TD.services.TwitterActionListCreated.prototype.getCreator=function(){return this.owner},TD.services.TwitterActionListCreated.prototype.getTargetUsers=function(){return[]},TD.services.TwitterActionListCreated.prototype.render=function(){var e={chirp:this,sourceAvatar:this.owner.miniProfileImageURL()};return TD.ui.template.render("status/list_activity",e)},TD.services.TwitterActionListCreated.prototype.getNotificationData=function(){return{title:this.text,img:null,text:this.list.description}}},function(e,t,i){"use strict";var n=i(175);TD.services.TwitterActionListMemberAdded=function(e){this.account=e},TD.services.TwitterActionListMemberAdded.prototype=new TD.services.TwitterAction,TD.services.TwitterActionListMemberAdded.prototype.action=TD.services.TwitterAction.LIST_MEMBER_ADDED,TD.services.TwitterActionListMemberAdded.prototype.owner=null,TD.services.TwitterActionListMemberAdded.prototype.added=null,TD.services.TwitterActionListMemberAdded.prototype.list=null,TD.services.TwitterActionListMemberAdded.prototype.isListAction=!0,TD.services.TwitterActionListMemberAdded.prototype.fromRESTData=function(e,t,i,n){this.owner=new TD.services.TwitterUser(this.account).fromJSONObject(t),this.added=new TD.services.TwitterUser(this.account).fromJSONObject(i),this.list=new TD.services.TwitterList(this.account).fromJSONObject(n)},TD.services.TwitterActionListMemberAdded.prototype.fromStreamData=function(e){this.owner=new TD.services.TwitterUser(this.account).fromJSONObject(e.source),this.added=new TD.services.TwitterUser(this.account).fromJSONObject(e.target),this.list=new TD.services.TwitterList(this.account).fromJSONObject(e.target_object)},TD.services.TwitterActionListMemberAdded.prototype.generateInternalID=function(){this.id=[this.action,this.owner.id,this.added.id,this.list.id].join("_")},TD.services.TwitterActionListMemberAdded.prototype.generateText=function(){var e;e=this.isAboutYou()?TD.i("{{{owner}}} added you to their list {{{list}}}",null,!0):TD.i("{{{owner}}} added {{{added}}} to their list {{{list}}}",null,!0),this.text=TD.ui.template.toHtml(e,{owner:this.owner.name,added:this.added.name,list:this.list.name}),this.htmlText=TD.ui.template.toHtml(e,{owner:(0,n.linkifyUser)(this.owner,{withBold:!0}),added:(0,n.linkifyUser)(this.added,{withBold:!0}),list:TD.ui.template.render("text/list_link_real_name",this.list)})},TD.services.TwitterActionListMemberAdded.prototype.isOwnChirp=function(){return this.owner.id==this.account.getUserID()},TD.services.TwitterActionListMemberAdded.prototype.isAboutYou=function(){return this.added.id==this.account.getUserID()},TD.services.TwitterActionListMemberAdded.prototype.getCreator=function(){return this.owner},TD.services.TwitterActionListMemberAdded.prototype.getTargetUsers=function(){return[this.added]},TD.services.TwitterActionListMemberAdded.prototype.render=function(){var e={chirp:this,sourceAvatar:this.owner.miniProfileImageURL()};return TD.ui.template.render("status/list_activity",e)},TD.services.TwitterActionListMemberAdded.prototype.getNotificationData=function(){return{title:this.text,img:null,text:this.list.description}}},function(e,t,i){"use strict";TD.services.TwitterActionMention=function(e){this.account=e},TD.services.TwitterActionMention.prototype=new TD.services.TwitterActionOnTweet,TD.services.TwitterActionMention.prototype.action=TD.services.TwitterAction.MENTION,TD.services.TwitterActionMention.prototype.iconClass="icon-mention icon-mention-color",TD.services.TwitterActionMention.prototype.fromRESTData=function(e,t,i,n){"reply"===e.action?this.targetTweet=new TD.services.TwitterStatus(this.account).fromJSONObject(i):this.targetTweet=new TD.services.TwitterStatus(this.account).fromJSONObject(n),this.sourceUser=new TD.services.TwitterUser(this.account).fromJSONObject(t)},TD.services.TwitterActionMention.prototype.fromStreamData=function(e){return this.sourceUser=e.user,this.targetTweet=e,this.created=new Date(e.created),this.generateInternalID(),this.generateText(),this.maxPosition=this.minPosition=this.created.getTime().toString(),this},TD.services.TwitterActionMention.prototype.generateText=function(){var e=TD.i("{{{user}}} mentioned you",null,!0);this.text=TD.ui.template.toHtml(e,{user:this.sourceUser.name}),this.htmlText=TD.ui.template.toHtml(e,{user:TD.ui.template.render("text/user_link_fullname",{name:this.sourceUser.name,profileUrl:this.sourceUser.getProfileURL(),withBold:this.isAboutYou()})})},TD.services.TwitterActionMention.prototype.isAboutYou=function(){return!0}},function(e,t,i){"use strict";TD.services.TwitterActionMultiListMemberAdded=function(e){this.account=e},TD.services.TwitterActionMultiListMemberAdded.prototype=new TD.services.TwitterAction,TD.services.TwitterActionMultiListMemberAdded.prototype.action="multi_list_member_added",TD.services.TwitterActionMultiListMemberAdded.prototype.owner=null,TD.services.TwitterActionMultiListMemberAdded.prototype.added=null,TD.services.TwitterActionMultiListMemberAdded.prototype.lists=null,TD.services.TwitterActionMultiListMemberAdded.prototype.isListAction=!0,TD.services.TwitterActionMultiListMemberAdded.prototype.fromRESTData=function(e){this.owner=new TD.services.TwitterUser(this.account).fromJSONObject(e.sources[0]),this.added=_.map(e.targets,function(e){return new TD.services.TwitterUser(this.account).fromJSONObject(e)}.bind(this)),this.lists=_.map(e.target_objects,function(e){return new TD.services.TwitterList(this.account).fromJSONObject(e)}.bind(this))},TD.services.TwitterActionMultiListMemberAdded.prototype.generateInternalID=function(){var e=_.pluck(this.added,"id").sort().join("-"),t=_.pluck(this.lists,"id").sort().join("-");this.id=[this.action,this.owner.id,e,t].join("_")},TD.services.TwitterActionMultiListMemberAdded.prototype.generateText=function(){var e=TD.i("{{{owner}}} added {{{added}}} to the lists {{{lists}}}",null,!0),t=[],i=[],n=[],s=[];_.each(this.added,function(e){t.push(e.name),i.push(TD.ui.template.render("text/user_link_fullname",{name:e.name,profileUrl:e.getProfileURL(),withBold:!0}))}),_.each(this.lists,function(e){n.push(e.fullName),s.push(TD.ui.template.render("text/list_link_real_name",e))}),this.text=TD.ui.template.toHtml(e,{owner:this.owner.name,added:t.join(", "),lists:n.join(", ")}),this.htmlText=TD.ui.template.toHtml(e,{owner:TD.ui.template.render("text/user_link_fullname",{name:this.owner.name,profileUrl:this.owner.getProfileURL(),withBold:this.isAboutYou()}),added:i.join(", "),lists:s.join(", ")})},TD.services.TwitterActionMultiListMemberAdded.prototype.isOwnChirp=function(){return!1},TD.services.TwitterActionMultiListMemberAdded.prototype.isAboutYou=function(){return!1},TD.services.TwitterActionMultiListMemberAdded.prototype.getCreator=function(){return this.owner},TD.services.TwitterActionMultiListMemberAdded.prototype.getTargetUsers=function(){return this.added},TD.services.TwitterActionMultiListMemberAdded.prototype.render=function(){var e={chirp:this,sourceAvatar:this.owner.miniProfileImageURL()};return TD.ui.template.render("status/action_list",e)},TD.services.TwitterActionMultiListMemberAdded.prototype.getNotificationData=function(){return{title:null,img:null,text:this.text}}},function(e,t,i){"use strict";TD.services.TwitterActionOnTweet=function(e){this.account=e},TD.services.TwitterActionOnTweet.prototype=new TD.services.TwitterAction,TD.services.TwitterActionOnTweet.prototype.sourceUser=null,TD.services.TwitterActionOnTweet.prototype.targetTweet=null,TD.services.TwitterActionOnTweet.prototype.generateInternalID=function(){this.id=[this.action,this.sourceUser.id,this.targetTweet.id].join("_")},TD.services.TwitterActionOnTweet.prototype.isAboutYou=function(){return this.targetTweet.user.id==this.account.getUserID()},TD.services.TwitterActionOnTweet.prototype.isOwnChirp=function(){return this.sourceUser.id==this.account.getUserID()},TD.services.TwitterActionOnTweet.prototype.getRelatedTweet=function(){return this.targetTweet},TD.services.TwitterActionOnTweet.prototype.getCreator=function(){return this.sourceUser},TD.services.TwitterActionOnTweet.prototype.passFilters=function(e){var t=TD.controller.filterManager.pass(this,e);return this.targetTweet&&this.targetTweet.quotedTweet?t&&TD.controller.filterManager.pass(this.targetTweet.quotedTweet,e):t},TD.services.TwitterActionOnTweet.prototype.render=function(e,t){e=e||{},t=t||"status/tweet_activity_in_stream";var i=TD.settings.getDisplaySensitiveMedia(),n=this.isAboutYou(),s=this.action===TD.services.TwitterAction.MENTION,r=this.action===TD.services.TwitterAction.FAVORITE,o=this.action===TD.services.TwitterAction.QUOTED_TWEET,a=!!this.targetTweet.quotedTweet,c=!!this.retweet,l=!n&&!s,u=n&&s,d=!0;(s||o)&&(d=!1);var h=!0;l||u?h=!1:o&&(h=!1);var p=!1;return s||o?p=!0:!n&&r&&(p=!0),TD.ui.template.render(t,$.extend(e,{chirp:this,sourceAvatar:n?this.sourceUser.miniProfileImageURL():null,withActivityHeader:d,isAboutYou:n,isMention:s,isFavorite:r,isRetweet:c,isTweetActivity:l,isNotification:u,withTweetActions:!0,withFooter:!0,withAvatar:p,withSourceMute:!n,withContentMute:h,withMediaPreview:!0,isMediaPreviewOff:e.mediaPreviewSize===TD.vo.Column.MEDIA_PREVIEW_OFF,isMediaPreviewSmall:e.mediaPreviewSize===TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL,isMediaPreviewLarge:e.mediaPreviewSize===TD.vo.Column.MEDIA_PREVIEW_SIZE_LARGE,isQuotedTweet:a,mediaPreviewSrc:function(){return this.getMediaSrcForPreviewSize(e.mediaPreviewSize)},animatedGif:function(){return this.getAnimatedGifForPreview()},renderQuoted:function(){return this.renderQuotedTweet(e)},thumbSizeClass:TD.services.TwitterMedia.thumbSizeClasses[e.mediaPreviewSize],isPossiblySensitive:this.targetTweet.possiblySensitive&&!i,withLinebreaks:!0,icon:this.iconClass,isFavorited:this.targetTweet.isFavorite,isRetweeted:this.targetTweet.isRetweet}))},TD.services.TwitterActionOnTweet.prototype.getNotificationData=function(){return{title:this.text,img:this.targetTweet.user.profileImageURL,text:$("<div>"+this.targetTweet.htmlText+"</div>").text()}},TD.services.TwitterActionOnTweet.prototype.getMedia=function(){return this.getRelatedTweet().getMedia()},TD.services.TwitterActionOnTweet.prototype.getTargetUsers=function(){return[this.targetTweet.user]}},function(e,t,i){"use strict";TD.services.TwitterActionQuotedTweet=function(e){this.account=e},TD.services.TwitterActionQuotedTweet.prototype=new TD.services.TwitterActionOnTweet,TD.services.TwitterActionQuotedTweet.prototype.action=TD.services.TwitterAction.QUOTED_TWEET,TD.services.TwitterActionQuotedTweet.prototype.iconClass="icon-content txt-r-dark-gray",TD.services.TwitterActionQuotedTweet.prototype.fromRESTData=function(e,t,i,n){this.sourceUser=new TD.services.TwitterUser(this.account).fromJSONObject(t),this.targetUser=new TD.services.TwitterUser(this.account).fromJSONObject(n.user),this.targetTweet=new TD.services.TwitterStatus(this.account).fromJSONObject(i)},TD.services.TwitterActionQuotedTweet.prototype.isAboutYou=function(){return this.targetUser.isMe()},TD.services.TwitterActionQuotedTweet.prototype.fromStreamData=function(e){this.sourceUser=new TD.services.TwitterUser(this.account).fromJSONObject(e.source),this.targetUser=new TD.services.TwitterUser(this.account).fromJSONObject(e.target),this.targetTweet=new TD.services.TwitterStatus(this.account).fromJSONObject(e.target_object)}},function(e,t,i){"use strict";TD.services.TwitterActionRetweet=function(e){this.account=e},TD.services.TwitterActionRetweet.prototype=new TD.services.TwitterActionOnTweet,TD.services.TwitterActionRetweet.prototype.action=TD.services.TwitterAction.RETWEET,TD.services.TwitterActionRetweet.prototype.iconClass="icon-retweet-filled icon-retweet-color",TD.services.TwitterActionRetweet.prototype.retweet=null,TD.services.TwitterActionRetweet.prototype.fromRESTData=function(e,t,i,n){this.sourceUser=new TD.services.TwitterUser(this.account).fromJSONObject(t),this.retweet=new TD.services.TwitterStatus(this.account).fromJSONObject(i),this.targetTweet=new TD.services.TwitterStatus(this.account).fromJSONObject(n)},TD.services.TwitterActionRetweet.prototype.fromStreamData=function(e){this.sourceUser=new TD.services.TwitterUser(this.account).fromJSONObject(e.source),this.retweet=new TD.services.TwitterStatus(this.account).fromJSONObject(e.target),this.targetTweet=this.retweet.retweetedStatus},TD.services.TwitterActionRetweet.prototype.fromRetweet=function(e){return this.sourceUser=e.user,this.retweet=e,this.targetTweet=e.retweetedStatus,this.created=new Date(e.created),this.generateInternalID(),this.generateText(),this.maxPosition=this.minPosition=this.created.getTime().toString(),this},TD.services.TwitterActionRetweet.prototype.generateText=function(){var e=TD.i("{{{user}}} Retweeted",null,!0);this.text=TD.ui.template.toHtml(e,{user:this.sourceUser.name}),this.htmlText=TD.ui.template.toHtml(e,{user:TD.ui.template.render("text/user_link_fullname",{name:this.sourceUser.name,profileUrl:this.sourceUser.getProfileURL(),withBold:this.isAboutYou()})})}},function(e,t,i){"use strict";TD.services.TwitterActionRetweetedInteraction=function(e){this.account=e},TD.services.TwitterActionRetweetedInteraction.prototype=new TD.services.TwitterActionOnTweet,TD.services.TwitterActionRetweetedInteraction.prototype.action=TD.services.TwitterAction.RETWEETED_RETWEET,TD.services.TwitterActionRetweetedInteraction.prototype.iconClass="icon-retweet-filled icon-retweet-color",TD.services.TwitterActionRetweetedInteraction.prototype.fromRESTData=function(e,t,i,n){var s=i.retweeted_status,r=s||i,o=_.get(i,"extended_entities.media[0].features.all.tags",[]),a=this.account.getUserID();if(s||(this.action=TD.services.TwitterAction.RETWEETED_MENTION),o.length){var c=o.find(function(e){return e.user_id===a});this.mediaTagged=c,this.action=TD.services.TwitterAction.RETWEETED_MEDIA}this.sourceUser=new TD.services.TwitterUser(this.account).fromJSONObject(t),this.targetUser=new TD.services.TwitterUser(this.account).fromJSONObject(n),this.targetTweet=new TD.services.TwitterStatus(this.account).fromJSONObject(r),this.hasRetweet=i.retweeted_status},TD.services.TwitterActionRetweetedInteraction.prototype.isAboutYou=function(){return this.targetUser.isMe()},TD.services.TwitterActionRetweetedInteraction.prototype.fromStreamData=function(e){this.sourceUser=new TD.services.TwitterUser(this.account).fromJSONObject(e.source),this.targetUser=new TD.services.TwitterUser(this.account).fromJSONObject(e.target),this.targetTweet=new TD.services.TwitterStatus(this.account).fromJSONObject(e.target_object.retweeted_status)},TD.services.TwitterActionRetweetedInteraction.prototype.generateText=function(){var e="{{{user}}} Retweeted your Retweet";this.hasRetweet||(e=this.mediaTagged?"{{{user}}} Retweeted a Tweet you were tagged in":"{{{user}}} Retweeted a Tweet you were mentioned in");var t=TD.i(e,null,!0);this.htmlText=TD.ui.template.toHtml(t,{user:TD.ui.template.render("text/user_link_fullname",{name:this.sourceUser.name,profileUrl:this.sourceUser.getProfileURL(),withBold:this.isAboutYou()})})}},function(e,t,i){"use strict";var n=i(13),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(6);TD.services.TwitterConversation=function(e,t){this.unread=!1,this.messages=[],this.messageIndex={},this.account=e,this.participants=t||[],this.hasValidParticipant=!(1===this.participants.length&&t[0].isDeleted),this.sortIndex={type:"milliseconds"}},TD.services.TwitterConversation.CONVERSATION_STATUS_AT_END="AT_END",TD.services.TwitterConversation.CONVERSATION_ENTRY_COUNT=100,TD.services.TwitterConversation.getConversationId=function(e){return TD.ui.template.toHtml("conversation-{{accountId}}-{{conversationId}}",{accountId:e.account.getUserID(),conversationId:e.conversationId})},TD.services.TwitterConversation.prototype=new TD.services.ChirpBase,TD.services.TwitterConversation.prototype.fromJSONObject=function(e){return this.type=e.type,this.conversationId=e.conversation_id,this.notificationsDisabled=!!e.notifications_disabled,this.name=e.name,this.lastReadEventId=e.last_read_event_id,this.sortTimestamp=new Date(parseInt(e.sort_timestamp,10)),this.id=TD.services.TwitterConversation.getConversationId({conversationId:this.conversationId,account:this.account}),this.calculateAttributes(),this},TD.services.TwitterConversation.prototype.chirpType=TD.services.ChirpBase.MESSAGE_THREAD,TD.services.TwitterConversation.prototype.participants=null,TD.services.TwitterConversation.prototype.unread=!1,TD.services.TwitterConversation.prototype.replied=!1,TD.services.TwitterConversation.prototype.messages=null,TD.services.TwitterConversation.prototype.messageIndex=null,TD.services.TwitterConversation.prototype.conversationId=null,TD.services.TwitterConversation.prototype.name=null,TD.services.TwitterConversation.prototype.getAUserThatIsNotMe=function(){for(var e=this.account.getUserID(),t=0;t<this.participants.length;t++)if(this.participants[t].id!==e)return this.participants[t]},TD.services.TwitterConversation.prototype.getNotificationTitle=function(e){var t=this.getConversationTitleInformation(),i=t.name;if(!i){var n=t.numberOfOtherParticipants,s=n>1?" +"+n:"";i=(e||this.getAUserThatIsNotMe()||this.participants[0]).name+s}return i},TD.services.TwitterConversation.prototype.isOneToOne=function(){return 1===this.participants.length},TD.services.TwitterConversation.prototype.getConversationTitleInformation=function(){var e=this.participants.length;return{name:s.default.cleanWithEmoji(this.name),isOneToOne:1===e,isThreeway:2===e,isOneToMany:e>2,numberOfOtherParticipants:e-1,isDeleted:1===e&&this.participants[0].isDeleted}},TD.services.TwitterConversation.prototype.isCorrectThreadForMessage=function(e){return e.messageThreadId===this.id},TD.services.TwitterConversation.prototype.setLastReadEventId=function(e){if(TD.util.numericStringComparator(e,this.lastReadEventId)>0)return this.lastReadEventId=e,this.getUnreadChirps().forEach(function(t){TD.util.numericStringComparator(t.id,e)<1&&(t.read=!0)}),!0},TD.services.TwitterConversation.prototype.addNotificationTitleInfo=function(e){e.notificationTitle||(e.notificationTitle={withSender:this.getNotificationTitle(e.sender),withoutSender:this.getNotificationTitle()})},TD.services.TwitterConversation.prototype.addMessages=function(e){var t,i,n=!1,s=[];if(e&&0!==e.length){for(t=0,i=e.length;t<i;t++){var r=e[t];if(!this.messageIndex[r.id]){if(!this.isCorrectThreadForMessage(r))throw new Error("Wrong thread!");r instanceof TD.services.TwitterConversationReadEvent?n=this.setLastReadEventId(r.lastReadEventId):(n=!0,r.messageThreadId=this.id,this.messages.push(r),this.messageIndex[r.id]=r,r.read=r.isOwnChirp()||TD.util.numericStringComparator(r.id,this.lastReadEventId)<1)}}return this.messages.sort(TD.util.chirpColumnSort),this.calculateAttributes(),n&&$(document).trigger("uiConversationChanged",{chirp:this}),s.length&&$(document).trigger("uiMessageThreadNotifications",{notifications:s}),n}},TD.services.TwitterConversation.prototype.setParticipants=function(e){this.participants=e},TD.services.TwitterConversation.prototype.removeMessage=function(e){return!!this.messageIndex[e]&&(delete this.messageIndex[e],this.messages=this.messages.filter(function(t){return t.id!==e}),this.calculateAttributes(),$(document).trigger("uiMessageThreadRead",{}),!0)},TD.services.TwitterConversation.prototype.getMainUser=function(){return this.participants[0]},TD.services.TwitterConversation.prototype.isUnread=function(){return this.getUnreadChirps().length>0},TD.services.TwitterConversation.prototype.replied=function(){return this.messages[0]&&this.messages[0].isOwnChirp()},TD.services.TwitterConversation.prototype.updateSender=function(){var e=this.messages[0];!e||e.isOwnChirp()?(this.sender=null,this.showSenderName=!1):this.participants.length>1&&(this.showSenderName=e instanceof TD.services.TwitterConversationMessageEvent,this.sender=e.sender)},TD.services.TwitterConversation.prototype.updateSortIndex=function(){this.created=this.sortTimestamp,this.sortIndex.value=this.sortTimestamp.getTime(),this.messages.length>0&&this.messages[0].belongsAbove(this)&&(this.sortIndex.value=this.messages[0].sortIndex.value)},TD.services.TwitterConversation.prototype.updateContent=function(){var e=this.messages[0];if(this.attachmentOnly=!1,this.hasQuotedTweet=!1,e){this.text=e.text||"",this.htmlText=e.htmlText,this.previewText=e.previewText,this._media=e._media,this.hasQuotedTweet=Boolean(e.quotedTweet);var t=!1,i=!1;if(this._media&&this._media.length){var n=this.text;i=this._media.some(function(e){if(e.entity&&e.entity.indices&&e.entity.indices[1]===this.text.length)return n=this.text.substr(0,e.entity.indices[0]),!0}.bind(this))}this.text.length>140&&(n=this.text.substr(0,140)+"…",t=!0),(t||i)&&(this.text=n.trim(),this.htmlText=TD.util.transform(this.text,this.entities)),!this.text&&!this.previewText&&this._media&&this._media.length&&(this.attachmentOnly=!0)}else this.text="",this.htmlText="",this.previewText=""},TD.services.TwitterConversation.prototype.calculateAttributes=function(){this.unread=this.isUnread(),this.updateSender(),this.updateSortIndex(),this.updateContent()},TD.services.TwitterConversation.prototype.render=function(e){var t=this.account.getKey(),i=Math.min(this.participants.length,3),n="media-grid-"+i+"-mirror",s=e.templateName||"status/conversation";return TD.ui.template.render(s,{chirp:this,mediaPreviewSrc:function(){var e=this.getMediaSrcForPreviewSize("small");return this.needsSecureUrl&&_.defer(function(){$(document).trigger("uiNeedsSecureImageUrl",{accountKey:t,url:e})}),e},withMultipleAvatars:i>1,avatars:this.participants.slice(0,3),avatarsClass:n,accountKey:t})},TD.services.TwitterConversation.prototype.renderThread=function(){var e=[];return this.messages.forEach(function(t){e.push(t.render())}),e.join("")},TD.services.TwitterConversation.prototype.setStatus=function(e){this.status=e},TD.services.TwitterConversation.prototype.isAtEnd=function(){return this.status===TD.services.TwitterConversation.CONVERSATION_STATUS_AT_END},TD.services.TwitterConversation.prototype.updateConversation=function(){var e,t=TD.controller.clients.getClient(this.account.getKey()),i={};return this.isAtEnd()?e=TD.core.defer.succeed():(i.count=TD.services.TwitterConversation.CONVERSATION_ENTRY_COUNT,this.messages.length&&(i.max_id=this.messages[this.messages.length-1].id),e=t.getDmConversation(this.conversationId,i)),e},TD.services.TwitterConversation.prototype.isOwnChirp=function(){return!1},TD.services.TwitterConversation.prototype.getUnreadChirps=function(e){return e&&this.notificationsDisabled?[]:this.messages.filter(function(t){var i=!e||t.belongsAbove(e);return t.chirpType===TD.services.ChirpBase.MESSAGE&&!t.isOwnChirp()&&!t.read&&i})},TD.services.TwitterConversation.prototype.getMaxEntryId=function(){for(var e=null,t=0;!e&&this.messages[t];)this.messages[t].chirpType===TD.services.ChirpBase.MESSAGE&&(e=this.messages[t].id),t++;return e||0},TD.services.TwitterConversation.prototype.markAsRead=function(){var e=this.getUnreadChirps();if(!(e.length<=0)){this.getDOMChirps().removeClass(TD.services.ChirpBase.UNREAD_CLASS),e.forEach(function(e){e.read=!0}),this.unread=!1,$(document).trigger("uiMessageThreadRead",{});var t=function(t){this.unread=!0,e&&e.forEach(function(e){e.read=!1}),(0,r.showErrorNotification)({message:TD.i("Failed to mark message as read.")}),this.getDOMChirps().addClass(TD.services.ChirpBase.UNREAD_CLASS)};this.conversationId?$(document).trigger("uiMarkDmAsRead",{lastReadEventId:this.getMaxEntryId(),conversationId:this.conversationId,error:t.bind(this),accountKey:this.account.getKey()}):t.call(this)}},TD.services.TwitterConversation.prototype.getSenders=function(){return 1!==this.participants.length||this.participants[0].isDeleted?[]:[this.participants[0].screenName]}},function(e,t,i){"use strict";TD.services.TwitterConversationFailedParticipantsEvent=function(e){this.id=_.uniqueId("failedParticipants"),this.account=e.account,this.failedParticipants=e.failedParticipants.map(function(t,i){return{participant:t,isLastItem:i===e.failedParticipants.length-1}}),this.conversationId=e.conversationId,this.messageThreadId=TD.services.TwitterConversation.getConversationId({account:this.account,conversationId:this.conversationId}),this.previewText=this.generatePreviewText(),this.created=new Date},TD.services.TwitterConversationFailedParticipantsEvent.prototype=new TD.services.ChirpBase,TD.services.TwitterConversationFailedParticipantsEvent.prototype.chirpType=TD.services.ChirpBase.CONVERSATION_PARTICIPANTS_FAILED,TD.services.TwitterConversationFailedParticipantsEvent.prototype.messageThreadId=null,TD.services.TwitterConversationFailedParticipantsEvent.prototype.previewText=null,TD.services.TwitterConversationFailedParticipantsEvent.prototype.getParticipants=function(){var e=this.failedParticipants.length,t=Math.ceil(e/Math.ceil(e/8));return this.failedParticipants.map(function(e,i){return{participant:e,isEndOfRow:!((i+1)%t)}})},TD.services.TwitterConversationFailedParticipantsEvent.prototype.generatePreviewText=function(){return TD.ui.template.render("status/conversation_failed_participants_preview")},TD.services.TwitterConversationFailedParticipantsEvent.prototype.isOwnChirp=function(){return!0},TD.services.TwitterConversationFailedParticipantsEvent.prototype.render=function(){return TD.ui.template.render("status/conversation_failed_participants",{chirp:this})}},function(e,t,i){"use strict";TD.services.TwitterConversationJoinEvent=function(e){this.sender=e.sender,this.account=e.account},TD.services.TwitterConversationJoinEvent.prototype=new TD.services.ChirpBase,TD.services.TwitterConversationJoinEvent.prototype.chirpType=TD.services.ChirpBase.CONVERSATION_JOIN,TD.services.TwitterConversationJoinEvent.prototype.messageThreadId=null,TD.services.TwitterConversationJoinEvent.prototype.previewText=null,TD.services.TwitterConversationJoinEvent.prototype.getNotificationData=function(){return{img:this.sender.profileImageURL,title:this.notificationTitle.withSender,text:this.sender.name+" "+TD.i("has added you to a group conversation.")}},TD.services.TwitterConversationJoinEvent.prototype.fromJSONObject=function(e){this.id=e.id,this.conversationId=e.conversation_id,this.created=new Date(parseInt(e.time,10)),this.messageThreadId=TD.services.TwitterConversation.getConversationId({account:this.account,conversationId:this.conversationId}),this.previewText=this.generatePreviewText();var t=TD.controller.clients.getClient(this.account.getKey());return this.conversation=t.conversations.getConversation(this.conversationId),this},TD.services.TwitterConversationJoinEvent.prototype.getParticipants=function(){var e=this.conversation.participants.length,t=Math.ceil(e/Math.ceil(e/8));return this.conversation.participants.map(function(e,i){return{participant:e,isEndOfRow:!((i+1)%t)}})},TD.services.TwitterConversationJoinEvent.prototype.generatePreviewText=function(){return TD.ui.template.render("status/conversation_join_preview",{chirp:this})},TD.services.TwitterConversationJoinEvent.prototype.isOwnChirp=function(){return this.sender.id===this.account.getUserID()},TD.services.TwitterConversationJoinEvent.prototype.render=function(){return TD.ui.template.render("status/conversation_join",{numberOfParticipants:this.conversation.participants.length,chirp:this})}},function(e,t,i){"use strict";var n=i(481);TD.services.TwitterConversationMessageEvent=function(e,t){this.account=e,this.sender=t},TD.services.TwitterConversationMessageEvent.prototype=new TD.services.TwitterStatus,TD.services.TwitterConversationMessageEvent.prototype.chirpType=TD.services.ChirpBase.MESSAGE,TD.services.TwitterConversationMessageEvent.prototype.messageThreadId=null,TD.services.TwitterConversationMessageEvent.prototype.htmlText=null,TD.services.TwitterConversationMessageEvent.prototype.fromJSONObject=function(e){if(this.id=e.id_str||String(e.id),this.text=e.message_data.text,this.conversationId=e.conversation_id,this.messageThreadId=TD.services.TwitterConversation.getConversationId({account:this.account,conversationId:e.conversation_id}),this.created=new Date(parseInt(e.time,10)),this.entities=e.message_data.entities||{},this.attachment=e.message_data.attachment,this.createdDate=TD.util.prettyDate(this.created),this._media=TD.services.TwitterMedia.getMediaFromEntities(this.entities).concat(TD.services.TwitterMedia.getMediaFromAttachment(this.attachment)).map(function(e){return"twitter"!==e.service||e.isVideo||e.isAnimatedGif||(e.needsSecureUrl=!0),e}),this.attachment&&this.attachment.tweet){this.quotedTweet=new TD.services.TwitterStatus(this.account).fromJSONObject(this.attachment.tweet.status);var t=[0,0];(0,n.identifyQuoteTweetAttachmentUrls)(this.entities,t,this.quotedTweet.id)}return this.htmlText=TD.util.transform(this.text,this.entities),this},TD.services.TwitterConversationMessageEvent.prototype.hasLocationData=function(){return!1},TD.services.TwitterConversationMessageEvent.prototype.getMainUser=function(){return this.sender},TD.services.TwitterConversationMessageEvent.prototype.isOwnChirp=function(){return this.sender.id===this.account.getUserID()},TD.services.TwitterConversationMessageEvent.prototype.dm=function(){$(document).trigger("uiComposeTweet",{type:"message",from:[this.account.getKey()],messageRecipients:[{screenName:this.sender.screenName}]})},TD.services.TwitterConversationMessageEvent.prototype.getChirpURL=function(){return""},TD.services.TwitterConversationMessageEvent.prototype.destroy=function(){var e=this;this._action("deleteDM",function(){TD.controller.clients.getClient(e.account.getKey()).deleteMessage(e.id)})},TD.services.TwitterConversationMessageEvent.prototype.render=function(){var e=TD.vo.Column.MEDIA_PREVIEW_SIZE_MEDIUM,t=this.account.getKey();return TD.ui.template.render("status/message_in_stream",{message:this,withFooter:!0,withAvatar:!0,withMediaPreview:!0,isMediaPreviewSmall:e===TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL,isMediaPreviewLarge:e===TD.vo.Column.MEDIA_PREVIEW_SIZE_LARGE,mediaPreviewSrc:function(){var i=this.getMediaSrcForPreviewSize(e);return this.needsSecureUrl&&_.defer(function(){$(document).trigger("uiNeedsSecureImageUrl",{accountKey:t,url:i})}),i},animatedGif:function(){return this.getAnimatedGifForPreview()},isGifActive:!0,withAutoplay:TD.settings.getAutoPlayGifs(),renderQuoted:function(){return this.renderQuotedTweet({mediaPreviewSize:e})},thumbSizeClass:TD.services.TwitterMedia.thumbSizeClasses[e],accountKey:this.account.getKey()})},TD.services.TwitterConversationMessageEvent.prototype.renderInMediaGallery=function(){return TD.ui.template.render("status/message_in_box",{message:this,withFooter:!0,withAvatar:!0,withMediaPreview:!1,withTweetActions:!0,withTweetActionsVisible:!0})},TD.services.TwitterConversationMessageEvent.prototype.getSenders=function(){return[this.sender.screenName]}},function(e,t,i){"use strict";TD.services.TwitterConversationNameUpdateEvent=function(e,t){this.sender=t,this.account=e},TD.services.TwitterConversationNameUpdateEvent.prototype=new TD.services.ChirpBase,TD.services.TwitterConversationNameUpdateEvent.prototype.chirpType=TD.services.ChirpBase.CONVERSATION_NAME_UPDATE,TD.services.TwitterConversationNameUpdateEvent.prototype.messageThreadId=null,TD.services.TwitterConversationNameUpdateEvent.prototype.previewText=null,TD.services.TwitterConversationNameUpdateEvent.prototype.getNotificationData=function(){return{img:this.sender.profileImageURL,title:this.conversationName,text:this.sender.name+" "+TD.i("has renamed the group conversation.")}},TD.services.TwitterConversationNameUpdateEvent.prototype.fromJSONObject=function(e){return this.id=e.id,this.conversationId=e.conversation_id,this.created=new Date(parseInt(e.time,10)),this.messageThreadId=TD.services.TwitterConversation.getConversationId({account:this.account,conversationId:this.conversationId}),this.conversationName=e.conversation_name,this.sanitizedConversationName=TD.util.transform(e.conversation_name||""),this.previewText=this.generatePreviewText(),this},TD.services.TwitterConversationNameUpdateEvent.prototype.generatePreviewText=function(){return TD.ui.template.render("status/conversation_name_update_preview",{chirp:this})},TD.services.TwitterConversationNameUpdateEvent.prototype.isOwnChirp=function(){return this.sender&&this.sender.id===this.account.getUserID()},TD.services.TwitterConversationNameUpdateEvent.prototype.render=function(){return TD.ui.template.render("status/conversation_name_update",{chirp:this})}},function(e,t,i){"use strict";TD.services.TwitterConversationParticipantsJoinEvent=function(e){this.sender=e.sender,this.account=e.account,this.addedParticipants=e.addedParticipants},TD.services.TwitterConversationParticipantsJoinEvent.prototype=new TD.services.ChirpBase,TD.services.TwitterConversationParticipantsJoinEvent.prototype.chirpType=TD.services.ChirpBase.CONVERSATION_PARTICIPANTS_JOIN,TD.services.TwitterConversationParticipantsJoinEvent.prototype.messageThreadId=null,TD.services.TwitterConversationParticipantsJoinEvent.prototype.previewText=null,TD.services.TwitterConversationParticipantsJoinEvent.prototype.getNotificationData=function(){var e=this.addedParticipants[this.addedParticipants.length-1];return{img:e.profileImageURL,title:this.notificationTitle.withoutSender,text:e.name+" "+TD.i("has beed added to the group conversation.")}},TD.services.TwitterConversationParticipantsJoinEvent.prototype.fromJSONObject=function(e){return this.id=e.id,this.conversationId=e.conversation_id,this.created=new Date(parseInt(e.time,10)),this.messageThreadId=TD.services.TwitterConversation.getConversationId({account:this.account,conversationId:this.conversationId}),this.previewText=this.generatePreviewText(),this},TD.services.TwitterConversationParticipantsJoinEvent.prototype.generatePreviewText=function(){return TD.ui.template.render("status/conversation_participants_join_preview",{chirp:this,numberOfOtherParticipants:this.addedParticipants.length-1})},TD.services.TwitterConversationParticipantsJoinEvent.prototype.isOwnChirp=function(){return this.sender.id===this.account.getUserID()},TD.services.TwitterConversationParticipantsJoinEvent.prototype.render=function(){return TD.ui.template.render("status/conversation_participants_join",{chirp:this})}},function(e,t,i){"use strict";TD.services.TwitterConversationParticipantsLeaveEvent=function(e,t){this.account=e,this.leftParticipants=t},TD.services.TwitterConversationParticipantsLeaveEvent.prototype=new TD.services.ChirpBase,TD.services.TwitterConversationParticipantsLeaveEvent.prototype.chirpType=TD.services.ChirpBase.CONVERSATION_PARTICIPANT_REMOVED,TD.services.TwitterConversationParticipantsLeaveEvent.prototype.messageThreadId=null,TD.services.TwitterConversationParticipantsLeaveEvent.prototype.previewText=null,TD.services.TwitterConversationParticipantsLeaveEvent.prototype.getNotificationData=function(){return this.leftParticipants.map(function(e){return{img:e.profileImageURL,title:this.notificationTitle.withoutSender,text:e.name+" "+TD.i("has left the group conversation.")}},this).pop()},TD.services.TwitterConversationParticipantsLeaveEvent.prototype.fromJSONObject=function(e){return this.id=e.id,this.conversationId=e.conversation_id,this.created=new Date(parseInt(e.time,10)),this.messageThreadId=TD.services.TwitterConversation.getConversationId({account:this.account,conversationId:this.conversationId}),this.previewText=this.generatePreviewText(),this},TD.services.TwitterConversationParticipantsLeaveEvent.prototype.generatePreviewText=function(){return TD.ui.template.render("status/conversation_participants_leave_preview",{chirp:this})},TD.services.TwitterConversationParticipantsLeaveEvent.prototype.isOwnChirp=function(){return!1},TD.services.TwitterConversationParticipantsLeaveEvent.prototype.render=function(){return TD.ui.template.render("status/conversation_participants_leave",{chirp:this})}},function(e,t,i){"use strict";TD.services.TwitterConversationReadEvent=function(e){this.account=e},TD.services.TwitterConversationReadEvent.prototype=new TD.services.ChirpBase,TD.services.TwitterConversationReadEvent.prototype.chirpType=TD.services.ChirpBase.CONVERSATION_READ,TD.services.TwitterConversationReadEvent.prototype.messageThreadId=null,TD.services.TwitterConversationReadEvent.prototype.fromJSONObject=function(e){return this.id=e.id,this.conversationId=e.conversation_id,this.created=new Date(parseInt(e.time,10)),this.lastReadEventId=e.last_read_event_id,this.messageThreadId=TD.services.TwitterConversation.getConversationId({account:this.account,conversationId:this.conversationId}),this}},function(e,t,i){"use strict";var n=i(27),s=function(e){return e&&e.__esModule?e:{default:e}}(n);TD.services.Conversations=function(e,t){this.client=t,this.account=e,this.conversationCache={},this.accessLevel={oneToOne:!1,groupRead:!1},this.currentUsers={}},TD.services.Conversations.prototype.getConversation=function(e){return this.conversationCache[e]},TD.services.Conversations.prototype.getAllConversations=function(){return(0,s.default)(this.conversationCache).map(function(e){return this.conversationCache[e]},this)},TD.services.Conversations.prototype.setAccessLevel=function(e){e.oneToOne===this.accessLevel.oneToOne&&e.groupRead===this.accessLevel.groupRead||(this.destroyAll(),this.accessLevel=e,TD.controller.columnManager.getColumnsByAccountKey(this.account.getKey()).filter(function(e){return e.isMessageColumn()}).forEach(function(e){e.model.getFeedKeys().map(TD.controller.feedManager.getPoller).forEach(function(e){e.refresh({reset:!0})})}))},TD.services.Conversations.prototype.destroyAll=function(){var e=(0,s.default)(this.conversationCache).map(function(e){return this.conversationCache[e]},this);e.length&&this.client.publishChirpsInternal("remove","direct",e),this.conversationCache={}},TD.services.Conversations.prototype.processUserUpdates=function(e,t){var i={},n=[];if(e&&(this.conversationCache={}),t=t.user_inbox?t.user_inbox:t.user_events?t.user_events:t.conversation_timeline){if(t.users&&(this.currentUsers={},this.processUsers(t.users)),t.conversations&&(n=this.processConversations(t.conversations,t.users),this.cacheConversations(n)),t.cursor&&(0,s.default)(this.conversationCache).forEach(function(e){this.conversationCache[e].cursor=t.cursor},this),this.updateMinEntryIds(t),t.entries&&(i=this.processConversationEntries(t.entries,t.users)),t.failed_participants&&1===n.length){var r=n[0].conversationId,o=this.processFailedParticipants(t.failed_participants,r);i[r]=i[r]||[],i[r]=i[r].concat([o])}return this.addEventsToConversations(i).forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),t.unread_conversations&&(0,s.default)(t.unread_conversations).forEach(function(e){var t=this.conversationCache[e];t&&(t.unread=!0)},this),n}},TD.services.Conversations.prototype.markAllRead=function(){var e=this.getAllConversations();if(e.length){var t=e.map(function(e){return e.getMaxEntryId()}).sort(TD.util.numericStringComparator).pop();$(document).trigger("uiMarkAllDmsAsRead",{lastReadEventId:t,accountKey:this.account.getKey(),success:function(){var t=e.filter(function(e){return!0===e.unread});t.length&&(t.forEach(function(e){e.unread=!1,e.messages.forEach(function(e){e.read=!0})}),this.client.publishChirpsInternal("publish","direct",t))}.bind(this)})}},TD.services.Conversations.prototype.updateMinEntryIds=function(e){var t=(0,s.default)(this.conversationCache),i=t.length>0?this.conversationCache[t[0]].minEntryId:null;(!i||e.min_entry_id&&TD.util.numericStringComparator(i,e.min_entry_id)>0)&&(0,s.default)(this.conversationCache).forEach(function(t){this.conversationCache[t].minEntryId=e.min_entry_id},this)},TD.services.Conversations.prototype.processUsers=function(e){(0,s.default)(e).forEach(function(t){this.currentUsers[t]||(this.currentUsers[t]=e[t]?this.client.processUser(e[t]):this.client.processDeletedUser(t))}.bind(this))},TD.services.Conversations.prototype.addEventsToConversations=function(e){var t=[];return(0,s.default)(e).forEach(function(i){var n=this.conversationCache[i];n&&n.addMessages(e[i])&&t.push(n)},this),t},TD.services.Conversations.prototype.processStreamData=function(e,t){var i=new TD.core.defer.Deferred;if(!e.user_events)return i.fail();if(e.user_events.conversations&&!t)i.callback(this.processUserUpdates(!1,e));else{var n=e.user_events;n.users&&this.processUsers(n.users);var r=this.processConversationEntries(n.entries,n.users),o=this.addEventsToConversations(r),a=(0,s.default)(r).filter(function(e){return t||!o.some(function(t){return t.conversationId===e})});if(0===a.length)i.callback(o);else{new TD.core.defer.DeferredList(a.map(function(e){return this.client.getDmConversation(e,{include_conversation_info:!0})},this),{consumeErrors:!0}).addCallback(function(e){e=e.reduce(function(e,t){return e.concat(t[1])},[]),i.callback(e)})}}return i},TD.services.Conversations.prototype.processConversations=function(e,t){return(0,s.default)(e).map(function(i){var n=e[i];try{var s=this.conversationCache[i];if(s){s=this.conversationCache[i].fromJSONObject(n);var r=this.inflateParticipants(n,t);s.setParticipants(r)}else s=this.processConversation(n,t);return s}catch(e){this.logProcessingError("conversation",e)}},this).filter(function(e){return e})},TD.services.Conversations.prototype.logProcessingError=function(e,t){TD.sync.util.warn("Threw on processing conversation",e,t),$(document).trigger("metric",{key:"conversation:processing-error:"+e})},TD.services.Conversations.prototype.cacheConversations=function(e){e.forEach(function(e){e instanceof TD.services.TwitterConversation&&!this.conversationCache[e.conversationId]&&(this.conversationCache[e.conversationId]=e)},this)},TD.services.Conversations.prototype.processConversationEntries=function(e,t){var i={};return e.forEach(function(e){var n;try{n=e.message&&this.processMessage(e.message,t)||e.conversation_read&&this.processConversationReadEvent(e.conversation_read)||e.participants_join&&this.processConversationParticipantsJoinEvent(e.participants_join)||e.join_conversation&&this.processConversationJoinEvent(e.join_conversation)||e.participants_leave&&this.processConversationParticipantsLeaveEvent(e.participants_leave)||e.conversation_name_update&&this.processConversationNameUpdate(e.conversation_name_update)||e.remove_conversation&&this.processRemoveConversation(e.remove_conversation)}catch(e){this.logProcessingError("entry",e)}n&&(i[n.conversationId]=i[n.conversationId]||[],i[n.conversationId].push(n))},this),i},TD.services.Conversations.prototype.processFailedParticipants=function(e,t){var i=(0,s.default)(e).map(function(e){return this.currentUsers[e]},this);return new TD.services.TwitterConversationFailedParticipantsEvent({account:this.account,conversationId:t,failedParticipants:i})},TD.services.Conversations.prototype.inflateParticipants=function(e,t){var i=this.account.getUserID();return e.participants.filter(function(t){return t.user_id!==i||1===e.participants.length}).sort(function(t,i){return t.user_id===e.created_by_user_id?-1:i.user_id===e.created_by_user_id?1:TD.util.numericStringComparator(t.join_time,i.join_time)||TD.util.numericStringComparator(t.user_id,i.user_id)}).map(function(e){return this.currentUsers[e.user_id]||t[e.user_id]?this.client.processUser(t[e.user_id]):this.client.processDeletedUser(e.user_id)},this)},TD.services.Conversations.prototype.processConversation=function(e,t){var i=this.inflateParticipants(e,t);return new TD.services.TwitterConversation(this.account,i).fromJSONObject(e)},TD.services.Conversations.prototype.processConversationReadEvent=function(e){return new TD.services.TwitterConversationReadEvent(this.account).fromJSONObject(e)},TD.services.Conversations.prototype.processConversationNameUpdate=function(e){var t=this.currentUsers[e.by_user_id];return new TD.services.TwitterConversationNameUpdateEvent(this.account,t).fromJSONObject(e)},TD.services.Conversations.prototype.processConversationJoinEvent=function(e){var t=this.currentUsers[e.sender_id];return new TD.services.TwitterConversationJoinEvent({account:this.account,sender:t}).fromJSONObject(e)},TD.services.Conversations.prototype.processConversationParticipantsJoinEvent=function(e){var t=[];e.participants.forEach(function(e){t.push(this.currentUsers[e.user_id])}.bind(this));var i=this.currentUsers[e.sender_id];return new TD.services.TwitterConversationParticipantsJoinEvent({account:this.account,sender:i,addedParticipants:t}).fromJSONObject(e)},TD.services.Conversations.prototype.processConversationParticipantsLeaveEvent=function(e){var t=[];return e.participants.forEach(function(e){t.push(this.currentUsers[e.user_id])}.bind(this)),new TD.services.TwitterConversationParticipantsLeaveEvent(this.account,t).fromJSONObject(e)},TD.services.Conversations.prototype.processRemoveConversation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.conversation_id;this.conversationCache[t]&&this.deleteConversation(t)},TD.services.Conversations.prototype.processMessage=function(e){var t=e.message_data.sender_id,i=this.currentUsers[t];if(i)return new TD.services.TwitterConversationMessageEvent(this.account,i).fromJSONObject(e)},TD.services.Conversations.prototype.deleteMessageByIdAndReturnChangedConversations=function(e){return(0,s.default)(this.conversationCache).map(function(e){return this.conversationCache[e]}.bind(this)).filter(function(t){return t.removeMessage(e)})},TD.services.Conversations.prototype.renameConversation=function(e){var t=this.getConversation(e.conversationId);t.name=e.name,this.client.publishChirpsInternal("publish","direct",[t])},TD.services.Conversations.prototype.deleteConversation=function(e){var t=this.getConversation(e);TD.controller.feedManager.deleteChirp(t.id),delete this.conversationCache[e]},TD.services.Conversations.prototype.getUnreadCount=function(){return(0,s.default)(this.conversationCache).reduce(function(e,t){return e+(this.conversationCache[t].unread?1:0)}.bind(this),0)}},function(e,t,i){"use strict";TD.services.CustomTimeline=function(e){this.account=e},TD.services.CustomTimeline.prototype.fromJSONObject=function(e){return this.id=e.id_str||e.id,this.name=e.name,this.description=e.description,this.url=e.collection_url,this.ordering=e.timeline_order,this.user=new TD.services.TwitterUser(this.account).fromJSONObject(e.user),this},TD.services.CustomTimeline.prototype.isOwnCustomTimeline=function(){return String(this.account.getUserID())===this.user.id},TD.services.CustomTimeline.prototype.isCurationOrdering=function(){return"curation_reverse_chron"===this.ordering}},function(e,t,i){"use strict";TD.services.TwitterList=function(e){this.account=e},TD.services.TwitterList.prototype.fromJSONObject=function(e){return this.id=e.id_str,this.name=e.name,this.description=e.description,this.slug=e.slug,this.fullName=e.full_name,this.memberCount=e.member_count,this.isPrivate="private"===e.mode,this.user=new TD.services.TwitterUser(this.account).fromJSONObject(e.user),this},TD.services.TwitterList.prototype.isOwnList=function(){var e=TD.storage.Account.generateKeyFor("twitter",this.user.id),t=TD.storage.accountController.get(e);return Boolean(t)}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(39),r=n(s),o=i(15),a=n(o),c=i(161),l=n(c),u=i(17),d=n(u),h=i(167),p=n(h),f=i(1679),m=n(f),g=i(627),v=n(g),T=i(379),_=n(T),y=i(651),w=n(y),b=i(652),D=n(b),C=i(112),S=n(C),E=i(111),I=n(E),A=i(175);TD.services.TwitterMedia=function(){},TD.services.TwitterMedia.TWITPIC_RE=/(http:\/\/|www.)?twitpic.com\/(\w+)/,TD.services.TwitterMedia.YFROG_RE=/(http:\/\/|www.)?yfrog.com\/\w+/,TD.services.TwitterMedia.PLIXI_RE=/(http:\/\/|www.)?plixi.com\/p\/[0-9]+/,TD.services.TwitterMedia.LOCKERZ_RE=/(http:\/\/|www.)?lockerz.com\/s\/[0-9]+/,TD.services.TwitterMedia.YOUTUBE_LONG_RE=/(?:(?:https?\:\/\/)?(?:www\.)?)?youtube\.com\/watch[a-zA-Z0-9_\-\?\&\=\/]+/,TD.services.TwitterMedia.YOUTUBE_TINY_RE=/(http:\/\/|www.)?youtu\.be\/([a-zA-Z0-9_\-\?\&\=\/]+)/,TD.services.TwitterMedia.YOUTUBE_RE=new RegExp(TD.services.TwitterMedia.YOUTUBE_LONG_RE.source+"|"+TD.services.TwitterMedia.YOUTUBE_TINY_RE.source),TD.services.TwitterMedia.YOUTUBE_STARTTIME=/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s?)?$/,TD.services.TwitterMedia.VIMEO_RE=/https?:\/\/(www\.|player\.)?vimeo\.com\/(.+)/i,TD.services.TwitterMedia.VINE_RE=/https?:\/\/(www\.)?vine\.co\/v\/(.+)/i,TD.services.TwitterMedia.FLICKR_RE=/https?:\/\/(www\.)?(flic.kr|flickr.com\/photos)\/(.+)/i,TD.services.TwitterMedia.IMGUR_RE=/https?:\/\/([a-z0-9]+\.)?imgur.com\/(.+)/i,TD.services.TwitterMedia.PHOTOZOU_RE=/https?:\/\/photozou\.jp\/photo\/(show|photo_only)\/(.+)/i,TD.services.TwitterMedia.FILTERABLE_VIDEO_SERVICES=[TD.services.TwitterMedia.VIMEO_RE,TD.services.TwitterMedia.VINE_RE,TD.services.TwitterMedia.YOUTUBE_TINY_RE,TD.services.TwitterMedia.YOUTUBE_RE,TD.services.TwitterMedia.YOUTUBE_LONG_RE],TD.services.TwitterMedia.FILTERABLE_IMAGE_SERVICES=[TD.services.TwitterMedia.FLICKR_RE,TD.services.TwitterMedia.IMGUR_RE,TD.services.TwitterMedia.PHOTOZOU_RE],TD.services.TwitterMedia.YOUTUBE_GALLERY_WIDTH=640,TD.services.TwitterMedia.YOUTUBE_GALLERY_HEIGHT=390,TD.services.TwitterMedia.VINE_GALLERY_WIDTH=540,TD.services.TwitterMedia.VINE_GALLERY_HEIGHT=540,TD.services.TwitterMedia.AVAILABLE_COLUMN_SPACE={narrow:250,medium:290,wide:330,temporary:350},TD.services.TwitterMedia.MAX_THUMB_WIDTH=90,TD.services.TwitterMedia.MAX_THUMB_HEIGHT=65,TD.services.TwitterMedia.THUMBNAIL_CONTAINER_CLASS="media-thumb-container",TD.services.TwitterMedia.THUMBNAIL_IMG_CLASS="media-thumb-img",TD.services.TwitterMedia.thumbSizeClasses={off:"",small:"media-size-small",medium:"media-size-medium",large:"media-size-large"},TD.services.TwitterMedia.IMAGE_CLASS="media-img",TD.services.TwitterMedia.SERVICES={twitpic:TD.services.TwitterMedia.TWITPIC_RE,yfrog:TD.services.TwitterMedia.YFROG_RE,lockerz:TD.services.TwitterMedia.LOCKERZ_RE,youtube:TD.services.TwitterMedia.YOUTUBE_RE,vine:TD.services.TwitterMedia.VINE_RE},TD.services.TwitterMedia.getMediaFromAttachment=function(e){var t=[];return e&&(e.photo?t.push((new TD.services.TwitterMedia).fromPhotoAttachment(e.photo)):e.video?t.push((new TD.services.TwitterMedia).fromVideoAttachment(e.video)):e.animated_gif&&t.push((new TD.services.TwitterMedia).fromAnimatedGIFAttachment(e.animated_gif))),t},TD.services.TwitterMedia.getMediaFromEntities=function(e,t){var i=[],n={};t=t||{},(0,I.default)(e.media,function(e){i.push((new TD.services.TwitterMedia).fromMediaEntity(e))});var s=(0,S.default)(e.urls,function(e){var t=e.expanded_url||e.url;return n[t]=e.url,(0,D.default)(t,"http")||(t="http://"+t),t});(0,I.default)(s,function(e){var t;for(var s in TD.services.TwitterMedia.SERVICES)(t=e.match(TD.services.TwitterMedia.SERVICES[s]))&&0===e.indexOf(t[0])&&i.push((new TD.services.TwitterMedia).fromURL(s,n[e],e,t))}),(0,I.default)(i,function(e){(0,w.default)(e,t)});var r=TD.services.TwitterMedia._entitiesContainNativeMultiPhoto(i);if(r.length>0)return r;var o=TD.services.TwitterMedia._entitiesContainMultiPhoto(i);if(o.length>0)return o.pop();var a=TD.services.TwitterMedia._entitiesContainNativeVideo(i);if(a.length>0)return a;var c=TD.services.TwitterMedia._entitiesContainAnimatedGif(i);if(c.length>0)return c;var l=TD.services.TwitterMedia._entitiesContainVideo(i);return l.length>0?[l.pop()]:i},TD.services.TwitterMedia.entitiesContainImage=function(e){return TD.services.TwitterMedia.FILTERABLE_IMAGE_SERVICES.some(function(t){return e.urls.some(function(e){return t.test(e.expanded_url)})})},TD.services.TwitterMedia.entitiesContainVideo=function(e){return TD.services.TwitterMedia.FILTERABLE_VIDEO_SERVICES.some(function(t){return e.urls.some(function(e){return t.test(e.expanded_url)})})},TD.services.TwitterMedia._entitiesContainVideo=function(e){return(0,_.default)(e,function(e){var t;return(0,v.default)(TD.services.TwitterMedia.FILTERABLE_VIDEO_SERVICES,function(i){i.test(e.url)&&(t=e)}),t})},TD.services.TwitterMedia._entitiesContainNativeMultiPhoto=function(e){return(0,_.default)(e,function(e){if(e.nativePhotoCapable()&&!1===e.referenced_media)return e})},TD.services.TwitterMedia._entitiesContainMultiPhoto=function(e){var t=(0,m.default)(e,function(e){return e.nativePhotoCapable()&&!0===e.referenced_media?e.url:"__delete"});return delete t.__delete,(0,p.default)(t)},TD.services.TwitterMedia._entitiesContainNativeVideo=function(e){return e.filter(function(e){return e.nativeVideoCapable()})},TD.services.TwitterMedia._entitiesContainAnimatedGif=function(e){return e.filter(function(e){return e.animatedGifCapable()})},TD.services.TwitterMedia.prototype={flaggedNSFW:!1,isVideo:!1,isAnimatedGif:!1,isVine:!1},TD.services.TwitterMedia.prototype.nativePhotoCapable=function(){return"twitter"===this.service&&"photo"===this.entity.type},TD.services.TwitterMedia.prototype.nativeVideoCapable=function(){return"twitter"===this.service&&"video"===this.entity.type},TD.services.TwitterMedia.prototype.animatedGifCapable=function(){return"twitter"===this.service&&"animated_gif"===this.entity.type},TD.services.TwitterMedia.prototype.fromMediaEntity=function(e){return this.entity=e,this.service="twitter",this.isVideo="video"===e.type,this.isAnimatedGif="animated_gif"===e.type,this.url=this.shortUrl=e.url,this.sizes=e.sizes,this.needsSecureUrl=!1,this.isScheduled=!1,this.mediaId=e.id_str,this.taggedUsers=this.getTaggedUsers(),this.hasTaggedUsers=Boolean(this.taggedUsers.length),e.source_status_id?this.referenced_media=!0:this.referenced_media=!1,this},TD.services.TwitterMedia.prototype.fromPhotoAttachment=function(e){return this.entity=e,this.service="twitter",this.url=e.media_url_https,this.shortUrl=e.display_url,this.sizes=e.sizes,this.needsSecureUrl=!1,this.isScheduled=!1,this.mediaId=e.id_str,this.referenced_media=!1,this},TD.services.TwitterMedia.prototype.fromVideoAttachment=function(e){return this.fromMediaEntity(e)},TD.services.TwitterMedia.prototype.fromAnimatedGIFAttachment=function(e){return this.fromMediaEntity(e)},TD.services.TwitterMedia.prototype.fromURL=function(e,t,i,n){if(this.url=i,this.urlMatches=n,this.shortUrl=t,this.service=e,"vine"===this.service)this.isVine=!0,this.isVideo=!0,this.mediaId=this.url.split("/").pop();else if("youtube"===this.service){if(this.isVideo=!0,this.url.match(TD.services.TwitterMedia.YOUTUBE_LONG_RE)?this.mediaId=TD.net.util.decodeURL(this.url).v:this.mediaId=this.url.split("/").pop().split("?")[0],this.startTimeInUrl=TD.net.util.decodeURL(this.url).t,!this.startTimeInUrl){var s=this.url.split("#")[1]||"";this.startTimeInUrl=TD.net.util.formDecode(s).t}if(this.startTimeInUrl){var r=this.startTimeInUrl.match(TD.services.TwitterMedia.YOUTUBE_STARTTIME),o=r[1]?parseInt(3600*r[1],10):0,a=r[2]?parseInt(60*r[2],10):0,c=r[3]?parseInt(r[3],10):0;this.startTime=o+a+c}}return this},TD.services.TwitterMedia.prototype.getTwitterPreviewUrl=function(e){return this.isScheduled?this.entity.url:this.entity.media_url_https+(e||"")},TD.services.TwitterMedia.prototype.thumb=function(){switch(this.service){case"twitter":return this.getTwitterPreviewUrl(":thumb");case"twitpic":return"https://twitpic.com/show/thumb/"+this.urlMatches[2];case"yfrog":return this.url.replace("http://","https://")+":small";case"lockerz":return"https://api.plixi.com/api/tpapi.svc/imagefromurl?size=thumbnail&url="+this.url;case"youtube":return"https://img.youtube.com/vi/"+this.mediaId+"/default.jpg";case"vine":return this.large()}},TD.services.TwitterMedia.prototype.small=function(){switch(this.service){case"twitter":return this.getTwitterPreviewUrl(":small");case"twitpic":case"yfrog":case"lockerz":case"vine":return this.large();case"youtube":return"https://img.youtube.com/vi/"+this.mediaId+"/mqdefault.jpg"}},TD.services.TwitterMedia.prototype.medium=function(){switch(this.service){case"twitter":return this.getTwitterPreviewUrl();case"twitpic":case"yfrog":case"lockerz":case"vine":return this.large();case"youtube":return"https://img.youtube.com/vi/"+this.mediaId+"/mqdefault.jpg"}},TD.services.TwitterMedia.prototype.large=function(){switch(this.service){case"twitter":return this.getTwitterPreviewUrl(":large");case"twitpic":return"https://twitpic.com/show/full/"+this.urlMatches[2];case"yfrog":return this.url.replace("http://","https://")+":iphone";case"lockerz":return"https://api.plixi.com/api/tpapi.svc/imagefromurl?size=medium&url="+this.url;case"youtube":return"https://img.youtube.com/vi/"+this.mediaId+"/hqdefault.jpg";case"vine":return"https://vine.co/v/"+this.mediaId+"/thumb"}},TD.services.TwitterMedia.prototype.chooseVideoVariant=function(){return this.entity.video_info.variants.filter(function(e){return"video/mp4"===e.content_type}).sort(function(e,t){return~~e.bitrate-~~t.bitrate}).pop()},TD.services.TwitterMedia.prototype.getMediaSrcForPreviewSize=function(e){var t=TD.util.isRetina();switch(e){case TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL:return this.small();case TD.vo.Column.MEDIA_PREVIEW_SIZE_MEDIUM:return t?this.medium():this.small();case TD.vo.Column.MEDIA_PREVIEW_SIZE_LARGE:return t?this.large():this.medium()}},TD.services.TwitterMedia.prototype.getAnimatedGifForPreview=function(){var e=this.chooseVideoVariant();return{src:e.url,imageSrc:this.getTwitterPreviewUrl(),contentType:e.content_type}},TD.services.TwitterMedia.prototype.renderAnimatedGifPlaceholder=function(e){var t={imageSrc:this.getTwitterPreviewUrl(),thumbSizeClass:TD.services.TwitterMedia.thumbSizeClasses[e]};return TD.ui.template.render("media/animated_gif",t)},TD.services.TwitterMedia.prototype.renderThumb=function(e){var t;if("twitter"===this.service&&"animated_gif"===this.entity.type){var i=this.chooseVideoVariant();return t={src:i.url,contentType:i.content_type,isGifActive:!0,imageSrc:this.getTwitterPreviewUrl(),thumbSizeClass:TD.services.TwitterMedia.thumbSizeClasses[e]},TD.ui.template.render("media/animated_gif",t)}return t={url:this.url,imageSrc:this.thumb(),isVideo:this.isVideo,thumbSizeClass:TD.services.TwitterMedia.thumbSizeClasses[e]},TD.ui.template.render("status/media_thumb",t)},TD.services.TwitterMedia.prototype.renderGridView=function(){var e={mediaId:this.mediaId,isPossiblySensitive:this.isPossiblySensitive,url:this.url,imageSrc:this.small(),isVideo:this.isVideo,thumbClass:TD.services.TwitterMedia.IMAGE_CLASS};return TD.ui.template.render("status/media_image_container",e)},TD.services.TwitterMedia.getDetailViewTemplateAndParams=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t.service,s=t.isAnimatedGif,r=void 0!==s&&s,o=t.isVideo,a=void 0!==o&&o,c=t.isPossiblySensitive,l=void 0!==c&&c,u=i.usingNarrowColumns,d=void 0!==u&&u,h=i.columnWidth,p=void 0===h?"medium":h;if("twitter"===n){if(r)return["status/media_thumb",{isPossiblySensitive:l,isAnimatedGif:!0,isGifActive:!0,animatedGif:function(){return t.getAnimatedGifForPreview()},withAutoplay:!0,detailView:!0}];if(a){var f=t.entity.video_info.aspect_ratio[0]/t.entity.video_info.aspect_ratio[1],m=TD.services.TwitterMedia.AVAILABLE_COLUMN_SPACE[p],g=t.chooseVideoVariant();return["media/native_video",{chirpId:e,imageSrc:t.entity.media_url_https,videoUrl:g.url,contentType:g.content_type,isPossiblySensitive:l,mediaId:t.mediaId,autoplay:1,width:m,height:m/f}]}}return"vine"!==n||d?"youtube"!==n||d?["status/media_thumb",{mediaId:t.mediaId,isPossiblySensitive:l,url:t.url,imageSrc:t.small(),isVideo:t.isVideo,withAutoplay:!0,thumbClass:TD.services.TwitterMedia.IMAGE_CLASS,hasTaggedUsers:t.hasTaggedUsers,showTaggedUsers:!0,renderTaggedUsers:t.renderTaggedUsers()}]:["media/youtube",{id:t.mediaId,startTime:t.startTime,autoplay:0,width:"100%",height:"auto"}]:["media/vine",{id:t.mediaId,width:"100%",height:"auto"}]},TD.services.TwitterMedia.prototype.getTaggedUsers=function(){var e=(0,d.default)(this.entity,"features.all.tags",[]).filter(function(e){return"user"===e.type}).map(function(e){return{id:e.user_id,screenName:e.screen_name,name:e.name}});return(0,l.default)(e,"id")},TD.services.TwitterMedia.prototype.renderTaggedUsers=function(){var e=this.taggedUsers.map(function(e,t,i){var n=i.length;return(0,a.default)({},e,{userLink:(0,A.linkifyUser)(e),isBeforeLast:t===n-2,isLast:t===n-1})});return TD.ui.template.render("media/tagged_users",{hasTwoOrMoreUsers:e.length>=2,taggedUsers:e})},TD.services.TwitterMedia.prototype.renderDetailView=function(){var e=this;return function(){var t;return(t=TD.ui.template).render.apply(t,(0,r.default)(TD.services.TwitterMedia.getDetailViewTemplateAndParams(e.chirpId,e.media,{usingNarrowColumns:"narrow"===TD.settings.getColumnWidth(),columnWidth:TD.settings.getColumnWidth()})))}},TD.services.TwitterMedia.prototype.renderGallery=function(){var e,t,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("twitter"===this.service&&"animated_gif"===this.entity.type)e="media/animated_gif",i=this.chooseVideoVariant(),t={gifSrc:i.url,contentType:i.content_type};else if("twitter"===this.service&&this.isVideo){e="media/native_video";var s=this.entity.video_info.aspect_ratio[0]/this.entity.video_info.aspect_ratio[1],r=410*s;i=this.chooseVideoVariant(),t={chirpId:n.chirpId,imageSrc:this.entity.media_url_https,videoUrl:i.url,contentType:i.content_type,mediaId:this.mediaId,autoplay:1,height:410,width:r,isDM:n.isDM}}else"youtube"===this.service?(e="media/youtube",t={id:this.mediaId,startTime:this.startTime,autoplay:1,width:TD.services.TwitterMedia.YOUTUBE_GALLERY_WIDTH,height:TD.services.TwitterMedia.YOUTUBE_GALLERY_HEIGHT}):"vine"===this.service?(e="media/vine",t={id:this.mediaId,width:TD.services.TwitterMedia.VINE_GALLERY_WIDTH,height:TD.services.TwitterMedia.VINE_GALLERY_HEIGHT}):(e="status/media_thumb",t={url:this.url,imageSrc:this.large(),thumbClass:TD.services.TwitterMedia.IMAGE_CLASS,needsSecureUrl:this.needsSecureUrl,isGalleryView:!0,isDM:n.isDM,isFromProtectedUser:n.isFromProtectedUser});return TD.ui.template.render(e,t)}},function(e,t,i){"use strict";var n=i(13),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r={AlreadyRetweeted:TD.i("Already Retweeted"),InvalidUrl:TD.i("Contained an invalid URL"),UserSuspended:TD.i("User has been suspended"),Duplicate:TD.i("Status was a duplicate"),InvalidImage:TD.i("Invalid image"),RateLimitExceeded:TD.i("Rate limit exceeded"),TextTooLong:TD.i("Text too long"),Unknown:TD.i("Unknown error")};TD.services.ScheduledTweet=function(){},TD.services.ScheduledTweet.prototype.chirpType=TD.services.ChirpBase.SCHEDULED_TWEET,TD.services.ScheduledTweet.prototype.fromJSONObject=function(e){if(this.id=e.id_str,this.text=e.text,this.state=e.state,this.createdAt=new Date(e.created_at_ms),this.created=TD.util.iso8601(this.createdAt),this.executeAt=new Date(e.execute_at_ms),this.timestamp=TD.util.iso8601(this.executeAt),this.autoPopulateReplyMetadata=e.auto_populate_reply_metadata,this.inReplyToStatusId=e.in_reply_to_status_id_str,this.excludedRecipientIds=e.exclude_reply_user_ids_str,this.retweetedStatusId=e.retweeted_status_id_str,this.mediaId=e.media_id,this.tweetCreateState=e.tweet_create_state,this.attachmentUrl=e.attachment_url,"failed"===this.state){var t=r[this.tweetCreateState]||r.Unknown;this.reasonText=TD.i("Tweet cannot be sent: {{reasonText}}",{reasonText:t})}if(this.mediaId&&!e.preview_images_response)this._media=[{noPreview:!0,mediaId:this.mediaId}];else{e.preview_images_response=e.preview_images_response||{},e.preview_images_response.variants=e.preview_images_response.variants||[];var i=e.preview_images_response.variants.filter(function(t){return t.id_str=e.media_id,t.type="photo","preview-orig"===t.name});this._media=TD.services.TwitterMedia.getMediaFromEntities({media:i},{isScheduled:!0})}return this.account=TD.storage.accountController.getAccountFromId(e.user_id_str),this.user={avatar:TD.util.transformTwitterAvatar(this.account.getProfileImageURL(),"mini"),screenName:this.account.getUsername(),emojifiedName:s.default.cleanWithEmoji(this.account.getName()),isProtected:this.account.getIsPrivate(),isVerified:this.account.getIsVerified(),profileURL:"https://twitter.com/"+this.account.getUsername()},this.token=TD.core.sha1([this.id].join(":")),this}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){this.token=e,this.id=e,this.updates=[],this.inReplyToStatus=void 0,this.thumbSizeClass=TD.services.TwitterMedia.thumbSizeClasses.medium}var r=i(172),o=n(r),a=i(176),c=i(3),l=n(c),u=i(216);TD.services.ScheduledTweetGroup=s,s.prototype=new TD.services.ChirpBase,s.prototype.chirpType=TD.services.ChirpBase.SCHEDULED_TWEET_GROUP,s.prototype.addUpdate=function(e){this.time||(this.time=TD.util.parseISO8601(e.timestamp),this.created=this.time,this.sortIndex=this.sortIndex={value:-this.created.getTime(),type:"number"}),this.text=this.text||e.text,this.state=this.state||e.state,this._media=this._media||e._media,this.attachmentUrl=this.attachmentUrl||e.attachmentUrl,this.htmlText=this.htmlText||TD.util.transform(this.text),this.hasText=Boolean(this.text.length),this.autoPopulateReplyMetadata=this.autoPopulateReplyMetadata||e.autoPopulateReplyMetadata,this.inReplyToStatusId=this.inReplyToStatusId||e.inReplyToStatusId,this.excludedRecipientIds=this.excludedRecipientIds||e.excludedRecipientIds,this.retweetedStatusId=this.retweetedStatusId||e.retweetedStatusId,this.avatarURL=this.avatarURL||e.user.avatar,this.reasonText=this.reasonText||e.reasonText,this.updates.push(e)},s.prototype.render=function(){try{return TD.ui.template.render("status/scheduled_tweet",{chirp:this,inStream:!0})}catch(e){console.error(e)}},s.prototype.getReplyContext=function(){if(!this.inReplyToStatusId)return"";if(!this.inReplyToStatus||!this.autoPopulateReplyMetadata)return l.default.render("compose/reply_info");var e=this.updates.map(function(e){return e.account.getKey()}),t=(0,u.recipientsWithoutSelfMention)(this.inReplyToStatus.getReplyUsers(),e),i=o.default.getRecipientsToDisplay(t,this.excludedRecipientIds);return l.default.render("compose/reply_info",{recipients:i,recipientIds:t.map(function(e){return e.id}).join(",")})},s.prototype.renderInMediaGallery=function(){return TD.ui.template.render("status/scheduled_tweet",{chirp:this,withTweetActionsVisible:!0,inBox:!0})},s.prototype.edit=function(){$(document).trigger("uiEditScheduledTweetGroup",{scheduledTweetGroup:this})},s.prototype.destroy=function(){confirm("Are you sure you wish to delete this scheduled Tweet?")&&$(document).trigger("uiDeleteScheduledTweetGroup",{scheduledTweetGroup:this})},s.prototype.prettyTime=function(){return TD.util.prettyTimeString(this.time)},s.prototype.formattedTime=function(){return(0,a.getFormattedDateTime)({time:this.time,fullMonth:!0})},s.prototype.isOwnChirp=function(){return!0},s.prototype.getSenders=function(){return _.map(this.updates,function(e){return e.user.screenName})},s.prototype.mediaPreviewSrc=function(){return this.url},s.prototype.canEdit=function(){return!this.hasMedia()&&TD.decider.hasAccessLevel("scheduler","WRITE")}},function(e,t,i){"use strict";TD.services.TwitterSearchParser=function(e){this.query=e,this.terms=[],this.init()},TD.services.TwitterSearchParser.PUNCT=new RegExp("["+twttrTxt.regexen.punct.source+"]","g"),TD.services.TwitterSearchParser.ALLOWED_CHARS=["@","#",'"',"-"],TD.services.TwitterSearchParser.isStreamable=function(e){var t=e.match(TD.services.TwitterSearchParser.PUNCT);return 0===_.difference(t,TD.services.TwitterSearchParser.ALLOWED_CHARS).length},TD.services.TwitterSearchParser.prototype.PHRASE="phrase",TD.services.TwitterSearchParser.prototype.NEGATIVE_PHRASE="negPhrase",TD.services.TwitterSearchParser.prototype.AND="and",TD.services.TwitterSearchParser.prototype.OR="or",TD.services.TwitterSearchParser.prototype.query="",TD.services.TwitterSearchParser.prototype.trackQuery="",TD.services.TwitterSearchParser.prototype.thePhrase="",TD.services.TwitterSearchParser.prototype.type="",TD.services.TwitterSearchParser.prototype.init=function(){if(!this.trackQuery){var e,t;if(t="string"==typeof this.query?TD.services.TwitterSearchParser.extractPhrases(this.query,!1):this.query,0===t.length);else if(1===t.length)this.thePhrase=t[0].toLowerCase(),"-"===this.thePhrase.charAt(0)&&-1===this.thePhrase.indexOf(" ")?(this.type=this.NEGATIVE_PHRASE,this.thePhrase=this.thePhrase.slice(1),this.trackQuery=""):(this.type=this.PHRASE,this.trackQuery=this.thePhrase);else{var i,n=[[]],s=!0;for(i=0;i<t.length;i++)e=t[i],"OR"!==e?"AND"!==e&&(s?_.last(n).push(e):n.push([e]),s=!1):(_.last(n).push(e),s=!0);if(n=_.reject(n,function(e){return _.isEmpty(e)}),n.length>1){for(this.type=this.AND,i=0;i<n.length;i++){var r=n[i];r.length>0&&this.terms.push(new TD.services.TwitterSearchParser(r))}this.trackQuery=this.calculateANDTrackQuery(n)}else for(this.type=this.OR,i=0;i<n[0].length;i++)"OR"!=(e=n[0][i])&&(this.terms.push(new TD.services.TwitterSearchParser([e])),"-"!=e.charAt(0)&&(this.trackQuery&&(this.trackQuery+=","),this.trackQuery+=e))}}},TD.services.TwitterSearchParser.prototype.calculateANDTrackQuery=function(e){for(var t=[""],i=0;i<e.length;i++){for(var n=e[i],s=[],r=0;r<n.length;r++){var o=n[r];if("OR"!=o)if("-"==o.charAt(0))s=t;else for(var a=0;a<t.length;a++){var c=t[a],l=c?c+" ":"";l+=o,s.push(l)}}t=s}return t.join(",")},TD.services.TwitterSearchParser.extractPhrases=function(e,t){for(var i,n=[],s=e.split('"'),r=0;r<s.length;r++)if(s[r])if(r%2==1&&r<s.length-1)(i=s[r].trim())&&(t&&(i='"'+i+'"'),n.push(i));else for(var o=s[r].split(" "),a=0;a<o.length;a++)i=o[a],(i=i.trim())&&n.push(i);return n},TD.services.TwitterSearchParser.prototype.match=function(e,t){var i,n,s=new RegExp("(^|[^\\w])"+_.escapeRegExp(this.thePhrase)+"($|[^\\w])");switch(t||(e=e.toLowerCase()),this.type){case this.PHRASE:return-1!==e.indexOf(this.thePhrase)&&s.test(e);case this.NEGATIVE_PHRASE:return-1===e.indexOf(this.thePhrase);case this.AND:for(i=0;i<this.terms.length;i++)if(n=this.terms[i],!n.match(e,!0))return!1;return!0;case this.OR:for(i=0;i<this.terms.length;i++)if(n=this.terms[i],n.match(e,!0))return!0;return!1;default:return!1}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(39),r=n(s),o=i(1753),a=n(o),c=i(161),l=n(c),u=i(1674),d=n(u),h=i(111),p=n(h),f=i(1672),m=n(f),g=i(200),v=n(g),T=i(17),_=n(T),y=i(1079),w=n(y),b=i(481),D=n(b),C=i(3),S=n(C),E=i(172),I=n(E),A=i(6),x=i(288);TD.services.TwitterStatus=function(e){this.account=e},TD.services.TwitterStatus.prototype=new TD.services.ChirpBase,TD.services.TwitterStatus.prototype.chirpType=TD.services.ChirpBase.TWEET,TD.services.TwitterStatus.prototype.user=null,TD.services.TwitterStatus.prototype.inReplyToID="",TD.services.TwitterStatus.prototype.inReplyToUserID="",TD.services.TwitterStatus.prototype.inReplyToScreenName="",TD.services.TwitterStatus.prototype.isFavorite=!1,TD.services.TwitterStatus.prototype.isRetweeted=!1,TD.services.TwitterStatus.prototype.retweetCount=0,TD.services.TwitterStatus.prototype.likeCount=0,TD.services.TwitterStatus.prototype.replyCount=0,TD.services.TwitterStatus.prototype.retweetedStatus=null,TD.services.TwitterStatus.prototype.quotedTweet=null,TD.services.TwitterStatus.prototype.entities=null,TD.services.TwitterStatus.prototype.poll=null,TD.services.TwitterStatus.prototype.sourceUrl="",TD.services.TwitterStatus.prototype.sourceNoHTML="",TD.services.TwitterStatus.prototype._media=null,TD.services.TwitterStatus.prototype._filterableText=null,TD.services.TwitterStatus.prototype.fromJSONObject=function(e){this.id=e.id_str||e.id,this.sortIndex={value:this.id,type:"numericString"},e.user&&(this.user=new TD.services.TwitterUser(this.account).fromJSONObject(e.user),this.creatorAccount=TD.storage.accountController.get(TD.storage.Account.generateKeyFor("twitter",this.user.id))),e.source&&(this.sourceNoHTML=e.source.replace(/<[^>]*>/g,""),this.sourceUrl=twttrTxt.extractUrls(e.source)[0]),this.inReplyToUserID=e.in_reply_to_user_id_str,this.inReplyToScreenName=e.in_reply_to_screen_name,this.isFavorite=e.favorited,this.isRetweeted=e.retweeted,this.retweetCount=e.retweet_count,this.likeCount=e.favorite_count,this.replyCount=e.reply_count,this.currentUserRetweet=e.current_user_retweet,this.possiblySensitive=e.possibly_sensitive,this.inReplyToID=e.in_reply_to_status_id_str||e.in_reply_to_status_id;var t=(0,_.default)(e,"retweeted_status.self_thread.id_str",!1);return this.selfThreadId=(0,_.default)(e,"self_thread.id_str",t),e.retweeted_status?(this.retweetedStatus=new TD.services.TwitterStatus(this.account).fromJSONObject(e.retweeted_status),this.text=this.retweetedStatus.text,this.entities=this.retweetedStatus.entities):(this.text=D.default.getTweetText(e),this.entities=D.default.getTweetEntities(e)),this.retweetedStatus?(this.quotedTweet=this.retweetedStatus.quotedTweet,this.isQuoteStatus=this.retweetedStatus.isQuoteStatus,this.quotedTweetMissing=this.retweetedStatus.quotedTweetMissing):(this.isQuoteStatus=Boolean(e.quoted_status_id_str||e.is_quote_status),this.quotedTweet=e.quoted_status?new TD.services.TwitterStatus(this.account).fromJSONObject(e.quoted_status):null,this.quotedStatusId=e.quoted_status_id_str,this.quotedTweetMissing=Boolean(this.isQuoteStatus&&!this.quotedTweet)),this._media=TD.services.TwitterMedia.getMediaFromEntities(this.entities),this.lang=e.lang,this.place=e.place||{},this.created=TD.util.parseDateString(e.created_at),(0,x.isAllowedCard)(e.card)&&(this.card=e.card),(0,_.default)(e,"card.name","").includes("poll")&&(this.poll=w.default.getPollDataFromCard(e.card)),this.conversationMuted=e.conversation_muted,this._generateHTMLText(),this},TD.services.TwitterStatus.prototype._generateHTMLText=function(){this.htmlText=TD.util.transform(this.text,this.entities)},TD.services.TwitterStatus.prototype.getMainUser=function(){return this.retweetedStatus?this.retweetedStatus.user:this.user},TD.services.TwitterStatus.prototype.getCreator=function(){return this.user},TD.services.TwitterStatus.prototype.getRelatedTweet=function(){return this},TD.services.TwitterStatus.prototype.getMainTweet=function(){return this.retweetedStatus?this.retweetedStatus:this},TD.services.TwitterStatus.prototype.getReplyContext=function(){if(!this.inReplyToID)return"";var e=I.default.getRecipientsToDisplay(this.getReplyingToUsers());return e.users.length>0?S.default.render("compose/reply_info",{recipients:e}):void 0},TD.services.TwitterStatus.prototype.isInThread=function(){return Boolean(this.selfThreadId)},TD.services.TwitterStatus.prototype.hasLocationData=function(){var e=this.getMainTweet();return!(!e.place.full_name&&!e.place.country)},TD.services.TwitterStatus.prototype.getLocationName=function(){return this.getMainTweet().place.name},TD.services.TwitterStatus.prototype.getLocationFullName=function(){var e=this.getMainTweet();return e.place.full_name&&e.place.country?[e.place.full_name,e.place.country].join(", "):e.place.country?e.place.country:""},TD.services.TwitterStatus.prototype.getLocationURL=function(){var e,t=this.getMainTweet();switch(t.place.place_type){case"admin":e=10;break;case"city":e=12;break;case"country":e=6;break;case"neighbourhood":e=13;break;case"poi":case"default":e=15}return"https://maps.google.com/maps?q="+encodeURIComponent(this.getLocationFullName())+"&z="+e},TD.services.TwitterStatus.prototype.getLocationSearchEncodedURL=function(){return"https://twitter.com/search?q="+encodeURIComponent('near:"'+this.getLocationFullName()+'"')},TD.services.TwitterStatus.prototype.isOwnChirp=function(){return Boolean(this.creatorAccount)},TD.services.TwitterStatus.prototype.isRetweetedStatus=function(){return Boolean(this.retweetedStatus)},TD.services.TwitterStatus.prototype.isTranslatable=function(){var e=this.getMainTweet();return TD.decider.get("machine_translated_tweets")&&e.lang&&e.lang!==TD.languages.getSystemLanguageCode(!0)&&TD.languages.isSupportedTranslationSourceLanguage(e.lang)&&TD.languages.isSystemLangSupportedDestinationLanguage()&&!e.isOwnChirp()&&!e.user.isProtected&&!e.getTranslation()},TD.services.TwitterStatus.prototype.translate=function(){var e=TD.controller.clients.getClient(this.account.getKey()),t=this.getMainTweet().lang,i=TD.languages.getSupportedDestinationSystemLanguage(),n=function(e){var t,n,s,r=this.getDOMChirps().add(this.getMainTweet().getDOMChirps()),o=r.find(".js-translate-call-to-action");r=r.filter(function(e){return 0===$(".js-tweet-translation",this).length}),this.lang=e.translated_lang||this.lang,o.remove(),e.translated_lang!==i&&(e.htmltext=TD.util.transform(e.text,e.entities),e.localizedLanguageName=this.getLocalizedLanguageName(),t=r.find(".js-tweet-text"),t.after(TD.ui.template.render("status/tweet_translation",e)),n=r.find(".js-tweet-translation"),s=n.find(".js-tweet-translation-text"),t.addClass("tweet-translation-original-text margin-bn"),s.html(e.htmltext),this.setTranslation(e))}.bind(this),s=function(e){(0,A.showErrorNotification)({message:TD.i("Translation failed")})};e.translateTweet(this.getMainTweet().id,i,n,s),TD.controller.stats.translate(this.getMainUser().id,this.id,this.account.getUserID(),i,t)},TD.services.TwitterStatus.prototype.setTranslation=function(e){this.getMainTweet().translation=e},TD.services.TwitterStatus.prototype.getTranslation=function(){return this.getMainTweet().translation},TD.services.TwitterStatus.prototype.getChirpURL=function(){var e=this.getMainTweet();return"https://twitter.com/"+e.user.screenName+"/status/"+e.id},TD.services.TwitterStatus.prototype.getLightChirpURL=function(){var e=this.getMainTweet();return"twitter.com/"+e.user.screenName+"/status/"+e.id},TD.services.TwitterStatus.prototype.getLocalizedLanguageName=function(){var e=TD.languages.getLanguageFromISOCode(this.getMainTweet().lang);return e?e.localized_name:""},TD.services.TwitterStatus.prototype.destroy=function(){if(!this.isOwnChirp())return void(0,A.showErrorNotification)({message:TD.i("You don't own this account - can't delete")});this._action("delete",function(e){TD.controller.feedManager.deleteChirp(e.id)})},TD.services.TwitterStatus.prototype.getQuoteText=function(){var e={username:this.user.screenName,text:TD.util.removeHTMLCodes(this.text)};return TD.ui.template.toHtml("RT @{{username}}: {{{text}}}",e)},TD.services.TwitterStatus.prototype.renderMinimalist=function(e){return e.isMinimalist=!0,this.render(e)},TD.services.TwitterStatus.prototype.render=function(e){e=e||{};var t=TD.settings.getDisplaySensitiveMedia(),i={tweet:this,withMediaPreview:!0,isMediaPreviewOff:e.mediaPreviewSize===TD.vo.Column.MEDIA_PREVIEW_OFF,isMediaPreviewSmall:e.mediaPreviewSize===TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL,isMediaPreviewLarge:e.mediaPreviewSize===TD.vo.Column.MEDIA_PREVIEW_SIZE_LARGE,mediaPreviewSrc:function(){return this.getMediaSrcForPreviewSize(e.mediaPreviewSize)},renderQuoted:function(){return this.renderQuotedTweet(e)},animatedGif:function(){return this.getAnimatedGifForPreview()},thumbSizeClass:TD.services.TwitterMedia.thumbSizeClasses[e.mediaPreviewSize],isPossiblySensitive:this.possiblySensitive&&!t,isMinimalist:Boolean(e.isMinimalist),withDragHandle:!1,withRemove:!1,withTweetActions:!0,withFooter:!0,withAvatar:!0,withLinebreaks:!0,isFavorited:this.isFavorite,isRetweeted:this.isRetweet};TD.config.debug_highlight_streamed_chirps&&(e.chirpClassnames=this.isStreamed()?"is-streamed":"");var n=$.extend({},i,e);return TD.ui.template.render("status/tweet_in_stream",n).trim()},TD.services.TwitterStatus.prototype.renderInMediaGallery=function(){return TD.ui.template.render("status/tweet_in_box",{tweet:this,withTweetActions:!0,withTweetActionsVisible:!0,withFooter:!0,withAvatar:!0,withMediaPreview:!1,actionsMenuPosition:"pos-l pos-t",inDialog:!0})},TD.services.TwitterStatus.prototype.renderQuotedTweet=function(e){e=e||{},e.mediaPreviewSize===TD.vo.Column.MEDIA_PREVIEW_SIZE_LARGE&&(e.mediaPreviewSize=TD.vo.Column.MEDIA_PREVIEW_SIZE_MEDIUM),e.isMediaPreviewLarge=!1,e.thumbSizeClass=TD.services.TwitterMedia.thumbSizeClasses[e.mediaPreviewSize],e.withAvatar=!1,e.isMediaPreviewCompact=!1,e.isMediaPreviewInQuoted=!0;var t=TD.settings.getDisplaySensitiveMedia(),i={tweet:this,withAvatar:!1,withInlinedUsername:!0,withMediaPreview:!0,isMediaPreviewOff:e.mediaPreviewSize===TD.vo.Column.MEDIA_PREVIEW_OFF,isMediaPreviewSmall:e.mediaPreviewSize===TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL,mediaPreviewSrc:function(){return this.getMediaSrcForPreviewSize(e.mediaPreviewSize)},animatedGif:function(){return this.getAnimatedGifForPreview()},isPossiblySensitive:this.possiblySensitive&&!t},n=$.extend({},i,e);return TD.ui.template.render("status/quoted_tweet",n)},TD.services.TwitterStatus.prototype.getNotificationData=function(){var e,t=this.getMainTweet(),i={};return t.sender?(e=t.recipient?t.recipient.screenName:t.account.getUsername(),i.title=t.sender.screenName+" > "+e):t.user&&t.user.screenName&&(i.title=t.user.screenName),i.img=t.getMainUser().profileImageURL,i.text=$("<div>"+t.htmlText+"</div>").text(),i},TD.services.TwitterStatus.prototype.favorite=function(e){var t,i,n,s,r=this.isFavorite,o=TD.controller.clients.getClient(this.account.getKey());this.setFavorite(!this.isFavorite),this.animateFavorite(e.element),s=function(){(0,A.showErrorNotification)({message:r?TD.i("Unlike failed"):TD.i("Like failed")})},n=function(e){var t=TD.core.defer.fail();403!==e.status&&404!==e.status||(t=this.refreshFavorite(o)),t.addErrback(function(){this.setFavorite(r),s()}.bind(this))}.bind(this),i=function(e){e.error&&n()},r?(o.unfavorite(this.id,i,n),t=TD.controller.stats.unfavorite):(o.favorite(this.id,i,n),t=TD.controller.stats.favorite),t(this.getScribeItemData(),this.account.getUserID())},TD.services.TwitterStatus.prototype.refreshFavorite=function(e){var t=new TD.core.defer.Deferred;return e.show(this.id,t.callback.bind(t),t.errback.bind(t)),t.addCallback(function(e){this.setFavorite(e.isFavorite)}.bind(this)),t},TD.services.TwitterStatus.prototype.animateFavorite=function(e){if(!TD.decider.get("heartfave_animation")){return void window.requestAnimationFrame(function(){e.find('a[rel="favorite"]').toggleClass("anim anim-slower anim-bounce-in",this.isFavorite).blur()}.bind(this))}var t=e.find('a[rel="favorite"]'),i=t.find("i");if(!this.isFavorite)return t.blur(),t.find(".heartsprite").remove(),void i.toggleClass("is-invisible",!1);window.requestAnimationFrame(function(){var e=$(TD.ui.template.render("heartsprite"));i.toggleClass("is-invisible",!0),t.blur(),t.append(e)})},TD.services.TwitterStatus.prototype.email=function(){var e,t=TD.i("Tweet forwarded by @{{1}}",{1:this.account.getUsername()}),i=[];i.push(this.text),i.push(TD.i("Original Tweet: {{1}}",{1:this.getChirpURL()})),i.push(TD.i("Sent via TweetDeck")),e=i.join("\n\n"),TD.util.openEmail(null,t,e)},TD.services.TwitterStatus.prototype.retweet=function(){var e=1===TD.storage.accountController.getAccountsForService("twitter").length;this.isRetweeted&&e?(this.setRetweeted(!1),$(document).trigger("uiUndoRetweet",{tweetId:this.getMainTweet().id,from:this.account.getKey()})):new TD.components.ActionDialog(this)},TD.services.TwitterStatus.prototype.quoteTo=function(e){TD.controller.stats.quoteTweet(),$(document).trigger("uiComposeTweet",{type:"tweet",from:e,quotedTweet:this.getMainTweet()})},TD.services.TwitterStatus.prototype.messageTo=function(){var e=this.getMainTweet();TD.controller.stats.shareTweetViaDM(),$(document).trigger("uiComposeTweet",{type:"message",from:[this.account.getKey()],quotedTweet:e})},TD.services.TwitterStatus.prototype._action=function(e,t){function i(){(0,A.removeNotification)({notification:s,timeoutDelayMs:100}),(0,A.showErrorNotification)({message:TD.i("{{message}} failed",{message:r})})}function n(e){e.error?i():((0,A.updateNotification)({message:TD.i("Success: {{message}}",{message:r}),notification:s,remove:!0}),t&&t(o))}var s,r,o=this,a=TD.controller.clients.getClient(this.account.getKey());switch(e){case"delete":r=this.retweetedStatus?TD.i("Undoing Retweet"):TD.i("Deleting"),a=TD.controller.clients.getClient(this.creatorAccount.getKey()),a.destroy(this.id,n,i);break;case"deleteDM":r=TD.i("Deleting"),$(document).trigger("uiDeleteDm",{id:this.id,accountKey:(this.creatorAccount||this.account).getKey(),success:n,error:i})}s=(0,A.showNotification)({message:r,timeoutDelayMs:1/0})},TD.services.TwitterStatus.prototype._entitySort=function(e,t){return t.indices[0]-e.indices[0]},TD.services.TwitterStatus.prototype.passFilters=function(e){return TD.controller.filterManager.pass(this,e)&&(!this.quotedTweet||TD.controller.filterManager.pass(this.quotedTweet,e))},TD.services.TwitterStatus.prototype.getFilterableText=function(){var e,t="";return this._filterableText?t=this._filterableText:0===this.entities.urls.length&&0===this.entities.media.length?t=this.text:(e=[this.text],e=e.concat((0,v.default)(this.entities.urls,"expanded_url")),e=e.concat((0,v.default)(this.entities.media,"expanded_url")),e=(0,m.default)(e),t=e.join(" "),this._filterableText=t),t},TD.services.TwitterStatus.prototype.getSenders=function(){var e=[this.user.screenName];return this.isRetweetedStatus()&&e.push(this.retweetedStatus.user.screenName),e},TD.services.TwitterStatus.prototype.lastInSelfThread=function(){return this.isSelfThreadEnd},TD.services.TwitterStatus.prototype.isMidSelfThread=function(){return this.positionInConversation<this.numberOfTweetsInSelfThread-1},TD.services.TwitterStatus.prototype.isMidConversation=function(){return this.positionInConversation<this.numberOfTweetsInConversation-1},TD.services.TwitterStatus.prototype.indentedChirp=function(){return"ShowMore"===this.cursorType||this.isInThread()&&this.hasReplies()&&!this.lastInSelfThread()},TD.services.TwitterStatus.prototype.hasReplies=function(){var e=this.isInThread()&&!Boolean(this.inReplyToID),t=this.isMidConversation();return e||t||this.showMoreCursor},TD.services.TwitterStatus.prototype.setPositionInConversation=function(e){this.positionInConversation=e},TD.services.TwitterStatus.prototype.setQuotedStatus=function(e){e&&(this.quotedTweet=e,this.quotedTweetMissing=!1)},TD.services.TwitterStatus.prototype.setIsSelfThreadEnd=function(e,t){var i=e.find(function(t,i){var n=e[i+1],s=(0,_.default)(n,"content.item.content.tweet.displayType");return"SelfThread"!==(0,_.default)(n,"content.item.content.conversationThread.conversationComponents[0].conversationTweetComponent.tweet.displayType",s)}),n=(0,_.default)(i,"content.item.content.tweet.id");this.isSelfThreadEnd=n===t&&!this.isMidSelfThread()},TD.services.TwitterStatus.prototype.setConversationRootId=function(e){this.conversationRootId=e},TD.services.TwitterStatus.prototype.setShowMoreCursor=function(e){this.showMoreCursor=e},TD.services.TwitterStatus.prototype.setNumberOfTweetsInConversation=function(e){var t=e.filter(function(e){return!e.tweetComposerComponent}),i=t.filter(function(e){return"SelfThread"===(0,_.default)(e,"content.item.content.tweet.displayType",!1)});this.numberOfTweetsInConversation=t.length,this.numberOfTweetsInSelfThread=i.length},TD.services.TwitterStatus.prototype.setRetweeted=function(e){this.isRetweeted=e;var t=this.isRetweeted?"icon-retweet-filled":"icon-retweet",i=this.isRetweeted?"icon-retweet":"icon-retweet-filled";this.getDOMChirps().find(".js-tweet").toggleClass(TD.services.ChirpBase.RETWEET_CLASS,e).find(".js-icon-retweet").addClass(t).removeClass(i),this.retweetedStatus&&this.retweetedStatus.setRetweeted(e)},TD.services.TwitterStatus.prototype.setFavorite=function(e){this.isFavorite=e;var t=this.isFavorite?"icon-heart-filled":"icon-favorite",i=this.isFavorite?"icon-favorite":"icon-heart-filled";this.getDOMChirps().find(".js-tweet").toggleClass(TD.services.ChirpBase.FAVORITE_CLASS,e).find('a[rel="favorite"]').attr("title",TD.ui.template.render("text/favorite_action",this)).find(".js-icon-favorite").addClass(t).removeClass(i)},TD.services.TwitterStatus.prototype.isMention=function(){for(var e,t=String(this.account.getUserID()),i=this.account.getUsername().toLowerCase(),n=this.entities.user_mentions.length,s=0;s<n;s++)if(e=this.entities.user_mentions[s],e.id_str){if(e.id_str===t)return!0}else if(e.screen_name.toLowerCase()===i)return!0;return!1},TD.services.TwitterStatus.prototype.getMedia=function(){return this.retweetedStatus?this.retweetedStatus.getMedia():this._media||[]},TD.services.TwitterStatus.prototype.getUniqueMedia=function(){var e=this.getMedia(),t={},i=[],n=this.id;return(0,p.default)(e,function(e){t[e.shortUrl]||i.push({media:e,chirpId:n})}),i},TD.services.TwitterStatus.prototype.getAllTaggedUsers=function(){var e=this.getMedia().map(function(e){return e.getTaggedUsers()}),t=(0,d.default)(e);return(0,l.default)(t,"id")},TD.services.TwitterStatus.prototype.getReplyingToUsers=function(){var e=this,t=this.getReplyUsers().filter(function(t){return t.id===e.inReplyToUserID}),i=I.default.getImplicitMentions(this.entities.user_mentions),n=i.filter(function(t){return t.id===e.account.getUserID()});return(0,l.default)([].concat((0,r.default)(t),(0,r.default)(n),(0,r.default)(i)),"id")},TD.services.TwitterStatus.prototype.getReplyUsers=function(){var e=this.getMainTweet(),t=[(0,a.default)(e.user,["id","screenName","name"])];this.retweetedStatus&&t.push((0,a.default)(this.user,["id","screenName","name"]));var i=(0,_.default)(e,"entities.user_mentions",[]);return t=t.concat(i.map(function(e){return{id:e.id_str,screenName:e.screen_name,name:e.name}})),t=t.concat(this.getAllTaggedUsers()),t=(0,l.default)(t,"id")},TD.services.TwitterStatus.prototype.hasLink=function(){var e=this.entities.media||[],t=this.entities.urls||[];return Boolean(e.length||t.length)},TD.services.TwitterStatus.prototype.isFromVerifiedUser=function(){return this.getMainTweet().user.isVerified},TD.services.TwitterStatus.prototype.hasImage=function(){return null===this._hasImage&&(this._hasImage=TD.services.ChirpBase.prototype.hasImage.call(this)||TD.services.TwitterMedia.entitiesContainImage(this.entities)),this._hasImage},TD.services.TwitterStatus.prototype.hasVideo=function(){return null===this._hasVideo&&(this._hasVideo=TD.services.ChirpBase.prototype.hasVideo.call(this)||TD.services.TwitterMedia.entitiesContainVideo(this.entities)),this._hasVideo},TD.services.TwitterStatus.prototype.hasPoll=function(){return(0,x.hasPoll)(this.card)},TD.services.TwitterStatus.prototype.getScribeItemData=function(e){var t;return this.isRetweetedStatus()?(t=this.getMainTweet().getScribeItemData(e),t.retweeting_tweet_id=this.id):(t={item_type:0,id:this.id},e&&(t.visibility_start=e.visibilityStart,t.visibility_end=e.visibilityEnd)),t},TD.services.TwitterStatus.prototype.scribeMediaImpression=function(){TD.controller.stats.mediaImpression(this.getScribeItemData())},TD.services.TwitterStatus.prototype.muteConversation=function(e){var t=TD.controller.clients.getClient(e.getKey()),i=function(){this.conversationMuted=!0,(0,A.showNotification)({message:TD.i("Muted conversation")})};return t.muteConversation(this.id).addCallbackWith(this,TD.util.effect(i))},TD.services.TwitterStatus.prototype.unmuteConversation=function(e){var t=TD.controller.clients.getClient(e.getKey()),i=function(){this.conversationMuted=!1,(0,A.showNotification)({message:TD.i("Unmuted conversation")})};return t.unmuteConversation(this.id).addCallbackWith(this,TD.util.effect(i))}},function(e,t,i){"use strict";TD.services.TrendLocation=function(){},TD.services.TrendLocation.prototype.PLACE_TYPE_SUPERNAME=19,TD.services.TrendLocation.prototype.PLACE_TYPE_COUNTRY=12,TD.services.TrendLocation.prototype.PLACE_TYPE_TOWN=7,TD.services.TrendLocation.prototype.placeType=null,TD.services.TrendLocation.prototype.name="",TD.services.TrendLocation.prototype.woeid=-1,TD.services.TrendLocation.prototype.url="",TD.services.TrendLocation.prototype.countryCode="",TD.services.TrendLocation.prototype.country="",TD.services.TrendLocation.prototype.label="",TD.services.TrendLocation.prototype.sortString="",TD.services.TrendLocation.prototype.isTown=!1,TD.services.TrendLocation.prototype.fromJSONObject=function(e){switch(this.name=e.name,this.woeid=e.woeid,this.url=e.url,this.countryCode=e.countryCode,this.country=e.country,this.placeType=e.placeType,this.placeType.code){case this.PLACE_TYPE_TOWN:this.label="—"+this.name,this.sortString=this.country+this.name,this.isTown=!0;break;case this.PLACE_TYPE_SUPERNAME:this.label=this.name.toUpperCase(),this.sortString="";break;default:this.label=this.name,this.sortString=this.name}return this}},function(e,t,i){"use strict";TD.services.TrendingTopic=function(){},TD.services.TrendingTopic.prototype.name="",TD.services.TrendingTopic.prototype.query="",TD.services.TrendingTopic.prototype.url="",TD.services.TrendingTopic.prototype.description="",TD.services.TrendingTopic.prototype.attribution="",TD.services.TrendingTopic.prototype.created=0,TD.services.TrendingTopic.prototype.promotedContent=null,TD.services.TrendingTopic.prototype.events=null,TD.services.TrendingTopic.prototype.fromJSONObject=function(e){return this.name=e.name,this.query=e.query,this.promotedContent=e.promoted_content,this.events=e.events,this.created=(new Date).getTime(),this.query=encodeURIComponent(this.name),this.url||(this.url="http://search.twitter.com/search?q="+this.query),this.promotedContent&&this.promotedContent.description&&(this.description=TD.util.escape(this.promotedContent.description)),this}},function(e,t,i){"use strict";TD.services.TwitterDeletedUser=function(e,t){return this.id=t,this.isDeleted=!0,this.screenName="",this.name=TD.i("Unknown user"),this.isProtected=!1,this.isVerified=!1,this.isTranslator=!1,this.isBadged=!1,this.followersCount=0,this.friendsCount=0,this.listedCount=0,this.statusesCount=0,this.joinedDate=new Date,this},TD.services.TwitterDeletedUser.prototype.isSameUser=function(){return!1},TD.services.TwitterDeletedUser.prototype.isMe=function(){return!1},TD.services.TwitterDeletedUser.prototype.reasonablySmallProfileImageURL=function(){return""},TD.services.TwitterDeletedUser.prototype.biggerProfileImageURL=function(){return""},TD.services.TwitterDeletedUser.prototype.miniProfileImageURL=function(){return""},TD.services.TwitterDeletedUser.prototype.follow=function(){},TD.services.TwitterDeletedUser.prototype.unfollow=function(){},TD.services.TwitterDeletedUser.prototype.unblock=function(){},TD.services.TwitterDeletedUser.prototype.block=function(e,t,i,n){},TD.services.TwitterDeletedUser.prototype.removeFromView=function(e,t){},TD.services.TwitterDeletedUser.prototype.bio=function(){return""},TD.services.TwitterDeletedUser.prototype.htmlLocation=function(){return""},TD.services.TwitterDeletedUser.prototype.hasLocation=function(){return!1},TD.services.TwitterDeletedUser.prototype.getFollowerURL=function(){return""},TD.services.TwitterDeletedUser.prototype.getFriendURL=function(){return""},TD.services.TwitterDeletedUser.prototype.getProfileURL=function(){return""},TD.services.TwitterDeletedUser.prototype.getMediaURL=function(){return""},TD.services.TwitterDeletedUser.prototype.getMediaSearchQuery=function(){return""},TD.services.TwitterDeletedUser.prototype.getListedURL=function(){return""},TD.services.TwitterDeletedUser.prototype.getDisplayURL=function(){return""},TD.services.TwitterDeletedUser.prototype.profileBannerURL=function(){return""}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(13),r=n(s),o=i(20),a=n(o),c=i(6);TD.services.TwitterUser=function(e){this.account=e},TD.services.TwitterUser.MINI_SUFFIX="_mini",TD.services.TwitterUser.NORMAL_SUFFIX="_normal",TD.services.TwitterUser.BIGGER_SUFFIX="_bigger",TD.services.TwitterUser.REASONABLY_SMALL_SUFFIX="_reasonably_small",TD.services.TwitterUser.NORMAL_SUFFIX_REGEXP=new RegExp(TD.services.TwitterUser.NORMAL_SUFFIX+"(?!.*"+TD.services.TwitterUser.NORMAL_SUFFIX+")"),TD.services.TwitterUser.BIGGER_SUFFIX_REGEXP=new RegExp(TD.services.TwitterUser.BIGGER_SUFFIX+"(?!.*"+TD.services.TwitterUser.BIGGER_SUFFIX+")"),TD.services.TwitterUser.prototype.fromJSONObject=function(e,t){return t=_.defaults(t||{},{isContributor:!1}),this.id=e.id_str,this.screenName=e.screen_name?e.screen_name.trim():"",this.profileURL="https://twitter.com/"+this.screenName,this.profileImageURL=e.profile_image_url_https,this.avatarSuffixRegex=TD.services.TwitterUser.NORMAL_SUFFIX_REGEXP,TD.util.isRetina()&&(this.profileImageURL=this.profileImageURL.replace(this.avatarSuffixRegex,TD.services.TwitterUser.BIGGER_SUFFIX),this.avatarSuffixRegex=TD.services.TwitterUser.BIGGER_SUFFIX_REGEXP),this.name=e.name?e.name.trim():"",this.emojifiedName=r.default.cleanWithEmoji(e.name),this.location=e.location,this.description=e.description,this.entities=e.entities,this.joinedDate=TD.util.parseDateString(e.created_at),this.friendsCount=e.friends_count,this.listedCount=e.listed_count,this.followersCount=e.followers_count,this.statusesCount=e.statuses_count,this.favoritesCount=e.favourites_count,this.listedCount=e.listed_count,this.url=e.url,this.isProtected=e.protected,this.isVerified=e.verified,this.isTranslator=e.is_translator,this.isBadged=Boolean(e.verified||e.is_translator),this.following=e.following,this.lang=e.lang,this.profileColor=e.profile_link_color,this.bannerUrl=e.profile_banner_url,this.bannerUrlSmall=this.bannerUrl?this.bannerUrl+"/"+(TD.util.isRetina()?"600x200":"300x100"):null,this._profileBannerURL=e.profile_banner_url?e.profile_banner_url+"/web":null,TD.util.isRetina()&&this._profileBannerURL&&(this._profileBannerURL+="_retina"),this._profileBannerURL=this._profileBannerURL?this._profileBannerURL:TD.assets.get("/web/assets/global/backgrounds/td_profile_empty"+(TD.util.isRetina()?"@2x.jpg":".jpg")),e.status&&(this.lastStatus=new TD.services.TwitterStatus(this.account).fromJSONObject(e.status),this.lastStatus.user=this),t.isContributor||TD.cache.twitterUsers.add(this),this},TD.services.TwitterUser.prototype.isSameUser=function(e){var t;return t=e instanceof TD.services.TwitterUser?e.screenName.toLowerCase():e.toLowerCase(),this.screenName.toLowerCase()===t},TD.services.TwitterUser.prototype.isMe=function(){return this.account.getUserID()==this.id},TD.services.TwitterUser.prototype.reasonablySmallProfileImageURL=function(){return this.profileImageURL.replace(this.avatarSuffixRegex,TD.services.TwitterUser.REASONABLY_SMALL_SUFFIX)},TD.services.TwitterUser.prototype.biggerProfileImageURL=function(){return TD.util.isRetina()?this.reasonablySmallProfileImageURL():this.profileImageURL.replace(this.avatarSuffixRegex,TD.services.TwitterUser.BIGGER_SUFFIX)},TD.services.TwitterUser.prototype.miniProfileImageURL=function(){return TD.util.isRetina()?this.profileImageURL.replace(this.avatarSuffixRegex,TD.services.TwitterUser.NORMAL_SUFFIX):this.profileImageURL.replace(this.avatarSuffixRegex,TD.services.TwitterUser.MINI_SUFFIX)},TD.services.TwitterUser.prototype.prettyFollowersCount=function(){return TD.util.prettyNumber(this.followersCount,{noNegativeNumbers:!0})},TD.services.TwitterUser.prototype.prettyFriendsCount=function(){return TD.util.prettyNumber(this.friendsCount,{noNegativeNumbers:!0})},TD.services.TwitterUser.prototype.prettyListedCount=function(){return TD.util.prettyNumber(this.listedCount,{noNegativeNumbers:!0})},TD.services.TwitterUser.prototype.prettyStatusesCount=function(){return TD.util.prettyNumber(this.statusesCount,{noNegativeNumbers:!0})},TD.services.TwitterUser.prototype.prettyJoinedDate=function(){return TD.util.prettyDateShortString(this.joinedDate)},TD.services.TwitterUser.prototype.prettyTimeDateJoinedDate=function(){return TD.util.prettyTimeString(this.joinedDate)},TD.services.TwitterUser.prototype.follow=function(e,t,i,n){var s,r=TD.controller.clients.getClient(e.getKey()),o=this,a=function(e){o.following=!0,n&&(s=TD.i("Successfully followed @{{screenName}}",o),e.isProtected&&(s=TD.i("Follower request sent to @{{screenName}}",o)),(0,c.showNotification)({message:s})),t&&t(e)},l=function(e){n&&(s=TD.i("Unable to follow @{{screenName}}",o),(0,c.showErrorNotification)({message:s})),i&&i()};r.followUser(this.screenName,a,l)},TD.services.TwitterUser.prototype.unfollow=function(e,t,i,n){var s,r=TD.controller.clients.getClient(e.getKey()),o=this,l=function(i){o.removeFromView(e,{feedTypes:a.default.followingFeedTypes}),o.following=!1,n&&(s=TD.i("Successfully unfollowed @{{screenName}}",o),(0,c.showNotification)({message:s})),t&&t(i)},u=function(){n&&(s=TD.i("Unable to unfollow @{{screenName}}",o),(0,c.showErrorNotification)({message:s})),i&&i()};r.unfollowUser(this.screenName,l,u)},TD.services.TwitterUser.prototype.unblock=function(e,t,i){var n=TD.controller.clients.getClient(e.getKey()),s=function(e){delete n.blocks[this.id],t&&t(e)}.bind(this);n.unblockUser(this.screenName,s,i),$.publish("/user/"+this.screenName+"/unblock",[this.account])},TD.services.TwitterUser.prototype.block=function(e,t,i,n){var s,r=TD.controller.clients.getClient(e.getKey()),o=function(e){(0,c.showNotification)({message:s}),self.following=!1,$.publish("/user/"+this.screenName+"/blocked",[this.account]),r.addIdToBlockList(this.id),i&&i(e)}.bind(this);$.publish("/user/"+this.screenName+"/block",[this.account]),t?(r.blockAndReportUser(this.screenName,o,n),s=TD.i("Successfully blocked and reported @{{screenName}}",{screenName:this.screenName})):(r.blockUser(this.screenName,o,n),s=TD.i("Successfully blocked @{{screenName}}",{screenName:this.screenName}))},TD.services.TwitterUser.prototype.mute=function(e){var t=TD.controller.clients.getClient(e.getKey()),i=function(){(0,c.showNotification)({message:TD.i("Muted @{{screenName}}",{screenName:this.screenName})}),t.addIdToMuteList(this.id)};return t.muteUser(this.id).addCallbackWith(this,TD.util.effect(i))},TD.services.TwitterUser.prototype.unmute=function(e){var t=TD.controller.clients.getClient(e.getKey()),i=function(){(0,c.showNotification)({message:TD.i("Unmuted @{{screenName}}",{screenName:this.screenName})}),delete t.mutes[this.id]};return t.unmuteUser(this.id).addCallbackWith(this,TD.util.effect(i))},TD.services.TwitterUser.prototype.removeFromView=function(e,t){$.publish("/user/removeTweets",[this.id,e.getUserID(),t])},TD.services.TwitterUser.prototype.bio=function(){var e=this.entities&&this.entities.description||{};return TD.util.transform(this.description,e)},TD.services.TwitterUser.prototype.htmlLocation=function(){var e=this.entities&&this.entities.location||{};return TD.util.transform(this.location,e)},TD.services.TwitterUser.prototype.hasLocation=function(){return Boolean(this.htmlLocation())},TD.services.TwitterUser.prototype.getFollowerURL=function(){return this.profileURL+"/followers"},TD.services.TwitterUser.prototype.getFriendURL=function(){return this.profileURL+"/following"},TD.services.TwitterUser.prototype.getProfileURL=function(){return this.profileURL},TD.services.TwitterUser.prototype.getMediaURL=function(){return this.profileURL+"/media"},TD.services.TwitterUser.prototype.getMediaSearchQuery=function(){return TD.ui.template.toHtml("from:{{screenName}} (filter:images OR filter:videos)",{screenName:this.screenName})},TD.services.TwitterUser.prototype.getListedURL=function(){return this.profileURL+"/memberships"},TD.services.TwitterUser.prototype.getDisplayURL=function(){var e=this.entities;return e&&e.url&&e.url.urls&&e.url.urls.length&&e.url.urls[0].display_url?e.url.urls[0].display_url:this.url},TD.services.TwitterUser.prototype.profileBannerURL=function(){return this._profileBannerURL}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(27),r=n(s),o=i(15),a=n(o),c=i(104),l=n(c),u=i(212),d=n(u),h=i(18),p=n(h),f=i(143),m=i(63),g=i(20),v=n(g),T=i(174),y=i(30),w=i(451),b=n(w);TD.ui.Column=function(e){this.chirpContainerSelector='.js-chirp-container[data-column="'+e+'"]',this.infiniteSpinnerSelector=".js-infinitespinner",this.globalTpmAnimationLimit=2e3,this.columnTpmAnimationLimit=120,this.chirpStaggeringInterval=400,this.chirpDelayMaximum=3e4,this.moreTweetsThreshold=0,this.moreTweetsAnimationTime=500,this.$moreTweetsButtonContainer=null,this.fadeInClass="column-opacity-transition",this.state={columnKey:e,$noResults:null,animating:!1,animationQueue:[],cardChildComponents:{}},this.newTweetsTemplates={default:TD.i("New Tweets",null,!0),"plural tweet":TD.i("{{numberNew}} New Tweets",null,!0),"singular tweet":TD.i("1 New Tweet",null,!0),"plural notification":TD.i("{{numberNew}} New Notifications",null,!0),"singular notification":TD.i("1 New Notification",null,!0),"plural activity":TD.i("New Activity",null,!0),"singular activity":TD.i("New Activity",null,!0),"plural follower":TD.i("{{numberNew}} New Followers",null,!0),"singular follower":TD.i("1 New Follower",null,!0),"plural message":TD.i("New Messages",null,!0),"singular message":TD.i("New Messages",null,!0)},this.setupMoreTweets()},TD.ui.Column.prototype.setupMoreTweets=function(){function e(e,t){return function(){i.getMoreTweetsButtonContainer().toggleClass(e,t)}}function t(e,t,n){if("hidden"===n)return window.requestAnimationFrame(function(){i.getMoreTweetsButtonContainer().addClass("more-tweets-btn-container--out"),i.getMoreTweetsButtonContainer().find(".js-more-tweets-glow").width(0),setTimeout(i.moreTweetsState.transition.bind(i.moreTweetsState),550)}),StateMachine.ASYNC}var i=this;this.moreTweetsState=StateMachine.create({initial:"hidden",error:function(){},events:[{from:"hidden",name:"unread",to:"visible"},{from:"hidden",name:"mouseScrollToTop",to:"mouseReleaseToRefresh"},{from:"visible",name:"unread",to:"visible"},{from:"visible",name:"trackingRealtime",to:"hidden"},{from:"visible",name:"read",to:"hidden"},{from:"visible",name:"mouseScrollToTop",to:"mouseReleaseToRefresh"},{from:"mouseReleaseToRefresh",name:"mouseScrollAwayFromTop",to:"hidden"},{from:"mouseReleaseToRefresh",name:"upwardScroll",to:"hidden"},{from:"mouseReleaseToRefresh",name:"trackingRealtime",to:"hidden"}],callbacks:{onenterhidden:(0,T.makeDOMMutator)(function(){e("more-tweets-btn-container--hidden",!0)(),e("more-tweets-btn-container--out",!1)(),e("more-tweets-btn-container--visible",!1)(),e("more-tweets-btn-container--mouse-release",!1)()}),onleavehidden:(0,T.makeDOMMutator)(e("more-tweets-btn-container--hidden",!1)),onentervisible:(0,T.makeDOMMutator)(function(){e("more-tweets-btn-container--visible",!0)(),TD.util.metric("column:ui:more-tweets:impression")}),onleavevisible:t,onunread:(0,T.makeDOMMutator)(function(e,t,n,s){i.getMoreTweetsButtonContainer().find(".js-more-tweets-btn-text").text(i.getMoreTweetsButtonText(s)),i.getMoreTweetsButtonContainer().find(".js-more-tweets-glow").width(50+8*s.numUnseenChirps)}),onbeforemouseScrollToTop:function(){if(!TD.decider.get("column_release_to_refresh"))return!1},onentermouseReleaseToRefresh:(0,T.makeDOMMutator)(e("more-tweets-btn-container--mouse-release",!0)),onleavemouseReleaseToRefresh:t}})},TD.ui.Column.prototype.getChirpContainer=function(){return this._$chirpContainer&&0!==this._$chirpContainer.length||(this._$chirpContainer=$(this.chirpContainerSelector)),this._$chirpContainer},TD.ui.Column.prototype.getChirpScroller=function(){return this._$columnScroller&&0!==this._$columnScroller.length||(this._$columnScroller=this.getChirpContainer().closest(".js-column-scroller")),this._$columnScroller},TD.ui.Column.prototype.getChirpById=function(e){return this.getChirpContainer().find('[data-key="'+e+'"]')},TD.ui.Column.prototype.pause=function(){return this.getChirpScroller().scrollTop(1)},TD.ui.Column.prototype.unpause=function(){return this.getChirpScroller().scrollTop(0)},TD.ui.Column.prototype.removeChirp=function(e,t){var i=this.getChirpById(e);this.unloadVideos(i),this.teardownCard(e),TD.ui.columns.alterColumnContents(this.state.columnKey,i,function(e){e.remove()},t)},TD.ui.Column.prototype.removeChirps=function(e,t){var i=this,n=this.getChirpContainer().find(".js-stream-item").filter(function(){return e.indexOf($(this).attr("data-key"))>-1});this.unloadVideos(n),e.forEach(function(e){return i.teardownCard(e)}),TD.ui.columns.alterColumnContents(this.state.columnKey,n.eq(0),function(){n.remove()},t)},TD.ui.Column.prototype.unloadVideos=function(e){e.find("video, video source").attr("src","")},TD.ui.Column.prototype.loadGif=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.mediaPreviewSize;if(!1!==e.hasMedia()){var n=this.getChirpById(e.id).find(".js-media-gif-container");if(!(n.find(".js-media-gif").length>0)){var s=e.getMedia()[0].renderThumb(i);n.replaceWith(s)}}},TD.ui.Column.prototype.unloadGif=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.mediaPreviewSize;if(!1!==e.hasMedia()){var n=this.getChirpById(e.id),s=n.find(".js-media-gif-container"),r=e.getMedia()[0].renderAnimatedGifPlaceholder(i);n.find(".js-media-preview-container").removeClass("is-manually-played"),this.unloadVideos(s),s.replaceWith(r)}},TD.ui.Column.prototype.pauseGif=function(e){var t=this.getChirpById(e.id),i=t.find(".js-media-preview-container"),n=t.find(".js-media-gif").get(0);i.hasClass("is-manually-played")||(n&&!n.paused&&n.pause(),i.addClass("is-paused"))},TD.ui.Column.prototype.playGifIfNotManuallyPaused=function(e){var t=this.getChirpById(e.id).find(".js-media-preview-container"),i=void 0;if(TD.settings.getAutoPlayGifs()&&!t.hasClass("is-manually-paused")&&t.removeClass("is-paused"),(i=t.not(".is-paused").find(".js-media-gif").get(0))&&i.paused){var n=i.play();n&&void 0!==l.default&&n instanceof l.default&&n.catch(function(e){e.name})}},TD.ui.Column.prototype.loadCard=function(e,t){if(e.hasCard()&&!e.isQuoteStatus&&!this.state.cardChildComponents[e.id]){var i=this.getChirpById(e.id),n=i.find(".js-card-container"),s=_.get(f.columnNamespaces,[t,"namespace"],{}),r=e.possiblySensitive&&!TD.settings.getDisplaySensitiveMedia(),o=n.closest(".is-inverted-dark").length,c=(0,y.attach)(b.default,n,{card:e.card,cardUrl:e.getCardUrl({isPossiblySensitive:r,isInvertedDark:o}),context:"column",scribeNamespace:(0,a.default)({page:"column"},s)}),l=c.teardownEvent;this.state.cardChildComponents[e.id]=l}},TD.ui.Column.prototype.teardownAllCards=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=_.get(t,"preserveChirpIds",[]);(0,r.default)(this.state.cardChildComponents).filter(function(e){return!i.includes(e)}).forEach(function(t){return e.teardownCard(t)})},TD.ui.Column.prototype.teardownCard=function(e){var t=this.state.cardChildComponents[e];t&&(delete this.state.cardChildComponents[e],$(document).trigger(t))},TD.ui.Column.prototype.slideInChirps=function(e,t,i,n,s){var r=this,o=TD.controller.columnManager.isStreaming(this.state.columnKey),a=TD.ui.columns.isScrolledToTop(this.state.columnKey),c=t&&this.getChirpContainer().closest(".is-hidden").length,l=!c&&i<this.globalTpmAnimationLimit&&n<this.columnTpmAnimationLimit;if(e&&!s.insertAtBottom){var u=e.concat();u.reverse(),u.forEach(function(e){e.$node.addClass("is-animating")});var d=!a||TD.ui.columns.columnIsLockedToElement(this.state.columnKey)||!s.containsNewChirps;s&&s.insertAtTop&&d?u.forEach(function(e){this.shortcircuitChirpSlide(e.$node,!0)},this):this.state.animationQueue=this.state.animationQueue.concat(u)}if(!this.state.animating){a||(this.state.animationQueue=this.processOffScreenAnimationQueue(this.state.animationQueue)),this.state.animationQueue=this.state.animationQueue.filter(function(e){var t=s&&!s.insertAtTop,i=o||t;return i&&this.slideInChirp(e.$node,l),!i},this);var h;do{h=this.state.animationQueue.shift()}while(this.state.animationQueue.length&&!this.elementIsInDOM(h.$node));if(h){this.slideInChirp(h.$node,l);var f=Date.now()+this.chirpStaggeringInterval,g=_.get(this.state.animationQueue,[0,"deliverAtTime"],Date.now()),v=(0,m.getStreamForFeatureFlag)("tweetdeck_dogfood").switchMap(function(e){var t=e?g:f;return p.default.Observable.timer(new Date(t))}),T=p.default.Observable.timer(this.chirpDelayMaximum);this.state.animating=!0,p.default.Observable.merge(v,T).take(1).subscribe(function(){r.state.animating=!1,r.slideInChirps(null,t,i,n)})}}},TD.ui.Column.prototype.elementIsInDOM=function(e){return e&&e.length&&$.contains(document.documentElement,e[0])},TD.ui.Column.prototype.processOffScreenAnimationQueue=function(e){return e.filter(function(e){var t=e.$node.position().top<0;return t&&this.shortcircuitChirpSlide(e.$node,t),!t}.bind(this))},TD.ui.Column.prototype.shortcircuitChirpSlide=function(e,t){TD.ui.columns.alterColumnContents(this.state.columnKey,e,function(e){e.removeClass("is-animating")},{willBreakScrollPosition:t})},TD.ui.Column.prototype.slideInChirp=function(e,t){var i=this;$(document).trigger("incrementTpmCounter",{columnKey:this.state.columnKey}),t=!document.hidden&&t;var n=function(){e.removeClass("is-animating"),e.removeAttr("style"),$(document).trigger("uiColumnChirpsChanged",{id:i.state.columnKey})};t?d.default.mutate(function(){e.css({"max-height":"500px"}),setTimeout(n,150)}):n()},TD.ui.Column.prototype.renderChirps=function(e,t){var i,n,s,r,o=[];for(n=0;n<e.length;n++)s=e[n],r=s.getMainUser&&s.getMainUser().isProtected,i=e[n].render({isTemporaryColumn:t.isTemporaryColumn,mediaPreviewSize:t.mediaPreviewSize,isMinimalist:t.doRenderMinimalist,withShowVerified:t.showVerifiedBadge,withRemove:t.isOwnCustomTimeline,withDragHandle:this.shouldRenderDragHandle(_.extend({},t,{isProtectedUser:r}))}),o.push(i);return o.join("")},TD.ui.Column.prototype.shouldRenderDragHandle=function(e){var t=!e.isTemporaryColumn,i=!e.isOwnCustomTimeline,n=e.isOwnReorderableCustomTimeline,s=!e.isProtectedUser;return t&&(i||n)&&s},TD.ui.Column.prototype.hideChirpContainer=function(){var e=this.getChirpContainer();e.css("opacity",0),_.defer(function(){e.addClass(this.fadeInClass)}.bind(this))},TD.ui.Column.prototype.fadeInChirpContainer=function(){var e=this.getChirpContainer(),t=_.once(function(){e.removeClass(this.fadeInClass).removeAttr("style"),$(document).trigger("uiColumnChirpsChanged",{id:this.state.columnKey})}.bind(this));_.defer(function(){e.css("opacity",1),e.one("transitionend",t),setTimeout(t,350)})},TD.ui.Column.prototype.addInfiniteScrollSpinner=function(){this.getChirpContainer().append(TD.ui.template.render("spinner_large"))},TD.ui.Column.prototype.removeInfiniteScrollSpinner=function(){$(this.infiniteSpinnerSelector,this.getChirpContainer()).remove()},TD.ui.Column.prototype.showIsUpdatingMessage=function(){var e=$(TD.ui.template.render("column_loading_placeholder",{isUpdating:!0}));this.getChirpContainer().html(e)},TD.ui.Column.prototype.hideIsUpdatingMessage=function(){this.getChirpContainer().find(".js-column-loading-placeholder").remove()},TD.ui.Column.prototype.showNoResultsMessage=function(e,t){var i=this.getChirpContainer();i.css("opacity",1).removeClass(this.fadeInClass),this.state.$noResults=$(TD.ui.template.render("search_no_tweets_placeholder",{isDropTarget:!e&&t,withAddByUrl:!e&&t})),i.html(this.state.$noResults)},TD.ui.Column.prototype.hideNoResultsMessage=function(){this.state.$noResults&&this.state.$noResults.remove()},TD.ui.Column.prototype.getMoreTweetsButtonContainer=function(){if(this.$moreTweetsButtonContainer&&this.$moreTweetsButtonContainer.length)return this.$moreTweetsButtonContainer;var e=this.getChirpContainer().closest(".js-column").find(".js-more-tweets-btn-container");return e.length?(this.$moreTweetsButtonContainer=e,this.$moreTweetsButtonContainer):e},TD.ui.Column.prototype.getMoreTweetsButtonText=function(e){return TD.ui.template.toHtml(this.getMoreTweetsTemplate(e),{numberNew:TD.util.truncateNumber(e.numUnseenChirps)+(e.gappy?"+":"")})},TD.ui.Column.prototype.getMoreTweetsTemplate=function(e){var t=TD.controller.columnManager.get(e.columnKey);if(!t)return this.newTweetsTemplates.default;var i="tweet";t.isDataminr()||t.isOfType(v.default.columnMetaTypes.INTERACTIONS)?i="notification":t.isOfType(v.default.columnMetaTypes.ACTIVITY)?i="activity":t.isOfType(v.default.columnMetaTypes.FOLLOWERS)?i="follower":(t.isOfType(v.default.columnMetaTypes.MESSAGES)||t.isOfType(v.default.columnMetaTypes.INBOX))&&(i="message");var n=1===e.numUnseenChirps?"singular":"plural",s=[n,i].join(" ");return this.newTweetsTemplates[s]||this.newTweetsTemplates.default},TD.ui.Column.prototype.updateUnreadIndicators=function(e){e=e||{},"number"!=typeof e.numUnseenChirps&&(e.numUnseenChirps=0),"boolean"!=typeof e.gappy&&(e.gappy=!1);var t=e.numUnseenChirps>0;this.getChirpContainer().trigger("uiReadStateChange",{read:!t,columnKey:this.state.columnKey}),t?this.moreTweetsState.unread({numUnseenChirps:e.numUnseenChirps,gappy:e.gappy,columnKey:this.state.columnKey}):this.moreTweetsState.read()}},function(e,t,i){"use strict";var n=i(20),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=window.TD||{};r.ui=r.ui||{},window.TD=r,r.ui.columns=function(){var e,t,i,n={},o={},a={},c={mouseIsDownOnScrollBar:!1},l=function(e){return v.getColumnElementByKey(e).find(".js-column-header")},u=function(e){if(!$(e.target).hasClass("column-title-edit-box")){var t=$(e.currentTarget);t.closest(".js-more-tweets-btn").length&&r.util.metric("column:ui:more-tweets:click");var i=t.parents(".js-column"),n=i.data("column");r.ui.columns.setColumnToTop(n)}},d=function(){var t=$(this);return t.offset().top+this.offsetHeight>0&&t.offset().top<e.innerHeight()},h=function(){var e=r.ui.updates.findParentArticle($(this)),t=r.controller.columnManager.get(e.column),i=t.updateIndex[e.statusKey];e.element.replaceWith(i.render({isTemporary:t.temporary}))},p=_.debounce(function(e){e.find(".is-minimalist").filter(d).each(h)},150),f=function(e,t){var i,n,s=0,a=0;return function(l){var u=l.timeStamp||(new Date).getTime(),d=t.scrollTop();o[e]=d;var h="stationary";d>a?h="down":d<a&&(h="up"),a=d,p(t),u-s>200&&(s=u,n=l.currentTarget.scrollHeight,i=t.height());var f=r.controller.columnManager.get(e),m=d,g=n-i-d,v=c.mouseButtonWasDown;if(c.mouseButtonWasDown=!1,0!==d||c.mouseIsDownOnScrollBar?f.isTrackingRealtime=!1:(r.ui.columns.unlockColumnFromElement(e),f.isTrackingRealtime=!0,f.ui.moreTweetsState.trackingRealtime()),"up"!==h&&g<250&&(r.util.metric("column:ui:scroll:infinite:impression"),c.mouseIsDownOnScrollBar&&r.util.metric("column:ui:scroll:infinite:with-mouse"),f.doInfiniteScroll({fromScrollbarDrag:c.mouseIsDownOnScrollBar}),s=0),c.mouseIsDownOnScrollBar)return void(m<250?"down"!==h&&f.ui.moreTweetsState.mouseScrollToTop():f.ui.moreTweetsState.mouseScrollAwayFromTop());"down"!==h&&m<250&&(r.util.metric("column:ui:scroll:upward:impression"),v&&r.util.metric("column:ui:scroll:upward:with-mouse"),f.ui.moreTweetsState.upwardScroll(),f.doUpwardScroll(),s=0)}},m=function(e,t){var n=t.closest(".scroll-h"),s={direction:"",time:0};return function(r){var a,c=Math.abs(r.originalEvent.wheelDeltaX),l=Math.abs(r.originalEvent.wheelDeltaY),u=$(r.currentTarget);if(r.originalEvent.wheelDeltaY||r.originalEvent.wheelDeltaX){r.preventDefault();var d="";c>l?d="h":c<l&&(d="v"),d!==s.direction&&Date.now()<s.time+100||(s.direction=d,s.time=Date.now(),"v"===d?u.is(".js-column-scroller")?(a=o[e]-r.originalEvent.wheelDeltaY,t.scrollTop(a),o[e]=t.scrollTop()):u.scrollTop(u.scrollTop()-r.originalEvent.wheelDeltaY):"h"===d&&n.scrollLeft(i.scrollLeft()-r.originalEvent.wheelDeltaX))}}},g=function(i,n){var o,a=function(e){var t=e.model,n=e.isMessageColumn(),a=e.hasActiveSearchFilters(),c=null;a&&(c={content:e.hasActiveContentFilters(),user:e.hasActiveUserFilters(),action:e.hasActiveActionFilters()&&!e.isSingleActionTypeColumn(),engagement:e.hasActiveEngagementFilters(),filterError:e.hasFilterError()});var l=e.hasEditableTitle(),u={columnkey:t.getKey(),columntitle:s.default.getColumnHeaderTitleHTML(e),columnclass:i[o].getClass(),columniconclass:i[o].getIconClass(),isEventColumn:i[o].isEventColumn(),columnfilter:c,filterError:e.hasFilterError(),withEditableTitle:l,withMarkAllRead:n,withDMComposeButton:n,isTouchColumnOptions:Boolean(r.util.isTouchDevice()&&r.decider.get("touchdeck_column_options_v2")),isSearch:e.isSearchColumn()};return r.ui.template.render("column",u)};if(n=Boolean(n))for(o=i.length-1;o>=0;o--)e.prepend(a(i[o])),v.setupColumn(i[o]);else for(o=0;o<i.length;o++)t.before(a(i[o])),v.setupColumn(i[o])},v={COLUMN_GLOW_DURATION:500,init:function(){e=$(".js-app-columns"),t=$(".js-app-add-panel"),i=$("#container"),e.on("click",[".js-column-header",".js-more-tweets-btn"].join(", "),u),e.on("wheel",".js-more-tweets-btn-container",function(e){e.preventDefault()}),$(document).on("mousedown",".js-column-scroller",function(e){var t=$(e.target);c.mouseIsDownOnScrollBar=t.is(".js-column-scroller"),c.mouseIsDownOnScrollBar&&$(document).one("mouseup",function(e){c.mouseIsDownOnScrollBar=!1,c.mouseButtonWasDown=!0,t.trigger("scroll")})})},setupColumn:function(e){var t=e.model.getKey(),i=$('.js-chirp-container[data-column="'+t+'"]').closest(".js-column-scroller"),s=$('.js-column[data-column="'+t+'"]'),a=i.scrollTop(),c=f(t,i),l=m(t,i);$(document).trigger("uiColumnRendered",{column:e,$column:s}),r.util.isTouchDevice()&&r.decider.get("touchdeck_tweet_controls_v3")&&i.addClass("is-touch-tweet-container"),o[t]=a,n[t]=i,i.scroll(c),s.on("mousewheel onmousewheel",".scroll-v",l),s.on("mouseover",".js-column-header",function(){var e=o[t];$(this).toggleClass("is-actionable",e>0)}),r.util.isTouchDevice()&&window.navigator.standalone&&s.on("touchmove",".scroll-v",function(e){e.stopPropagation()})},refreshTitle:function(e,t){var i,n,o,a=e.getIconClass(),c=e.model.getKey(),u=e.hasEditableTitle(),d=t instanceof r.services.TwitterConversation,h=s.default.getColumnHeaderTitleHTML(e),p=v.getColumnElementByKey(c),f=e.isMessageColumn();n=e.temporary&&e.getColumnType()===s.default.columnMetaTypes.SEARCH?r.i("results"):s.default.getColumnTitleHTML(e),e.isMessageColumn()&&(o=e.unreadMessageCount()),i=r.ui.template.render("column/column_header",{columntitle:h,columniconclass:a,isEventColumn:e.isEventColumn(),isTemporary:e.temporary,isSearch:e.isSearchColumn(),withEditableTitle:u,withImageAttribution:!0,withMarkAllRead:f&&!e.temporary,withDMComposeButton:f&&!e.temporary,unreadCount:"0"===o?null:o}),l(e.model.getKey()).replaceWith(i),i=r.ui.template.render("column/column_header_detail",{headerClass:"js-detail-header",headerAction:"resetToTopColumn",headerLinkClass:"js-column-back",getConversationTitleInformation:d&&t.getConversationTitleInformation(),participants:t&&t.participants,withConversationMenu:t instanceof r.services.TwitterConversation,columntitle:n,conversationId:d&&t.conversationId,accountKey:d&&t.account.getKey()}),p.find(".js-detail-header").replaceWith(i),p.trigger("uiColumnTitleRefreshed",{columnKey:c})},setColumnToTop:function(e){function t(){return a.doUpwardScroll().addBoth(function(){s.css({transform:""}),i.scrollTop(0),a.isTrackingRealtime=!0})}var i=n[e],s=i.find(".js-chirp-container"),o=l(e),a=r.controller.columnManager.get(e),c=i.scrollTop(),u=Math.min(100+c/5,400);o.removeClass("is-actionable"),a.resetUnreadIndicators();return 0===c?t():new r.core.defer.DeferredList([v.transitionTranslateY(s,c,u),v.transitionOpacity(i,{from:1,to:0,duration:u})]).addCallback(t).addCallback(v.transitionOpacity.bind(v,i,{from:0,to:1,duration:250}))},transitionTranslateY:function(e,t,i){function n(r){s||(s=r);var a=r-s,c=Math.min(1,a/i),l=~~(c*t);e.css({transform:"translateY("+l+"px)"}),c<1?window.requestAnimationFrame(n):o.callback()}var s,o=new r.core.defer.Deferred;return window.requestAnimationFrame(n),o},transitionOpacity:function(e,t){function i(r){n||(n=r);var o=r-n,a=Math.min(1,o/t.duration);e.css({opacity:t.from+a*(t.to-t.from)}),a<1?window.requestAnimationFrame(i):(1===t.to&&e.css({opacity:""}),s.callback())}t=_.defaults({},t,{duration:250,from:0,to:1});var n,s=new r.core.defer.Deferred;return window.requestAnimationFrame(i),s},isScrolledToTop:function(e){return!n[e]||0===o[e]},alterColumnContents:function(e,t,i,n){if(n=n||{},t&&0!==t.length){var s,r,o=a[e];if("boolean"==typeof n.willBreakScrollPosition)s=n.willBreakScrollPosition;else{var c=o?o.position().top:0;s=t.position().top<c}s&&(r=this.cacheColumnScrollPosition(e));var l=i(t);return s&&r(),l}},cacheColumnScrollPosition:function(e){var t=n[e];if(!t)return function(){};var i=o[e],s=t[0].scrollHeight-i;return function(){var i=t[0].scrollHeight-s;t.scrollTop(i),o[e]=i,0===i&&p(t)}},lockColumnToElement:function(e,t){a[e]=t},unlockColumnFromElement:function(e){delete a[e]},columnIsLockedToElement:function(e){return!!a[e]},addColumnsToView:function(e){g(e),$(".js-chirp-container").show()},removeColumn:function(e){var t=v.getColumnElementByKey(e);t.trigger("uiRemoveColumn"),t.remove(),delete o[e],delete n[e]},calculateScrollDuration:function(e,t,i){i=i||500,t=t||20;var n=200+e/100*t;return n=Math.min(n,i)},getLeftmostColumn:function(){var t=null;return e.children(".js-column").each(function(){t||($(this).position().left<10&&$(this).position().left>=0?t=this:$(this).position().left>10&&(t=$(this).prev()))}),$(t)},focusColumn:function(t,i){$(".is-focused",e).removeClass("is-focused"),v.getColumnElementByKey(t).addClass("is-focused"),_.isNumber(i)&&_.delay(function(){r.ui.columns.unfocusColumn(t)},i)},unfocusColumn:function(e){v.getColumnElementByKey(e).removeClass("is-focused")},setMovingColumn:function(e){v.getColumnElementByKey(e).addClass("is-moving")},getColumnElementByKey:function(e){return $('.js-column[data-column="'+e+'"]')}};return v}()},function(e,t,i){"use strict";var n=i(63),s=function(e){return e&&e.__esModule?e:{default:e}}(n);TD.globalRenderOptions=function(){var e={styledScrollbar:TD.util.hasFixedScrollBars(),isTouchDevice:TD.util.isTouchDevice(),asset:function(){return function(e){return TD.assets.get(e)}},decider:{},featureFlag:{}};return $(document).on("dataDeciderUpdated",function(){e.decider=TD.decider.getAllWithOverlay()}),(0,s.default)().subscribe(function(t){_.forEach(t.config,function(t,i){i.includes("tweetdeck")&&(e.featureFlag[i]=t.value)})}),e}()},function(e,t,i){"use strict";TD.ui.main=function(){var e={},t=function(e,t){$(".js-app-add-column").removeClass("is-hidden")},i=function(e,t){$(".js-app-add-column").addClass("is-hidden")};return e.init=function(){var n=$("body"),s=$(TD.ui.template.render("topbar/app_header",{searchInputClassName:"js-app-search-input app-search-input",searchInputPlaceholder:TD.i("Search Twitter")})),r=$(TD.ui.template.render("app_container",{isMac:"osx"===TD.util.getOSName()}));$(".js-app").append(s),$(".js-app").append(r),TD.util.isTouchDevice()&&window.navigator.standalone&&s.on("touchmove",function(e){0===$(e.target).closest(".js-column-nav-scroller").length&&e.preventDefault()}),TD.util.isWrapperApp()&&deck.closeLoadingScreen&&deck.closeLoadingScreen(),n.on("click","a",function(e){TD.util.maybeOpenClickExternally(e)}),TD.ui.columns.init(),TD.ui.updates.init(),TD.ui.openColumn.init(),TD.util.isTouchDevice()||n.tooltip({selector:".js-show-tip",container:"body",delay:{show:500},suppressFadeOut:!0}),n.on("click","a",function(e){var t=$(e.currentTarget),i=t.attr("rel"),n=!1;switch(i){case"tweets":TD.storage.notification.notify(TD.components.OpenColumn.GO_EVENT,{data:TD.components.OpenColumnHome.URL_BASE+"/"+i+"?screenName="+t.attr("data-screen-name")}),n=!0;break;case"user":var s=t.data("user-name")||_.last(t.attr("href").split("/"));s=""+s,$(document).trigger("uiShowProfile",{id:s}),n=!0;break;case"hashtag":$(document).trigger("uiPerformSearch",{query:t.text(),columnKey:t.closest(".column").data("column")}),n=!0;break;case"search":$(document).trigger("uiPerformSearch",{query:t.attr("data-search-term")}),n=!0}n&&e.preventDefault(),!1===e.isDefaultPrevented()&&(TD.util.openURL(t.attr("href")),e.preventDefault())}),n.on("submit",function(e){e.preventDefault()}),$.subscribe("/storage/client/settings/column_width",e.updateColumnSize),e.updateColumnSize(),$.subscribe("/storage/client/settings/font_size",e.updateFontSize),e.updateFontSize();var o=_.debounce(function(e){$(document).trigger("uiMainWindowResized")},50);$(window).on("resize",o),$(document).on("uiColumnNavSizeOverflow",t.bind(this)),$(document).on("uiColumnNavSizeNormal",i.bind(this))},e.updateColumnSize=function(){var e=TD.settings.getColumnWidth(),t=$(document.body);switch(t.removeClass("is-narrow-columns is-medium-columns is-wide-columns"),e){case"narrow":t.addClass("is-narrow-columns");break;case"medium":t.addClass("is-medium-columns");break;case"wide":t.addClass("is-wide-columns")}$(document).trigger("uiColumnWidthChange",{columnWidth:e})},e.updateFontSize=function(){var e=TD.settings.getFontSize(),t=$("html");switch(t.removeClass("txt-size--12 txt-size--13 txt-size--14 txt-size--15 txt-size--16"),e){case"smallest":t.addClass("txt-size--12");break;case"small":t.addClass("txt-size--13");break;case"medium":t.addClass("txt-size--14");break;case"large":t.addClass("txt-size--15");break;case"largest":t.addClass("txt-size--16")}},e}()},function(e,t,i){"use strict";TD.ui.openColumn=function(){function e(e,i){var n=e.split("?"),s=n[0].split("/").slice(1),r=n[1]||"",o=TD.net.util.formDecode(r),a=s.shift();switch(a){case"add":if("search"!==s[0]){var c=TD.components.OpenColumn.instance;c&&!c.canGo(a,s)&&(c.destroy(),c=null),c||(c=new TD.components.OpenColumn),c.go(a,s,o,i),c.setAndShowContainer(t,!1)}else $(document).trigger("uiAppSearchFocus")}}var t,i={};return i.init=function(){t=$("#open-modal"),$.subscribe(TD.components.OpenColumn.GO_EVENT,function(t){e(t.data,t.history)})},i.showOpenColumn=function(){e("/add/home")},i.showTwitterProfile=function(t){e("/profile/twitter/"+t)},i.showLists=function(){e("/add/lists")},i.showSearch=function(t){e("/search?q="+t)},i.showCustomTimelines=function(t,i){e(2===arguments.length?"/add/customtimelines?screenName="+TD.util.deMentionify(t)+"&slug="+i:"/add/customtimelines")},i.showImportSharedColumn=function(t){TD.decider.get("sac_enable_import")&&e("/add/sharedcolumn?state="+encodeURIComponent(t))},i.showList=function(t,i){e("/add/lists?screenName="+TD.util.deMentionify(t)+"&slug="+i)},i}()},function(e,t,i){"use strict";var n=i(174),s=i(6);TD.ui.updates=function(){function e(e,n,o,a){var c,l,u,d,h,p,f,m=$(e.target),g=!1;if(!($(".js-stream-item",e.target).length>0)&&(m.attr("rel")||(m=m.closest("a,button,[data-tweet-id]")),l=m.attr("rel"),c=r.findParentArticle(m),n||(o||(o=TD.controller.columnManager.get(c.column)),o&&(a=o.findChirp(c.statusKey),n=o.findMostInterestingChirp(c.statusKey),(n instanceof TD.services.TwitterStatus||n instanceof TD.services.TwitterConversationMessageEvent)&&(f=!0),h=m.closest(".js-quote-detail"),h.length&&f&&(p=h.attr("data-tweet-id"),n.quotedTweet&&n.quotedTweet.id===p?n=n.quotedTweet:(l="tweet",m=h)))),n)){switch(e.shiftKey&&"favorite"===l&&(l="favoriteFromAccounts"),l){case"skipToReplies":$(document).trigger("uiSkipToReplies",{columnKey:o.model.getKey()});break;case"viewCustomTimeline":TD.ui.openColumn.showCustomTimelines(m.attr("data-screen-name"),m.attr("data-slug"));break;case"importSerializedColumn":$(document).trigger("uiShowImportColumnDialog",{columnState:m.attr("data-serialized-column")});break;case"list":TD.ui.openColumn.showList(m.attr("data-screen-name"),m.attr("data-slug"));break;case"actionsMenu":m.trigger("uiShowActionsMenu");break;case"mediaPreview":g=t(n,m.attr("href"),m.attr("data-media-entity-id"),o);break;case"retweet":case"like":case"favorite":case"destroy":case"edit":case"reply":case"viewDetails":case"followStatus":case"dm":case"showSensitiveMedia":case"alwaysShowSensitiveMedia":case"customTimeline":case"removeFromCustomTimeline":if(("retweet"===l||"reply"===l)&&!r.allowRetweetsAndReplies){(0,s.showNotification)({title:"Hang on a minute...",message:"Please wait for your video to finish uploading"});break}i(l,n,a,o,c);break;case"globalSettings":$(document).trigger("uiShowGlobalSettings");break;case"tweet":u=m.attr("data-tweet-id"),d=TD.controller.clients.getClient(n.account.getKey()),d.show(u,function(e){i("viewDetails",e,a,o,c)},function(){TD.util.openURL(m.attr("href"))});break;case"pause":m.closest(".js-media-preview-container").addClass("is-paused is-manually-paused").removeClass("is-manually-played").find(".js-media-gif").get(0).pause();break;case"play":m.closest(".js-media-preview-container").removeClass("is-paused is-manually-paused").addClass("is-manually-played").find(".js-media-gif").get(0).play();break;case"viewConversationParticipants":$(document).trigger("uiShowDmParticipants",{columnKey:o.model.getKey(),conversationId:n.conversationId,accountKey:n.account.getKey()});break;case"favoriteFromAccounts":$(document).trigger("uiShowFavoriteFromOptions",{tweet:n});break;default:g=!0}return g||(e.preventDefault(),e.stopPropagation()),!1}}function t(e,t,i,n){return n.temporary?(TD.util.openURL(t),!0):(new TD.components.MediaGallery(e,t,i,n),!1)}function i(e,t,i,n,s){if(e.match(/favorite|retweet|reply/)){var o=e;"favorite"===e&&(o=t.isFavorite?"unfavorite":"favorite"),TD.controller.stats.scribeChirpAction({action:o,columnType:n.getColumnType()})}switch(e){case"retweet":case"like":case"favorite":case"destroy":case"edit":e in t&&t[e](s);break;case"reply":var a=t.getMainTweet();$(document).trigger("uiComposeTweet",{type:"reply",from:[t.account.getKey()],inReplyTo:{id:t.id,htmlText:a.htmlText,user:{screenName:a.user.screenName,name:a.user.name,profileImageURL:a.user.profileImageURL},chirp:a},mentions:t.getReplyUsers(),element:s&&s.element});break;case"viewDetails":r.showDetailView(n,t,i);break;case"followStatus":$(document).trigger("uiShowFollowFromOptions",{userToFollow:t});break;case"dm":var c=t.getMainUser(),l=c.account;$(document).trigger("uiComposeTweet",{type:"message",from:[l.getKey()],messageRecipients:[c],conversationId:t.conversationId});break;case"showSensitiveMedia":r.showSensitiveMedia(t);break;case"alwaysShowSensitiveMedia":r.alwaysShowSensitiveMedia(t);break;case"customTimeline":new TD.components.AddToCustomTimelineDialog(t.getMainTweet());break;case"removeFromCustomTimeline":var u=s.element;if(!u)break;$(u).trigger("uiRemoveTweetFromCustomTimeline",{tweetId:t.getMainTweet().id})}}var r={allowRetweetsAndReplies:!0};return r.init=function(){$(document).on("click",".js-show-detail",function(e){var t=window.getSelection(),i=0!==t.rangeCount&&t.getRangeAt(0);if(!i||i.endOffset===i.startOffset){var n=r.findParentArticle($(this)),s=TD.controller.columnManager.get(n.column);if(s){var o=s.findMostInterestingChirp(n.statusKey),a=s.findChirp(n.statusKey);r.showDetailView(s,o,a)}}return!1}),$(document).on("uiDockedComposeSendingVideoInProgress",function(){r.allowRetweetsAndReplies=!1}),$(document).on("uiDockedComposeSendingVideoComplete",function(){r.allowRetweetsAndReplies=!0}),$(document).on("click",".js-expand-gap",function(e){var t=r.findParentArticle($(this));r.trackGapClick(),t.element.addClass("gap-chirp--loading"),TD.controller.columnManager.get(t.column).fillGap(t.statusKey)}),$("body").delegate(".js-stream-item a, .js-stream-item button, .js-detail-view-inline, .js-quote-detail","click",e),$.subscribe("chirp/click",function(t,i,n){e(t,i,n)}),$.subscribe("chirp/action",i),TD.controller.scheduler.schedulePeriodicTask(30,TD.ui.updates.refreshTimestamps)},r.trackGapClick=function(){TD.util.metric("column:ui:gap:click"),$(document).trigger("scribeEvent",{terms:{page:"main",component:"column",element:"gap",action:"click"}})},r.refreshTimestamps=(0,n.makeDOMMutator)(function(){$(".js-timestamp").each(function(){var e=$(this),t=e.attr("data-time"),i=new Date(Number(t)),n=TD.util.prettyDate(i);e.find("a,span").text(n)})}),r.findParentArticle=function(e){var t=e.closest(".js-stream-item,.js-tweet-box");return{element:t,statusKey:t.attr("data-key"),column:t.closest(".js-chirp-container, .js-column").data("column")}},r.showDetailView=function(e,t,i){var n=e.model.getKey(),s=TD.ui.columns.getColumnElementByKey(n);s.trigger("uiExitSettings"),e.detailViewComponent&&e.detailViewComponent.destroy(),i instanceof TD.services.TwitterConversationMessageEvent&&t.quotedTweet?TD.controller.stats.sharedTweetDM():t instanceof TD.services.DataminrAlert?e.detailViewComponent=new TD.components.DataminrDetailView(e,s):t instanceof TD.services.TwitterStatus?e.detailViewComponent=new TD.components.TweetDetailView(e,s):t instanceof TD.services.TwitterConversation&&(e.detailViewComponent=new TD.components.ConversationDetailView(e,s)),e.detailViewComponent.showChirp(t,i)},r.showSensitiveMedia=function(e){var t=e.getDOMChirps();t.find(".js-media-sensitive-overlay").addClass("is-hidden"),t.find(".js-media-preview-container").removeClass("media-size-medium media-sensitive-detail"),t.find(".js-media-image-link, .js-media-native-video, .js-media-gif").removeClass("is-invisible"),e.possiblySensitive=!1},r.alwaysShowSensitiveMedia=function(e){TD.settings.setDisplaySensitiveMedia(!0)},r}()},function(e,t,i){"use strict";var n=i(87);TD.cache.lists=function(){function e(){r.removeAll();var e=s.getAll().filter(function(e){return e.isOwnList()}).map(function(e){return{label:TD.i("Edit List — “{{listName}}” by @{{screenName}}",{listName:e.name,screenName:e.user.screenName}),apply:function(){return $(document).trigger("uiShowEditListMembers",{list:e})}}});r.add(e)}function t(e){var t=i[e]||{};return i[e]=t,t}var i={},s={},r=(0,n.makeCommandBag)();return s.add=function(i){t(i.account.getKey())[i.id]=i,TD.controller.feedManager.fixListFeeds(),TD.cache.names.updateScreenName(i.user.id,i.user.screenName),TD.cache.names.updateListName(i.id,i.name),e()},s.unsubscribe=function(i){delete t(i.account.getKey())[i.id],e()},s.purge=function(t){var n;if(_.each(i,function(e,i){n=n||e[t],delete e[t]}),n){var s=TD.storage.Feed.generateKeyFor(n.account.getKey(),"list",{listId:t,ownerId:n.user.id});TD.controller.feedManager.deleteFeedsWhere(function(e){return e.getKey()===s})}e()},s.getListsFor=function(e){return _.values(t(e))},s.find=function(e,t,n,s,r){var o,a,c;return t&&n&&(o="@"+t.toLowerCase()+"/"+n.toLowerCase()),_.each(i,function(t,i){r&&r!==i||_.each(t,function(t,i){(e&&t.id===e||t.fullName.toLowerCase()===o)&&(t.isOwnList()?a=t:c=t)})}),s?a:a||c},s.getAll=function(){var e={};return _.each(i,function(t,i){_.extend(e,t)}),_.values(e)},s}()},function(e,t,i){"use strict";var n=i(20),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(22);TD.cache.names=function(){var e={SECONDS_IN_ONE_WEEK:604800,_cache:null};return e.init=function(){e._cache=TD.settings.getNameCache(),e._cache.users=e._cache.users||{},e._cache.lists=e._cache.lists||{},e._cache.customTimelines=e._cache.customTimelines||{},$.subscribe("/storage/client/column_order_changed",function(){e.prune(),e.commit()}),$.subscribe("/storage/column/feeds_changed",function(t,i,n){var s=TD.storage.columnController.get(n.getKey());s&&!s.temporary&&e.commit()})},e.getScreenName=function(t){var i,n,s=TD.util.unixTime(new Date),r=TD.storage.Account.generateKeyFor("twitter",t),o=TD.storage.accountController.get(r);return o?(n=TD.util.atMentionify(o.getUsername()),e.addScreenName(t,n)):(i=e._cache.users[t],i&&(n=i.name),(!i||i.timestamp+e.SECONDS_IN_ONE_WEEK<s)&&e._fetchUser(t)),n},e.getListName=function(t,i){var n,s,r=TD.util.unixTime(new Date),o=TD.cache.lists.find(t,"","");return o?(n=o.name,e.addListName(t,n)):(s=e._cache.lists[t],s&&(n=s.name),(!s||s.timestamp+e.SECONDS_IN_ONE_WEEK<r)&&e._fetchList(t,i)),n},e.getCustomTimelineName=function(t,i){var n,s,r=TD.util.unixTime(new Date);return s=e._cache.customTimelines[t],s&&(n=s.name),(!s||s.timestamp+e.SECONDS_IN_ONE_WEEK<r)&&e._fetchCustomTimeline(t,i),n},e.addScreenName=function(t,i){if(e._cache){var n={},s=e._cache.users[t],r=TD.util.atMentionify(i),o=!s||r!==s.name;n.name=r,n.timestamp=TD.util.unixTime(new Date),e._cache.users[t]=n,o&&(e.commit(),TD.storage.notification.notify("/cache/names/change"))}},e.addListName=function(t,i){if(e._cache){var n={},s=e._cache.lists[t],r=!s||i!==s.name;n.name=i,n.timestamp=TD.util.unixTime(new Date),e._cache.lists[t]=n,r&&(e.commit(),TD.storage.notification.notify("/cache/names/change"))}},e.addCustomTimelineName=function(t,i){if(e._cache&&i){var n={},s=e._cache.customTimelines[t],r=!s||i!==s.name;n.name=i,n.timestamp=TD.util.unixTime(new Date),e._cache.customTimelines[t]=n,r&&(e.commit(),TD.storage.notification.notify("/cache/names/change"))}},e.updateScreenName=function(t,i){if(e._cache){e._cache.users[t]&&e.addScreenName(t,i)}},e.updateListName=function(t,i){if(e._cache){e._cache.lists[t]&&e.addScreenName(t,i)}},e.updateCustomTimelineName=function(t,i){if(e._cache){e._cache.customTimelines[t]&&e.addCustomTimelineName(t,i)}},e._fetchUser=function(t){TD.cache.twitterUsers.getById(t).addCallback(function(i){e.addScreenName(t,i.screenName)})},e._fetchList=function(t,i){var n=TD.storage.Account.generateKeyFor("twitter",i);(0,r.getClientByAccountKeyOrDefault)(n).getList(t,null,null,function(i){e.addListName(t,i.name)})},e._fetchCustomTimeline=function(t,i){var n=TD.storage.Account.generateKeyFor("twitter",i);(0,r.getClientByAccountKeyOrDefault)(n).getCustomTimeline(t,function(i){e.addCustomTimelineName(t,i.name)})},e.commit=_.debounce(function(){e.prune(),TD.settings.setNameCache(e._cache)},100),e.prune=function(){e._cache=e._getPrunedCache()},e._getPrunedCache=function(){var t={users:{},lists:{},customTimelines:{}},i=TD.storage.feedController.getAll();return _.each(i,function(i){var n,r,o,a=i.getType(),c=i.getMetadata();if(c){switch(a){case s.default.feedTypes.CUSTOMTIMELINE:o=c.id,n=c.ownerId;break;case s.default.feedTypes.LIST:r=c.listId,n=c.ownerId;break;default:n=c.id}n&&e._cache.users[n]&&(t.users[n]=e._cache.users[n]),o&&e._cache.customTimelines[o]&&(t.customTimelines[o]=e._cache.customTimelines[o]),r&&e._cache.lists[r]&&(t.lists[r]=e._cache.lists[r])}}),t},e}()},function(e,t,i){"use strict";TD.cache.twitterUsers=function(){function e(){_.each(r.splice(o),function(e){delete n[e.id],delete s[e.screenName.toLowerCase()]})}function t(e,t){var i,r,o,a,c=TD.util.deMentionify(t||"").toLowerCase();return e||t?(i=e?n[e]:s[c],i?a=TD.core.defer.succeed(i):(r=TD.storage.accountController.getPreferredAccount("twitter"),o=TD.controller.clients.getClient(r.getKey()),a=new TD.core.defer.Deferred,o.showUser(e,c,function(e){a.callback(e)},function(t,i,n){a.errback(new TD.core.defer.XMLHttpRequestError(t,n)),t&&t.errors&&t.errors.forEach(function(){63===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).twitterErrorCode&&$.publish("/user/suspended",[e,c])})}))):a=TD.core.defer.fail("Must provide user ID or screen name"),a}var i={},n={},s={},r=[],o=500;return i.add=function(t){var i=n[t.id];i?delete s[i.screenName.toLowerCase()]:r.unshift(t),n[t.id]=t,s[t.screenName.toLowerCase()]=t,$(document).trigger("dataCachedTwitterUser",t),e()},i.getById=function(e){return t(e,null)},i.getByScreenName=function(e){return t(null,e)},i}()},function(e,t,i){"use strict";window.TD_mustaches=i(709),window.jQuery=window.$=i(86),window.Hogan=i(424),window.StateMachine=i(427),window._=i(54),window.twttrTxt=i(210),i(437)},function(e,t,i){"use strict";TD.components.AccountSelector=TD.components.Base.extend(function(e){var t=this;this.$node=$.createElement("ul").addClass("accs cf js-account-selector"),this.cachedSelectedAccounts=[],this.accountIndex={},this.refreshPostingAccounts(),this.$node.on("click",".js-account-item",function(e){var i=$(e.currentTarget);e.stopPropagation(),e.shiftKey?($("li",t.$node).removeClass(TD.components.AccountSelector.SELECTED_CLASS),i.addClass(TD.components.AccountSelector.SELECTED_CLASS)):i.toggleClass(TD.components.AccountSelector.SELECTED_CLASS),t.updateSelectedAccounts()}),this.subscription=$.subscribe("/storage/client/account_whitelist_changed",_.bind(this.refreshPostingAccounts,this))}).statics({CHANGE:"td-accounts-change",SELECTED_CLASS:"acc-selected"}).methods({refreshPostingAccounts:function(){var e,t,i,n,s=TD.storage.accountController.getPostingAccounts(),r=[];for(this.accountIndex={},e=0;e<s.length;e++)t=s[e],i=t.getKey(),r.push(i),this.accountIndex[i]={account:i,uid:i,type:"account",username:t.getUsername(),service:t.getType(),picture:t.getProfileImageURL()};r.length&&(n=TD.ui.template.render("compose/accounts",function(e,t,i){var n={accounts:[],show_acc_toggle:i};return n.accounts=_.map(e,function(e){return t[e]}),n}(r,this.accountIndex,!0)),this.$node.html(n))},getSelectedAccounts:function(){var e,t,i=[];if(this.cachedSelectedAccounts)return this.cachedSelectedAccounts.concat();e=$("."+TD.components.AccountSelector.SELECTED_CLASS,this.$node);for(var n=0;n<e.length;n++)t=e[n].attributes["data-id"].value,i.push(this.accountIndex[t]);return this.cachedSelectedAccounts=i,i},selectAccounts:function(e){var t,i=this.$node.find(".js-account-item");if(_.isArray(e)&&(i.removeClass(TD.components.AccountSelector.SELECTED_CLASS),e&&e.length)){for(t=0;t<e.length;t++)e[t]&&i.filter("li[data-id='"+e[t]+"']").addClass(TD.components.AccountSelector.SELECTED_CLASS);this.updateSelectedAccounts()}},selectDefaultAccount:function(){var e=TD.storage.accountController.getDefault();e&&this.selectAccounts([e.getKey()])},updateSelectedAccounts:function(){this.cachedSelectedAccounts=null;var e=this.getSelectedAccounts();this.$node.trigger(TD.components.AccountSelector.CHANGE,{selectedAccounts:e})},destroy:function(){$.unsubscribe(this.subscription),this.$node.off("click",".js-account-item"),this.supr()}})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(172),r=n(s),o=i(284),a=n(o),c=i(6);TD.components.ActionDialog=TD.components.BaseModal.extend(function(e){this.tweet=e,this.$node.removeClass("js-modal-panel s-tall-fixed").addClass("cmp s-inreply l-no-txtarea s-fluid-height"),this.mainUser=e.getMainUser(),this.$find(".mdl-inner").replaceWith($(TD.ui.template.render("actions/action_dialog",{isProtected:this.mainUser.isProtected}))),this.$inreplyToHolder=this.$find(".js-inreply"),this.header=new TD.components.ActionHeader,this.header.$node.bind(TD.components.ActionHeader.CLOSE,this.destroy.bind(this)),this.$find(".mdl-header").prepend(this.header.$node),this.$buttons=this.$find(".js-action-button"),this.$buttons.click(this._handleClick.bind(this)),this.$retweetButton=this.$find(".js-retweet-button"),this.$inreplyToHolder.on("click",".js-other-replies-link",this._showOtherReplies.bind(this)),this._boundRetweet=this._retweet.bind(this),this._boundHandleRetweetSuccess=this._handleRetweetSuccess.bind(this),this._boundHandleRetweetFailure=this._handleRetweetFailure.bind(this),this._boundHandleTwitterUsers=this._handleTwitterUsers.bind(this),$(document).on("uiSendRetweetAction",this._boundRetweet),$(document).on("dataRetweetSuccess",this._boundHandleRetweetSuccess),$(document).on("dataRetweetError",this._boundHandleRetweetFailure),$(document).on("dataTwitterUsers",this._boundHandleTwitterUsers),this.displayTweet(e),this.header.accountSelector.$node.on(TD.components.AccountSelector.CHANGE,this._handleAccountSelectionChange.bind(this)),this.header.accountSelector.selectAccounts([e.account.getKey()]),this.setAndShowContainer($("#actions-modal"))}).methods({displayTweet:function(e){e&&(e.withAvatar=!0,e.inDialog=!0,this.$inreplyToHolder.html(TD.ui.template.render("status/tweet_single",e)).show())},_quote:function(){var e=this.header.accountSelector.getSelectedAccounts(),t=e.map(function(e){return e.account});this.tweet.quoteTo(t),this.destroy()},_editquote:function(){var e=this.header.accountSelector.getSelectedAccounts(),t=e.map(function(e){return e.account});$(document).trigger("uiComposeTweet",{text:this.tweet.getMainTweet().getQuoteText(),from:t,isEditAndRetweet:!0})},_retweet:function(){this.$buttons.prop("disabled",!0);var e=this.header.accountSelector.getSelectedAccounts(),t=e.map(function(e){return e.account});$(document).trigger("uiRetweet",{id:this.tweet.id,from:t})},_handleClick:function(e){var t=$(e.target);if(t.hasClass("is-disabled"))return!1;switch(t.data("action")){case"quote":this._quote();break;case"editquote":this._editquote(),this.destroy();break;case"retweet":this._retweet()}},_showOtherReplies:function(e){var t=r.default.getImplicitMentions(this.tweet.entities.user_mentions);this.requestId=r.default.requestUsers(t)},_handleTwitterUsers:function(e,t){if(t.requestId===this.requestId){this.header.$node.remove(),this.$inreplyToHolder.remove();var i=TD.i("People in conversation");this.$title.html(i);var n=this.$find(".mdl-inner");a.default.attachTo(n,{replies:t.users})}},_handleAccountSelectionChange:function(e,t){var i=t.selectedAccounts,n=void 0===i?[]:i;this.$retweetButton.toggleClass("is-disabled",!n.length)},_handleRetweetSuccess:function(e,t){this.tweet.setRetweeted(!0),TD.controller.stats.retweet(this.tweet.getScribeItemData(),t.response.user.id_str),this.destroy()},_handleRetweetFailure:function(e,t){var i=TD.i("Failed: Retweet");t.response.errors&&t.response.errors.forEach(function(e){i+=" - "+e.message}),(0,c.showErrorNotification)({message:i}),this.$buttons.prop("disabled",!1)},destroy:function(){$(document).off("uiSendRetweetAction",this._boundRetweet),$(document).off("dataRetweetSuccess",this._boundHandleRetweetSuccess),$(document).off("dataRetweetError",this._boundHandleRetweetFailure),$(document).off("dataTwitterUsers",this._boundHandleTwitterUsers),this.header.accountSelector.$node.off(TD.components.AccountSelector.CHANGE),$("#actions-modal").hide(),this.header.destroy(),this.supr()}})},function(e,t,i){"use strict";TD.components.ActionHeader=TD.components.Base.extend(function(){var e=this;this.$node=$.createElement("div"),this.$node.append($(TD.ui.template.render("actions/action_header"))),this.accountSelector=new TD.components.AccountSelector,this.$node.append(this.accountSelector.$node),this.$composeUsernames=this.$find("h3"),this.$actionText=this.$find("span"),this.accountSelector.$node.bind(TD.components.AccountSelector.CHANGE,function(){var t=_.map(e.accountSelector.getSelectedAccounts(),function(e){return e.username}),i=TD.i("From {{accounts}}",{accounts:t.join(", ")});e.$composeUsernames.text(i)}),this.accountSelector.selectDefaultAccount()}).statics({CHANGE:"td-accounts-change",CLOSE:"td-dialog-close"}).methods({destroy:function(){this.accountSelector.destroy(),this.supr()}})},function(e,t,i){"use strict";TD.components.AddToCustomTimelineDialog=TD.components.BaseModal.extend(function(e){var t=TD.storage.accountController.getAccountsForService("twitter");if(this.myCustomTimelines=[],this.tweetToAdd=e,this.tweetToAdd.user.isProtected)return void this.destroy();t.forEach(function(t){var i=TD.controller.clients.getClient(t.getKey());this.myCustomTimelines=this.myCustomTimelines.concat(i.customTimelines),i.getCustomTimelines(null,e.id,function(e){for(var t=0;t<e.length;t++)this.$find('[data-id="'+e[t].id+'"]').prop("checked",!0)}.bind(this))}.bind(this)),this.myCustomTimelines.sort(function(e,t){var i=e.name.toLowerCase(),n=t.name.toLowerCase();return i<n?-1:i>n?1:0}),this.$node.removeClass("s-short").addClass("s-fluid s-wide cmp s-minimal"),this.$title.html(" "+TD.i("Include Tweet in:")),this.$menuContainer.html(TD.ui.template.render("actions/add_to_customtimeline_dialog",this)).addClass("with-scroll scroll-v scroll-alt").toggleClass("scroll-styled-v",TD.globalRenderOptions.styledScrollbar),this.$checkboxes=this.$find(".js-mdl-content input").click(_.bind(this._changeSubscription,this)),$(".js-dismiss",this.$node).click(_.bind(this.destroy,this)),$("#actions-modal").html(this.$node).show(),this.$checkboxes.first().focus()}).methods({_render:function(){return $(TD.ui.template.render("short_modal",{title:TD.i("Your collections"),hasDoneButton:!0}))},_changeSubscription:function(e){var t=$(e.target),i=t.attr("data-id"),n=t.prop("checked"),s=t.attr("data-account"),r=n?"uiAddOrMoveTweetToCustomTimeline":"uiRemoveTweetFromCustomTimeline";$(document).trigger(r,{id:i,account:s,tweetId:this.tweetToAdd.id})},destroy:function(e){$(document).off("uiHasCustomTimelines",this.handleHasCustomTimelines),this.$node.remove(),$("#actions-modal").hide(),e&&e.preventDefault(),this.supr()}})},function(e,t,i){"use strict";TD.components.AddToListsDialog=TD.components.BaseModal.extend(function(e){this.myLists=[],this.userToAdd=e,this._getLists(),this.$node.removeClass("s-short").addClass("s-fluid s-narrow cmp s-minimal"),this.$title.html(" "+TD.i("Include {{>text/user_link_screenname}} in:",e)),this.$menuContainer.html(TD.ui.template.render("actions/add_to_list_dialog",this)).addClass("with-scroll scroll-v scroll-alt").toggleClass("scroll-styled-v",TD.globalRenderOptions.styledScrollbar),this.$find(".js-mdl-content input").click(this._changeSubscription.bind(this)),this.$createListButton=this.$find(".js-create-list"),this.$createListButton.click(_.bind(this._createList,this)),this.setAndShowContainer($("#actions-modal"))}).methods({_render:function(){return $(TD.ui.template.render("short_modal",{title:TD.i("Your lists"),hasDoneButton:!0}))},_changeSubscription:function(e){var t=$(e.target),i=t.attr("id"),n=t.prop("checked"),s=t.attr("data-account"),r=TD.controller.clients.getClient(s),o=TD.storage.Feed.generateKeyFor(s,"list",{listId:i}),a=TD.controller.feedManager.getPoller(o),c=this;n?r.addUserToList(i,this.userToAdd.screenName,function(){a&&_.delay(function(){a.refresh({reset:!0})},1e3)}):r.removeUserFromList(i,this.userToAdd.screenName,function(){a&&a.removeWhere(function(e){return c.userToAdd.id===e.user.id})})},_createList:function(){this.$node.trigger("uiShowEditListDetails",{autoAddUser:this.userToAdd}),this.destroy()},_getLists:function(){var e=this;TD.storage.accountController.getAccountsForService("twitter").forEach(function(t){var i=t.getKey(),n=TD.controller.clients.getClient(i),s=TD.cache.lists.getListsFor(i).filter(function(e){return e.isOwnList()});e.myLists=e.myLists.concat(s.sort(function(e,t){var i=e.name.toLowerCase(),n=t.name.toLowerCase();return(i>n)-(i<n)})),n.getListMemberships(e.userToAdd.screenName,!0,function(e){e.forEach(function(e){document.getElementById(e.id).checked=!0})})})},destroy:function(e){this.$node.remove(),$("#actions-modal").hide(),e&&e.preventDefault(),this.supr()}})},function(e,t,i){"use strict";var n=i(282),s=i(13),r=function(e){return e&&e.__esModule?e:{default:e}}(s);TD.components.Autocomplete=TD.components.Base.extend(function(e,t){var i={limit:5,dmMode:!1,position:"below",repositionInViewport:!1};this.options=_.extend(i,t),this.$input=e,this.isCompletionsOpen=!1,this.userIsInteracting=!1,this.dropdownId=_.uniqueId("autocomplete"),this.$node=$.createElement("ul").addClass("lst lst-modal typeahead").insertAfter(this.$input),this.$selectedItem=null,this._registerEvents(),this.usernameRegex=i.dmMode?this.constructor.dmUsername:this.constructor.username,$(document).on("dataTypeaheadSuggestions",this.updateDropdown.bind(this))}).statics({username:/^[+\/\.<>()|\\=]?[@＠]([a-zA-Z0-9_]{1,20})$/,dmUsername:/(.*)/,hashtag:/^[#＃]([a-zA-Z0-9_]+)/,SELECT:"td-autocomplete-select",spaceBoundary:/\s|$/,wordEnd:/[^+\/.<>()|\\=\s]+$/}).methods({_registerEvents:function(){var e=this;this.$input.bind("keydown",_.bind(this.keypress,this)),this.$input.bind("keyup click",_.bind(this.keyup,this)),this.blurHandler=function(){_.delay(function(){e.hide()},500)},this.$input.bind("blur",this.blurHandler),this.$input.bind("mouseup",_.bind(function(e){setTimeout(this.getCaret.bind(this),0)},this)).bind("focus",_.bind(this.getCaret,this)),this.$node.delegate("li","mouseenter",function(t){e.$node.find("li.s-selected").removeClass("s-selected"),$(this).addClass("s-selected")}).delegate("li","click",_.bind(function(t){e.$selectedItem=$(t.target).closest("li").addClass("s-selected"),e.$selectedItem.siblings(".s-selected").removeClass("s-selected"),this.$input.focus(),this.select()},this))},_unregisterEvents:function(){this.$input.unbind("keydown"),this.$input.unbind("keyup click keydown"),this.$input.unbind("bind",this.blurHandler)},keyup:function(e){if(e.keyCode){e.stopPropagation();var t="",i=this.getCurrentText(),n=this.getCaret(),s=!1;if(this.options.dmMode?t=i:(t=this.getCurrentWord(n),"@"===i.charAt(n)&&(t="")),t.match(this.usernameRegex)?(t=RegExp.$1,this.autocompleteType="username",s=!0):t.match(this.constructor.hashtag)&&(t=RegExp.$1,this.autocompleteType="hashtag",s=!0),t.length&&s)switch(e.keyCode){case TD.constants.keyCodes.escape:this.hide(),e.stopPropagation();break;case TD.constants.keyCodes.shift:case TD.constants.keyCodes.upArrow:case TD.constants.keyCodes.downArrow:break;default:"hashtag"===this.autocompleteType?this.lookUpHashtag(t):this.lookUpUser(t)}else this.hide()}},keypress:function(e){var t;switch(e.keyCode){case TD.constants.keyCodes.tab:case TD.constants.keyCodes.enter:t=this.$selectedItem&&this.isCompletionsOpen,!e.shiftKey&&t&&(this.select(),e.preventDefault(),e.stopPropagation());break;case TD.constants.keyCodes.escape:this.isCompletionsOpen&&(e.preventDefault(),e.stopPropagation());break;case TD.constants.keyCodes.upArrow:this.isCompletionsOpen&&!e.shiftKey&&(this.moveSelection("prev"),e.preventDefault(),e.stopPropagation());break;case TD.constants.keyCodes.downArrow:this.isCompletionsOpen&&!e.shiftKey&&(this.moveSelection("next"),e.preventDefault(),e.stopPropagation());break;default:this.$selectedItem=null,this.userIsInteracting=!1}},sanitize:function(e){return e.replace(/ /g,"")},moveSelection:function(e){this.userIsInteracting=!0;var t="next"===e?"li:first":"li:last",i=this.$selectedItem||this.$node.find("li.s-selected");if(!i.length)return void(this.$selectedItem=this.$node.find(t).addClass("s-selected"));i=i.removeClass("s-selected"),i="next"===e?i.nextAll("li:first"):i.prevAll("li:first"),i.length?this.$selectedItem=i.addClass("s-selected"):this.$selectedItem=this.$node.find(t).addClass("s-selected")},select:function(){var e,t,i;this.$selectedItem&&("username"===this.autocompleteType?(e=this.$selectedItem.find(".js-screenname").text(),this.options.dmMode||(e="@"+e),t=this.$selectedItem.find("img").attr("src"),i=this.$selectedItem.attr("data-id")):e=this.$selectedItem.find(".js-hashtag").text(),this.set(e,t,i))},set:function(e,t,i){var n=this.replaceCurrentWord(e);this.$input.val(n.value),this.setCaretPosition(n.cursor),this.$input.change(),this.$node.trigger(this.constructor.SELECT,[{screenName:e,avatar:t,id:i}]),this.hide()},show:function(){this.$node.show(),this.isCompletionsOpen=!0},hide:function(){this.$node.hide(),this.isCompletionsOpen=!1,this.userIsInteracting=!1,this.$node.trigger("dataTypeaheadQueryReset")},lookUpHashtag:function(e){e=this.sanitize(e);var t={datasources:["topics"],query:"#"+e,onlyLocalData:!0,dropdownId:this.dropdownId,type:"compose",limits:{topics:5}};TD.decider.get("autocomplete_remote_sources")&&(t.onlyLocalData=!1),this.$node.trigger("uiNeedsTypeaheadSuggestions",t)},lookUpUser:function(e){var t={datasources:["users"],query:e,onlyLocalData:!0,dropdownId:this.dropdownId,type:"compose",limits:{users:5}};TD.decider.get("autocomplete_remote_sources")&&(t.onlyLocalData=!1),this.$node.trigger("uiNeedsTypeaheadSuggestions",t)},updateDropdown:function(e,t){if(!this.userIsInteracting&&t.dropdownId===this.dropdownId){var i,s,o=[];"hashtag"===this.autocompleteType&&t.suggestions.topics?(s=t.suggestions.topics.slice(0,this.options.limit),o=s.map(function(e){return{value:e.topic,hashFlagUrl:TD.decider.get("hashflags")?(0,n.hashflags)().get(e.topic):null}},this),i=TD.ui.template.render("compose/autocomplete_hashtag",{results:o})):"username"===this.autocompleteType&&t.suggestions.users&&(s=t.suggestions.users.slice(0,this.options.limit),o=s.map(function(e){return{id:e.id,screenName:e.screen_name,name:e.name,emojifiedName:r.default.cleanWithEmoji(e.name),isVerified:e.verified,pic:TD.util.transformTwitterAvatar(e.profile_image_url_https,"mini")}},this),i=TD.ui.template.render("compose/autocomplete_twitter_user",{results:o})),this.$node.html(i),o.length?(this.isCompletionsOpen||this.show(),this.moveSelection("next"),this.reposition()):this.isCompletionsOpen&&this.hide()}},reposition:function(){if(this.setPosition(this.options.position),this.options.repositionInViewport){var e=$(window),t=this.$node.offset().top-e.scrollTop(),i=t+this.$node.outerHeight(),n=t<0,s=i>e.height();"above"===this.options.position&&n?this.setPosition("below"):"below"===this.options.position&&s&&this.setPosition("above")}},setPosition:function(e){this.$node.css({bottom:"above"===e?this.$input.outerHeight():""})},getCurrentText:function(){return this.$input.val()},setCaretPosition:function(e){var t=this.$input[0];if(t.setSelectionRange)t.focus(),t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}this.lastCaret=e},getCaret:function(){var e=this.$input[0],t=0;if(document.selection){try{e.focus()}catch(e){}var i=document.selection.createRange();if(null==i)return this.lastCaret=0,0;var n=e.createTextRange(),s=n.duplicate();n.moveToBookmark(i.getBookmark()),s.setEndPoint("EndToStart",n),t=s.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return this.lastCaret=t,t},insertOrReplaceSelection:function(e,t){var i=this.$input[0],n=this.getCaret(),s=n+e.length;if(document.selection){i.focus();if(document.selection.createRange().text=e,t){var r=i.createTextRange();r.collapse(!0),r.moveEnd("character",s),r.moveStart("character",n),r.select()}else this.setCaretPosition(s)}else if(i.selectionStart||"0"==i.selectionStart){var o=i.selectionStart,a=i.selectionEnd,c=i.scrollTop;i.value=i.value.substring(0,o)+e+i.value.substring(a,i.value.length),i.focus(),i.selectionStart=t?n:s,i.selectionEnd=s,i.scrollTop=c}else i.value+=e,this.setCaretPosition(s),i.focus();this.lastCaret=s,this.$input.change()},getCurrentWord:function(e){var t=this.getCurrentText(),i=t.slice(0,e),n=t.slice(e,t.length),s=t.charAt(e-1);if(!s||" "===s)return"";this.leftBoundary=i.search(this.constructor.wordEnd);var r=i.slice(this.leftBoundary,i.length),o=n.slice(0,n.search(this.constructor.spaceBoundary)),a=r.concat(o);return this.rightBoundary=this.leftBoundary+a.length,a},replaceCurrentWord:function(e){var t=this.getCurrentText().split("");this.oldValueArray=t;var i=t.slice(0,this.leftBoundary),n=t.slice(this.rightBoundary,t.length);(n.length<1||!n[0].match(/\s/))&&(e+=" ");var s=(i.join("")+e).length+1;return{value:i.join("")+e+n.join(""),cursor:s}},destroy:function(){this._unregisterEvents(),this.$node.remove()}})},function(e,t,i){"use strict";var n=i(429),s=function(e){return e&&e.__esModule?e:{default:e}}(n);TD.components.Base=(0,s.default)(function(){this.$node=$.createElement("div").addClass("js-component")}).methods({$find:function(){return this.$node.find.apply(this.$node,arguments)},publishEvent:function(e,t){var i={data:t,target:this};TD.storage.notification.notify(e,i)},bubbleEvent:function(e,t){var i={data:t,target:this};this.$node.trigger(e,[i])},destroy:function(){this.$node.remove()},show:function(){this.$node.show()},hide:function(){this.$node.hide()}})},function(e,t,i){"use strict";TD.components.BaseModal=TD.components.Base.extend(function(){this.$node=this._render(),$(document).trigger("uiCloseModal"),this.$title=this.$find(".js-header-title"),this.$closeButton=this.$find(".js-dismiss"),this.$menuContainer=this.$find(".js-mdl-content"),this.$footer=this.$find("footer");var e=_.bind(this.destroy,this);this.$node.bind(TD.components.BaseModal.CLOSE_EVENT,e),this.$node.on("click",".js-dismiss",this.destroy.bind(this)),this.boundCloseModal=this._handleCloseModal.bind(this),$(document).on("uiCloseModal",this.boundCloseModal);var t=_.bind(this.handleDragStart,this),i=_.bind(this.getDragDropBoundary,this);this.$node.draggable({boundary:i,handle:this.$find(".js-drag-handle")}),this.$node.on("start.draggable",t),$("div.ovl.scroll-v").on("click",function(t){this===t.target&&e()}),TD.util.isTouchDevice()&&window.navigator.standalone&&($("div.ovl.scroll-v").on("touchmove",function(e){e.preventDefault()}),$("div.ovl.scroll-v").on("touchmove",".scroll-v",function(e){e.stopPropagation()})),this.hasFocus=!1,this.focusId=_.uniqueId("focus"),this._boundHandleFocus=this.handleFocus.bind(this),$(document).on("uiFocus",this._boundHandleFocus),$(document).trigger("uiFocusRequest",{id:this.focusId})}).statics({CLOSE_EVENT:"td-close"}).methods({_render:function(){return $(TD.ui.template.render("large_modal"))},handleFocus:function(e,t){t.id===this.focusId?this.hasFocus=!0:this.hasFocus=!1},getDragDropBoundary:function(){return this.$node.parent()},handleDragStart:function(){this.$node.css({position:"absolute",top:this.$node.offset().top,left:this.$node.offset().left}),this.$node.parent("#open-modal").addClass("is-dragging")},setAndShowContainer:function(e,t){"boolean"!=typeof t&&(t=!0),t&&e.empty(),e.append(this.$node).show(),this._checkIfTouchModal(e)},show:function(){this.supr()},_checkIfTouchModal:function(e){var t=$("#open-modal");TD.util.isTouchDevice()&&TD.decider.get("touchdeck_modals_v2")?(e.addClass("is-touch-modal"),t.addClass("is-touch-modal")):(e.removeClass("is-touch-modal"),t.removeClass("is-touch-modal"))},_handleCloseModal:function(){this.destroy()},destroy:function(){this.$node.parent("#open-modal").removeClass("is-dragging"),$(document).off("uiFocus",this._boundHandleFocus),$(document).off("uiCloseModal",this.boundCloseModal),$(document).trigger("uiFocusRelease",{id:this.focusId}),this.$node.find("video, video source").attr("src",""),this.supr()}})},function(e,t,i){"use strict";TD.components.ConversationDetailView=TD.components.DetailView.extend(function(e,t){$(document).trigger("metric",{key:"dm:ui:conversation:view"}),$(document).trigger("scribeEvent",{terms:{page:"main",component:"conversations",section:"detail",action:"impression"}}),this.$column=t,this.boundHandleUiColumnTitleRefreshed=this.handleUiColumnTitleRefreshed.bind(this),this.$column.on("uiColumnTitleRefreshed",this.boundHandleUiColumnTitleRefreshed),this.boundHandleUiConversationChanged=this.handleUiConversationChanged.bind(this),$(document).on("uiConversationChanged",this.boundHandleUiConversationChanged)}).methods({_render:function(){this.$node=$(TD.ui.template.render("status/message_wrapper",{headerClass:"js-detail-header",headerAction:"resetToTopColumn",headerLinkClass:"js-column-back"}))},_renderChirp:function(){var e=this.chirp.renderThread();this.$find(".js-message-detail").html(e),this.initialised=!0,this.chirp.markAsRead(),this.$node.trigger("uiDetailViewActive",{$chirp:this.getMostInteresting$Chirp(),chirp:this.chirp,parentChirp:this.parentChirp});var t=this.chirp.isOneToOne()?"dm:ui:conversation:view:one-to-one":"dm:ui:conversation:view:group-dm";$(document).trigger("metric",{key:t})},showChirp:function(e,t){this.chirp=e,this.parentChirp=t,this.replyBar=new TD.components.ReplyBar(this.chirp),this.$find(".js-message-box").replaceWith(this.replyBar.$node),this._renderChirp(),TD.ui.columns.refreshTitle(this.column,this.chirp),this.$column.trigger("uiColumnTitleRefreshed",{columnKey:this.column.model.getKey()});var i=this.chirp.updateConversation();return i.addCallback(function(e){if(e.length)return e[0]}),i.addCallback(this.changed.bind(this)),i},handleUiConversationChanged:function(e,t){this.changed(t.chirp)},changed:function(e){if(this.initialised&&e&&e.id===this.chirp.id){var t=e.renderThread();this.$find(".js-message-detail").html(t),TD.ui.columns.refreshTitle(this.column,this.chirp)}},findChirp:function(e){return this.initialised?this.chirp.messageIndex[e]:void 0},getMostInteresting$Chirp:function(){return this.$find(".js-message-detail .js-stream-item").first()},handleUiColumnTitleRefreshed:function(e,t){if(this.$column.find(".js-tooltip-target").tooltip("destroy"),t.columnKey&&this.chirp.participants.length>1){var i=TD.ui.template.render("participants_tooltip",{title:TD.util.transform(this.chirp.name||""),participants:this.chirp.participants});this.$column.find(".js-tooltip-target").tooltip({container:this.$column.find(".js-detail-header"),placement:function(e){var t=this.$column.find(".js-detail-header");return{top:t.position().top+t.height(),left:Math.round((t.width()-$(e).width())/2),placement:"bottom"}}.bind(this),html:!0,title:i,delay:{show:500,hide:100}})}},destroy:function(){var e=function(){this.initialised&&(this.replyBar.destroy(),this.chirp.markAsRead())}.bind(this);this.$column.off("uiColumnTitleRefreshed",this.boundHandleUiColumnTitleRefreshed),$(document).off("uiConversationChanged",this.boundHandleUiConversationChanged),this.supr(e)}})},function(e,t,i){"use strict";var n=i(174),s=i(22);TD.components.CustomTimelines=TD.components.Base.extend(function(e,t,i){var n=this;this.mode=i;var r,o,a=this,c={},l=TD.storage.clientController.client.getDefaultAccount();switch(this.owners=c,this.screenName=e,e?r="lists"===this.mode?TD.i("@{{screenName}}'s lists",this):TD.i("@{{screenName}}'s collections",this):"lists"===this.mode?r=TD.i("Your lists"):"customtimelines"===this.mode&&(r=TD.i("Your collections")),this.mode){case"lists":o=[{title:r,className:"js-my-custom-timelines",isFilterable:!0,itemType:TD.i("lists")},{title:TD.i("Subscribed to"),className:"js-others-custom-timelines",isHidden:!0,itemType:TD.i("lists")}];break;case"customtimelines":o=[{title:r,className:"js-my-custom-timelines",isFilterable:!0,itemType:TD.i("collections")}]}if(this.$node=$(TD.ui.template.render("open_column_list_multi_group",{groups:o})),this.$searchFilterInput=this.$find(".js-search-filter"),this.$myTimelines=this.$find("ul.js-my-custom-timelines"),this.$otherTimelines=this.$find("ul.js-others-custom-timelines"),this.$noMatch=this.$find(".js-no-match").first(),this.items=[],this.menuComponents=[],this.slug=t,this.$searchFilterInput.on("keyup keydown keypress paste",function(){return n._handleFilterChange()}),this.listComparator=function(e,t){var i,n,s=TD.components.CustomTimelines;return c[e.user.id]&&!c[t.user.id]?-1:!c[e.user.id]&&c[t.user.id]?1:c[e.user.id]&&c[t.user.id]?(i=e.account.getKey()===l,n=t.account.getKey()===l,i===n?s.ownerNameComparator(e,t)||s.nameComparator(e,t):i?-1:1):s.nameComparator(e,t)||s.ownerNameComparator(e,t)},this.collectionsComparator=function(e,t){var i=e.name.toLowerCase(),n=t.name.toLowerCase();return i<n?-1:i>n?1:0},e){TD.cache.twitterUsers.getByScreenName(e).addCallback(function(t){c[t.id]=!0;var i=(0,s.getClientByScreenName)(e);switch(a.mode){case"lists":i?(a._handleLists(TD.cache.lists.getListsFor(i.oauth.account.getKey())),a.bubbleEvent(TD.components.CustomTimelines.LOADED,a.items.length)):(i=(0,s.getTwitterClient)(),i.getLists(e,function(e){a._handleLists(e),a.bubbleEvent(TD.components.CustomTimelines.LOADED,a.items.length)}));break;case"customtimelines":i=i||(0,s.getTwitterClient)(),i.getCustomTimelines(t.id,null,function(e){a._handleLists(e),a.bubbleEvent(TD.components.CustomTimelines.LOADED,a.items.length)})}})}else{var u=TD.controller.clients.getClientsByService("twitter");_.each(u,function(e){c[e.oauth.account.getUserID()]=!0}),_.each(u,function(e){"lists"===a.mode?a._handleLists(TD.cache.lists.getListsFor(e.oauth.account.getKey())):"customtimelines"===a.mode&&a._handleLists(e.customTimelines)}),this.bubbleEvent(TD.components.CustomTimelines.LOADED,a.items.length)}}).statics({LOADED:"td-custom-timelines-loaded",nameComparator:function(e,t){var i=e.name.toLowerCase(),n=t.name.toLowerCase();return(i>n)-(i<n)},ownerNameComparator:function(e,t){var i=e.user.name.toLowerCase(),n=t.user.name.toLowerCase();return(i>n)-(i<n)}}).methods({_handleLists:function(e){if(_.isArray(e)&&0!==e.length){this.items=this.items.concat(e),"lists"===this.mode?this.items.sort(this.listComparator):this.items.sort(this.collectionsComparator);var t={};this.items=_.select(this.items,function(e){var i=!t[e.id];return t[e.id]=!0,i}),this._renderLists(this.items,{isSearch:!1})}},_handleFilterChange:(0,n.makeDOMMutator)(function(){var e=this.$searchFilterInput.val().toLowerCase(),t=this.items.filter(function(t){return(t.name+" "+t.description).toLowerCase().includes(e)});this._renderLists(t,{isSearch:!0})}),_renderLists:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_.each(this.menuComponents,function(e){e.destroy()});var n=this.$find(".js-title").not(".is-hidden"),s=this.$find(".is-search-hidden");!e.length&&i.isSearch?(n.addClass("is-hidden is-search-hidden"),this.$noMatch.removeClass("is-hidden")):(s.removeClass("is-hidden"),this.$noMatch.addClass("is-hidden"));var r;this.menuComponents=_.map(e,function(e){var i=new TD.components.MenuItem;switch(t.mode){case"lists":i.list(e),t.owners[e.user.id]?(t.$myTimelines.append(i.$node),t.slug&&e.slug.toLowerCase()===t.slug.toLowerCase()&&e.user.screenName.toLowerCase()===t.screenName.toLowerCase()&&(r=i)):(t.$find(".js-title").removeClass("is-hidden"),t.$otherTimelines.append(i.$node));break;case"customtimelines":i.customTimeline(e),t.$myTimelines.append(i.$node);var n=e.id.replace("custom-","");t.slug&&n.toLowerCase()===t.slug.toLowerCase()&&(r=i)}return i}),!r&&this.screenName&&this.menuComponents.length>0&&(r=this.menuComponents[0]),r&&_.defer(function(){r.select()})}})},function(e,t,i){"use strict";TD.components.Dataminr=TD.components.Base.extend(function(){this.$node=$(TD.ui.template.render("open_column_list_multi_group")),this.items=[],this.menuComponents=[],this._boundHandleWatchlists=this._handleWatchlists.bind(this),$(document).on("dataDataminrWatchlists",this._boundHandleWatchlists),$(document).trigger("uiNeedsDataminrWatchlists")}).statics({}).methods({_handleWatchlists:function(e,t){if(t.watchlists&&0!==t.watchlists.length){this.menuComponents.forEach(function(e){e.destroy()}),this.$node.empty();t.watchlists.forEach(function(e){var t=$(TD.ui.template.render("open_column_list_group",{title:e.name})),i=t.filter(".js-list-container");e.value.forEach(function(e){var t=new TD.components.MenuItem;t.dataminr(e),this.menuComponents.push(t),i.append(t.$node)},this),this.$node.append(t)},this),this.menuComponents.length>0&&_.defer(function(){this.menuComponents[0].select()}.bind(this))}},destroy:function(){$(document).off("dataDataminrWatchlists",this._boundHandleWatchlists),this.supr()}})},function(e,t,i){"use strict";TD.components.DataminrDetailView=TD.components.TweetDetailView.extend(function(e,t){}).statics({HEADER_CONTAINER:".js-dataminr-header",FOOTER_CONTAINER:".js-dataminr-footer",SOURCE_PROFILE_CONTAINER:".js-source-profile",SKIP_TO_REPLIES:".js-skip-to-replies",REPLIES_HEADER:".js-replies-header",FOLLOW_FROM_SELECTOR:".js-action-follow",FOLLOW_STATE_SELECTOR:".prf-follow-status",CLOSE_EVENT:"uiDataminrDetailViewClosed"}).methods({_render:function(){return this.supr({withDataminr:!0})},showChirp:function(e,t){this._dataminrConversationSubscription=$.subscribe("/tweets/conversation/"+e.id,this._handleDataminrConversation.bind(this)),this.supr(e,t),this.addDataminrComponents(e)},addDataminrComponents:function(e){e.dataminr&&(this._showDataminrHeader(e.dataminr),this._showDataminrFooter(e.dataminr),this._showDataminrSourceProfile(e.user,e.account))},_showDataminrFooter:function(e){var t=TD.ui.template.render("status/dataminr_footer",e);this.$find(TD.components.DataminrDetailView.FOOTER_CONTAINER).html(t)},_showDataminrHeader:function(e){var t=TD.ui.template.render("status/dataminr_header",e);this.$find(TD.components.DataminrDetailView.HEADER_CONTAINER).html(t)},_showDataminrSourceProfile:function(e,t){var n=TD.ui.template.render("profile/profile_full",e);this.$find(TD.components.DataminrDetailView.SOURCE_PROFILE_CONTAINER).html(n);var s=i(460),r=i(462),o={account:t,twitterUser:e,closeEvent:TD.components.DataminrDetailView.CLOSE_EVENT};r.attachTo(this.$find(TD.components.DataminrDetailView.FOLLOW_FROM_SELECTOR),o),s.attachTo(this.$find(TD.components.DataminrDetailView.FOLLOW_STATE_SELECTOR),o)},_handleDataminrConversation:function(e){e.descendants&&e.descendants.length>0&&(this.$find(TD.components.DataminrDetailView.SKIP_TO_REPLIES).removeClass("is-hidden"),this.$find(TD.components.DataminrDetailView.REPLIES_HEADER).removeClass("is-hidden"))},destroy:function(){this.$find(TD.components.DataminrDetailView.FOLLOW_STATE_SELECTOR).trigger(TD.components.DataminrDetailView.CLOSE_EVENT),$.unsubscribe(this._dataminrConversationSubscription),this.supr()}})},function(e,t,i){"use strict";TD.components.DetailView=TD.components.Base.extend(function(e,t){this.initialised=!1,this.column=e,this.$column=t,this.$detailContainer=$(".js-column-detail",this.$column),this.$columnsContainer=$("#container"),this.$column.trigger("uiDetailViewOpening",{column:this.column}),this.$column.on("click",".js-column-back",this._handleHeaderClick.bind(this)),this._render(),this.$detailContainer.html(this.$node),this.column.temporary||this.$node.trigger("uiCloseModal"),this.$holder=$(".js-detail-container",this.$column),this.$header=$(".js-column-header",this.$column),TD.ui.columns.refreshTitle(this.column)}).methods({_render:function(){throw new Error("DetailView._render not implemented")},_handleHeaderClick:function(e){this.destroy()},changed:function(e){e&&e.id===this.chirp.id&&(this.chirp=e)},deleted:function(e){e.id===this.chirp.id&&this.destroy()},destroy:function(e){var t=this.supr.bind(this);this.$detailContainer.trigger("uiDetailViewClosing"),this.$column.off("click",".js-column-back"),this.$column.trigger("uiDetailViewClosed",{column:this.column}),this.$column.one("transitionend",function(){e&&e(),t()})}})},function(e,t,i){"use strict";var n=i(381),s=function(e){return e&&e.__esModule?e:{default:e}}(n);TD.components.Events=TD.components.Base.extend(function(){function e(e){var t={id:e.id,title:e.name},i=(new TD.components.MenuItem).event(t);this.$eventsList.append(i.$node)}function t(e){this.$eventsList.append("<h3>"+e+"</h3>")}var i=this;this.$node=$(TD.ui.template.render("list_module_events")),this.$eventsList=this.$find(".js-events-list");var n={name:"General Election",id:"37.854981996174376961"},r=[{name:"Conservative Party",id:"34.854320972412862464"},{name:"Democratic Unionist Party",id:"34.854325508544143360"},{name:"Green Party",id:"34.862597990581542912"},{name:"Labour Party",id:"34.854324588561309696"},{name:"Liberal Democrats",id:"34.854322538813337606"},{name:"Scottish National Party",id:"34.854326314605477888"},{name:"UKIP",id:"34.857261383989174273"},{name:"Plaid Cymru",id:"34.865245271378153472"},{name:"Ulster Unionist Party",id:"34.867804963124031496"},{name:"Sinn Féin",id:"34.867806458330492928"},{name:"Social Democratic & Labour Party",id:"34.867807746900361216"}],o=(0,s.default)(r,"name"),a=[{name:"Theresa May",id:"35.844613906882449408"},{name:"Nicola Sturgeon",id:"35.847089607623655425"},{name:"Jeremy Corbyn",id:"35.847090575954272256"},{name:"Tim Farron",id:"35.854323210719854592"},{name:"Paul Nuttal",id:"35.857195576504360960"},{name:"Arlene Foster",id:"35.857238822790193152"},{name:"Caroline Lucas",id:"35.857233683660525568"},{name:"Leanne Wood",id:"35.865244046062567424"},{name:"Colum Eastwood",id:"35.867810283552559104"},{name:"Robin Swann",id:"35.867810800244711424"},{name:"Gerry Adams",id:"35.867811299417219072"}],c=(0,s.default)(a,"name"),l=[{name:"Brexit",id:"36.857186585397166080"},{name:"Health",id:"36.857187105004371968"},{name:"Immigration & asylum",id:"36.857187560669368321"},{name:"Economy",id:"36.857188034189471746"},{name:"Education",id:"36.857188352994324480"},{name:"Housing",id:"36.857193464957509632"},{name:"Welfare benefits",id:"36.857192424933699584"},{name:"Environment",id:"36.857190540483284993"},{name:"Crime",id:"36.857193813319729152"},{name:"Pensions",id:"36.857189555853639680"},{name:"Family life & childcare",id:"36.857194697550213122"},{name:"Tax",id:"36.857188939848851456"},{name:"Transport",id:"36.857189555853639680"}],u=(0,s.default)(l,"name"),d={name:"#DogsAtPollingStations",id:"37.860067038529585152"};e.call(this,n),t.call(this,"Parties"),o.forEach(function(t){e.call(i,t)}),t.call(this,"Issues"),u.forEach(function(t){e.call(i,t)}),t.call(this,"People"),c.forEach(function(t){e.call(i,t)}),t.call(this,"Fun"),e.call(this,d)})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(30);t.default=TD.components.Base.extend(function(e,t){var i=(0,n.attach)(e,this.$node,t),s=i.teardownEvent;this.teardownEvent=s}).methods({destroy:function(){$(document).trigger(this.teardownEvent),this.supr()}})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(1294),r=n(s),o=i(79),a=n(o),c=i(80),l=n(c),u=i(1302),d=n(u),h=i(1300),p=n(h),f=i(722),m=n(f),g=function(e){function t(){return(0,a.default)(this,t),(0,d.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,l.default)(t,[{key:"_deleteLastToken",value:function(){var e=this._getState(),t=e.value,i=t.length-1,n=t[i];if(void 0!==n&&0!==i){var s=this._tokenIdAccessor(n,i);this._deleteTokensWithIds([s])}}},{key:"_deleteFocusedTokens",value:function(e){var t=this._getState(),i=t.focusedTokenIds,n=t.value,s=n[0],r=i.filter(function(e){return e!==s});this._deleteTokensWithIds(r,e)}}]),t}(m.default);t.default=g},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(968),r=n(s),o=i(983),a=n(o),c=i(972),l=n(c),u=i(30);TD.components.GlobalSettings=TD.components.BaseModal.extend(function(){var e=TD.storage.accountController.isEmpty()?"accounts":"general";this.$optionList=this.$find(".js-setting-list li"),$("a.list-link",this.$node).click(function(e){var t=$(e.currentTarget),i=t.data("action");this.switchTab(i)}.bind(this)),this.setAndShowContainer($("#settings-modal"),!1),this.switchTab(e)}).methods({_render:function(){return $(TD.ui.template.render("short_modal",{title:TD.i("Settings"),content:TD.ui.template.render("settings/global_settings_modal",this.getInfo()),hasDoneButton:!0,centeredFooter:!0}))},getInfo:function(){return{tabs:[{title:TD.i("General"),action:"general"},{title:TD.i("Link Shortening"),action:"services"},{title:TD.i("Mute"),action:"filter"}]}},switchTab:function(e){if(this.$globalSettings=$("#global-settings"),e!==this.currentTabName){switch(this.$optionList.removeClass("selected"),this.teardownEvent&&$(document).trigger(this.teardownEvent),e){case"general":var t={version:TD.util.getFullVersionString()};TD.util.isWrapperApp()&&deck.getWrapperVersion&&(t.wrapperVersion=deck.getWrapperVersion());var i=(0,u.attach)(l.default,this.$globalSettings,t);this.teardownEvent=i.teardownEvent;break;case"services":var n=(0,u.attach)(a.default,this.$globalSettings);this.teardownEvent=n.teardownEvent;break;case"filter":var s=(0,u.attach)(r.default,this.$globalSettings);this.teardownEvent=s.teardownEvent}this.currentTabName=e,this.$optionList.find("[data-action="+e+"]").parent("li").addClass("selected")}},destroy:function(e){this.teardownEvent&&$(document).trigger(this.teardownEvent),$("#settings-modal").hide(),e&&e.preventDefault(),this.supr()}})},function(e,t,i){"use strict";TD.components.InReplyTo=TD.components.Base.extend(function(e,t,i,n){var s=this;this.chirp=e,this.mainTweet=this.chirp.getMainTweet(),this.$container=t,this.$detailContentContainer=this.$container.find(".js-detail-container"),this.$detailContent=this.$detailContentContainer.find(".js-detail-content"),this.mediaPreviewSize=i,this.wantsDragHandle=n,this.mainTweet.inReplyToID&&(this.$node.html(TD.ui.template.render("status/tweet_detail_inreplyto")),this.$repliesContainer=this.$find(".js-replies-before"),this.$repliesText=this.$find(".in-reply-to").hide(),this.replies=null,_.defer(function(){s.bubbleEvent(TD.components.InReplyTo.BEGIN)}),this.subscription=$.subscribe("/tweets/conversation/"+this.mainTweet.id,_.bind(this._handleRelatedResults,this)),this.client=TD.controller.clients.getClient(this.chirp.account.getKey()),this.client.getConversation(this.mainTweet.id))}).statics({BEGIN:"td-load-convo",END:"td-load-finish",INREPLYTO_PADDING:20}).methods({_handleRelatedResults:function(e){this.replies&&this.replies.length>0||(this.replies=e.ancestors,_.isEmpty(this.replies)?this._getTweet():this._showReplies())},_getTweet:function(){var e=this;this.client.show(this.mainTweet.inReplyToID,function(t){e.replies=e.replies||[],e.replies.push(t),e._showReplies()},function(){e.bubbleEvent(TD.components.InReplyTo.END)})},_showReplies:function(){_.defer(_.bind(this._showRepliesInternal,this))},_showRepliesInternal:function(){var e,t,i,n,s,r,o;if(this.bubbleEvent(TD.components.InReplyTo.END),!_.isEmpty(this.replies)){t=this.mainTweet.id,this.replies=_.filter(this.replies,function(e){return e.id!==t}),i=_.map(this.replies,function(e){return e.topCursor?TD.ui.template.render("status/conversation_cursor_top"):e.render({mediaPreviewSize:this.mediaPreviewSize,isInConvo:!0,hasReplies:e.hasReplies(),isGifActive:!0,withDragHandle:!this.isInOwnCustomTimeline&&!e.user.isProtected})}.bind(this)).join(""),n=this.$detailContentContainer.outerHeight(),s=this.$detailContent.outerHeight(),this.$repliesContainer.html(i),e=this.$node.outerHeight(),s<n&&this.$detailContent.css("padding-bottom",n-s),this.replies.length<=1?r=0:(o=this.$repliesContainer.children().last().outerHeight()+TD.components.InReplyTo.INREPLYTO_PADDING,r=e-o),this.$detailContentContainer.scrollTop(e),this.$detailContentContainer.animate({scrollTop:r},{duration:"fast"});var a={"border-bottom":"none"},c=this.$find(".js-cursor-top");this.$find(".js-has-replies").closest(".js-stream-item").css(a),c.css(a),c.click(function(e){var t=$(e.currentTarget).nextAll(".stream-item:first");$(t).find(".js-show-detail").trigger("click")})}},findChirp:function(e){var t=null;return this.chirp.id===e?t=this.chirp:this.mainTweet.id===e?t=this.mainTweet:this.replies&&(t=_.detect(this.replies,function(t){return t.id===e})),t},destroy:function(){this.subscription&&$.unsubscribe(this.subscription),this.supr()}})},function(e,t,i){"use strict";TD.components.ListMember=TD.components.Base.extend(function(e){this.user=e,this.state=null;var t={fullname:e.name||e.screenName,username:e.screenName,profileImageURL:e.profileImageURL,description:e.description,isProtected:e.isProtected,isVerified:e.isVerified};this.$node=$(TD.ui.template.render("lists/member",t)),this.$addRemoveButton=this.$find(".js-add-remove"),this.$addRemoveButton.click(_.bind(this._handleAddRemoveClick,this)),this.setMember()}).statics({ADD_REMOVE_EVENT:"td-add-remove",STATE_MEMBER:"member",STATE_MEMBER_CHECKED:"member-checked",STATE_NON_MEMBER:"non-member",STATE_WORKING:"working"}).methods({_handleAddRemoveClick:function(){this.bubbleEvent(TD.components.ListMember.ADD_REMOVE_EVENT)},setState:function(e){switch(e){case TD.components.ListMember.STATE_MEMBER:this.setMember();break;case TD.components.ListMember.STATE_MEMBER_CHECKED:this.setMemberChecked();break;case TD.components.ListMember.STATE_NON_MEMBER:this.setNonMember();break;case TD.components.ListMember.STATE_WORKING:this.setWorking()}},setMember:function(){this.state=TD.components.ListMember.STATE_MEMBER,this.$addRemoveButton.removeClass("s-nonmember s-working s-checked").addClass("s-member"),this.$addRemoveButton.prop("disabled",!1)},setMemberChecked:function(){this.state=TD.components.ListMember.STATE_MEMBER_CHECKED,this.$addRemoveButton.removeClass("s-nonmember s-member s-working").addClass("s-checked"),this.$addRemoveButton.prop("disabled",!1)},setNonMember:function(){this.state=TD.components.ListMember.STATE_NON_MEMBER,this.$addRemoveButton.removeClass("s-member s-checked s-working").addClass("s-nonmember"),this.$addRemoveButton.prop("disabled",!1)},setWorking:function(){this.state=TD.components.ListMember.STATE_WORKING,this.$addRemoveButton.removeClass("s-member s-nonmember s-checked").addClass("s-working"),this.$addRemoveButton.prop("disabled",!0)}})},function(e,t,i){"use strict";TD.components.ListMemberList=TD.components.Base.extend(function(){this.$node=$(TD.ui.template.render("lists/member_list")),this.$list=this.$find(".js-member-list")}).methods({append:function(e){this.$list.append(e.$node)},prepend:function(e){this.$list.prepend(e.$node)}})},function(e,t,i){"use strict";var n=i(13),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(6);TD.components.ListMembers=TD.components.BaseModal.extend(function(e,t){var i=this;this.theList=e,this.membersIndex={},this.changed=!1,this.client=TD.controller.clients.getClient(e.account.getKey()),this.feedKey=TD.storage.Feed.generateKeyFor(this.theList.account.getKey(),"list",{listId:this.theList.id,ownerId:this.theList.user.id}),this.splitMenu=new TD.components.SplitMenu({hasAddMultipleUsersButton:!0}),this.userSearch=new TD.components.TwitterUserSearch(e.user.account,10,TD.components.ListMember),this.suggestedUsers=new TD.components.SuggestedUsers(e.user.account,10,TD.components.ListMember,e.name),this.loadingPane=new TD.components.OpenColumnPlaceholder(TD.i("Loading list members…")),this.memberList=new TD.components.ListMemberList,this.$title.html(TD.i("{{{1}}} by {{2}}",{1:s.default.cleanWithEmoji(e.name),2:e.user.screenName})),this.$menuContainer.append(this.splitMenu.$node),this.$footer.append($(TD.ui.template.render("lists/edit_members_footer"))),this.splitMenu.appendPinnedMenuItem(this.userSearch),this.splitMenu.appendMenuItemElement(this.userSearch.detachResultsContainer()),this.splitMenu.appendMenuItem(this.suggestedUsers),this.splitMenu.setRightPillar(this.loadingPane),this.setAndShowContainer($("#lists-modal")),this.userSearch.searchInput.$inputBox.focus(),this.$memberCount=this.memberList.$find(".js-member-count"),this.$editButton=this.$find(".js-edit"),this.$addMultipleButton=this.$find(".js-add-multiple"),this.$deleteButton=this.$find(".js-delete"),this.$doneButton=this.$find(".js-done"),this.$addColumnOption=this.$find(".js-add-column-option"),this.$addColumnCheckbox=this.$addColumnOption.find(".js-add-column-checkbox"),this.$exportButton=this.memberList.$find(".js-action-header-export-button"),this.$exportButton.click(_.bind(this._exportList,this)),0===TD.storage.columnController.getColumnsContainingFeed(this.feedKey).length&&(this.$addColumnCheckbox.prop("checked",!0),this.$addColumnOption.removeClass("is-hidden")),this.$editButton.click(_.bind(this._editDetails,this)),this.$addMultipleButton.click(_.bind(this._addMultipleUsers,this)),this.$deleteButton.click(_.bind(this._deleteList,this)),this.$doneButton.click(_.bind(this._handleDone,this)),this.$node.bind(TD.components.ListMember.ADD_REMOVE_EVENT,_.bind(this._addRemoveMember,this)),this.$node.bind(TD.components.TwitterUserSearch.SEARCH_COMPLETE,function(e,t){var n=t.target;i._checkResultsState(n),i.splitMenu.$leftPillarContainer.scrollTop(0)}),this._updateMemberCountAndExportButton(),this._importMembers(t).addCallback(function(){i.suggestedUsers.render(),i._checkResultsState(i.userSearch),i._checkResultsState(i.suggestedUsers)})}).methods({_addMembers:function(e){var t;if(_.isEmpty(e))t=TD.core.defer.succeed();else{t=new TD.core.defer.Deferred;var i=_.pluck(e,"screenName");this.client.addUsersToList(this.theList.id,i,_.bind(t.callback,t),_.bind(t.errback,t))}return t},_importMembers:function(e){var t=this,i=this._addMembers(e);return i.addCallbackWith(this,this._loadAllMembers),i.addCallback(function(){return t._updateMemberCountAndExportButton()}),i.addCallback(function(){e&&(0,r.showNotification)({message:TD.i("Users added successfully")})}),i.addErrback(function(e){(0,r.showErrorNotification)({message:TD.i("Oops, something wen't wrong")})}),i},_loadAllMembers:function(){var e,t=this,i=function(e){t.theList.memberCount=e.users.length,t._displayMembers(e.users,!1)};return e=this._fetchMemberPage(-1),e.addCallback(i),e},_fetchMemberPage:function(e){var t=new TD.core.defer.Deferred,i={id:this.theList.id,cursor:e,count:5e3};return this.client.getListMembers(i,_.bind(t.callback,t),_.bind(t.errback,t)),t},_displayMembers:function(e,t){var i=this;t&&e.reverse(),_.each(e,function(e){if(!i.membersIndex[e.id]){var n=new TD.components.ListMember(e);i.membersIndex[n.user.id]=n,t?i.memberList.prepend(n):i.memberList.append(n)}}),this.loadingPane&&(this.loadingPane.destroy(),this.loadingPane=null,this.splitMenu.setRightPillar(this.memberList))},_updateMemberCountAndExportButton:function(){var e=this.theList.isOwnList()&&this.theList.memberCount>0;this.$memberCount.text(this.theList.memberCount),this.$exportButton.toggleClass("is-hidden",!e)},_editDetails:function(){this.$node.trigger("uiShowEditListDetails",{list:this.theList}),this.destroy()},_addMultipleUsers:function(){$(document).trigger("uiShowImportListModal",{list:this.theList})},_exportList:function(){var e=_.pluck(this.membersIndex,"user.screenName").map(function(e){return"@"+e}).join("\n");$(document).trigger("uiShowExportListModal",{list:this.theList,members:e})},_deleteList:function(){var e=this,t=_.uniqueId(),i={id:t,title:TD.i("Deleting list!"),message:TD.i("Are you sure you want to delete this list?"),okLabel:TD.i("Delete"),cancelLabel:TD.i("Cancel")},n=function i(n,s){s.id===t&&($(document).off("uiConfirmationAction",i),s.result&&e.client.destroyList(e.theList.id,function(){e.theList=null,e.destroy()}))};$(document).on("uiConfirmationAction",n).trigger("uiShowConfirmationDialog",i)},_addRemoveMember:function(e,t){e.stopPropagation();var i=t.target;this.membersIndex[i.user.id]?this.removeMember(i.user):this.addMember(i.user)},addMember:function(e){var t=this;this._changeUserState(e.id,TD.components.ListMember.STATE_WORKING),this.client.addUserToList(this.theList.id,e.screenName,function(i){t._displayMembers([e],!0),t.theList.memberCount++,t._updateMemberCountAndExportButton(),t._changeUserState(e.id,TD.components.ListMember.STATE_MEMBER),t.changed=!0},function(i){t._changeUserState(e.id,TD.components.ListMember.STATE_NON_MEMBER);var n=TD.i("Problem adding {{userName}} to the list {{listName}}. Please try again",{userName:e.name,listName:t.theList.name});(0,r.showErrorNotification)({message:n})})},removeMember:function(e){var t=this;this._changeUserState(e.id,TD.components.ListMember.STATE_WORKING),this.client.removeUserFromList(this.theList.id,e.screenName,function(i){t.membersIndex[e.id].destroy(),delete t.membersIndex[e.id],t.theList.memberCount--,t._updateMemberCountAndExportButton(),t._changeUserState(e.id,TD.components.ListMember.STATE_NON_MEMBER),t.changed=!0},function(i){t._changeUserState(e.id,TD.components.ListMember.STATE_MEMBER);var n=TD.i("Problem removing {{userName}} from the list {{listName}}. Please try again",{userName:e.name,listName:t.theList.name});(0,r.showErrorNotification)({message:n})})},_changeUserState:function(e,t){this.membersIndex[e]&&this.membersIndex[e].setState(t),t===TD.components.ListMember.STATE_MEMBER&&(t=TD.components.ListMember.STATE_MEMBER_CHECKED);var i=this.userSearch.items.concat(this.suggestedUsers.items);_.each(i,function(i){i.user.id===e&&i.setState(t)})},_checkResultsState:function(e){var t=this,i=e===this.suggestedUsers;_.each(e.items,function(e){t.membersIndex[e.user.id]?(e.setState(TD.components.ListMember.STATE_MEMBER_CHECKED),i&&e.hide()):(e.setState(TD.components.ListMember.STATE_NON_MEMBER),i&&e.show())})},_handleDone:function(){if(this.$addColumnCheckbox.prop("checked")){var e=new TD.components.TemporaryColumn;e.list(this.theList),e.makePermanent()}this.destroy()},destroy:function(){if(this.changed&&this.theList){TD.cache.lists.add(this.theList);var e=TD.controller.feedManager.getPoller(this.feedKey);e&&e.refresh({reset:!0})}$("#lists-modal").hide(),this.splitMenu.destroy(),this.userSearch.destroy(),this.suggestedUsers.destroy(),this.memberList.destroy(),this.loadingPane&&this.loadingPane.destroy(),_.each(this.membersIndex,function(e,t){e.destroy()}),this.supr()}})},function(e,t,i){"use strict";var n=i(27),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(22);TD.components.LiveVideos=TD.components.Base.extend(function(){function e(e){var t={id:e.id_str,title:e.title,timelines:e.timelines,hasMultipleTimelines:e.timelines.length>1,aspectRatio:e.media.video_info.aspect_ratio},i=(new TD.components.MenuItem).liveVideo(t);this.$liveVideosList.append(i.$node)}this.$node=$(TD.ui.template.render("list_module_livevideos")),this.$liveVideosList=this.$find(".js-live-videos-list"),(0,r.getTwitterClient)().getLiveEvents().addCallbackWith(this,function(t){var i=this;(0,s.default)(t.data).forEach(function(n){var s=t.data[n];e.call(i,s)})})})},function(e,t,i){"use strict";var n=i(6);TD.components.MediaGallery=TD.components.BaseModal.extend(function(e,t,i,n){var s=this,r=this;this.chirp=e,this.column=n,this.clickedLink=t,this.clickedMediaEntityId=i,this.$node=$(TD.ui.template.render("media/media_gallery")),this.$node.on("click",".js-other-replies-link",function(){s.column.ui._$chirpContainer.trigger("mediaGalleryRequestTwitterUsersForReplyModal",{userMentions:s.chirp.entities.user_mentions})}),this.$closeButton=this.$find(".js-dismiss"),this.$prevButton=this.$find(".js-media-gallery-prev"),this.$nextButton=this.$find(".js-media-gallery-next"),this.$embed=this.$find(".js-mediaembed"),this.$tweet=this.$find(".med-tweet"),this.$mainframe=this.$find(".js-embeditem"),this._sizeMedia=this._sizeMedia.bind(this),this.sizeMediaInterval=setInterval(this._sizeMedia,300),this.$closeButton.bind("click",function(){r.destroy()}),this.$prevButton.bind("click",function(){r._prev()}),this.$nextButton.bind("click",function(){r._next()}),this._loadTweet(),this.setAndShowContainer($("#open-modal"),!1),TD.util.isTouchDevice()&&TD.decider.get("touchdeck_tweet_controls_v3")&&this.$node.find(".js-med-tweet").addClass("is-touch-tweet-container"),e.hasMedia()?(this.media=e.getMedia(),this._setupEmbeds(),e.scribeMediaImpression()):(TD.util.openURL(t),this.destroy()),this.media.length>1&&(this.$node.focus(),this.prevOrNext=this._prevOrNext.bind(this),this.$node.on("uiKeyLeft",this.prevOrNext),this.$node.on("uiKeyRight",this.prevOrNext))}).statics({MEDIA_FLAG_NSFW:".js-media-flag-nsfw",MEDIA_FLAGGED_NSFW:".js-media-flagged-nsfw",HIDDEN_CLASS:"is-hidden"}).methods({_prev:function(){var e=_.indexOf(this.media,this.currentMedia);0===e&&(e=this.media.length),this.currentMedia=this.media[e-1],this._renderEmbed()},_next:function(){var e=_.indexOf(this.media,this.currentMedia);e===this.media.length-1&&(e=-1),this.currentMedia=this.media[e+1],this._renderEmbed()},_prevOrNext:function(e){e.stopImmediatePropagation(),"uiKeyLeft"===e.type?this._prev():"uiKeyRight"===e.type&&this._next()},_setupEmbeds:function(){if(this.media&&0!==this.media.length){var e=this;this.currentMedia=this.media[0],this.clickedLink&&_.each(this.media,function(t){(e.clickedMediaEntityId&&t.mediaId===e.clickedMediaEntityId||!e.clickedMediaEntityId&&t.url===e.clickedLink)&&(e.currentMedia=t)}),this._renderEmbed()}},_loadTweet:function(){var e=this;this.$tweet.append(this.chirp.renderInMediaGallery()),this.$tweet.bind("click",function(t){$.publish("chirp/click",[t,e.chirp,e.column])})},_sizeMedia:function(){var e=$("img",this.$mainframe),t=this.$embed.outerHeight(),i=this.$mainframe.height(),n=Math.max(0,e.height()-(t-i));e.css({"max-width":this.$mainframe.width()+"px","max-height":n+"px"})},_fadeIn:function(){this.$mainframe.addClass("is-loaded"),this.$embed.fadeTo("fast",1)},_renderEmbed:function(){var e=this.currentMedia,t=this.chirp.conversationId,i=this.chirp.getMainTweet?this.chirp.getMainTweet():this.chirp,s="scheduled_tweet_group"===this.chirp.chirpType,r=e.renderGallery({chirpId:i.id,isDM:t,isFromProtectedUser:s||this.chirp.getMainUser().isProtected});this.$embed.html(r),this.$embed.append(TD.ui.template.render("text/gallery_original_link",e)),e.needsSecureUrl||e.isScheduled||this.$embed.append(TD.ui.template.render("text/gallery_flag_media",{flagged:e.flaggedNSFW})),e.needsSecureUrl&&$(document).trigger("uiNeedsSecureImageUrl",{accountKey:this.chirp.account.getKey(),url:e.large()});var o=$("img",this.$embed);0===o.length?_.delay(function(){this._fadeIn(),this._sizeMedia()}.bind(this),1e3):o.load(function(){o.attr("data-maxwidth",o.width()),o.attr("data-maxheight",o.height()),this._sizeMedia(),this._fadeIn()}.bind(this)),this.$find(TD.components.MediaGallery.MEDIA_FLAG_NSFW).click(function(t){var i;e.flaggedNSFW=!0,this.$find(TD.components.MediaGallery.MEDIA_FLAG_NSFW).addClass(TD.components.MediaGallery.HIDDEN_CLASS),this.$find(TD.components.MediaGallery.MEDIA_FLAGGED_NSFW).removeClass(TD.components.MediaGallery.HIDDEN_CLASS),i=TD.controller.clients.getClient(this.chirp.account.getKey()),i.flagTweet(this.chirp.id,function(){},function(){var e=TD.i("Problem flagging media. Please try again");(0,n.showErrorNotification)({message:e}),this.$find(TD.components.MediaGallery.MEDIA_FLAG_NSFW).removeClass(TD.components.MediaGallery.HIDDEN_CLASS),this.$find(TD.components.MediaGallery.MEDIA_FLAGGED_NSFW).addClass(TD.components.MediaGallery.HIDDEN_CLASS)})}.bind(this)),this.media.length>1?(this.$prevButton.removeClass(TD.components.MediaGallery.HIDDEN_CLASS),this.$nextButton.removeClass(TD.components.MediaGallery.HIDDEN_CLASS),this.$mainframe.addClass("s-shorter"),this.$tweet.find(".js-media").show()):(this.$prevButton.addClass(TD.components.MediaGallery.HIDDEN_CLASS),this.$nextButton.addClass(TD.components.MediaGallery.HIDDEN_CLASS),this.$tweet.find(".js-media").hide())},destroy:function(){this.media.length>1&&(this.$node.unbind("uiKeyLeft",this.prevOrNext),this.$node.unbind("uiKeyRight",this.prevOrNext)),this.$node.trigger("uiMediaGalleryClosing"),$("#open-modal").hide(),clearInterval(this.sizeMediaInterval),this.supr()}})},function(e,t,i){"use strict";var n=i(13),s=function(e){return e&&e.__esModule?e:{default:e}}(n);TD.components.MenuItem=TD.components.MenuItemBase.extend(function(){this.type=null}).statics({BASIC:"basic",SUBTITLE:"subtitle",PERSON:"person",LIST:"list"}).methods({basic:function(e){return this.type=TD.components.MenuItem.BASIC,this.title=e,this.$node=$(TD.ui.template.render("list_module_list_item",{title:this.title})),this},subtitle:function(e,t){this.type=TD.components.MenuItem.SUBTITLE,this.title=e,this.subtitle=t;var i={title:e,subtitle:t};return this.$node=$(TD.ui.template.render("list_module_subtitle_item",i)),this},selfAccount:function(e){this.type=TD.components.MenuItem.PERSON,this.account=e;var t={fullname:e.getName()||e.getUsername(),emojifiedName:s.default.cleanWithEmoji(e.getName()),username:e.getUsername(),profileImageURL:e.getProfileImageURL()};return this.$node=$(TD.ui.template.render("list_module_account_item",t)),this},twitterUser:function(e){this.type=TD.components.MenuItem.PERSON,this.twitterUser=e;var t={fullname:e.name||e.screenName,emojifiedName:e.emojifiedName,username:e.screenName,profileImageURL:e.profileImageURL};return this.$node=$(TD.ui.template.render("list_module_account_item",t)),this},list:function(e){this.type=TD.components.MenuItem.LIST,this.list=e;var t={title:s.default.cleanWithEmoji(e.name),by:TD.i("by {{1}}",{1:e.user.name}),description:s.default.cleanWithEmoji(e.description),subtitle:TD.i("{{1}} members",{1:e.memberCount}),miniProfileURL:e.user.miniProfileImageURL(),isPrivate:e.isPrivate};return this.$node=$(TD.ui.template.render("list_module_twitter_list_item",t)),this},customTimeline:function(e){this.type=TD.components.MenuItem.LIST,this.list=e;var t={title:s.default.cleanWithEmoji(e.name),description:s.default.cleanWithEmoji(e.description)};return this.$node=$(TD.ui.template.render("list_module_twitter_customtimeline_item",t)),this},dataminr:function(e){return this.type=TD.components.MenuItem.DATAMINR,this.watchlist=e,this.$node=$(TD.ui.template.render("list_module_dataminr_watchlist",e)),this},liveVideo:function(e){return this.type=TD.components.MenuItem.BASIC,this.metadata=e,this.$node=$(TD.ui.template.render("list_module_list_item",{title:e.title})),this},event:function(e){return this.type=TD.components.MenuItem.BASIC,this.metadata=e,this.$node=$(TD.ui.template.render("list_module_list_item",{title:e.title})),this}})},function(e,t,i){"use strict";TD.components.MenuItemBase=TD.components.Base.extend(function(){this.eventSubscriptions=[],this.selected=!1,this.eventSubscriptions.push($.subscribe(TD.components.MenuItemBase.GLOBAL_SELECT_EVENT,_.bind(this._handleSelectionEvent,this))),_.defer(_.bind(this._addClickHandler,this))}).statics({GLOBAL_SELECT_EVENT:"/menuitem/select",BUBBLE_SELECT_EVENT:"td-menuitem-select",deselectAll:function(){var e={target:null};TD.storage.notification.notify(this.GLOBAL_SELECT_EVENT,e)}}).methods({_handleSelectionEvent:function(e){this.selected=e.target===this,this.$node.toggleClass("selected",this.selected)},_addClickHandler:function(){var e=this;this.$node.bind("click",function(t){e.selected||e.select()})},select:function(){this.publishEvent(TD.components.MenuItemBase.GLOBAL_SELECT_EVENT,null),this.bubbleEvent(TD.components.MenuItemBase.BUBBLE_SELECT_EVENT)},deselect:function(){this.selected=!1,this.$node.removeClass("selected")},destroy:function(){_.each(this.eventSubscriptions,function(e){$.unsubscribe(e)}),this.$node.remove()}})},function(e,t,i){"use strict";TD.components.NewFeaturesSplash=TD.components.BaseModal.extend(function(){this.$node.addClass("release-notes-modal"),this.$menuContainer.append(TD.ui.template.render("splash/whats_new")),this.$find(".js-mdl-content").removeClass("horizontal-flow-container"),this.bind(),this.setAndShowContainer($("#splash-modal")),TD.components.NewFeaturesSplash.updateSeenVersion()}).statics({FOR_VERSION:"3.5",shouldShow:function(){var e=TD.components.NewFeaturesSplash.FOR_VERSION,t=TD.settings.getPreviousSplashVersion();return 1===TD.util.versionComparator(e,t)&&(-1!==TD.util.versionComparator(TD.version,e)&&($(document).trigger("metric",{key:"login:featuresplash"}),!0))},updateSeenVersion:function(){TD.settings.setPreviousSplashVersion(TD.version)}}).methods({destroy:function(){this.supr(),$("#splash-modal").hide()},bind:function(){this.$find(".js-done").click(this.destroy.bind(this)),this.$find("[data-action]").click(this._handleActionClick.bind(this))},_handleActionClick:function(e){switch(e.preventDefault(),e.target.dataset.action){case"signOut":TD.storage.store.setCurrentAuthType("tweetdeck"),TD.controller.init.signOut();break;case"openSettings":$(document).trigger("uiShowAccountSettings")}}})},function(e,t,i){"use strict";TD.components.OpenColumn=TD.components.BaseModal.extend(function(){var e=this;this.$footer.append($(TD.ui.template.render("open_column_footer"))),this.$backButton=this.$find(".js-back"),this.$addButton=this.$find(".js-add-column"),this.history=[],this.menu=null,this.$backButton.bind("click",function(t){t.stopPropagation(),e._previous()}),this.$node.on(TD.components.TemporaryColumn.DELETED_EVENT,this._reload.bind(this))}).statics({GO_URL_REGEX:/^(add|profile)$/,GO_EVENT:"/go",instance:null}).methods({canGo:function(e,t){return TD.components.OpenColumn.GO_URL_REGEX.test(e)},go:function(e,t,i,n){TD.components.OpenColumn.instance=this,n&&(this.history=[n]),this.history.push([e,_.clone(t),i]);var s=t.shift();if(this.menu&&this.menu.canGo&&this.menu.canGo(e,t))return this.history.pop(),this.history[this.history.length-1]=fullUrl,void this.menu.go(s,t,i);var r,o=!1;if("add"===e)switch(s){case"home":r=new TD.components.OpenColumnHome,o=!0;break;case"lists":case"customtimelines":r=new TD.components.OpenCustomTimelines(s);break;case"sharedcolumn":r=new TD.components.OpenSharedColumn(i.state);break;case"trends":r=new TD.components.OpenTrends;break;case"dataminr":r=new TD.components.OpenDataminr;break;case"livevideo":r=new TD.components.OpenLiveVideo;break;case"event":r=new TD.components.OpenEvent;break;default:TD.controller.columnManager.TWITTER_GENERIC[s]&&(r=new TD.components.OpenTwitterGeneric(s))}this._show(s,r,o,!1,!1),r.go&&r.go(s,t,i)},_show:function(e,t,i,n,s){this.menu&&this.menu.destroy(),this.menu=t,this.$menuContainer.append(t.$node),i||this.menu.setup(this.$addButton),this.$node.toggleClass("s-nonav s-minimal s-fluid width--523",i),this.$node.toggleClass("s-narrow",n),this.$backButton.toggle(this.history.length>1).toggleClass("hide",0===this.history.length),"home"===e?this.$title.text(TD.i("Choose a column type to add")):"profile"===e?this.$title.text(TD.i("Account profile")):"sharedcolumn"===e?this.$title.text(TD.i("Shared column")):this.$title.text(TD.controller.columnManager.MODAL_TITLE[e]||"")},_previous:function(){this.history.pop();var e=this.history.pop();e instanceof Array?this.go.apply(this,e):(this.destroy(),$(e.target).trigger(e.type,[e.data]))},_reload:function(){var e=this.history.pop();e instanceof Array&&this.go.apply(this,e)},destroy:function(){this.menu&&this.menu.destroy(),_.each(this.eventSubscriptions,function(e){$.unsubscribe(e)}),this.$backButton.unbind(),$("#open-modal").hide(),TD.components.OpenColumn.instance=null,this.supr()}})},function(e,t,i){"use strict";var n=i(263),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(117);TD.components.OpenColumnHome=TD.components.Base.extend(function(){var e=this,t=this;this.singletonTypes={};var i={},n={};n[TD.controller.columnManager.DATAMINR]=!0,n[TD.controller.columnManager.LIVEVIDEO]=!0,n[TD.controller.columnManager.EVENT]=!0,TD.controller.columnManager.DISPLAY_ORDER_SINGLETONS.forEach(function(e){t.singletonTypes[e.type]=!0,i[e.type]=!(0,s.default)(TD.storage.columnController.getColumnsByType(e.type)),n[e.type]=!1}),this.$node=$(TD.ui.template.render("open_column_home",{options:TD.controller.columnManager.DISPLAY_ORDER,isDisabled:function(){return i[this.type]},isHidden:function(){return n[this.type]}})),this.$launchers=this.$find(".js-item-launch"),this.$launchers.bind("click",function(e){var i,n=$(e.currentTarget),s=n.data("type"),r=t.singletonTypes[s];n.hasClass("is-disabled")||(r?(i=TD.controller.columnManager.makeColumnFor({type:s,service:"tweetdeck"}),TD.controller.columnManager.addColumnToUI(i),t.bubbleEvent(TD.components.BaseModal.CLOSE_EVENT)):t.publishEvent(TD.components.OpenColumn.GO_EVENT,TD.components.OpenColumnHome.URL_BASE+"/"+s))}),this._boundHandleDataminrAuthenticated=this._handleDataminrAuthenticated.bind(this),$(document).on("dataDataminrAuthenticated",this._boundHandleDataminrAuthenticated),$(document).trigger("uiNeedsDataminrAuth"),this.liveVideo$=(0,r.getStreamForLiveVideo)().distinctUntilChanged().subscribe(function(t){e.$find('.js-item-launch[data-type="livevideo"]').toggleClass("is-hidden",!t)})}).statics({URL_BASE:"/add",DATAMINR_ADD_SELECTOR:'.js-item-launch[data-type="dataminr"]'}).methods({_handleDataminrAuthenticated:function(){this.$find(TD.components.OpenColumnHome.DATAMINR_ADD_SELECTOR).removeClass("is-hidden")},destroy:function(){$(document).off("dataDataminrAuthenticated",this._boundHandleDataminrAuthenticated),this.liveVideo$&&this.liveVideo$.unsubscribe(),this.supr()}})},function(e,t,i){"use strict";TD.components.OpenColumnPlaceholder=TD.components.Base.extend(function(e){this.helperText=e,this.$node=$(TD.ui.template.render("open_column_temp_help",{helpText:e}))})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(994),r=n(s),o=i(790),a=n(o);TD.components.OpenCustomTimelines=TD.components.OpenSplitMenu.extend(function(e){switch(this.mode=e,this.screenName=null,this.listsComponent=null,this.newCustomTimelineButton=null,this.mode){case"lists":this.helpText=TD.controller.columnManager.HELP_TEXT[TD.controller.columnManager.LISTS];break;case"customtimelines":this.helpText=TD.controller.columnManager.HELP_TEXT[TD.controller.columnManager.CUSTOMTIMELINES]}this.placeHolder=new TD.components.OpenColumnPlaceholder(this.helpText),this.removePlaceholder=new TD.components.OpenColumnPlaceholder(""),this.setChirpPillar(this.placeHolder),this.$node.bind(TD.components.MenuItemBase.BUBBLE_SELECT_EVENT,_.bind(this._handleListSelect,this)),this.$node.bind(TD.components.CustomTimelines.LOADED,_.bind(this._handleListsLoaded,this))}).methods({go:function(e,t,i){if(i.screenName)this.screenName=i.screenName,this.listsComponent=new TD.components.CustomTimelines(this.screenName,i.slug,this.mode),this.appendMenuItem(this.listsComponent);else{this.listsComponent=new TD.components.CustomTimelines(null,null,this.mode),this.appendMenuItem(this.listsComponent),this.newCustomTimelineButton=new a.default(r.default,{mode:this.mode});var n=0!==this.listsComponent.items.length;n||this.$leftPillarContainer.remove(),this.appendPinnedMenuItem(this.newCustomTimelineButton,{bottom:n})}},_handleListsLoaded:function(e,t){if(t.target===this.listsComponent&&0===t.data){this.removeMenuItem(this.listsComponent);var i;switch(this.mode){case"lists":i=this.screenName?TD.i("This user has no public lists"):TD.i("You are not subscribed to any lists");break;case"customtimelines":i=this.screenName?TD.i("This user has no collections"):TD.i("You do not have any collections")}this.listsComponent=new TD.components.OpenColumnPlaceholder(i),this.setChirpPillar(this.removePlaceholder),this.appendMenuItem(this.listsComponent)}},_handleListSelect:function(e,t){var i=t.target.list,n=new TD.components.TemporaryColumn;switch(this.mode){case"lists":n.list(i);break;case"customtimelines":n.customTimeline(i)}this.setChirpPillar(n),e.stopPropagation()}})},function(e,t,i){"use strict";TD.components.OpenDataminr=TD.components.OpenSplitMenu.extend(function(){this.helpText=TD.controller.columnManager.HELP_TEXT[TD.controller.columnManager.DATAMINR],this.placeHolder=new TD.components.OpenColumnPlaceholder(this.helpText),this.setChirpPillar(this.placeHolder),this._boundHandleWatchlistSelect=this._handleWatchlistSelect.bind(this),this._boundHandleWatchlists=this._handleWatchlists.bind(this),this.$node.bind(TD.components.MenuItemBase.BUBBLE_SELECT_EVENT,this._boundHandleWatchlistSelect),$(document).bind("dataDataminrWatchlists",this._boundHandleWatchlists)}).methods({go:function(e,t,i){this.watchlistsComponent&&this.watchlistsComponent.destroy(),this.watchlistsComponent=new TD.components.Dataminr,this.appendMenuItem(this.watchlistsComponent)},_handleWatchlists:function(e,t){if(!t.watchlists||!t.watchlists.length){this.removeMenuItem(this.watchlistsComponent);var i=TD.i("You are not subscribed to any watchlists");this.watchlistsComponent=new TD.components.OpenColumnPlaceholder(i),this.setChirpPillar(this.removePlaceholder),this.appendMenuItem(this.watchlistsComponent)}},_handleWatchlistSelect:function(e,t){var i=new TD.components.TemporaryColumn,n=TD.storage.store.getTwitterLoginAccount();i.dataminr(t.target.watchlist,n.getKey()),this.setChirpPillar(i)},destroy:function(){this.$node.off(TD.components.MenuItemBase.BUBBLE_SELECT_EVENT,this._boundHandleWatchlistSelect),$(document).off("dataDataminrWatchlists",this._boundHandleWatchlists),this.supr()}})},function(e,t,i){"use strict";TD.components.OpenEvent=TD.components.OpenSplitMenu.extend(function(){var e=this;this.events=new TD.components.Events,this.appendMenuItem(this.events),this.helpText=TD.controller.columnManager.HELP_TEXT[TD.controller.columnManager.EVENT],this.placeHolder=new TD.components.OpenColumnPlaceholder(this.helpText),this.setChirpPillar(this.placeHolder),this.$node.bind(TD.components.MenuItemBase.BUBBLE_SELECT_EVENT,_.bind(this._handleEventSelect,this)),setTimeout(function(){e.$node.find(".list-link").first().click()},100)}).methods({_handleEventSelect:function(e,t){var i=new TD.components.TemporaryColumn;i.event("event",t.target.metadata),this.setChirpPillar(i),e.stopPropagation()}})},function(e,t,i){"use strict";TD.components.OpenLiveVideo=TD.components.OpenSplitMenu.extend(function(){this.liveVideos=new TD.components.LiveVideos,this.appendMenuItem(this.liveVideos),this.helpText=TD.controller.columnManager.HELP_TEXT[TD.controller.columnManager.LIVEVIDEO],this.placeHolder=new TD.components.OpenColumnPlaceholder(this.helpText),this.setChirpPillar(this.placeHolder),this.$node.bind(TD.components.MenuItemBase.BUBBLE_SELECT_EVENT,_.bind(this._handleLiveVideoSelect,this))}).methods({_handleLiveVideoSelect:function(e,t){var i=new TD.components.TemporaryColumn;i.liveVideo("livevideo",t.target.metadata),this.setChirpPillar(i),e.stopPropagation()}})},function(e,t,i){"use strict";var n=i(6);TD.components.OpenSharedColumn=TD.components.OpenSplitMenu.extend(function(e){this.aColumnDeferred=this._deserializeColumn(e)}).methods({go:function(e,t,i){var s=new TD.components.TemporaryColumn;this.aColumnDeferred.addCallback(function(e){s.renderColumn(e),this.setChirpPillar(s)}.bind(this)),this.aColumnDeferred.addErrback(function(){this.destroy(),setTimeout(function(){$(document).trigger("uiCloseModal"),(0,n.showErrorNotification)({message:TD.i("Shared column could not be loaded")})},0)}.bind(this)),this.$leftPillarContainer.html(TD.ui.template.render("open_column_shared_help"))},_selectAccountKey:function(e){return(TD.storage.AccountController.getAccountFromId(e.accountkey)||TD.storage.AccountController.getDefault()).getKey()},_parseColumn:function(e){var t=e.feeds,i=t[0],n=i.type,s=i.service,r=i.metadata,o=new TD.vo.SearchFilter(e.filters),a=this._selectAccountKey(i);return TD.controller.columnManager.makeOtherColumnAndFeeds({type:n,service:s,accountKey:a,metadata:r,searchFilter:o})},_deserializeColumn:function(e){function t(e,r){r.data===i&&(n.off("dataSchemaValidation",t),r.isValid?s.callback(r.data):s.errback(r.validationError))}var i,n=$(document);try{i=JSON.parse(e)}catch(e){return console.warn("Invalid column data supplied: ",e),TD.core.defer.fail(e)}var s=new TD.core.defer.Deferred;return s.addCallback(this._parseColumn.bind(this)),n.on("dataSchemaValidation",t),n.trigger("uiNeedsSchemaValidation",{data:i,schemaName:"sharedColumn"}),s}})},function(e,t,i){"use strict";TD.components.OpenSplitMenu=TD.components.SplitMenu.extend(function(){this.$addButton=null}).methods({setup:function(e){this.$addButton=e,this.$addButton.hide(),this.$addButton.click(_.bind(this._handleAddClick,this))},setChirpPillar:function(e){this.setRightPillar(e);var t=this;e instanceof TD.components.TemporaryColumn&&_.defer(function(){e.populate(),t.$addButton.show(),t.$addButton.prop("disabled",!1)})},_handleAddClick:function(e){this.$addButton.prop("disabled")||this.makeChirpColumnPermanent()},makeChirpColumnPermanent:function(){this.rightPillarComponent&&(this.rightPillarComponent.makePermanent(),this.$addButton.prop("disabled",!0))},destroy:function(){this.$addButton.unbind("click"),this.$addButton.hide(),this.supr()}})},function(e,t,i){"use strict";TD.components.OpenTrends=TD.components.OpenSplitMenu.extend(function(){this.trends=new TD.components.Trends,this.appendMenuItem(this.trends),this.helpText=TD.controller.columnManager.HELP_TEXT[TD.controller.columnManager.TRENDS],this.placeHolder=new TD.components.OpenColumnPlaceholder(this.helpText),this.setChirpPillar(this.placeHolder),this.$node.bind(TD.components.MenuItemBase.BUBBLE_SELECT_EVENT,_.bind(this._handleTrendSelect,this))}).methods({_handleTrendSelect:function(e,t){var i=t.target.title,n=new TD.components.TemporaryColumn;n.search(i),this.setChirpPillar(n),e.stopPropagation()}})},function(e,t,i){"use strict";TD.components.OpenTwitterGeneric=TD.components.OpenSplitMenu.extend(function(e){if(this.type=e,this.showUserSearch=!TD.controller.columnManager.SELF_ACCOUNTS_ONLY[e],this.userSearch=null,this.helpText=TD.controller.columnManager.HELP_TEXT[e],this.placeHolder=new TD.components.OpenColumnPlaceholder(this.helpText),this.setChirpPillar(this.placeHolder),this.showUserSearch){this.userSearch=new TD.components.TwitterUserSearch,this.appendPinnedMenuItem(this.userSearch);var t=this.userSearch.detachResultsContainer();this.appendMenuItemElement(t)}this.profileAccount=new TD.components.ProfileAccount,this.profileAccount.$node.hide(),this.appendMenuItem(this.profileAccount),this.selfAccounts=new TD.components.SelfAccounts("twitter"),this.appendMenuItem(this.selfAccounts),this.$node.bind(TD.components.MenuItemBase.BUBBLE_SELECT_EVENT,_.bind(this._handleSelect,this))}).methods({go:function(e,t,i){i.screenName?(this.profileAccount.setUser(i.screenName),this.profileAccount.$node.show(),this.profileAccount.select()):this.selfAccounts.selectDefault()},_handleSelect:function(e,t){var i;if(t.target.account)i=new TD.components.TemporaryColumn,i.genericTwitter(this.type,t.target.account,void 0);else if(t.target.twitterUser){i=new TD.components.TemporaryColumn;var n=this.userSearch.client.oauth.account;i.genericTwitter(this.type,n,t.target.twitterUser)}i&&(this.setChirpPillar(i),e.stopPropagation())}})},function(e,t,i){"use strict";TD.components.ProfileAccount=TD.components.Base.extend(function(){this.titleText=TD.i("Profile Account"),this.screenName=null,this.twitterUser=null,this.$node=$(TD.ui.template.render("open_column_list_with_header",{title:this.titleText})),this.$list=this.$find(".js-list-container"),this.menuItem=null}).methods({setUser:function(e){this.screenName=e,TD.cache.twitterUsers.getByScreenName(this.screenName).addCallbackWith(this,this._renderUser)},_renderUser:function(e){this.twitterUser=e,this.menuItem=(new TD.components.MenuItem).twitterUser(e),this.$list.append(this.menuItem.$node)},select:function(){this.menuItem.select()},destroy:function(){this.menuItem&&this.menuItem.destroy(),this.$node.remove()}})},function(e,t,i){"use strict";TD.components.RepliesTo=TD.components.Base.extend(function(e,t,i){this.chirp=e.getMainTweet(),this.mainTweet=this.chirp.getMainTweet(),this.repliesTo=[],this.mediaPreviewSize=t,this.wantsDragHandle=i,this.refreshPeriod=60,this._boundHandleConversation=this._handleConversation.bind(this),this.subscriptions={},this.subscriptions[this.mainTweet.id]=$.subscribe("/tweets/conversation/"+this.mainTweet.id,this._boundHandleConversation),this.client=TD.controller.clients.getClient(this.chirp.account.getKey()),this.pollTaskId=TD.controller.scheduler.schedulePeriodicTask(this.refreshPeriod,function(){this.client.getConversation(this.mainTweet.id)}.bind(this),!0),this.$node.html(TD.ui.template.render("status/tweet_detail_repliesto"))}).methods({_handleConversation:function(e){var t,i,n={};this.repliesTo.forEach(function(e){n[e.id]=!0}),t=e.descendants.filter(function(e){return!n[e.id]}),this.repliesTo=this.repliesTo.concat(t),t.forEach(function(e){this.subscriptions[e.id]||(this.subscriptions[e.id]=$.subscribe("/tweets/conversation/"+e.id,this._boundHandleConversation))}.bind(this)),i=t.map(function(e){return e.showMore?TD.ui.template.render("status/conversation_show_more",e):e.render({mediaPreviewSize:this.mediaPreviewSize,isInConvo:!0,hasReplies:e.hasReplies(),isGifActive:!0,withDragHandle:this.wantsDragHandle&&!e.user.isProtected})}.bind(this)).join(""),this.$find(".js-replies-to").append(i),this.$find(".js-has-replies").closest(".js-stream-item").css({"border-bottom":"none"}),this.$find(".js-conversation-show-more").click(function(e){var t=$(e.currentTarget).prevAll(".stream-item:first");$(t).find(".js-show-detail").trigger("click")})},findChirp:function(e){var t=null;return this.chirp.id===e?t=this.chirp:this.mainTweet.id===e?t=this.mainTweet:this.repliesTo&&(t=_.detect(this.repliesTo,function(t){return t.id===e})),t},destroy:function(){for(var e in this.subscriptions)$.unsubscribe(this.subscriptions[e]);TD.controller.scheduler.removePeriodicTask(this.pollTaskId),this.supr()}})},function(e,t,i){"use strict";var n=i(6);TD.components.ReplyBar=TD.components.Base.extend(function(e){e&&e.postComment&&(this._boundHandleGlobalKeydown=this._handleGlobalKeydown.bind(this),this._boundSend=this.send.bind(this),this._boundPopInlineToDocked=this.popInlineToDocked.bind(this),this._boundAddImage=this.addImage.bind(this),this._boundHandleDataTweetSent=this._handleDataTweetSent.bind(this),this._boundHandleDataTweetError=this._handleDataTweetError.bind(this),this.$node=$(TD.ui.template.render("status/tweet_detail_replybar",{from:e.account.getUsername(),avatarURL:e.account.getProfileImageURL()})),this.chirp=e,this.$inputBox=this.$find(".js-reply-tweetbox"),this.$charCount=this.$find(".js-reply-charcount"),this.$sendButton=this.$find(".js-send"),this.$popoutButton=this.$find(".js-reply-popout"),this.$addImageButton=this.$find(".js-reply-add-image"),this.$sendButton.bind("click",this._boundSend),this.$popoutButton.bind("click",this._boundPopInlineToDocked),this.$addImageButton.bind("click",this._boundAddImage),$(document).on("dataTweetSent",this._boundHandleDataTweetSent),$(document).on("dataTweetError",this._boundHandleDataTweetError),$(document).on("dataDmSent",this._boundHandleDataTweetSent),$(document).on("dataDmError",this._boundHandleDataTweetError),this._reset(),this._updateCharCount())}).statics({ACTIVITY_EVENTS:"click change focus blur input keydown keypress keyup mousedown mouseup paste",RESET_EVENT:"td-reset",REPLYING_EVENT:"td-replying",OVER_CHAR_COUNT_CLASS:"over-char-count"}).methods({_triggerMetric:function(e){$(document).trigger("metric",{key:"dm:ui:conversation:reply:"+e})},_updateCharCount:function(){$(document).one("dataHelpConfiguration",function(e,t){var i=twttrTxt.getTweetLength(this.$inputBox.val(),t),n=t.dm_text_character_limit||140;n>140&&this.$inputBox.toggleClass("rpl-textarea--expanded",i>140);var s=n-i,r=s>=0&&i>0;this.$sendButton.prop("disabled",!r),this.$charCount.toggleClass(TD.components.ReplyBar.OVER_CHAR_COUNT_CLASS,s<0);var o=n>140&&s>=0;this.$charCount.toggle(!o),this.$charCount.val(s)}.bind(this)),$(document).trigger("uiNeedsHelpConfiguration")},_reset:function(e){var t={keepFocus:!1};e=$.extend({},t,e);var i="";if(this.chirp instanceof TD.services.TwitterStatus){var n=this.chirp.getMainTweet();i=TD.i("Reply to @{{1}}",{1:n.user.screenName})}else this.chirp instanceof TD.services.TwitterConversation&&(i=TD.i("Reply from @{{1}}",{1:this.chirp.account.getUsername()}));this.$node.removeClass("s-replying"),this.$inputBox.blur().prop("disabled",!1),this.$sendButton.prop("disabled",!1),this.$inputBox.bind(TD.components.ReplyBar.ACTIVITY_EVENTS,_.bind(this._handleActivity,this)),this.bubbleEvent(TD.components.ReplyBar.RESET_EVENT,null),$(window).unbind("keydown",this._boundHandleGlobalKeydown),this.$inputBox.val(""),e.keepFocus?this.$inputBox.focus():this.$inputBox.attr("placeholder",i)},_handleActivity:function(e){var t=this;this.$inputBox.unbind(),t.bubbleEvent(TD.components.ReplyBar.REPLYING_EVENT,null),this.$node.addClass("s-replying"),this._triggerMetric("active");var i="",n=[];n.length>0&&(i=n.join(" ")+" "),this.$inputBox.val(i),this._updateCharCount();var s=i.length,r=i.length;n.length>0&&(s=n[0].length+1),this.$inputBox.bind("keydown",_.bind(this._handleKeydown,this)),this.$inputBox.bind("input propertychange change",_.bind(this._updateCharCount,this)),_.defer(function(){t.$inputBox[0].setSelectionRange(s,r)})},_handleGlobalKeydown:function(e){e.which===TD.constants.keyCodes.escape&&this._reset()},_handleKeydown:function(e){switch(e.charCode||e.keyCode){case 10:case 13:(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.send());break;case TD.constants.keyCodes.escape:this.$inputBox.blur(),$(window).bind("keydown",this._boundHandleGlobalKeydown)}},popInlineToDocked:function(){var e={type:"message",text:this.$inputBox.val(),from:[TD.storage.Account.generateKeyFor("twitter",this.chirp.account.getUserID())]};this.chirp.chirpType===TD.services.ChirpBase.MESSAGE_THREAD?e.conversationId=this.chirp.conversationId:e.messageRecipients=[{screenName:this.chirp.getMainUser().screenName}],this._triggerMetric("popout"),$(document).trigger("uiComposeTweet",e),this._reset()},addImage:function(){this._triggerMetric("image:add"),this._boundPopInlineToDocked(),$(document).trigger("uiComposeAddImageClick",{type:"message"})},send:function(){var e,t,i=this.$inputBox.val();this.$sendButton.prop("disabled")||i&&(this.$sendButton.prop("disabled",!0),this.$inputBox.prop("disabled",!0),this.$inputBox.blur(),this.currentRequestId=_.uniqueId("sendTweet"),this._triggerMetric("send"),t={type:"message",text:i,from:[this.chirp.account.getKey()],accountKey:this.chirp.account.getKey(),requestId:this.currentRequestId,messageType:this.chirp.type},e="uiSendDm",t.conversationId=this.chirp.conversationId,t.isReplyBar=!0,$(document).trigger(e,t))},_handleDataTweetSent:function(e,t){this.currentRequestId&&t.request.requestId===this.currentRequestId&&this._reset({keepFocus:!0})},_handleDataTweetError:function(e,t){this.currentRequestId&&t.request.requestId===this.currentRequestId&&((0,n.showErrorNotification)({message:t.response.errors[0].message}),this.$sendButton.prop("disabled",!1),this.$inputBox.prop("disabled",!1),this.$inputBox.focus())},destroy:function(){$(document).off("dataTweetSent",this._boundHandleDataTweetSent),$(document).off("dataTweetError",this._boundHandleDataTweetError),$(document).off("dataDmSent",this._boundHandleDataTweetSent),$(document).off("dataDmError",this._boundHandleDataTweetError)}})},function(e,t,i){"use strict";TD.components.ScheduledDatePicker=TD.components.Base.extend(function(e,t){var i=this;t=_.defaults(t||{},{startDate:null,hidden:!1}),this.$node=$(TD.ui.template.render("compose/schedule")),this.$node.toggle(!t.hidden),e.append(this.$node),this.$minutes=$("#scheduled-minute"),this.$hours=$("#scheduled-hour"),this.$datepicker=$("#datepicker"),this.$nextMonth=$("#next-month"),this.$prevMonth=$("#prev-month"),this.$removeDate=$(".js-remove",this.$node),this.$amToggle=$("#amPm"),this.$hours.bind("change",function(){i._refreshDate(),i.publishDateChanged()}),this.$minutes.bind("change",function(){var e=$(this);e.val(("00"+e.val()).slice(-2)),i._refreshDate(),i.publishDateChanged()}),this.$datepicker=this.$datepicker.dateinput({onHide:function(){return!1},change:function(){i._refreshDate(),i.publishDateChanged()},min:-1}),i.datePickerData=this.$datepicker.data("dateinput").show(),this.$nextMonth.bind("click",function(e){i.datePickerData.addMonth(1)}),this.$prevMonth.bind("click",function(e){i.datePickerData.addMonth(-1)}),this.$removeDate.bind("click",function(e){i.publishRemoval()}),this.$amToggle.bind("click",function(e){var t=i.$amToggle.data("value");i._setAmPm(!t),i.publishDateChanged()}),i.setDate(t.startDate)}).methods({_refreshDate:function(){var e=this.$hours.val(),t=Number(e)%12,i=Number(this.$minutes.val());if(!_.isNaN(t)&&!_.isNaN(i)){var n=new Date(this.datePickerData.getValue().getTime());this.$amToggle.data("value")?n.setHours(t+12):n.setHours(t),n.setMinutes(i),this.date=n,e>12?(this.$hours.val(t),this._setAmPm(!0)):"0"===e&&(this.$hours.val(12),this._setAmPm(!1))}},_setAmPm:function(e){e?(this.$amToggle.text(TD.i("PM")),this.$amToggle.data("value",!0)):(this.$amToggle.text(TD.i("AM")),this.$amToggle.data("value",!1)),this._refreshDate()},setDate:function(e){if(e){var t=e.getHours()%12||12,i=e.getHours()>11,n=e.getMinutes();this._setAmPm(i),this.datePickerData.setValue(e.getFullYear(),e.getMonth(),e.getDate()),this.$hours.val(t),this.$minutes.val(("00"+n).slice(-2))}this.date=e,this.publishDateChanged()},getDate:function(){return this.date},publishDateChanged:function(e){$.publish("/change/date",[void 0!==e?e:this.getDate()])},publishRemoval:function(){this.date=null,this.publishDateChanged(null),$.publish("/removed/date")}})},function(e,t,i){"use strict";TD.components.SearchInput=TD.components.Base.extend(function(e){var t=this;_.isString(e)?this.promptText=e:this.promptText=TD.i("Enter a #hashtag or keyword"),this.$node=$(TD.ui.template.render("add_column_search_input",{searchInputClassName:"js-add-column-search-input",searchInputPlaceholder:this.promptText})),this.$inputBox=this.$find(".js-add-column-search-input"),this.$searchButton=this.$find(".js-perform-search"),this.$spinner=this.$find(".js-spinner"),this.$clearButton=this.$find(".js-clear-search"),this.$node.submit(function(e){t._search(),e.preventDefault()}),this.$clearButton.click(function(e){t._clear(),e.preventDefault()}),this.$searchButton.click(function(e){t._search(),e.preventDefault()}),this.boundCancelSearch=this.cancelSearch.bind(this),this.$inputBox.on("uiInputBlur",this.boundCancelSearch)}).methods({cancelSearch:function(){this.$inputBox.val("").blur()},_search:function(){var e=$.trim(this.$inputBox.val());""===e?this._clear():this.prevSearchTerm!==e&&(this.prevSearchTerm=e,this.bubbleEvent("td-search",this.$inputBox.val()))},_clear:function(){this.$inputBox.val(""),this.prevSearchTerm="",this.$inputBox.focus(),this.bubbleEvent("td-search-clear"),this.$clearButton.hide(),this.$searchButton.show()},showActivity:function(){this.$searchButton.hide(),this.$clearButton.hide(),this.$spinner.show()},hideActivity:function(){var e=""!==this.$inputBox.val();this.$clearButton.toggle(e),this.$searchButton.toggle(!e),this.$spinner.hide()},destroy:function(){$(document).off("uiSearchBlur",this.boundCancelSearch),this.$inputBox.unbind(),this.$node.remove()}})},function(e,t,i){"use strict";TD.components.SelfAccounts=TD.components.Base.extend(function(e){var t=TD.storage.accountController.getPostingAccounts();this.titleText=TD.i("Your Accounts"),this.service=e,this.items=[],this.$node=$(TD.ui.template.render("open_column_list_with_header",{title:this.titleText})),this.$list=this.$find(".js-list-container");for(var i=0;i<t.length;i++){var n=t[i],s=n.getType();if(!this.service||s===this.service){var r=(new TD.components.MenuItem).selfAccount(t[i]);this.items.push(r),this.$list.append(r.$node)}}}).methods({selectDefault:function(){for(var e,t=TD.storage.accountController.getDefault(),i=t.getKey(),n=0;n<this.items.length;n++)if(e=this.items[n],i===e.account.getKey()){e.select();break}},destroy:function(){_.each(this.items,function(e){e.destroy()}),this.$node.remove()}})},function(e,t,i){"use strict";TD.components.SplitMenu=TD.components.Base.extend(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hasAddMultipleUsersButton;this.$node=$(TD.ui.template.render("open_split_menu",{hasAddMultipleUsersButton:t})),this.menuItems=[],this.rightPillarComponent=null,this.pinnedMenuComponent=null,this.$leftPinnedContainer=this.$find(".js-left-pinned"),this.$leftPinnedBottomContainer=this.$find(".js-left-pinned-bottom"),this.$leftPillarContainer=this.$find(".js-left-column"),this.$rightPillarContainer=this.$find(".js-right-column")}).methods({appendMenuItem:function(e){this.menuItems.push(e),this.$leftPillarContainer.append(e.$node)},removeMenuItem:function(e){e.destroy(),this.pinnedMenuComponent===e&&(this.pinnedMenuComponent=null,this.$leftPillarContainer.removeClass("s-with-pinned")),this.menuItems=_.without(this.menuItems,e)},appendPinnedMenuItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.bottom;if(this.pinnedMenuComponent=e,this.menuItems.push(e),i)return this.$leftPillarContainer.addClass("s-with-pinned-bottom"),void this.$leftPinnedBottomContainer.html(e.$node);this.$leftPillarContainer.addClass("s-with-pinned"),this.$leftPinnedContainer.html(e.$node)},appendMenuItemElement:function(e){this.$leftPillarContainer.append(e)},setRightPillar:function(e){this.rightPillarComponent&&this.rightPillarComponent.destroy(),this.rightPillarComponent=e,this.$rightPillarContainer.html(e.$node)},destroy:function(){_.each(this.menuItems,function(e){e.destroy()}),this.rightPillarComponent&&this.rightPillarComponent.destroy(),this.supr()}})},function(e,t,i){"use strict";TD.components.SuggestedUsers=TD.components.TwitterUserSearch.extend(function(e,t,i,n){this.searchTerm=n,this._ready=!1,this._userData=null,this.resultsTitle=TD.i("Suggested"),$(".js-title",this.$searchResults).text(this.resultsTitle),this.$node=this.$searchResults,this.searchInput.$node.detach(),this._search(n)}).methods({_handleUsers:function(e){this._ready?e&&e.length>0&&(this.supr(e),this._userData=null):this._userData=e},render:function(){this._ready||(this._ready=!0,this._handleUsers(this._userData))}})},function(e,t,i){"use strict";var n=i(20),s=function(e){return e&&e.__esModule?e:{default:e}}(n);TD.components.TemporaryColumn=TD.components.Base.extend(function(){this.type=void 0,this.service=void 0,this.accountKey=void 0,this.metaString=void 0,this.column=null,this.$actionButton=null,this.destroyCallbacks=[]}).statics({DELETED_EVENT:"td-column-deleted"}).methods({_init:function(e){var t=TD.controller.columnManager.makeColumnFor(e);this.renderColumn(t)},renderColumn:function(e){this.column=e,e.visible=!0,e.temporary=!0,TD.controller.columnManager.add(this.column);var t=this.column.model,i={columnkey:t.getKey(),columntitle:s.default.getColumnTitleHTML(this.column),columniconclass:this.column.getIconClass(),isEventColumn:this.column.isEventColumn(),isTemporary:!0};this.$node=$(TD.ui.template.render("column",i)),TD.util.isTouchDevice()&&TD.decider.get("touchdeck_tweet_controls_v3")&&this.$node.find(".js-chirp-container").addClass("is-touch-tweet-container"),this.$actionButton=this.$find(".js-action-header-button")},populate:function(){TD.ui.columns.setupColumn(this.column),TD.controller.feedScheduler.addColumn(this.column,!1)},makePermanent:function(){var e=this.column.clone();TD.controller.columnManager.addColumnToUI(e)},home:function(e){this._init({type:"home",service:"tweetdeck"})},me:function(){this._init({type:"me",service:"tweetdeck"})},inbox:function(){this._init({type:"privateMe",service:"tweetdeck"})},scheduled:function(){this._init({type:"scheduled",service:"tweetdeck"})},genericTwitter:function(e,t,i){var n,s,r=t.getKey(),o=i?i.id:void 0;i?(n=TD.controller.columnManager.NON_SELF_FEED_TYPE[e]||e,e===TD.controller.columnManager.MENTIONS&&(o="+@"+i.screenName),TD.cache.names.addScreenName(i.id,i.screenName)):(e===TD.controller.columnManager.MENTIONS&&(s=new TD.vo.SearchFilter,s.action.fromJSONObject({showMentions:!0})),e===TD.controller.columnManager.FOLLOWERS&&(s=new TD.vo.SearchFilter,s.action.fromJSONObject({showFollowers:!0})),n=TD.controller.columnManager.SELF_FEED_TYPE[e]||e),this._init({type:n,service:"twitter",accountKey:r,metaString:o,searchFilter:s})},liveVideo:function(e,t,i){if(!i){i=TD.storage.accountController.getPreferredAccount("twitter").getKey()}this._init({type:e,service:"twitter",accountKey:i,metadata:t})},event:function(e,t,i){if(!i){i=TD.storage.accountController.getPreferredAccount("twitter").getKey()}this._init({type:e,service:"twitter",accountKey:i,metadata:t})},search:function(e,t){if(!t){t=TD.storage.accountController.getPreferredAccount("twitter").getKey()}this._init({type:"search",service:"twitter",accountKey:t,metaString:e})},list:function(e){function t(){if(e.isOwnList()){var t=i.$find(".js-action-header-button");t.text(TD.i("Edit")),t.removeClass("is-hidden"),t.click(function(){i.bubbleEvent(TD.components.BaseModal.CLOSE_EVENT),new TD.components.ListMembers(e)})}}var i=this,n=e.user.account.getKey(),s=e.user.id+"/"+e.id;TD.cache.names.addScreenName(e.user.id,e.user.screenName),TD.cache.names.addListName(e.id,e.name),this._init({type:"list",service:"twitter",accountKey:n,metaString:s}),t();var r=$(document),o=function(e,n){i.column.model.privateState.key===n.columnKey&&t()};r.on("uiColumnTitleRefreshed",o),this.destroyCallbacks.push(r.off.bind(r,"uiColumnTitleRefreshed",o))},customTimeline:function(e){function t(){if(e.isOwnCustomTimeline()){var t=i.$find(".js-action-header-button");t.text(TD.i("Delete")),t.removeClass("is-hidden"),t.addClass("btn-negative"),t.click(function(){var e=_.uniqueId(),t={id:e,title:TD.i("Delete"),message:TD.i("Are you sure you want to delete this collection?"),okLabel:TD.i("Delete"),cancelLabel:TD.i("Cancel")},n=function(t,n){n.id===e&&($(document).off("uiConfirmationAction"),n.result&&i.column.deleteCustomTimeline(function(){_.defer(function(){i.bubbleEvent(TD.components.TemporaryColumn.DELETED_EVENT)})}))};o.on("uiConfirmationAction",n),i.destroyCallbacks.push(o.off.bind(o,"uiConfirmationAction",n)),i.$node.trigger("uiShowConfirmationDialog",t)})}}var i=this,n=e.account.getKey(),r=e.user.id+"/"+e.id;TD.cache.names.addCustomTimelineName(e.id,e.name),TD.cache.names.addScreenName(e.user.id,e.user.screenName),this._init({type:s.default.feedTypes.CUSTOMTIMELINE,service:"twitter",accountKey:n,metaString:r}),t();var o=$(document),a=function(e,n){i.column.model.privateState.key===n.columnKey&&t()};$(document).on("uiColumnTitleRefreshed",a),this.destroyCallbacks.push(o.off.bind(o,"uiColumnTitleRefreshed",a))},dataminr:function(e,t){this._init({type:"dataminr",service:"twitter",accountKey:t,metadata:{watchlist:e}})},destroy:function(){this.column&&this.column.temporary&&TD.controller.columnManager.removeFromAppLayer(this.column.model.getKey()),this.destroyCallbacks.forEach(function(e){e.call(this)}.bind(this)),this.$node.remove()}})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(27),r=n(s),o=i(43),a=n(o);TD.components.Trends=TD.components.Base.extend(function(){this.defaultWoeid=1,this.isTailoredTrendsOn=TD.decider.get("trends_tailored"),this.isRegionalTrendsOn=TD.decider.get("trends_regional"),this.withLocationSelector=this.isTailoredTrendsOn||this.isRegionalTrendsOn,this.$node=$(TD.ui.template.render("list_module_trends",{withLocationSelector:this.withLocationSelector})),this.$trendList=this.$find(".js-trend-list"),this.trendComponents=[],this.boundHandleChangeTrend=this.handleChangeTrend.bind(this),this.boundHandleChangeCity=this.handleChangeCity.bind(this),this.citiesByCountryWoeid=null,this.$trends=this.$find(".js-trends"),this.$trendsSelect=this.$find(".js-trends-select"),this.$trendsSelect.on("change",this.boundHandleChangeTrend),this.$cities=this.$find(".js-cities"),this.$citiesSelect=this.$find(".js-cities-select"),this.$citiesSelect.on("change",this.boundHandleChangeCity),this.account=TD.storage.accountController.getPreferredAccount("twitter"),this.client=TD.controller.clients.getClient(this.account.getKey());var e=this.preloadTrendSelectors();e.addCallback(this.handleChangeTrend.bind(this)),e.addErrback(function(e){this.$trendList.html(TD.i("There was a problem loading trends. Please try again.")),console.error(e.stack)}.bind(this))}).statics({PLACE_TYPE_TOWN:7,PLACE_TYPE_COUNTRY:12,PLACE_TYPE_WORLDWIDE:19}).methods({handleChangeTrend:function(){var e=this.$trendsSelect.val();try{var t=JSON.parse(e)}catch(e){t={type:"location",id:this.defaultWoeid}}if("tailored"===t.type)return this.showTailoredTrendsFor(t.id);var i=this.citiesByCountryWoeid[t.id];!i||i.length<=1?(this.$cities.addClass("is-hidden"),this.$citiesSelect.html("")):(this.$cities.removeClass("is-hidden"),this.$citiesSelect.html(i)),this.showTrendsForLocation(t.id)},handleChangeCity:function(){var e=this.$citiesSelect.val();this.showTrendsForLocation(e)},makeOptGroup:function(e,t){var i=document.createElement("optgroup");return i.label=e,$(i).attr(t||{})},makeOption:function(e,t){var i=document.createElement("option");return $(i).text(e).attr(t||{})},preloadTrendSelectors:function(){var e=this.makeOptGroup(TD.i("Regions"),{"data-group-id":"regions"});e.append(this.makeOption(TD.i("Worldwide"),{selected:!this.isTailoredTrendsOn,value:(0,a.default)({type:"location",id:this.defaultWoeid}),"data-region":"Worldwide"}));var t=TD.core.defer.succeed({trends:[e],citiesByCountryWoeid:{}});return this.isTailoredTrendsOn&&t.addCallback(this.preloadTailoredTrends.bind(this)),this.isRegionalTrendsOn&&t.addCallback(this.preloadRegionalTrends.bind(this)),t.addCallback(function(e){this.$trendsSelect.append(e.trends),this.withLocationSelector&&this.$trends.removeClass("is-hidden"),this.citiesByCountryWoeid=e.citiesByCountryWoeid}.bind(this)),t},preloadTailoredTrends:function(e){var t=this.makeOptGroup(TD.i("Tailored"),{"data-group-id":"tailored"}),i=TD.storage.accountController.getAccountsForService("twitter").sort(function(e,t){return TD.storage.accountController.getDefault()===e?-1:0}).map(function(e,t){return this.makeOption("@"+e.getUsername(),{value:(0,a.default)({type:"tailored",id:e.getUserID()}),selected:0===t})},this);return t.append(i),e.trends.unshift(t),e},showTailoredTrendsFor:function(e){this.resetTrends();var t=TD.storage.accountController.getAccountFromId(e);TD.controller.clients.getClient(t.getKey()).getTailoredTrends(this.displayTrends.bind(this))},preloadRegionalTrends:function(e){var t=new TD.core.defer.Deferred;return this.client.getTrendLocations(function(i){var n=i.reduce(function(e,t){if(!this.canDisplay(t)||this.isWorldwide(t))return e;switch(void 0===e[t.country]&&(e[t.country]={$elem:null,$cities:[]}),t.placeType.code){case TD.components.Trends.PLACE_TYPE_COUNTRY:e[t.country].$elem=this.makeOption(t.country,{value:(0,a.default)({type:"location",id:t.woeid}),"data-region":t.country}),e[t.country].$cities.unshift(this.makeOption(TD.i("All cities"),{selected:!0,value:t.woeid}));break;case TD.components.Trends.PLACE_TYPE_TOWN:e[t.country].$cities.push(this.makeOption(t.name,{value:t.woeid}))}return e}.bind(this),{}),s=e.trends.filter(function(e){return"regions"===$(e).attr("data-group-id")})[0];if(!s)return t.callback(e);s.append((0,r.default)(n).sort().map(function(t){var i=n[t].$cities[0].val();return e.citiesByCountryWoeid[i]=n[t].$cities,n[t].$elem})),t.callback(e)}.bind(this)),t},canDisplay:function(e){return-1!==[TD.components.Trends.PLACE_TYPE_WORLDWIDE,TD.components.Trends.PLACE_TYPE_TOWN,TD.components.Trends.PLACE_TYPE_COUNTRY].indexOf(e.placeType.code)},isWorldwide:function(e){return e.placeType.code===TD.components.Trends.PLACE_TYPE_WORLDWIDE},showTrendsForLocation:function(e){this.resetTrends(),this.client.getTrends(e,this.displayTrends.bind(this))},displayTrends:function(e){e=e.trends;for(var t,i=0;i<e.length;i++)e[i].promotedContent||(t=(new TD.components.MenuItem).basic(e[i].name),this.trendComponents.push(t),this.$trendList.append(t.$node))},resetTrends:function(){this.$trendList.empty(),this.destroyTrendComponents()},destroyTrendComponents:function(){this.trendComponents.forEach(function(e){e.destroy()}),this.trendComponents=[]},destroy:function(){this.destroyTrendComponents(),this.$trendsSelect.off("click",this.boundHandleChangeTrend),this.$citiesSelect.off("click",this.boundHandleChangeCity),this.$node.remove()}})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(17),r=n(s),o=i(146),a=n(o),c=i(6),l=i(30),u=i(451),d=n(u),h=i(1017),p=n(h),f=i(13);TD.components.TweetDetailView=TD.components.DetailView.extend(function(e,t){var i=this;$(document).on("dataSettingsValues",function(e,t){(t.font_size||t.theme)&&(i.cardTeardownEvent&&($(document).trigger(i.cardTeardownEvent),i.cardTeardownEvent=null),i._renderChirp())}),this.cardsEnabledStream=TD.decider.getStreamForDeciderKey("cards_enabled_detail_view").distinctUntilChanged().subscribe(function(e){i.cardsEnabled=e,i._refreshPoll(i.mainChirp)}),this.pollsEnabledStream=TD.decider.getStreamForDeciderKey("poll_cards_enabled").distinctUntilChanged().subscribe(function(e){i.pollsEnabled=e,i._refreshPoll(i.mainChirp)})}).statics({CARD_CONTAINER:".js-cards-container",MEDIA_CONTAINER:".js-tweet-media",TWEET_STAT:".js-tweet-stat",RENDER_OPTIONS:{headerClass:"js-detail-header",headerAction:"resetToTopColumn",headerLinkClass:"js-column-back"}}).methods({_render:function(e){var t=$.extend({},TD.components.TweetDetailView.RENDER_OPTIONS,e);this.$node=$(TD.ui.template.render("status/tweet_detail_wrapper",t)),this._refreshPoll()},showChirp:function(e,t){var i=this;this.chirp=e,this.mainChirp=e.getMainTweet?e.getMainTweet():e,this.parentChirp=t,this._renderChirp(),this._subscription||(this._subscription=$.subscribe("/tweets/conversation/"+this.mainChirp.id,function(e){e.root&&(i.chirp=i.mainChirp=i.refetchedChirp=e.root,i._renderChirp(),i.showTweetStats(i.chirp),i.attachTranslateCTA(),i._showCardsForChirp(i.refetchedChirp),i._refreshPoll(i.refetchedChirp),i._showQuotedTweet(i.refetchedChirp),$.unsubscribe(i._subscription))})),(0,f.metric)("ui:detail:render")},_showCardsForChirp:function(e){if(e.hasMedia())return void this.showMedia(e);if(e.hasCard()&&!e.isQuoteStatus&&!this.cardTeardownEvent){var t=this.$tweetDetail.find(".js-card-container"),i=e.possiblySensitive&&!TD.settings.getDisplaySensitiveMedia(),n=t.parents(".is-inverted-dark").length,s=(0,l.attach)(d.default,t,{card:e.card,cardUrl:this.chirp.getCardUrl({isPossiblySensitive:i,isInvertedDark:n}),context:"detail",scribeNamespace:{page:"main",section:"detail"}}),r=s.teardownEvent;this.cardTeardownEvent=r}},_refreshPoll:function(e){var t=this.$find(".js-poll");if(this.pollsEnabled)return void t.empty();t.html(TD.ui.template.render("status/poll",$.extend({},e,{chirp:e})))},_showQuotedTweet:function(e){if(e.isQuoteStatus){var t=this.$find(".js-attachment-tweet");e.quotedTweetMissing?t.replaceWith(TD.ui.template.render("status/quoted_tweet_missing")):t.replaceWith(e.quotedTweet.renderQuotedTweet({mediaPreviewSize:TD.vo.Column.MEDIA_PREVIEW_SIZE_MEDIUM}))}},showMedia:function(e){if(e.hasMedia()){var t=this.$find(TD.components.TweetDetailView.MEDIA_CONTAINER);if(!e.hasVideo()||t.hasClass("is-hidden")){var i=TD.settings.getDisplaySensitiveMedia(),n=e.possiblySensitive&&!i;e.getMedia().forEach(function(e){e.isPossiblySensitive=n});var s=TD.ui.template.render("status/tweet_detail_media",$.extend({},e,{isPossiblySensitive:n}));t.removeClass("is-hidden").html(s)}}},_chirpRetrievalError:function(){},_renderChirp:function(){var e=this.column.isOwnCustomTimeline(),t=!this.column.temporary&&!e;this.$tweetDetail=$(TD.ui.template.render("status/tweet_detail",{withDragHandle:t&&!this.chirp.getMainUser().isProtected,withRemove:e,renderQuoted:function(){return this.renderQuotedTweet({mediaPreviewSize:TD.vo.Column.MEDIA_PREVIEW_SIZE_MEDIUM,isGifActive:!0,withAutoplay:TD.settings.getAutoPlayGifs()})},chirp:this.chirp,isFavorited:this.chirp.isFavorite,isRetweeted:this.chirp.isRetweet})),this.$tweetDetail.find(".tweet-location-search").on("click",function(e){return $(document).trigger("uiPerformSearch",{query:'near:"'+this.chirp.getLocationFullName()+'"'}),!1});var i=this.$tweetDetail.find(".js-detail-view-inline-text");this.chirp.isOwnChirp()&&this.chirp.isInThread()?this.chirp.lastInSelfThread()?i.html(TD.i("Add another Tweet")):this.$tweetDetail.find(".js-detail-view-inline").hide():i.html("Reply to "+this.chirp.getReplyUsers().map(function(e){return a.default.atMentionify(e.screenName)}).join(" ")),this.$find(".js-tweet-detail").html(this.$tweetDetail);var n=this.column.getMediaPreviewSize();n!==TD.vo.Column.MEDIA_PREVIEW_OFF&&(n=TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL),this.replies&&this.repliesTo||(this.replies=new TD.components.InReplyTo(this.chirp,this.$detailContainer,n,t),this.repliesTo=new TD.components.RepliesTo(this.chirp,n,t),this.$find(".js-inreplyto").replaceWith(this.replies.$node),this.$find(".js-tweet-replies").append(this.repliesTo.$node),this._boundShowSocialProof=this.showSocialProof.bind(this),this.$column.on("click",TD.components.TweetDetailView.TWEET_STAT,this._boundShowSocialProof),this.initialised=!0,this.$tweetDetail.trigger("uiDetailViewActive",{$chirp:this.$tweetDetail,chirp:this.chirp,parentChirp:this.parentChirp}),TD.controller.stats.tweetImpression(this.chirp.getScribeItemData()),this.mainChirp.isOwnChirp()&&TD.controller.stats.ownTweetDetailImpression(this.mainChirp.getScribeItemData()))},attachTranslateCTA:function(){var e=this;this.$tweetDetail.find(".js-translate-call-to-action").on("click",function(){e.chirp.translate()})},showTweetStats:function(e){if(e instanceof TD.services.TwitterStatus&&!(e instanceof TD.services.TwitterConversationMessageEvent)){var t=e.getMainTweet();this.tweetStats=(0,l.attach)(p.default,this.$find(".js-tweet-stats"),{tweetId:t.id,userId:t.user.id,initialLikeCount:t.likeCount,initialReplyCount:t.replyCount,initialRetweetCount:t.retweetCount,userScreenName:t.user.screenName,isOwnChirp:t.isOwnChirp(),accountKey:t.account.getKey()})}},showSocialProof:function(e){var t=this,i=$(e.target).closest(TD.components.TweetDetailView.TWEET_STAT).attr("data-type"),n=this.chirp.getMainTweet?this.chirp.getMainTweet():this.chirp;TD.controller.clients.getClient(n.account.getKey()).getTweetSummary(n.id,function(e){t.$column.trigger("uiShowSocialProof",{type:i,tweetSummary:e,$chirp:t.$tweetDetail,chirp:t.chirp,parentChirp:t.parentChirp})},function(e){(0,c.showErrorNotification)({message:TD.i("Could not fetch users")})})},destroy:function(){this._subscription&&$.unsubscribe(this._subscription),this.cardsEnabledStream&&this.cardsEnabledStream.unsubscribe(),this.pollsEnabledStream&&this.pollsEnabledStream.unsubscribe(),this.$column.off("click",this._boundShowSocialProof);var e=function(){this.initialised&&(this.replies.destroy(),this.repliesTo.destroy(),this.tweetStats&&$(document).trigger(this.tweetStats.teardownEvent),this.cardTeardownEvent&&$(document).trigger(this.cardTeardownEvent))}.bind(this);this.supr(e)},findChirp:function(e){return this.initialised?(0,r.default)(this.refetchedChirp,"id")===e?this.refetchedChirp:this.replies.findChirp(e)||this.repliesTo.findChirp(e):void 0},getMostInteresting$Chirp:function(){return this.$tweetDetail}})},function(e,t,i){"use strict";TD.components.TwitterUserSearch=TD.components.Base.extend(function(e,t,i){e||(e=TD.storage.accountController.getPreferredAccount("twitter")),e&&(this.ListItemComponent=i,this.client=TD.controller.clients.getClient(e.getKey()),this.maxResults=t||TD.components.TwitterUserSearch.MAX_RESULTS,this.searchInput=new TD.components.SearchInput(TD.i("Enter a @name or full name")),this.items=[],this.resultsTitle=TD.i("Search results"),this.$searchResults=$(TD.ui.template.render("open_column_list_with_header",{title:this.resultsTitle})),this.$searchResults.hide(),this.$node=$(this.searchInput.$node),this.$node.append(this.$searchResults),this.$node.bind("td-search",_.bind(this._handleSearchSubmit,this)),this.$node.bind("td-search-clear",_.bind(this._handleSearchClear,this)),this.$searchResultsList=this.$find(".js-list-container"))}).statics({SEARCH_COMPLETE:"td-search-complete",MAX_RESULTS:4}).methods({_handleSearchSubmit:function(e,t){this.searchInput.showActivity();var i=t.data;this._search(i),e.stopPropagation()},_search:function(e){e&&this.client.userSearch(e,_.bind(this._handleUsers,this))},_handleSearchClear:function(e){_.each(this.items,function(e){e.destroy()}),this.$searchResults.hide()},_handleUsers:function(e){this.searchInput.hideActivity();var t,i,n;for(e=_.take(e,this.maxResults),this.items=[],this.$searchResultsList.empty(),t=0,i=e.length;t<i;t++)n=this.ListItemComponent?new this.ListItemComponent(e[t]):(new TD.components.MenuItem).twitterUser(e[t]),this.items.push(n),this.$searchResultsList.append(n.$node);this.$searchResults.show(),this.bubbleEvent(TD.components.TwitterUserSearch.SEARCH_COMPLETE)},detachResultsContainer:function(){return this.$searchResults.detach()},destroy:function(){_.each(this.items,function(e){e.destroy()}),this.supr()}})},function(e,t,i){"use strict";TD.constants={keyCodes:{enter:13,shift:16,escape:27,tab:9,del:8,spacebar:32,upArrow:38,downArrow:40,leftArrow:37,rightArrow:39},charCodes:{space:32,questionMark:63},regexps:{name:/\S+/,username:/^[@＠]?([a-zA-Z0-9_]{1,15})$/,usernameWithAt:/^[@＠]{1}([a-zA-Z0-9_]{1,15}) /,usernameWithSpace:/^[@＠]{1}(\w{1,15})\s*$/,email:/^[\w-]+([^@,\s\<\>\(\)]*[\w-]+)?\@[\w-]+(\.[\w-]+)*\.[a-z]{2,}$/i,tokenSeparator:/[\s-_]+/},time:{oneDay:864e5,oneHour:36e5},TDApi:{ERROR_ACCOUNT_DOESNT_EXIST:"Account does not exist.",ERROR_BAD_PASSWORD:"BadPassword",ERROR_SESSION_EXPIRED:"SessionExpired",ERROR_RATE_LIMIT_EXCEEDED:"RateLimitExceeded"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(448),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=TD.config.twitter_api_base+"/1.1/account/settings.json",o=(0,s.default)(r);t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(448),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=TD.config.twitter_api_base+"/1.1/mutes/advanced_filters.json",o=(0,s.default)(r);t.default=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(624),r=n(s),o=i(62),a=n(o),c=i(6),l=i(450),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(l);TD.controller.auth=function(){var e={},t={twitter:"TwitterAuth",bitly:"BitlyValidate"};return e.create=function(e,i){return TD.sync.util.assert(t[e],'bad name for auth "'+e+'"'),new TD.controller.auth[t[e]](i)},e}(),TD.controller.auth.AuthorisationProcessor=function(){this.start=function(e,t,i){TD.util.isChromeApp()?this.start_chrome(e,t,i):TD.util.isWrapperApp()?this.start_wrapper(e,t,i):this.start_web(e,t,i)},this.start_wrapper=function(e,t,i){var n=deck.authenticateOn(this.getAuthURL(e,i)),s=this,r=function(i){var r=s.getTokenFromURL(e.getType(),i);r&&(r.access_token?s.updateAccount(r.access_token,t):s.updateAccount(r.oauth_token,r.oauth_token_secret,t),n.hide(),n.deleteLater())};n.loadedUrl.connect(r),n.show()},this.start_web=function(e,t,i){var n=window.open(this.getAuthURL(e,i),"mywindow","width=800,height=450"),s=this,r=function i(){var r,o;try{n&&n.location&&n.location.href&&(r=n.location.href)}catch(e){}if(r&&(o=s.getTokenFromURL(e.getType(),r)))return o.access_token?s.updateAccount(o.access_token,t):s.updateAccount(o.oauth_token,o.oauth_token_secret,t),void n.close();setTimeout(i,250)};setTimeout(r,500)},this.getAuthURL=function(e,t){var i=e.getType(),n={};if("twitter"===i){var s=Boolean(t),r=e.getUsername();s&&(n.force_login=s),r&&(n.screen_name=r)}return TD.net.util.addURLParameters(TD.config.api_root+"/oauth/authorize/"+i,n)},this.getTokenFromURL=function(e,t){var i,n;return((0,r.default)(t,"/oauth/success/"+e)||(0,r.default)(t,"/oauth2/success/"+e))&&(n=t.split("?")[1],i=TD.net.util.formDecode(n)),i},this.start_chrome=function(e,t,i){var n,s,r=this;chrome.tabs.getSelected(null,function(e){n=e.id}),s={url:this.getAuthURL(e,i)},chrome.tabs.create(s,function(i){var s=i.id;chrome.tabs.onUpdated.addListener(function(i,o,a){var c;i===s&&a.url&&"complete"==a.status&&(c=r.getTokenFromURL(e.getType(),a.url))&&(c.access_token?r.updateAccount(c.access_token,t):r.updateAccount(c.oauth_token,c.oauth_token_secret,t),chrome.tabs.update(n,{selected:!0}),chrome.tabs.remove(i))})})}},TD.controller.auth.TwitterAuth=function(e){var t=this;t.account=e,this.verifyAccount=function(e,i){$(document).trigger("metric",{key:"auth:twitter:verify:start"});var n=t.account,s=TD.config.twitter_api_base+"/"+TD.config.twitter_api_version,r=s+"/account/verify_credentials.json",o=TD.net.ajax.request(r,{account:n,isSigned:!0,settings:{timeout:6e3}});o.addCallback(function(s){var r=s.data,o=n.getUserID();o&&o!=r.id?(console.log("Attempting to update wrong account:",n,"Using data:",r),$(document).trigger("metric",{key:"auth:twitter:verify:wrong_account"}),TD.sync.util.printStacktrace(),(0,c.showErrorNotification)({message:"Failed to add account. Please try again later."}),i()):($(document).trigger("metric",{key:"auth:twitter:verify:success"}),t.updateAccountFromVerifySuccess(n,r),e(n))}),o.addErrback(function(e){return $(document).trigger("metric",{key:"auth:twitter:verify:fail"}),(0,c.showErrorNotification)({message:"Failed to verify account. Please try again later."}),e}),i&&o.addErrback(i)},this.verifyCookieAccount=function(){TD.util.metric("auth:twitter:verify-cookie:start");var e=!!TD.decider.get("graphql_login");return $(document).trigger("dataUsingGraphQL",{isUsingGraphQL:e}),(0,a.default)(e,function(){return u.getLoggedInUser()},function(){return TD.net.ajax.getCookieUser().addCallback(function(e){return e.data})}).addCallbackWith(this,function(e){TD.util.metric("auth:twitter:verify-cookie:success"),this.updateAccountFromVerifySuccess(this.account,e)}).addErrback(TD.util.effect(function(e){TD.util.metric("auth:twitter:verify-cookie:fail")}))},this.updateAccountFromVerifySuccess=function(e,t){e.setUsername(t.screen_name),e.setName(t.name),e.setProfileImageURL(t.profile_image_url_https),e.setUserID(t.id_str),e.setIsPrivate(t.protected),e.setIsVerified(t.verified),e.setUpdated(Date.now()),e.computeKey()},this.updateAccount=function(e,i,n){var s=t.account;s.setUsername(""),s.setUserID(""),s.setType("twitter"),s.setOAuthToken(e),s.setTokenSecret(i),this.verifyAccount(n)},this.becomeContributor=function(){var e,t=TD.storage.store.getTwitterLoginAccount();return TD.decider.get("convert_new_oauth_account_to_contributor")&&!this.account.isContributor()&&t&&this.account.getUserID()!==t.getUserID()?(e=this.becomeContributorApiRequest(t.getUserID()),e.addCallbackWith(this,function(){this.account.makeContributor(),this.account.setTokenSecret(void 0)}),e.addCallbacks(this.handleBecomeContributorSuccess.bind(this),this.handleBecomeContributorError.bind(this)),e):TD.core.defer.succeed()}.bind(this),this.becomeContributorApiRequest=function(e){var t=TD.config.twitter_api_base+"/"+TD.config.twitter_api_version,i=t+"/users/contributors/update.json";return TD.net.ajax.request(i,{account:this.account,isSigned:!0,method:"POST",params:{user_id:e,admin:!0}})},this.handleBecomeContributorSuccess=function(e){return $(document).trigger("metric",{key:"account:become_contributor:success"}),e},this.handleBecomeContributorError=function(e){var t,i=e.req.responseJSON.errors[0],n="unknown",s=e.req.status;if(i)switch(n=i.code||n,i.code){case 317:t=TD.i("@{{username}} may not have any more Team members.",{username:this.account.getUsername()});break;case 318:t=TD.i("You cannot join any more Teams.");break;case 330:t=TD.i("You have privacy settings enabled preventing you from joining this Team. Visit twitter.com/settings to adjust.");break;default:t=i.message}return t=t||TD.i("An unknown error occurred. Please try again shortly."),(0,c.showErrorNotification)({message:t}),$(document).trigger("metric",{key:"account:become_contributor:error:"+s+":"+n}),e}},TD.controller.auth.BitlyValidate=function(e){var t=this;t.account=e,this.updateAccount=function(e,t){this.verifyAccount(t)},this.verifyAccount=function(e,i){var n=t.account,s={x_login:n.get("userId"),x_apiKey:n.get("oauth_token"),apiKey:"R_b8032856b71a14fabfe64f6845689ddf",login:"tweetdeckapi",format:"json"},r=TD.net.ajax.jsonp("https://api-ssl.bitly.com/v3/validate",s);r.addCallback(function(t){var s=t.data;if(!s.data||1!=s.data.valid)return void i();n.setUpdated((new Date).getTime()),n.computeKey(),e(n)}),r.addErrback(i)}},TD.controller.auth.TwitterAuth.prototype=new TD.controller.auth.AuthorisationProcessor},function(e,t,i){"use strict";TD.controller.clients=function(){var e={},t={},i=function(e,t){switch(e){case"twitter":return new TD.services.TwitterClient(t);case"tweetdeck":return new TD.services.TweetDeckClient}};return{init:function(){$.subscribe("/storage/account/new",function(e){TD.controller.clients.initialiseClients()}),$(document).on("dataContributees",this.handleContributees.bind(this)).on("dataContributeeAcceptSuccess",this.handleContributeeInviteAcceptSuccess.bind(this)),TD.controller.clients.initialiseClients()},initialiseClients:function(){for(var t,n=TD.storage.accountController.getPostingAccounts(),s=0;s<n.length;s++)(t=e[n[s].getKey()])||(t=i(n[s].getType(),n[s]),e[n[s].getKey()]=t);e.tweetdeck||(e.tweetdeck=new TD.services.TweetDeckClient),TD.controller.scheduler.schedulePeriodicTask(1200,TD.controller.clients.refreshRetweetBlockLists),TD.controller.scheduler.schedulePeriodicTask(300,this.fetchContributees.bind(this),!0),$(document).trigger("dataClientsUpdated")},getClient:function(t){return e[t]},getTDClient:function(){return e.tweetdeck},getClientsByService:function(t){var i=[];for(var n in e)e[n].type==t&&i.push(e[n]);return i},getPreferredClient:function(e){var t=TD.storage.accountController.getPreferredAccount(e);return t?this.getClient(t.getKey()):void 0},addClient:function(e,t){t||(t=new TD.storage.Account,t.setType(e));var i=TD.controller.auth.create(e,t),n=this.getClientsByService(e).length>0,s=function(){i.becomeContributor().addCallbackWith(this,function(){TD.storage.accountController.manage(t),this.initialiseClients()})}.bind(this);$(document).trigger("metric",{key:"account:manage:start"}),i.start(t,s,n)},removeClient:function(t){var i=TD.storage.accountController.get(t);i&&(e[t]&&e[t].cleanUp&&e[t].cleanUp(),delete e[t],TD.controller.feedManager.deleteFeedsWhere(function(e){return e.getAccountKey()===t}),TD.storage.accountController.blacklistAccount(i),$(document).trigger("dataClientsUpdated"))},refreshRetweetBlockLists:function(){if(TD.util.shouldStream()){var e=TD.controller.clients.getClientsByService("twitter");_.each(e,function(e){e.populateRetweetBlockList()})}},fetchContributees:function(){var e=TD.storage.store.getTwitterLoginAccount();e&&$(document).trigger("uiNeedsContributees",{accountKey:e.getKey()})},addExpectedNewContributeeId:function(e){e||(e="*"),t[e]=!0},handleContributeeInviteAcceptSuccess:function(e,t){TD.storage.accountController.manageContributee(t).addCallback(function(){$(document).trigger("dataContributeeInviteSuccess",t)})},handleContributees:function(e,i){var n=TD.storage.store.getTwitterLoginAccount();if(i.accountKey===n.getKey()){var s=[];i.contributees.reduce(function(e,i){var n=TD.storage.accountController.isContributeeManaged(i),r=t[i.id]||t["*"];return n||r?e.concat([i]):(s.push(i),e)},[]).forEach(function(e){delete t["*"],delete t[e.id],TD.storage.accountController.manageContributee(e)});s.concat(i.pending).forEach(function(e){$(document).trigger("dataContributeeNotManaged",e)})}}}}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(15),r=n(s),o=i(39),a=n(o),c=i(152),l=n(c),u=i(167),d=n(u),h=i(162),p=n(h),f=i(261),m=n(f),g=i(398),v=n(g),T=i(380),_=n(T),y=i(1677),w=n(y),b=i(112),D=n(b),C=i(383),S=n(C),E=i(17),I=n(E),A=i(1754),x=n(A),k=i(97),M=n(k),O=i(111),R=n(O),L=i(62),F=n(L),N=i(87),P=i(20),j=n(P);TD.controller.columnManager=function(e,t,i){var n,s,o,c,u,h,f,g,T,y={};y._aColumnIndex={},y._columnOrder=[],y.commands=(0,N.makeCommandBag)(),y.TIMELINE="timeline",y.MENTIONS="mentions",y.FOLLOWERS="followers",y.SEARCH="search",y.LISTS="lists",y.CUSTOMTIMELINES="customtimelines",y.MESSAGES="messages",y.TRENDS="trends",y.TWEETS="tweets",y.FAVORITES="favorites",y.HOME="home",y.ME="me",y.INBOX="privateMe",y.SCHEDULED="scheduled",y.NETWORKACTIVITY="networkactivity",y.INTERACTIONS="interactions",y.DATAMINR="dataminr",y.LIVEVIDEO="livevideo",y.EVENT="event",y.columnTypeToIconClass=(n={},(0,l.default)(n,y.TIMELINE,j.default.columnIconClasses.HOME),(0,l.default)(n,y.INTERACTIONS,j.default.columnIconClasses.INTERACTIONS),(0,l.default)(n,y.MENTIONS,j.default.columnIconClasses.MENTIONS),(0,l.default)(n,y.FOLLOWERS,j.default.columnIconClasses.FOLLOWERS),(0,l.default)(n,y.SEARCH,j.default.columnIconClasses.SEARCH),(0,l.default)(n,y.LISTS,j.default.columnIconClasses.LIST),(0,l.default)(n,y.CUSTOMTIMELINES,j.default.columnIconClasses.CUSTOMTIMELINE),(0,l.default)(n,y.MESSAGES,j.default.columnIconClasses.MESSAGES),(0,l.default)(n,y.TWEETS,j.default.columnIconClasses.USER),(0,l.default)(n,y.FAVORITES,j.default.columnIconClasses.FAVORITES),(0,l.default)(n,y.NETWORKACTIVITY,j.default.columnIconClasses.ACTIVITY),(0,l.default)(n,y.HOME,j.default.columnIconClasses.HOME),(0,l.default)(n,y.ME,j.default.columnIconClasses.MENTIONS),(0,l.default)(n,y.INBOX,j.default.columnIconClasses.MESSAGES),(0,l.default)(n,y.SCHEDULED,j.default.columnIconClasses.SCHEDULED),(0,l.default)(n,y.TRENDS,j.default.columnIconClasses.TRENDS),(0,l.default)(n,y.DATAMINR,j.default.columnIconClasses.DATAMINR),(0,l.default)(n,y.LIVEVIDEO,j.default.columnIconClasses.LIVEVIDEO),(0,l.default)(n,y.EVENT,j.default.columnIconClasses.EVENT),n),y.SELF_ACCOUNTS_ONLY=(s={},(0,l.default)(s,y.MESSAGES,!0),(0,l.default)(s,y.NETWORKACTIVITY,!0),(0,l.default)(s,y.INTERACTIONS,!0),(0,l.default)(s,y.FOLLOWERS,!0),(0,l.default)(s,y.TIMELINE,!0),s),y.TWITTER_GENERIC=(o={},(0,l.default)(o,y.TIMELINE,!0),(0,l.default)(o,y.MENTIONS,!0),(0,l.default)(o,y.FOLLOWERS,!0),(0,l.default)(o,y.MESSAGES,!0),(0,l.default)(o,y.TWEETS,!0),(0,l.default)(o,y.FAVORITES,!0),(0,l.default)(o,y.NETWORKACTIVITY,!0),(0,l.default)(o,y.INTERACTIONS,!0),o),y.SELF_FEED_TYPE=(c={},(0,l.default)(c,y.TIMELINE,"home"),(0,l.default)(c,y.MESSAGES,"direct"),(0,l.default)(c,y.TWEETS,"usertweets"),(0,l.default)(c,y.FOLLOWERS,"interactions"),c),y.NON_SELF_FEED_TYPE=(u={},(0,l.default)(u,y.TIMELINE,"usertimeline"),(0,l.default)(u,y.TWEETS,"usertweets"),(0,l.default)(u,y.MENTIONS,"search"),u),y.MENU_TITLE=(h={},(0,l.default)(h,y.TIMELINE,TD.i("Home")),(0,l.default)(h,y.MENTIONS,TD.i("Mentions")),(0,l.default)(h,y.SEARCH,TD.i("Search")),(0,l.default)(h,y.FOLLOWERS,TD.i("Followers")),(0,l.default)(h,y.LISTS,TD.i("List")),(0,l.default)(h,y.CUSTOMTIMELINES,TD.i("Collection")),(0,l.default)(h,y.MESSAGES,TD.i("Messages")),(0,l.default)(h,y.TRENDS,TD.i("Trending")),(0,l.default)(h,y.TWEETS,TD.i("User")),(0,l.default)(h,y.FAVORITES,TD.i("Likes")),(0,l.default)(h,y.ME,TD.i("Mentions")),(0,l.default)(h,y.INBOX,TD.i("Messages")),(0,l.default)(h,y.SCHEDULED,TD.i("Scheduled")),(0,l.default)(h,y.NETWORKACTIVITY,TD.i("Activity")),(0,l.default)(h,y.INTERACTIONS,TD.i("Notifications")),(0,l.default)(h,y.DATAMINR,TD.i("Dataminr")),(0,l.default)(h,y.LIVEVIDEO,TD.i("Live video")),(0,l.default)(h,y.EVENT,TD.i("General Election")),h),y.MODAL_TITLE=(f={},(0,l.default)(f,y.TIMELINE,TD.i("Add a Home column")),(0,l.default)(f,y.MENTIONS,TD.i("Add a Mentions column")),(0,l.default)(f,y.SEARCH,TD.i("Search")),(0,l.default)(f,y.FOLLOWERS,TD.i("Add a Followers column")),(0,l.default)(f,y.LISTS,TD.i("Add a List column")),(0,l.default)(f,y.CUSTOMTIMELINES,TD.i("Add a Collection column")),(0,l.default)(f,y.MESSAGES,TD.i("Add a Messages column")),(0,l.default)(f,y.TRENDS,TD.i("Trending")),(0,l.default)(f,y.TWEETS,TD.i("Add a User column")),(0,l.default)(f,y.FAVORITES,TD.i("Add a Likes column")),(0,l.default)(f,y.ME,TD.i("Add a Mentions column")),(0,l.default)(f,y.INBOX,TD.i("Add a Messages column")),(0,l.default)(f,y.SCHEDULED,TD.i("Scheduled")),(0,l.default)(f,y.NETWORKACTIVITY,TD.i("Add an Activity column")),(0,l.default)(f,y.INTERACTIONS,TD.i("Add a Notifications column")),(0,l.default)(f,y.DATAMINR,TD.i("Add a Dataminr column")),(0,l.default)(f,y.LIVEVIDEO,TD.i("Add a Live Video column")),(0,l.default)(f,y.EVENT,TD.i("Add a General Election column")),f),y.MENU_ATTRIBUTION=(g={},(0,l.default)(g,y.ME,TD.i("(all accounts)")),(0,l.default)(g,y.INBOX,TD.i("(all accounts)")),g),y.DISPLAY_ORDER=[{type:y.TIMELINE,service:"twitter",class:"top-row"},{type:y.TWEETS,service:"twitter",class:"top-row"},{type:y.INTERACTIONS,service:"twitter",class:"top-row"},{type:y.SEARCH,service:"twitter",class:"top-row"},{type:y.LISTS,service:"twitter"},{type:y.CUSTOMTIMELINES,service:"twitter",class:"feature-customtimelines"},{type:y.NETWORKACTIVITY,service:"twitter"},{type:y.FAVORITES,service:"twitter"},{type:y.MESSAGES,service:"twitter"},{type:y.MENTIONS,service:"twitter"},{type:y.FOLLOWERS,service:"twitter"},{type:y.SCHEDULED},{type:y.INBOX},{type:y.ME},{type:y.TRENDS,service:"twitter"},{type:y.LIVEVIDEO,service:"twitter"},{type:y.EVENT,service:"twitter",isEventColumn:!0},{type:y.DATAMINR,service:"dataminr"}],y.DISPLAY_ORDER_SINGLETONS=[{type:y.ME},{type:y.INBOX},{type:y.SCHEDULED}],y.DISPLAY_ORDER_PROFILE=[{type:y.TWEETS,service:"twitter",profile:!0,title:TD.i("Tweets"),columnIconClass:j.default.columnIconClasses.TWITTER},{type:y.MENTIONS,service:"twitter",profile:!0},{type:y.LISTS,service:"twitter",profile:!0},{type:y.CUSTOMTIMELINES,service:"twitter",profile:!0,class:"feature-customtimelines"},{type:y.FAVORITES,service:"twitter",profile:!0}];var b=y.DISPLAY_ORDER.concat(y.DISPLAY_ORDER_SINGLETONS).concat(y.DISPLAY_ORDER_PROFILE);y.updateTitlesAndIconClasses=function(){(0,R.default)(b,function(e){e.title=e.title||y.MENU_TITLE[e.type],e.attribution=e.attribution||y.MENU_ATTRIBUTION[e.type],e.columnIconClass=e.columnIconClass||y.columnTypeToIconClass[e.type]})},y.updateTitlesAndIconClasses(),y.HELP_TEXT=(T={},(0,l.default)(T,y.TIMELINE,TD.i("Add a Timeline column for your own accounts, or search for a user and add theirs")),(0,l.default)(T,y.MENTIONS,TD.i("Add a Mentions column for your own accounts, or search for a user and add theirs")),(0,l.default)(T,y.SEARCH,TD.i("Add a column for a saved or recent Search, or enter a new search in the box")),(0,l.default)(T,y.LISTS,TD.i("Create a new list, or select an existing list to edit or add a column")),(0,l.default)(T,y.CUSTOMTIMELINES,TD.i("Create a new collection, or select an existing timeline")),(0,l.default)(T,y.LIVEVIDEO,TD.i("Select a live stream or come back later")),(0,l.default)(T,y.EVENT,""),(0,l.default)(T,y.MESSAGES,TD.i("Add a Direct Messages column for your accounts")),(0,l.default)(T,y.TRENDS,TD.i("Add a column to monitor Tweets for any Trend")),(0,l.default)(T,y.TWEETS,TD.i("Add a column for Tweets sent from your own accounts, or search for a user and add theirs")),(0,l.default)(T,y.FAVORITES,TD.i("Add a Likes column for your own accounts, or search for a user and add theirs")),(0,l.default)(T,y.INTERACTIONS,TD.i("Add a column to monitor your mentions, retweets, favourites, follows and list additions in real time")),(0,l.default)(T,y.NETWORKACTIVITY,TD.i("Add a column to view favourites, follows and list additions by your friends in real time")),(0,l.default)(T,y.DATAMINR,TD.i("Add a column to view alerts for a Dataminr watchlist")),T),y.STREAMING_FULL="streaming_full",y.STREAMING_NONE="streaming_none",y.STREAMING_PARTIAL="streaming_partial",$(document).on("dataDeciderUpdated",function(){y.updateTitlesAndIconClasses()}),y.init=function(){C({firstLoad:!0}),y.checkColumns(),TD.controller.scheduler.schedulePeriodicTask(60,y.reportColumns,!0),$.subscribe("/storage/client/column_order_changed",C),$.subscribe("/storage/client/change",C),$.subscribe("/storage/column/feeds_changed",function(e,t,i){var n=y.get(i.getKey());n&&n.loadFeeds()}),$.subscribe("/storage/column/change",function(e){var i=y.get(e.getKey());if(i){var n=i.model.getFeedKeys(),s=e.getFeedKeys();(0,M.default)(n,s)||i.loadFeeds(),e.managed&&e.hasApiid()&&(i=y.getByApiid(e.getApiid()),TD.ui.columns.refreshTitle(i)),i.loadFilters()}else t.stateLog("loading new new column",e),C()}),$.subscribe("/cache/names/change",y.refreshColumnTitles),$.subscribe("/storage/account/change",y.refreshColumnTitles),$.subscribe("/storage/account/new",function(e){1===TD.storage.accountController.getAll().length&&y.checkColumns()}),$(document).on("uiNeedsScheduledColumnVisible",this.handleMakeOrRefreshScheduledColumn),$(document).on("uiNeedsColumnOrder",y.handleUiNeedsColumnOrder),$(document).on("uiNeedsColumns",y.handleUiNeedsColumns)},y.setupCommands=function(){var e=y.getAllOrdered(),t=String(e.length).length,i=e.map(function(e,i){var n=(0,x.default)(i+1,t,"0"),s=j.default.getColumnTitleArgs(e),r=s&&s.needsUserAttribution?s.screenName:"",o=(0,I.default)(s,"title","");if(e.getColumnType()===j.default.columnMetaTypes.SEARCH)return{column:e,title:n+": "+TD.i("Search")+" “"+o+"”"};return{column:e,title:n+": "+o+" "+r}}),n=[].concat((0,a.default)(i.map(function(e,t){var i=e.column,n=e.title;return{label:TD.i("Go to column — {{title}}",{title:n}),shortcut:t<9?{key:String(t+1)}:null,apply:function(){return y.showColumn(i.model.getKey())}}})),[{label:TD.i("Go to final column"),shortcut:{key:"0"},apply:function(){return $(document).trigger("uiColumnFocus",{last:!0})}}]),s=i.map(function(e){var t=e.column;return{label:"Remove column — "+e.title,apply:function(){return y.deleteColumn(t.model.getKey())}}});y.commands.removeAll(),y.commands.add([].concat((0,a.default)(n),(0,a.default)(s)))},y.refreshColumnTitles=(0,S.default)(function(){(0,R.default)(y.getAll(),function(e){TD.ui.columns.refreshTitle(e)}),y.setupCommands()},100),y.handleUiNeedsColumns=function(){y.sendColumns()},y.handleUiNeedsColumnOrder=function(){y.sendColumnOrder()},y.reportColumns=function(){var e={};if((0,R.default)(y._aColumnIndex,function(t){var i=t.getColumnType().replace(/^col_/,"");(0,R.default)(t.getFeeds(),function(t){var n=t.getAccountKey().replace(/^twitter:/,"");e[n]||(e[n]={}),e[n][i]=(e[n][i]||0)+1})}),TD.controller.stats.generic({page:"main",component:"column_manager",action:"report_columns"},{custom_json_payload:e}),TD.decider.get("report_column_usage_stats")){var t=(0,D.default)(y._aColumnIndex,function(e){return e.getColumnType()});(0,R.default)((0,w.default)(t),function(e,t){var i=t.replace(/^col_/,"");TD.util.metric("column:stats:active_usage:"+i,[e],"metric"),TD.util.metric("column:stats:active_usage:"+i+":"+e)})}},y.sendColumnOrder=function(){$(document).trigger("dataColumnOrder",{columnOrder:y._columnOrder})},y.sendColumns=function(){$(document).trigger("dataColumns",{columns:y.getAllOrdered()})},y.checkColumns=function(){var t=TD.storage.accountController.getPreferredAccount("twitter");0===e.clientController.client.getColumnOrder().length&&t&&y.makeDefaultColumns(t)},y.get=function(e){return y._aColumnIndex[e]},y.getByApiid=function(e){return(0,_.default)(y._aColumnIndex,function(t){return t.model.hasApiid()&&t.model.getApiid()===e?t:null})},y.getAll=function(){return(0,v.default)(y._aColumnIndex)},y.getAllOrdered=function(){var e=this.getAll();return y._columnOrder.map(function(t){return e[t]})},y.add=function(e){y._aColumnIndex[e.model.getKey()]=e},y.addMany=function(e){e.forEach(y.add)},y.deleteColumn=function(t){var i=y._aColumnIndex[t];i&&!i.temporary&&TD.controller.stats.removeColumn(i.getColumnType()),e.clientController.client.removeColumn(t)},y.removeFromAppLayer=function(t){var i=y._aColumnIndex[t];i&&i.removeSubscriptions(),delete y._aColumnIndex[t],e.columnController.remove(t),TD.controller.feedScheduler.removeColumn(t),TD.ui.columns.removeColumn(t)},y.move=function(e,t){if(t){var i=y._columnOrder.indexOf(e),n=y._columnOrder.concat(),s=(0,F.default)("right"===t,function(){return Math.min(i+1,y._columnOrder.length-1)},"left"===t,function(){return Math.max(i-1,0)}),r=y._columnOrder[s];n[s]=n[i],n[i]=r,TD.storage.clientController.client.setColumnOrder(n),C(),y.showColumn(e)}};var C=function(t){var i=e.clientController.client.getColumnOrder();!(0,M.default)(y._columnOrder,i)&&E(i,t),$(document).trigger("dataColumnsLoaded")},E=function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=(0,m.default)(y._columnOrder,i),o=(0,m.default)(i,y._columnOrder);(0,R.default)(s,function(e){y.removeFromAppLayer(e),TD.ui.columns.removeColumn(e)});var a=o.filter(function(n){var s=e.columnController.get(n);return s||t.stateLog("WARNING: column not found for",n,"all columns:",e.columnController.getAll(),"in column_order",i),s}).map(function(t){var i=y.get(t);return(0,F.default)(i,function(){return i},function(){return y.createColumn(e.columnController.get(t))})});y.addMany(a),TD.ui.columns.addColumnsToView(a),y._columnOrder=i,y.sendColumnOrder(),y.sendColumns(),(0,R.default)(o,function(e){var t=y.get(e);TD.controller.feedScheduler.addColumn(t,(0,r.default)({},n,{doStartStreaming:!0}))}),y.setupCommands()};return y.createColumn=function(e,t){return new TD.vo.Column(e,t)},y.addColumnToUI=function(t){var i,n=t.model.getKey();return t.reset(),t.temporary=!1,y.add(t),e.feedController.manageFeeds(t.getFeeds()),e.columnController.manage(t.model),i=e.clientController.client.appendColumn(n),C(),(0,p.default)(y.showColumn,n),TD.controller.stats.addColumn(t.getColumnType()),i},y.makeColumnFor=function(t){var i,n,s,r=t.metadata||{},o=t.searchFilter,a=e.accountController.getAccountsForService("twitter");if("tweetdeck"===t.service)switch(t.type){case"me":n=e.columnController.getMeFeeds(a),i=y.makeColumn("me",n);break;case"privateMe":n=e.columnController.getInboxFeeds(a),i=y.makeColumn("privateMe",n);break;case"scheduled":n=e.columnController.getScheduledFeeds(),i=y.makeColumn("scheduled",n)}else{switch(t.type){case"usertimeline":case"favorites":case"usertweets":t.metaString&&(r.id=t.metaString);break;case"event":case"search":o=new TD.vo.SearchFilter,r.searchFilterData=o.toJSONObject(),r.baseQuery=t.metaString;break;case"list":s=t.metaString.split("/"),TD.sync.util.assert(2===s.length,"List meta should contain both ownerId and listId",s),r.ownerId=s[0],r.listId=s[1];break;case"customtimeline":s=t.metaString.split("/"),TD.sync.util.assert(2===s.length,"Collection meta should contain both ownerId and id",s),r.ownerId=s[0],r.id=s[1]}i||(i=y.makeOtherColumnAndFeeds({type:t.type,service:t.service,accountKey:t.accountKey,metadata:r,searchFilter:o}))}return i},y.makeDefaultColumns=function(e){var t=[];"twitter"===e.getType()&&(t=["home","interactions","direct","networkactivity"]),(0,R.default)(t,function(t){var i=y.makeColumnFor({type:t,service:e.getType(),accountKey:e.getKey()});y.addColumnToUI(i)})},y.makeColumn=function(t,i,n){var s={type:t,feedkeys:[],settings:{}};return n&&(s.filters=n),y.createColumn(new e.Column(s),i)},y.makeOtherColumnAndFeeds=function(t){var i=e.feedController,n=[];n.push(i.getOrCreateFeed(t.type,t.service,t.accountKey,t.metadata));var s=t.searchFilter?t.searchFilter.toJSONObject():null;return y.makeColumn("other",n,s)},y.handleMakeOrRefreshScheduledColumn=function(e,t){t=t||{};var i=TD.storage.columnController.getColumnsByType("scheduled");if(!i.length&&!TD.settings.getScheduledColAdded()&&t.allowAdd){var n=y.makeColumnFor({type:"scheduled",service:"tweetdeck"});return y.addColumnToUI(n),void TD.settings.setScheduledColAdded(!0)}i.forEach(function(e){try{TD.controller.feedScheduler.refreshColumn(e.getKey()),y.get(e.getKey()).doInfiniteScroll()}catch(e){console.error("Refreshing scheduled column failed",e)}})},y.showColumn=function(e){$(document).trigger("uiColumnFocus",{columnKey:e})},y.isStreaming=function(e){return y.getStreamingState(e)!==y.STREAMING_NONE},y.getStreamingState=function(e){var t,i=y.STREAMING_NONE,n=y.get(e),s=0;return n&&(t=n.model.getFeedKeys(),(0,R.default)(t,function(e){TD.controller.feedManager.isStreaming(e)&&s++}),i=0===s?y.STREAMING_NONE:s===t.length?y.STREAMING_FULL:y.STREAMING_PARTIAL),i},y.getColumnsByAccountKey=function(e){return(0,d.default)(y._aColumnIndex).filter(function(t){return t.getFeeds().some(function(t){return t.getAccountKey()===e})})},y.findChirpByAccountKey=function(e){var t=e.chirpId,i=e.accountKey,n=e.columnKey,s=y.getColumnsByAccountKey(i);return n?s.find(function(e){return e.model.getKey()===n}).findChirp(t):s.find(function(e){return Boolean(e.findChirp(t))}).findChirp(t)},y}(TD.storage,TD.sync.util,TD.core.defer)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.columnStates$=void 0;var s=i(18),r=n(s),o=i(20),a=n(o);t.columnStates$=r.default.Observable.fromEvent($(document),"dataColumnFeedUpdated").map(function(e){return a.default.getColumnFromElement($(e.target))}).map(function(e){return{columnKey:e.model.getKey(),state:{matching:e.getSearchFilter().content.matching||null}}})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){var e={},t=new c.default.BehaviorSubject(null),i=sessionStorage.getItem("sessionDeciderOverlay");i&&(console.warn("sessionDeciderOverlay found in sessionStorage"),TD.config.decider_overlay=_.extend(TD.config.decider_overlay||{},JSON.parse(i)||{})),this.accessLevels={scheduler:{levels:[{level:"READ_BACKGROUND",deciderKey:"scheduler_read_background"},{level:"READ_VISIBLE",deciderKey:"scheduler_read_visible"},{level:"WRITE",deciderKey:"scheduler_write"},{level:"WRITE_MEDIA",deciderKey:"scheduler_write_media"}]},mediaUpload:{levels:[{level:"USE_SRU",deciderKey:"upload_use_sru"},{level:"BIG_GIFS",deciderKey:"upload_big_gifs"}]}},this.updateForGuestId=function(){return this.updateFromBackendForID(TD.storage.store.getOrCreateGuestID())},this.updateFromBackendForID=function(e){var t=TD.sync.tdapi.getDecider(e);return t.addCallbackWith(this,function(e){this.updateFromBackend(e.decider)}),t},this.updateFromBackend=function(i){e=i||{},$(document).trigger("dataDeciderUpdated"),t.next(this.getAllWithOverlay())},this.get=function(t){if(TD.config.decider_overlay&&void 0!==TD.config.decider_overlay[t]){return TD.config.decider_overlay[t]}return e[t]},this.getAll=function(){return _.clone(e)},this.getAllWithOverlay=function(){return[].concat((0,o.default)(TD.config.decider_overlay||{})).reduce(function(e,t){return e[t]=this.get(t),e}.bind(this),this.getAll())},this.hasAccessLevel=function(e,t){var i=this.accessLevels[e];return!(i.opts&&i.opts.gateFunction&&!i.opts.gateFunction())&&i.levels.reduce(function(e,i){var n=i.level===t,s=i.deciderKey;!s&&i.deciderKeyByEnv&&(s=i.deciderKeyByEnv[TD.util.getAppEnv()]||i.deciderKeyByEnv.default);var r=e.canAccessPreviousLevel&&!!this.get(s);return{canAccessPreviousLevel:r,canAccessDesiredLevel:n?r:e.canAccessDesiredLevel}}.bind(this),{canAccessPreviousLevel:!0,canAccessDesiredLevel:!1}).canAccessDesiredLevel},this.getStreamForDeciderKey=function(e){return e?c.default.Observable.create(function(i){var n=t.filter(Boolean).map(function(t){return t[e]}).distinctUntilChanged().subscribe(i);return function(){n.unsubscribe()}}):c.default.Observable.empty()}}var r=i(27),o=n(r),a=i(18),c=n(a);e.exports=new s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(27),r=n(s),o=i(20),a=n(o),c=i(6),l=i(730),u=n(l);t.default=TD.controller.feedManager=function(){function e(){var e,t=TD.storage.accountController.getDefault(),i=t.getKey();"twitter"===t.getType()&&(e=TD.storage.feedController.getAll(),e=_.filter(e,function(e){return"search"===e.getType()&&e.getAccountKey()!==i}),_.each(e,function(e){var t=TD.storage.feedController.getOrCreateFeed(e.getType(),e.getService(),i,e.getMetadata());TD.controller.feedManager.replaceFeed(e,t)}))}function t(e,t){var i,n=t&&t.toLowerCase();i=t?TD.i("User @{{screenName}} has been suspended",{screenName:t}):TD.i("User has been suspended"),(0,c.showNotification)({message:i}),TD.controller.feedManager.deleteWhere(function(i){var s=i.getMainUser&&i.getMainUser();return!!s&&(e&&e==s.id||t&&n===s.screenName.toLowerCase())})}function i(e,t,i){var n=i.getRelatedTweet();if(!n)return!1;var s=n.id===e||n.retweetedStatus&&n.retweetedStatus.id===e,r=n.account.getKey()===t;return s&&r}var n={},s={},o=new u.default;return n.init=function(){var i,n=TD.storage.feedController.getAll();for(i=0;i<n.length;i++){var r=n[i];s[r.getKey()]=new TD.controller.FeedPoller(r)}$.subscribe("/user/removeTweets",this.deleteUserChirps),$.subscribe("/user/suspended",t),$.subscribe("/storage/client/default_account_changed",e),$(document).on("dataUndoRetweetSuccess",this.handleUndoRetweetSuccess.bind(this)),$(document).on("dataUndoRetweetError",this.handleUndoRetweetError.bind(this))},n.handleUndoRetweetSuccess=function(e,t){this.deleteWhere(function(e){return e.retweetedStatus&&e.retweetedStatus.id===t.tweetId&&e.creatorAccount&&e.creatorAccount.getKey()===t.from}),this.doWhere(i.bind(null,t.tweetId,t.from),function(e){e.getRelatedTweet().setRetweeted(!1)})},n.handleUndoRetweetError=function(e,t){(0,c.showErrorNotification)({message:TD.i("Undo retweet failed")}),this.doWhere(i.bind(null,t.tweetId,t.from),function(e){e.getRelatedTweet().setRetweeted(!0)})},n.getPoller=function(e){return s[e]},n.addFeed=function(e){o.addSubscription(e);var t=e.getKey(),i=n.getPoller(t)||new TD.controller.FeedPoller(e);return s[t]=i,i},n.removeFeed=function(e){o.removeSubscription(e);var t=e.getKey(),i=n.getPoller(t);if(delete s[t],i.destroy(),"twitter"==e.getService()){var r=TD.controller.clients.getClient(e.getAccountKey());r&&r.checkUserStream()}},n.cleanupFeeds=function(){var e=TD.controller.columnManager.getAll(),t={};for(var i in e)for(var r=e[i].getFeeds(),o=0;o<r.length;o++)t[r[o].getKey()]=!0;for(var a in s)if(!t[a]){var c=s[a].feed;n.removeFeed(c),TD.storage.feedController.remove(c.getKey())}},n.deleteChirp=function(e){n.deleteWhere(function(t){if(t.id===e)return!0;if(t.getRelatedTweet){var i=t.getRelatedTweet();return i&&i.id===e}return!1})},n.deleteWhere=function(e,t){t=_.defaults(t||{},{feedTypes:a.default.allFeedTypes}),(0,r.default)(s).forEach(function(i){var n=s[i],r=n.feed.getType();t.feedTypes[r]&&n.removeWhere(e)})},n.doWhere=function(e,t){var i;for(var n in s)i=s[n],i.doWhere(e,t)},n.deleteUserChirps=function(e,t,i){var s=function(i){try{var n=i.getCreator&&i.getCreator();return n&&n.id===e&&i.account.getUserID()===t}catch(e){}return!1};n.deleteWhere(s,i)},n.deleteFeedsWhere=function(e){var t,i,n,s,r,o=TD.storage.clientController.client.getColumnOrder();for(s=0;s<o.length;s++){for(t=TD.controller.columnManager.get(o[s]),i=t.getFeeds(),r=i.length-1;r>=0;r--)n=i[r],e(n)&&(TD.storage.feedController.remove(n),t.removeFeed(n));0===t.getFeedCount()&&TD.controller.columnManager.deleteColumn(t.model.getKey())}},n.replaceFeed=function(e,t,i){var s=TD.controller.columnManager.getAll();i&&(s=_.filter(s,function(e){return-1!==i.indexOf(e.model.getKey())})),_.each(s,function(i){i.removeFeed(e)>0&&i.addFeed(t)}),n.cleanupFeeds()},n.fixListFeeds=_.debounce(_.once(function(){var e=function(e,t){var i=TD.storage.feedController.getOrCreateFeed(e.getType(),e.getService(),e.getAccountKey(),{listId:t.id,ownerId:t.user.id});TD.controller.feedManager.replaceFeed(e,i)},t=[],i=TD.storage.feedController.getAll();i=_.filter(i,function(e){var t=e.getMetadata();return!("list"!==e.getType()||t.listId&&t.ownerId)}),_.each(i,function(i){var n=i.getMetadata(),s=TD.cache.lists.find(null,n.screenName,n.slug);s?e(i,s):t.push(i)}),_.each(t,function(t){var i=TD.controller.clients.getClient(t.getAccountKey()),n=t.getMetadata(),s=function(i){e(t,i)},r=function(){};i.getList(null,n.screenName,n.slug,s,r)})}),5e3),n.isStreaming=function(e){var t,i,n=this.getPoller(e),s=!1;return n&&(t=n.feed,i=TD.controller.clients.getClient(t.getAccountKey()),s=i.feedIsStreaming(e)),s},n}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(170),r=n(s),o=i(20),a=n(o),c=i(171),l=n(c),u=i(847),d=i(13);TD.controller.FeedPoller=function(e){var t=this;this.TRIM_THROTTLE_MS=1e4,this.OPTIMUM_ARRAY_LENGTH=200,this.MAX_ARRAY_LENGTH=300,this.TWEET_ID_QUEUE_LENGTH=500,this.REFRESH_LOCK_EXPIRY=6e4,this.EXHAUSTED_API_THRESHOLD=10,this.feed=e,this.mark="",this.chirpArray=[],this.chirpIndex={},this.seenTweetIDs=new r.default(this.TWEET_ID_QUEUE_LENGTH),this.refreshLock=0,this.requestsInFlight=0,this.cursorQueue=[],this.isInitialLoad=!0,this.intervalOfPossibility=l.default.whole,this.shouldTrackHighWaterMark=!1,this._checkNotifications=function(){var e=TD.storage.columnController.getColumnsContainingFeed(this.feed.getKey());this.shouldTrackHighWaterMark=e.some(function(e){return e.getHasSound()||e.getHasNotification()})},this._checkNotifications(),this.subscription=$.subscribe("/storage/column/column_flags_changed",this._checkNotifications.bind(this)),this.tweetFetchObservable=(0,u.getResponseObservable)().filter(function(e){return t.chirpIndex[e.id]&&e.account.getKey()===t.feed.getAccountKey()}).subscribe(function(e){t.handleRefetchedChirp(e)}),this.removeChirp=function(e){var t=this.chirpIndex[e];if(t){for(var i=0;i<this.chirpArray.length;i++)if(this.chirpArray[i]===t){this.chirpArray.splice(i,1);break}delete this.chirpIndex[e],$.publish("/delete/"+this.feed.getKey(),[this,[t]])}},this.removeWhere=function(e){this.doWhere(e,function(e){this.removeChirp(e.id)}.bind(this))},this.doWhere=function(e,t){this.chirpArray.filter(e).forEach(t)},this.forgetAll=function(){this.chirpArray=[],this.chirpIndex={},this.seenTweetIDs.flush()},this.recordChirpLateness=function(e,t,i,n){if(TD.decider.get("chirp_lateness_metric")){var s=(e||[]).filter(function(e){return e.chirpType===TD.services.ChirpBase.TWEET&&Math.random()<n},this).map(function(e){return i-e.created.getTime()});if(0!==s.length){var r=TD.ui.template.toHtmlFromRaw("api:delivery-delay:{{apiType}}:{{feedType}}",{apiType:t,feedType:this.feed.getType()});$(document).trigger("metric",{key:r,type:"metric",value:s})}}},this.refetchStreamedTweets=function(e){var t=this,i=e.filter(function(e){return"realtime"===e.apiSource}).map(function(e){return{id:e.id,account:e.account.getKey(),feedType:t.feed.getType()}});(0,u.fetchTweets)(i)},this.handleRefetchedChirp=function(e){TD.decider.get("dev_refetch_streamed_chirps")&&this.acceptChirps([e])},this.acceptStreamChirps=function(e){TD.decider.get("dev_refetch_streamed_chirps")&&this.refetchStreamedTweets(e),this.acceptChirps(TD.util.poller.annotateChirpsWithApiBounds(this.feed,e),!1),this.recordChirpLateness(e,"stream",Date.now(),TD.controller.FeedPoller.CHIRP_LATENESS_METRIC_SAMPLE),(0,d.metric)("api:stream:tweet:"+this.feed.getType(),e.length)},this.acceptChirps=function(e,t){if(e&&e.length){var i=this.addChirpsToMemCache(e);this.isInitialLoad&&!TD.settings.getShowStartupNotifications()&&this.saveHighWaterMark(),this.publishChirps(i,t),this.saveHighWaterMark(),this.deferredTrimChirps()}else this.publishChirps([],t);this.isInitialLoad=!1},this.saveHighWaterMark=function(){if(this.shouldTrackHighWaterMark){var t=this.chirpArray[0].getSortIndex();e.setTopSortIndex(t);var i=this.chirpArray[0].created.getTime();e.setLatestTime(Math.max(e.getLatestTime(),i))}},this.addChirpsToMemCache=function(e){var t,i,n,s,r,o,a,c=[],l=[],u=!0;for(e.sort(TD.util.chirpColumnSort),t=0;t<e.length;t++)i=e[t],n=this.chirpIndex[i.id],r=this.isRepeatedRetweet(i),n?(s=this.chirpArray.indexOf(n),this.chirpArray[s]=i,this.chirpIndex[i.id]=i,l.push(i)):r||(c.push(i),this.chirpIndex[i.id]=i,l.push(i));return this.chirpArray.length&&c.length&&(o=this.chirpArray[0],a=c[c.length-1],u=o.belongsAbove(a)),this.chirpArray=c.concat(this.chirpArray),u&&this.chirpArray.sort(TD.util.chirpColumnSort),l},this.isRepeatedRetweet=function(e){var t,i,n=!1;return e instanceof TD.services.TwitterStatus&&(t=e.getMainTweet().id,i=this.seenTweetIDs.get(t)||0,n=e.isRetweetedStatus()&&i>0,this.seenTweetIDs.put(t,i+1)),n},this.refresh=function(e){e=_.defaults({},e),e.retries=e.retries||0;var t=Date.now();if(t<this.refreshLock+this.REFRESH_LOCK_EXPIRY)return TD.core.defer.succeed();e.reset&&(this.cursorQueue.forEach(function(e){e.d.cancel()}),this.cursorQueue=[]);var i=TD.util.poller.getRefreshCursor(this.feed,this.chirpArray),n=i.interval.from!==l.default.negInf&&i.interval.to===l.default.posInf,s={bypassCache:!0,forceFetch:e.reset};this.refreshLock=t;var r=this.fillCursor(i,s);return r.addBoth(function(e){return this.refreshLock=0,e}.bind(this)),r.addCallbackWith(this,TD.util.effect(function(e){n&&this.recordChirpLateness(e.chirps,"rest",Date.now(),TD.controller.FeedPoller.CHIRP_LATENESS_METRIC_SAMPLE)})),r.addErrbackWith(this,function(t){if(!TD.decider.get("disable_network_failure_retry")&&e.reset){if(t&&_.isObject(t.message)&&"responseText"in t.message){var i=t.message;if(TD.util.isNetworkFailure(i))return this.retryRefresh(e)}}}),r},this.retryRefresh=function(e){var t=_.assign({},e,{retries:e.retries+1});$(document).trigger("metric",{key:"feed_poller:refresh:retry:request"});var i=Math.min(1e3*Math.pow(2,e.retries/2),6e4),n=TD.core.defer.timeout(i);return n.addCallback(this.refresh.bind(this,t)),1===t.retries&&n.addCallback(function(e){return $(document).trigger("metric",{key:"feed_poller:refresh:retry:success"}),e}),n},this.fillCursor=function(e,t){t=t||{},_.defaults(t,{bypassCache:!1,forceFetch:!1});var i=new TD.core.defer.Deferred;return this.cursorQueue.push({cursor:e,opts:t,d:i}),this.processCursorQueue(),i},this.getCacheResult=function(e,t){var i=TD.util.poller.makeChirpInterval(t),n=e.interval.intersection(this.intervalOfPossibility),s=t.filter(n.contains,n),r=n.intersection(i.complement().before),o=TD.util.poller.calculateUpperBound(this.feed.getKey(),s);return{requestCursor:e,chirps:s,remainderCursor:{feedKey:this.feed.getKey(),interval:r,bounds:{upper:o||e.bounds.upper,lower:e.bounds.lower}}}},this.recalculateResult=function(e,t){return t.length===e.chirps.length?e:this.getCacheResult(e.requestCursor,t)},this.processCursorQueue=function(){if(this.cursorQueue=this.cursorQueue.filter(function(e){var t=this;if(e.opts.bypassCache)return!0;var i=this.getCacheResult(e.cursor,this.chirpArray),n=TD.util.poller.isCacheHit(i);return n&&_.defer(function(){var i=t.getCacheResult(e.cursor,t.chirpArray);e.d.callback(i)}),!n},this),!(0===this.cursorQueue.length||this.requestsInFlight>0)){var e=this.cursorQueue.shift(),t=this.fetchChirps(e.cursor,e.opts);t.addCallbackWith(this,function(t){var i=this.processRestResult(this.chirpArray,e.cursor,t);i.isGappy&&this.forgetAll(),this.acceptChirps(i.chirps,i.isGappy);var n=this.getCacheResult(e.cursor,this.chirpArray);return TD.util.poller.isCacheHit(n)||(n=this.getCacheResult(e.cursor,t)),t.length<this.EXHAUSTED_API_THRESHOLD&&(a.default.nonExhaustibleFeedTypes[this.feed.getType()]||(this.intervalOfPossibility=n.remainderCursor.interval.complement().after),n.remainderCursor.interval=l.default.empty),n}),t.addCallbacks(e.d.callback.bind(e.d),e.d.errback.bind(e.d)),t.addBothWith(this,this.processCursorQueue)}},this.processRestResult=function(e,t,i){var n=TD.util.poller.makeChirpInterval(e),s=TD.util.poller.makeRequestResultInterval(i,t.interval),r=n.unify(s),o=!a.default.gaplessFeedTypes[this.feed.getType()];o||(r=n.hull(s));var c=[n,s,r].sort(function(e,t){return e.toComparator(e.to,t.to)||e.fromComparator(t.from,e.from)}).pop(),l=r.empty&&c.equalTo(s),u=i;if(o){var d=c.intersection(t.interval);u=i.filter(d.contains,d)}return{chirps:u,isGappy:l}},this.fetchChirps=function(e,t){t=_.defaults(t||{},{forceFetch:!1}),t.poller=this,t.feedType=this.feed.getType(),t.metadata=this.feed.getMetadata();var i=TD.controller.clients.getClient(this.feed.getAccountKey());if(!i)return TD.core.defer.fail(new Error("Could not find client for feed: "+this.feed.getAccountKey()));this.requestsInFlight++;var n=i.getChirpsForFeed(e,t),s=setTimeout(function(){n.cancel(),$(document).trigger("metric",{key:"feed_poller:request:timeout:"+t.feedType})},TD.controller.FeedPoller.REQUEST_TIMEOUT);return n.addCallbackWith(this,function(e){return TD.util.poller.annotateChirpsWithApiBounds(this.feed,e).sort(TD.util.chirpColumnSort)}),n.addBoth(function(e){return this.requestsInFlight--,clearTimeout(s),setTimeout(this.processCursorQueue.bind(this),1),e}.bind(this)),n},this.getCursor=function(e){var t=[];e.upper&&(t=this.chirpArray.filter(function(t){return!t.belongsBelow(e.upper)}));var i=[];return e.lower&&(i=this.chirpArray.filter(function(t){return!t.belongsAbove(e.lower)})),{feedKey:this.feed.getKey(),interval:new l.default(e.lower?l.default.excEnd(e.lower):l.default.negInf,e.upper?l.default.excEnd(e.upper):l.default.posInf),bounds:{upper:e.upper?TD.util.poller.calculateUpperBound(this.feed.getKey(),t):void 0,lower:e.lower?TD.util.poller.calculateLowerBound(this.feed.getKey(),i,{isGapless:a.default.gaplessFeedTypes[this.feed.getType()]}):void 0}}},this.isStreamableForOauthUser=function(e){var t=this.feed.getType(),i=this.feed.getMetadata(),n=!!TD.controller.FeedPoller.STREAMING_FEED_TYPES[t];switch(t){case"favorites":n=!i.id||i.id===e;break;case"search":n=TD.services.TwitterSearchParser.isStreamable(i.term);break;case"mentions":case"interactions":var s=i.usersIFollowFilter,r=!TD.controller.stats.isInExperimentBucket("tweetdeck_notifications_streaming_5807","no_streaming");n=n&&r&&!s,TD.util.shouldStream()&&TD.controller.stats.experimentImpression("tweetdeck_notifications_streaming_5807")}return n},this.trimChirps=function(){if(!(this.chirpArray.length<this.MAX_ARRAY_LENGTH))for(var e=this.chirpArray.splice(this.OPTIMUM_ARRAY_LENGTH,Number.MAX_VALUE),t=0;t<e.length;t++)delete this.chirpIndex[e[t].id]},this.deferredTrimChirps=_.throttle(this.trimChirps.bind(this),this.TRIM_THROTTLE_MS,{leading:!1}),this.publishAll=function(){this.publishChirps(this.chirpArray)},this.publishChirps=function(e,t){$.publish("/feed/"+this.feed.getKey(),[{poller:this,chirps:e.concat(),notifyAfterSortIndex:this.feed.getTopSortIndex(),gap:!!t}])},this.destroy=function(){var e=this.feed;this.chirpArray=[],this.chirpIndex={},$.unsubscribeAll("/feed/"+e.getKey()),$.unsubscribeAll("/delete/"+e.getKey()),$.unsubscribe(this.subscription),this.tweetFetchObservable&&this.tweetFetchObservable.unsubscribe()}},TD.controller.FeedPoller.FEED_TYPES={customTimeline:"customtimeline",direct:"direct",dataminr:"dataminr",favorites:"favorites",home:"home",interactions:"interactions",list:"list",mentions:"mentions",networkactivity:"networkactivity",scheduled:"scheduled",search:"search",useractivity:"useractivity",usertimeline:"usertimeline",usertweets:"usertweets",livevideo:"livevideo",event:"event"},TD.controller.FeedPoller.NOTIFICATION_FEED_TYPES=["interactions","mentions"],TD.controller.FeedPoller.STREAMING_FEED_TYPES={home:!0,mentions:!0,favorites:!0,search:!0,interactions:!0,networkactivity:!0},TD.controller.FeedPoller.CURSORED_ON_TWEET_TIMESTAMP={interactions:!0,networkactivity:!0,useractivity:!0},TD.controller.FeedPoller.CURSORED_FEED_TYPES={customtimeline:!0,livevideo:!0},TD.controller.FeedPoller.SCHEDULED_FEED_TYPES={scheduled:!0},TD.controller.FeedPoller.CHIRP_LATENESS_METRIC_SAMPLE=.01,TD.controller.FeedPoller.REQUEST_TIMEOUT=45e3},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(263),r=n(s),o=i(202),a=n(o),c=i(627),l=n(c),u=i(379),d=n(u),h=i(112),p=n(h),f=i(111),m=n(f),g=i(97),v=n(g),T=i(62),_=n(T),y=i(432),w=n(y);TD.controller.feedScheduler=function(){var e={};return e.FEED_TYPE_TO_MINIMUM_REFRESH_PERIOD={home:4,favorites:4,usertweets:5},e.DEFAULT_MINIMUM_REFRESH_PERIOD=10,e.DEFAULT_REFRESH_PERIOD=45,e.THROTTLED_REFRESH_PERIOD=120,e._activeColumns={},e._temporaryColumns={},e._taskIndex={},e.getMinimumRefreshPeriod=function(e){return TD.decider.get("poll_streamed_feed_"+e)&&this.FEED_TYPE_TO_MINIMUM_REFRESH_PERIOD[e]?this.FEED_TYPE_TO_MINIMUM_REFRESH_PERIOD[e]:this.DEFAULT_MINIMUM_REFRESH_PERIOD},e.init=function(){this._streamingTaskId=TD.controller.scheduler.schedulePeriodicTask(120,this._startStreams.bind(this),!1),$.subscribe("/storage/column/feeds_changed",function(t,i,n){var s=n.getKey(),r=TD.controller.columnManager.get(s);r&&e.addColumn(r,!r.temporary)}),$.subscribe("/storage/column/change",function(t){var i=t.getKey(),n=TD.controller.columnManager.get(i);if(n){var s=n.model.getFeedKeys(),r=t.getFeedKeys();(0,v.default)(s,r)||e.addColumn(n,!n.temporary)}}),$(document).on("dataRateLimit",this._handleRateLimitData.bind(this)),$(document).on("dataThrottleFeed",this._handleThrottleFeed.bind(this)),$(document).on("dataUserStreamStatus",this._handleStreamStatus.bind(this)),$(document).on("dataAppWokenFromSleep",this._handleAppWoken.bind(this)),$(document).on("dataTwitterAccountAccessEnabled",this._handeAccessEnabled.bind(this))},e._getTask=function(e,t){if(this._taskIndex[e])return this._taskIndex[e][t]},e._setTask=function(e,t,i){this._taskIndex[e]=this._taskIndex[e]||{},this._taskIndex[e][t]=i},e._handleRateLimitData=function(e,t){var i=this._getTask(t.accountKey,t.feedType);i&&(i.rateLimitData=t.rateLimitData,this._setPeriodicTask(i))},e._handleThrottleFeed=function(e,t){var i=this._getTask(t.accountKey,t.feedType);i&&i.isThrottled!==t.doThrottle&&(i.isThrottled=t.doThrottle,this._setPeriodicTask(i))},e._handleStreamStatus=function(t,i){var n=this._taskIndex[i.accountKey];(0,m.default)(n,e._setPeriodicTask.bind(this))},e._handleAppWoken=function(e,t){(0,m.default)(this._taskIndex,function(e){(0,m.default)(e,this._resetTask)}.bind(this)),TD.controller.stats.appWokenFromSleep(t.lateness)},e._handeAccessEnabled=function(e,t){this._taskIndex[t.accountKey]&&(0,m.default)(this._taskIndex[t.accountKey],this._resetTask,this)},e._resetTask=function(e){e.doTask({reset:!0}),TD.controller.scheduler.restartPeriodicTask(e.taskId)},e.addColumn=function(e,t){var i=t.firstLoad,n=void 0!==i&&i,s=t.doStartStreaming,r=void 0!==s&&s,o=e.getFeeds(),a=e.model.getKey();this._activeColumns[a]&&this.removeColumn(a),this._activeColumns[a]=e,e.temporary&&(this._temporaryColumns[a]=e);for(var c=0;c<o.length;c++)TD.controller.feedManager.addFeed(o[c]),this._addFeed(o[c]);e.backfill({firstLoad:n}),r&&this._startStreams()},e._addFeed=function(e){var t,i=e.getAccountKey(),n=e.getType(),s=e.getKey();t=this._getTask(i,n)||{accountKey:i,feedType:n,feeds:{},taskId:null,rateLimitData:null,isThrottled:!1,doTask:null},t.doTask||(t.doTask=this._doTaskFactory(t)),this._setTask(i,n,t),t.feeds[s]=e,this._setPeriodicTask(t)},e._setPeriodicTask=function(e){var t=this,i=(0,w.default)(function(){return t._calculatePeriod(e)},function(){return t.DEFAULT_REFRESH_PERIOD});e.taskId?TD.controller.scheduler.updatePeriodicTask(e.taskId,i):e.taskId=TD.controller.scheduler.schedulePeriodicTask(i,e.doTask,!1)},e._doTaskFactory=function(t){return function(i){var n=(0,p.default)(t.feeds,function(t,n){return e._refreshFeed(n,i)});return TD.core.defer.gatherResults(n)}},e._calculatePeriod=function(t){var i=this,n=(0,_.default)(t.rateLimitData,function(){var n=t.rateLimitData.rateLimitRemaining-10,s=t.rateLimitData.rateLimitReset+10,r=Date.now()/1e3,o=s-r,a=(0,d.default)(t.feeds,function(t){var i=t.getKey();return(0,l.default)(e._temporaryColumns,function(e){return e.model.getFeedKeys().includes(i)})||!TD.controller.feedManager.isStreaming(i)}),c=n/a.length;return(0,_.default)(o>0&&n>0,function(){return Math.min(o/c,o)},o<=0,function(){return i.DEFAULT_REFRESH_PERIOD},function(){return o})},this.DEFAULT_REFRESH_PERIOD),s=Math.round(n),r=Math.min(Math.max(s,this.getMinimumRefreshPeriod(t.feedType)),900);TD.util.metric("feed_scheduler:period:bounded:"+t.feedType,[r],"metric");var o=(0,_.default)(t.isThrottled||TD.decider.get("throttle_polling_period"),function(){return Math.max(r,i.THROTTLED_REFRESH_PERIOD)},r),a=(0,_.default)(TD.decider.get("faster_notifications")&&"interactions"===t.feedType,function(){return Math.min(15,o)},o);return TD.util.metric("feed_scheduler:period:faster:"+t.feedType,[a],"metric"),TD.util.metric("feed_scheduler:period:throttled:"+t.feedType,[o],"metric"),a},e._refreshFeed=function(e,t){return t=(0,a.default)({},t),t.reset=t.reset||(0,l.default)(this._temporaryColumns,function(t){return-1!==t.model.getFeedKeys().indexOf(e)}),TD.controller.feedManager.getPoller(e).refresh(t)},e.removeColumn=function(e){delete this._activeColumns[e],delete this._temporaryColumns[e],this._rebuildTaskIndex(),TD.controller.feedManager.cleanupFeeds()},e._rebuildTaskIndex=function(){(0,m.default)(this._taskIndex,function(e){(0,m.default)(e,function(e){e.feeds={}})}),(0,m.default)(this._activeColumns,function(t){(0,m.default)(t.getFeeds(),function(t){e._addFeed(t)})}),(0,m.default)(this._taskIndex,function(e){(0,m.default)(e,function(e){(0,r.default)(e.feeds)&&(TD.controller.scheduler.removePeriodicTask(e.taskId),e.taskId=null)})})},e.refreshColumn=function(e){var t,i=this._activeColumns[e];if(i){t=i.getFeeds();for(var n=0;n<t.length;n++)this._refreshFeed(t[n].getKey())}},e.refreshAccountFeeds=function(e,t){(0,m.default)(this._taskIndex[e],function(e){e.doTask({reset:t})})},e._startStreams=function(){TD.storage.accountController.getAccountsForService("twitter").forEach(function(e){TD.controller.clients.getClient(e.getKey()).checkUserStream()})},e}()},function(e,t,i){"use strict";TD.controller.filterManager=function(){var e={},t=[],i=function(){var e=[];_.each(t,function(t){e.push(t.toBackendState())}),TD.settings.setGlobalFilter(e)};return e.init=function(){var i=TD.settings.getGlobalFilter();_.each(i,function(e){var i=new TD.vo.Filter;i.fromBackendState(e),t.push(i)}),e.reapplyAllFilters()},e.reapplyAllFilters=function(){_.each(TD.controller.columnManager.getAll(),function(e){e.reloadTweets()})},e.pass=function(e,i){var n,s;for(n=0,s=t.length;n<s;n++)if(!t[n].pass(e))return!1;if(i)for(n=0,s=i.length;n<s;n++)if(!i[n].pass(e))return!1;return!0},e.getAll=function(e,i){return t},e.addFilter=function(n,s,r){var o=new TD.vo.Filter(n,s,Boolean(r));return t.push(o),e.reapplyAllFilters(),i(),o},e.validateFilter=function(e,i){return!(!e||!i)&&(0!=_.trim(i).length&&!_.any(t,function(t){return t.type===e&&t.value===i}))},e.removeFilter=function(n){var s=null;t.forEach(function(e,t){n.id?e.id===n.id&&(s=t):n.type&&n.text&&e.type===n.type&&e.value===n.text&&(s=t)}),null!==s&&(t.splice(s,1),e.reapplyAllFilters(),i())},e.hasFilterApplied=function(e,i){return t.some(function(t){return t.type===e&&t.value===i})},e}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(39),r=n(s),o=i(1041),a=i(20),c=n(a);e.exports=function(){function e(e){return!!e.req&&(401===e.req.status||403===e.req.status)}function t(e){return!!e.req&&(0===e.req.status||12007===e.req.status)}function i(){TD.sync.util.trace("init.purgeDeprecatedAccounts()"),n(),s(function(e){var t="twitter"===e.getService()&&"sentdirect"===e.getType();return t&&TD.controller.stats.purgedFeed({service:e.getService(),type:e.getType(),message:"Purged sentdirect feed (no longer supported)"}),t}),s(function(e){var t=_.isUndefined(TD.storage.accountController.get(e.getAccountKey()));return t&&TD.controller.stats.purgedFeed({service:e.getService(),type:e.getType(),accountKey:e.getAccountKey(),message:"Purged feed due to bad account key"}),t}),s(function(e){var t="usertimeline"===e.getType();return t&&TD.controller.stats.purgedFeed({service:e.getService(),type:e.getType(),message:"Purged usertimeline feed (no longer supported)"}),t})}function n(){TD.storage.columnController.getAll().forEach(function(e){if(1===e.getFeedKeys().length)switch(e.getType()){case c.default.storageColumnTypes.HOME:case c.default.storageColumnTypes.INBOX:case c.default.storageColumnTypes.ME:e.setType(c.default.storageColumnTypes.OTHER),TD.util.metric("startup:convert-singleton-column:"+e.getType());break;default:return}})}function s(e){var t=_.filter(TD.storage.feedController.getAll(),e),i=_.map(t,function(e){var t=e.getKey();return TD.storage.feedController.remove(t),t}),n=_.filter(TD.storage.columnController.getAll(),function(e){var t=_.difference(e.getFeedKeys(),i);return e.setFeedKeys(t),_.isEmpty(t)}),s=_.map(n,function(e){return e.getKey()});if(!_.isEmpty(s)){var r=TD.storage.clientController.client;r.setColumnOrder(_.difference(r.getColumnOrder(),s)),_.each(s,function(e){TD.storage.columnController.remove(e)})}}function a(){var e;(e=TD.util).metric.apply(e,(0,r.default)(u.initTimer.metric("ready"))),TD.sync.util.trace("init.initControllerAndUI()"),$(document).trigger("uiNeedsSettings"),TD.controller.clients.init(),TD.controller.feedManager.init(),TD.cache.names.init(),TD.ui.main.init(),TD.controller.scheduler.init(),TD.controller.columnManager.init(),TD.controller.feedScheduler.init(),TD.controller.notifications.init(),l(),TD.controller.filterManager.init(),TD.ready=!0,TD.sync.util.trace("init: TD.ready"),$(document).trigger("TD.ready"),TD.storage.accountController.isEmpty()&&$(document).trigger("uiShowAccountSettings")}function l(){TD.controller.scheduler.schedulePeriodicTask(15,function(){"visible"==document.visibilityState&&TD.controller.stats.heartbeat(TD.storage.store.getTwitterLoginAccountID())},!0)}var u={};return u.preload=function(){u.initTimer=new o.Timer("timing:controller:init");var e=$(document.documentElement);TD.util.isTouchDevice()&&window.navigator.standalone&&($("head meta[name=viewport]").remove(),$("head").prepend('<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">')),e.addClass("os-"+TD.util.getOSName()),TD.util.isTouchDevice()&&(e.addClass("touch-device"),TD.decider.get("touchdeck_font_size_v2")&&e.addClass("with-touch-font-size")),TD.controller.stats.init()},u.start=function(){TD.util.metric("startup:start");var n=TD.util.getAppEnv();TD.util.isWrapperApp()&&TD.util.isUnsupportedWebWrapperVersion()&&(TD.util.metric("startup:start:wrapper-app:unsupported"),deck.closeLoadingScreen&&deck.closeLoadingScreen(),window.location.assign(TD.config.api_root+TD.assets.get("html",{name:"deprecated"})+"?appenv"+n)),TD.controller.scheduler.schedulePeriodicTask(2592e3,function(){window.location.reload(!0)}),$(document).on("unload",function(){window.deck&&window.deck.closeLoadingScreen&&window.deck.closeLoadingScreen()});var s=TD.core.defer.succeed();return s.addCallback(function(){return $(document).trigger("dataAppStart")}),s.addBothWith(TD.decider,TD.decider.updateForGuestId),s.addBoth(function(){TD.util.isWrapperApp()&&deck.closeLoadingScreen&&deck.closeLoadingScreen()}),s.addBoth(function(){var e;(e=TD.util).metric.apply(e,(0,r.default)(u.initTimer.metric("do-login"))),TD.util.metric("startup:do-login")}),s.addCallback(function(){return TD.sync.controller.init()}),s.addCallback(function(e){return TD.storage.store.storeLoginResult(e.loginAccount.getUserID()),e}),s.addCallbacks(TD.util.effect(function(){return TD.util.metric("login:try-cookie:allowed")}),TD.util.effect(function(t){TD.util.metric("login:try-cookie:failed"),e(t)||TD.util.metric("login:try-cookie:error")})),s.addCallback(TD.storage.notification.flush),s.addCallback(i),s.addCallback(function(){return TD.core.defer.gatherResults([TD.storage.feedController.triggerPush(.05),TD.storage.columnController.triggerPush(.05)])}),s.addCallback(function(){TD.storage.store.checkVersion()}),s.addCallback(i),s.addCallbackWith(TD.controller.upgrade,TD.controller.upgrade.doUpgrades),s.addCallback(function(){return TD.storage.accountController.verifyNewTwoginAccount()}),s.addCallback(TD.settings.init),s.addCallback(function(){TD.controller.stats.setUid(TD.storage.store.getTwitterLoginAccountID())}),s.addCallback(a),s.addErrback(function(i){console.error("TweetDeck initialisation failed"),console.error(i),TD.util.metric("startup:do-login:errback"),TD.util.metric("startup:errback"),TD.controller.stats.loginError(i.toString());var n=TD.storage.store.getTwitterLoginAccountID()||"unknown";TD.controller.stats.setUid(n),TD.controller.stats.flushScribeQueue(),TD.sync.controller.reset(),TD.storage.Store.flushWebstorage();var s=e(i),r=t(i),o=TD.i("Sorry, something went wrong. Please try again later."),a=i.message?"("+i.message+")":"";return s?(o="",a=""):r?(TD.util.metric("startup:network-failure"),o=TD.i("Please check your network connection and refresh TweetDeck.")):TD.util.metric("startup:something-went-wrong"),u.showLogin((o+" "+a).trim())}),s},u.showLogin=function(e){var t;return(t=TD.util).metric.apply(t,(0,r.default)(u.initTimer.metric("show-login-screen"))),TD.util.metric("startup:setup-login-screen"),e&&TD.util.metric("startup:setup-login-screen:with-error"),$(document).trigger("uiLoginShowLoginForm",{errorMsg:e}),new TD.core.defer.Deferred},u.signOut=function(e){return $(document).trigger("uiLogout",e),TD.core.defer.timeout(1e4)},u}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){e=(0,d.default)({screenName:"",callbackUrl:(0,v.default)(window.location.href).path(T).toString(),pollInterval:100,windowOpener:window.open.bind(window)},e);var t=(screen.width-800)/2,i=(screen.height-820)/2,n=e.windowOpener(r(e.screenName,e.callbackUrl),"joinTeam","width=800,height=820,left="+t+",top="+i+",resizable,scrollbars,status");return null===n?l.default.reject(new Error(y)):m.default.Observable.timer(e.pollInterval,e.pollInterval).map(function(){return o(n,e.callbackUrl)}).filter(a).take(1).do(n.close.bind(n)).map(function(e){if(e.cancelled)throw new Error(w);return e.completeUserId}).toPromise()}function r(e,t){return(0,v.default)("https://twitter.com/teams/authorize").setSearch({target_screen_name:e,authorize_callback:t}).toString()}function o(e,t){var i="";try{i=(0,p.default)(e,"location.href","")}catch(e){}return{cancelled:e.closed,complete:0===i.indexOf(t),completeUserId:(0,v.default)(i).search(!0)[_]}}function a(e){return e.cancelled||e.complete}Object.defineProperty(t,"__esModule",{value:!0}),t.CANCELLED=t.POPUP_BLOCKED=void 0;var c=i(104),l=n(c),u=i(15),d=n(u),h=i(17),p=n(h);t.joinTeam=s;var f=i(18),m=n(f),g=i(55),v=n(g),T="/web/success.html",_="teams_authorized_user_id",y=t.POPUP_BLOCKED="popup_blocked",w=t.CANCELLED="cancelled"},function(e,t,i){"use strict";function n(e){if(!(0,r.default)(window,"deck.authenticateOn"))return null;var t=deck.authenticateOn(e),i={closed:!1,close:function(){i.closed=!0,t.hide(),t.deleteLater()},location:{href:e}};return t.loadedUrl.connect(function(e){i.location.href=e,0===e.indexOf("file://")&&(i.closed=!0)}),t.show(),i}Object.defineProperty(t,"__esModule",{value:!0});var s=i(17),r=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default=n},function(e,t,i){"use strict";var n=i(20),s=function(e){return e&&e.__esModule?e:{default:e}}(n);TD.controller.notifications=function(){function e(e){var r=e.column,l=e.items;if(l=l.filter(function(e){return e.passFilters(r.filters)&&!e.isOwnChirp()}),0!==l.length){var d=[];if(r.model.getHasNotification()&&u)for(var h=0;h<l.length;h++){var f=l[h],m=a[f.id];if(m)p(r.type)>p(m.columnType)&&(m.columnKey=r.model.getKey(),m.columnTitle=s.default.getColumnTitleHTML(r),m.columnType=r.model.getType(),m.accountKey=f.account.getKey());else{var g={chirpID:f.messageThreadId||f.id,accountKey:f.account.getKey(),columnKey:r.model.getKey(),columnTitle:s.default.getColumnTitleHTML(r),columnType:r.model.getType()},v=f.getNotificationData();if(!v)continue;v.img=v.img||TD.assets.get("logos",{name:"32"}),_.extend(g,v),d.push(g),a[l[h].id]=g}}c=c||r.model.getHasSound(),o=o.concat(d),!i&&(o.length>0||c)&&(i=setTimeout(t,n))}}function t(){if(i=null,c&&(document.getElementById("update-sound").play(),c=!1),o.length&&u){(u===d?o.slice(0,5):o).forEach(function(e){var t;switch(u){case d:deck.doGrowl(e.title,e.text,e.img,e.chirpID,e.columnKey);break;case h:t=new l(e.title,{body:e.text,icon:e.img}),t.onclose=r.reset,t.onshow=function(){setTimeout(function(){t.close()},5e3)},t.onclick=function(){r.showDetailView(e.columnKey,e.chirpID),TD.util.isChromeApp()&&chrome.extension.getBackgroundPage().TD.bg.utils.showTDTab(),window.focus()}}}),r.reset(),o=[]}}var i,n=500,r={},o=[],a={},c=!1,l=window.Notification,u=!1,d="growl",h="w3c",p=function(e){switch(e){case"privateMe":return 5;case"direct":return 4;case"me":return 3;case"mentions":return 2;case"home":return 1;case"search":return-1;default:return 0}},f=function(){return!!TD.util.isWrapperApp()||r.isPermissionGranted()},m=function(e){var t=f();return t&&(u=h,e&&e("granted")),t};return r.init=function(){TD.util.isMacApp()?u=d:l&&m(),$.subscribe("/notifications/new",e.bind(this))},r.hasNotifications=function(){return!!u||l&&"denied"!==l.permission},r.isPermissionGranted=function(){return!!u||l&&"granted"===l.permission},r.canPermissionBeRequested=function(){return l&&"default"===l.permission},r.getPermission=function(e){m(e)||l.requestPermission(function(t){"permission"in l||(l.permission=t),m(e)})},r.showDetailView=function(e,t){$(document).trigger("uiColumnFocus",{columnKey:e});var i=TD.controller.columnManager.get(e),n=i.findMostInterestingChirp(t);if(n){var s=i.findChirp(t);TD.ui.updates.showDetailView(i,n,s)}},r.reset=function(){a={},c=!1},r}()},function(e,t,i){"use strict";TD.controller.scheduler=function(){var e={};return e.QUERY_INTERVAL=1e3,e.SLEEP_THRESHOLD=6e4,e._tasks={},e._lastTickTime=null,e.tick=function(){var e=this;setTimeout(function(){try{e._handleTick()}finally{e.tick()}},this.QUERY_INTERVAL)},e.init=function(){this.tick(),e._lastTickTime=Date.now(),this._jQueryCleanupTaskId=TD.controller.scheduler.schedulePeriodicTask(600,function(){jQuery.fragments={}})},e._handleTick=function(){var t=Date.now(),i=t-e._lastTickTime-e.QUERY_INTERVAL;e._lastTickTime=t,i>e.SLEEP_THRESHOLD&&$(document).trigger("dataAppWokenFromSleep",{lateness:i}),_.each(e._tasks,function(i){t-i.cycleStartTime>i.period&&(e._fireTask(i),i.cycleStartTime=Date.now())})},e._fireTask=function(e){try{e.callback()}catch(t){console.log("Error in periodic task:",e,"Error:",t)}},e.schedulePeriodicTask=function(e,t,i){var n={id:_.uniqueId("sched_task_"),callback:t,period:1e3*e,cycleStartTime:Date.now()};return i&&this._fireTask(n),this._tasks[n.id]=n,n.id},e.updatePeriodicTask=function(e,t,i){var n=this._tasks[e];n&&(n.period=1e3*t,n.callback=i||n.callback)},e.restartPeriodicTask=function(e){var t=this._tasks[e];t&&(t.cycleStartTime=Date.now())},e.removePeriodicTask=function(e){delete this._tasks[e]},e}()},function(e,t,i){"use strict";var n=i(20),s=function(e){return e&&e.__esModule?e:{default:e}}(n);TD.controller.upgrade=function(e,t,i,n){var r={};return r.CURRENT_VERSION=2,r.recordVersion=function(t){return e.clientController.client.dictSet("settings","version",t)},r.doUpgrades=function(){var t=e.clientController.client.get("settings");if(_.isUndefined(t)||_.isUndefined(t.version))return TD.util.metric("controller:upgrade:new-user:to:"+r.CURRENT_VERSION),r.recordVersion(r.CURRENT_VERSION).addErrback(TD.util.effect(function(){TD.util.metric("controller:upgrade:error"),TD.util.metric("controller:upgrade:new-user:error")}));var i=Number(t.version)||0;TD.util.metric("controller:upgrade:existing-version:"+i);for(var s=n.succeed(),o=1;o<=r.CURRENT_VERSION;o++)if(i<o){var a="version_"+o.toString();r.hasOwnProperty(a)&&(TD.util.metric("controller:upgrade:to:"+o),s.addCallback(r[a]),s.addCallback(r.recordVersion.bind(r,o)))}return s.addErrback(TD.util.effect(function(){return TD.util.metric("controller:upgrade:error")})),s},r.version_1=function(){e.columnController.getAll().forEach(function(e){var t,i=TD.storage.feedController.get(e.getFeedKeys()[0]).getType();i===s.default.feedTypes.MENTIONS&&(t=new TD.vo.SearchFilter(e.getFilters()),t.action.fromJSONObject({showMentions:!0,showRetweets:!1,showFavorites:!1,showFollowers:!1,showLists:!1}),e.setFilters(t.toJSONObject()))})},r.version_2=function(){!1===TD.storage.clientController.client.get("settings").show_inline_media&&e.columnController.getAll().forEach(function(e){e.setMediaPreviewSize(TD.vo.Column.MEDIA_PREVIEW_OFF)})},r}(TD.storage,TD.config,TD.sync.util,TD.core.defer)},function(e,t,i){"use strict";i(845),i(844),i(846),TD.util=i(13),TD.core.defer=i(118),i(449),TD.util.i18n=i(479),TD.i=i(1045),TD.assets=i(444),i(825),i(1046),i(20),TD.util.poller=i(1080),TD.sync.util=i(287),i(436)},function(e,t,i){"use strict";window.TD=window.TD||{},TD.core=TD.core||{},TD.core.base64=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},i=function(e){for(var t="",i=0,n=0,s=0,r=0;i<e.length;)n=e.charCodeAt(i),n<128?(t+=String.fromCharCode(n),i++):n>191&&n<224?(s=e.charCodeAt(i+1),t+=String.fromCharCode((31&n)<<6|63&s),i+=2):(s=e.charCodeAt(i+1),r=e.charCodeAt(i+2),t+=String.fromCharCode((15&n)<<12|(63&s)<<6|63&r),i+=3);return t};return{encode:function(i){var n,s,r,o,a,c,l,u="",d=0;for(i=t(i);d<i.length;)n=i.charCodeAt(d++),s=i.charCodeAt(d++),r=i.charCodeAt(d++),o=n>>2,a=(3&n)<<4|s>>4,c=(15&s)<<2|r>>6,l=63&r,isNaN(s)?c=l=64:isNaN(r)&&(l=64),u=u+e.charAt(o)+e.charAt(a)+e.charAt(c)+e.charAt(l);return u},decode:function(t){var n,s,r,o,a,c,l,u="",d=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<t.length;)o=e.indexOf(t.charAt(d++)),a=e.indexOf(t.charAt(d++)),c=e.indexOf(t.charAt(d++)),l=e.indexOf(t.charAt(d++)),n=o<<2|a>>4,s=(15&a)<<4|c>>2,r=(3&c)<<6|l,u+=String.fromCharCode(n),64!=c&&(u+=String.fromCharCode(s)),64!=l&&(u+=String.fromCharCode(r));return u=i(u)}}}()},function(e,t,i){"use strict";!function(e){var t={};e.publish=function(i,n){var s=t[i];s&&e.each(s,function(){this.apply(e,n||[])})},e.subscribe=function(e,i){return t[e]||(t[e]=[]),t[e].push(i),[e,i]},e.unsubscribe=function(i){if(!(i&&i instanceof Array))throw new Error("unsubscribe(): handle must be an instance of Array.");var n=i[0];t[n]&&e.each(t[n],function(e){this==i[1]&&t[n].splice(e,1)})},e.unsubscribeAll=function(e){delete t[e]}}(jQuery)},function(e,t,i){"use strict";window.TD=window.TD||{},TD.core=TD.core||{},TD.core.sha1=function(e){function t(e,t){return e<<t|e>>>32-t}function i(e){var t,i,n="";for(t=7;t>=0;t--)i=e>>>4*t&15,n+=i.toString(16);return n}var n,s,r,o,a,c,l,u,d,h=new Array(80),p=1732584193,f=4023233417,m=2562383102,g=271733878,v=3285377520;e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(e);var T=e.length,_=new Array;for(s=0;s<T-3;s+=4)r=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),_.push(r);switch(T%4){case 0:s=2147483648;break;case 1:s=e.charCodeAt(T-1)<<24|8388608;break;case 2:s=e.charCodeAt(T-2)<<24|e.charCodeAt(T-1)<<16|32768;break;case 3:s=e.charCodeAt(T-3)<<24|e.charCodeAt(T-2)<<16|e.charCodeAt(T-1)<<8|128}for(_.push(s);_.length%16!=14;)_.push(0);for(_.push(T>>>29),_.push(T<<3&4294967295),n=0;n<_.length;n+=16){for(s=0;s<16;s++)h[s]=_[n+s];for(s=16;s<=79;s++)h[s]=t(h[s-3]^h[s-8]^h[s-14]^h[s-16],1);for(o=p,a=f,c=m,l=g,u=v,s=0;s<=19;s++)d=t(o,5)+(a&c|~a&l)+u+h[s]+1518500249&4294967295,u=l,l=c,c=t(a,30),a=o,o=d;for(s=20;s<=39;s++)d=t(o,5)+(a^c^l)+u+h[s]+1859775393&4294967295,u=l,l=c,c=t(a,30),a=o,o=d;for(s=40;s<=59;s++)d=t(o,5)+(a&c|a&l|c&l)+u+h[s]+2400959708&4294967295,u=l,l=c,c=t(a,30),a=o,o=d;for(s=60;s<=79;s++)d=t(o,5)+(a^c^l)+u+h[s]+3395469782&4294967295,u=l,l=c,c=t(a,30),a=o,o=d;p=p+o&4294967295,f=f+a&4294967295,m=m+c&4294967295,g=g+l&4294967295,v=v+u&4294967295}var d=i(p)+i(f)+i(m)+i(g)+i(v);return d.toLowerCase()}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.throttleTime,i=void 0===t?v:t;y=new f.default.Subject,w=new f.default.Subject,y.bufferTime(i,null,T).throttleTime(i).map(function(e){return _.uniq(e,function(e){return e.id+":"+e.account})}).filter(function(e){return e.length}).flatMap(r).flatMap(function(e){return f.default.Observable.from(e)}).subscribe(w),b=w.asObservable()}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(TD.decider.get("streamed_chirp_lookup_metrics")){var t=_.groupBy(e,"feedType");u.default.metric("api:tweet-refetch:lookup"),_.forEach(t,function(e,t){u.default.metric("api:tweet-refetch:lookup:tweetcount:"+t,[e.length],"metric")})}var i=_.groupBy(e,"account"),n=_.map(i,function(e,t){return o(_.pluck(e,"id"),t)});return f.default.Observable.from(n).mergeAll().catch(function(e){return f.default.Observable.empty()})}function o(e,t){var i=new g.default.Deferred;return TD.controller.clients.getClient(t).lookupTweets(e,i.callback.bind(i),i.errback.bind(i)),h.default.fromDeferred(i)}function a(){return b||s(),b}function c(e){e.forEach(function(e){return y.next(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.setup=s,t.getResponseObservable=a,t.fetchTweets=c;var l=i(13),u=n(l),d=i(38),h=n(d),p=i(18),f=n(p),m=i(118),g=n(m),v=2e3,T=100,y=void 0,w=void 0,b=void 0},function(e,t,i){"use strict";TD.debug=function(){var e={};return e.spoof_data=null,e}()},function(e,t,i){"use strict";function n(){this.attributes({logoutTimeout:1e4}),this.initialState(a.fromJS.bind(a,{badAccounts:{}})),this.after("initialize",function(){this.on(document,"dataTwitterAccountAccessSuccess",this.handleAccessSuccess),this.on(document,"dataTwitterAccountAccessDenied",this.handleAccessDenied),this.after("stateChanged",this.handleStateChanged)}),this.handleAccessSuccess=function(e,t){var i=t.account.getKey();this.state.hasIn(["badAccounts",i])&&(clearTimeout(this.state.getIn(["badAccounts",i,"logoutTimeoutId"])),this.replaceState(this.state.deleteIn(["badAccounts",i])))},this.handleAccessDenied=function(e,t){var i=t.account.getKey();if(!this.state.hasIn(["badAccounts",i])){var n=this.addBadAccountFromEventData(this.state,t);this.replaceState(n),(0,r.getClientByAccountKey)(i).getHomeTimeline(null,null,1)}},this.handleStateChanged=function(e){var t=this.getBadAccount(e);t?this.trigger("uiShowAccountAccessDeniedBanner",t.get("eventData").toJS()):this.trigger("uiHideAccountAccessDeniedBanner")},this.addBadAccountFromEventData=function(e,t){var i=t.account.getKey(),n={eventData:t,logoutTimeoutId:t.isLoginAccount?setTimeout(this.signOut.bind(this),this.attr.logoutTimeout):null};return e.mergeDeepIn(["badAccounts",i],n)},this.getBadAccount=function(e){return e.get("badAccounts").reduce(function(e,t){return t.getIn(["eventData","isLoginAccount"])?t:e})},this.signOut=function(){TD.storage.accountController.getCookieAccount()?this.trigger(document,"uiReload"):this.trigger(document,"uiLogout",{allSessions:!0})}}var s=i(2),r=i(22),o=i(61),a=i(426);e.exports=(0,s.component)(o,n)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({accountUpdateDebounce:50}),this.after("initialize",function(){this.on(document,"TD.ready",this.initializeAccountsState),this.on(document,"uiNeedsSingleAccountStatus",this.handleNeedsSingleAccountStatus),this.accountsStream=new p.default.BehaviorSubject((0,g.getTwitterAccounts)()),this.stateStream=this.accountsStream.map(g.filterAccountsWithClient).distinctUntilChanged(o.default).map(function(e){return{accounts:e,defaultAccount:e.find(function(e){return e.isDefault}),loginAccount:e.find(function(e){return e.isTwoginAccount})}}),this.provideResource("accounts.state",this.stateStream),this.observe(this.stateStream).pluck("defaultAccount").filter(Boolean).distinctUntilChanged(m.default.shallowEquals()).subscribe(this.broadcastClient.bind(this)),this.subscription=$.subscribe("/storage/client/default_account_changed",this.pushAccounts.bind(this)),this.subscriptionToAccountChange=$.subscribe("/storage/account/change",this.pushAccounts.bind(this)),this.on(document,"dataAccountWhitelist dataContributeeInviteSuccess dataClientsUpdated",this.pushAccounts.bind(this)),this.on(document,"uiAccountAction",this.handleAccountAction),this.on(document,"dataContributorActionSuccess",this.handleContributorActionSuccess),this.on(document,"dataTwitterAccountAccessDenied",this.handleTwitterAccountAccessDenied),this.on(document,"dataTwitterAccountAccessSuccess",this.handleTwitterAccountAccessSuccess)}),this.before("teardown",function(){$.unsubscribe(this.subscription),$.unsubscribe(this.subscriptionToAccountChange),this.accountsStream.unsubscribe()}),this.initializeAccountsState=function(){this.pushAccounts()},this.getAndSendAccount=function(e){var t=(0,g.getAccount)(e);this.sendAccount(t)},this.pushAccounts=function(){this.accountsStream.next((0,g.getTwitterAccounts)())},this.broadcastClient=function(){this.trigger("dataTwitterClientChanged",{client:(0,v.getTwitterClient)()})},this.handleAccountAction=function(e,t){switch(t.action){case"rewriteColumns":if(!TD.decider.get("enable_rewrite_columns"))break;var i=this.chooseNextAvailableAccount((0,g.getAccountsForService)("twitter"),t.accountKey);(0,g.getDefaultAccount)().accountKey===t.accountKey&&(0,g.setDefaultAccount)(i.accountKey),this.rewriteColumns(t.accountKey,i.accountKey),(0,g.removeAccount)(t.accountKey);break;case"remove":(0,g.removeAccount)(t.accountKey);break;case"setDefault":(0,g.setDefaultAccount)(t.accountKey)}},this.handleContributorActionSuccess=function(e,t){var i=(0,g.getTwitterLoginAccount)();if(i)switch(t.request.action){case"remove":t.request.userId===i.userId&&(0,g.removeAccount)(t.request.accountKey);break;case"update":t.request.userId===i.userId&&(0,g.setIsAdmin)(t.request.accountKey,t.request.isAdmin)}},this.handleNeedsSingleAccountStatus=function(){this.trigger("dataSingleAccountStatus",{isSingleAccount:1===(0,g.getTwitterAccounts)().length})},this.handleTwitterAccountAccessDenied=function(e,t){var i=t.account;i&&i.setPrivate("isAccessDenied",!0)},this.handleTwitterAccountAccessSuccess=function(e,t){var i=t.account;i&&i.getPrivate("isAccessDenied")&&(i.setPrivate("isAccessDenied",!1),this.trigger("dataTwitterAccountAccessEnabled",{accountKey:i.getKey()}))},this.rewriteColumns=function(e,t){this.trigger("dataAccountsRewriteColumns",{sourceAccountKey:e,targetAccountKey:t})},this.chooseNextAvailableAccount=function(e,t){return e.find(function(e){return e.accountKey!==t})}}var r=i(97),o=n(r),a=i(2),c=i(19),l=n(c),u=i(7),d=n(u),h=i(18),p=n(h),f=i(38),m=n(f),g=i(90),v=i(22);e.exports=(0,a.component)(d.default,l.default,s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.initialState({}),this.after("initialize",function(){var e=this;this.observe(this.requestResource("accounts.state")).pluck("accounts").flatMap(_.identity).filter(this.shouldFetchAccount.bind(this)).do(this.makeSetStateFetchingAccount(!0).bind(this)).flatMap(p.default.makeFromDeferred(function(t){return e.fixAccount(t)})).do(this.makeSetStateFetchingAccount(!1).bind(this)).publish().connect()}),this.fixAccount=function(e){var t=(0,f.getTwitterLoginAccount)(),i=TD.core.defer.succeed();return i.addCallbackWith(this,function(){return this.fetchUser(e.userId,t.accountKey)}),i.addCallbackWith(this,function(t){(0,f.updateAccount)(e.accountKey,t)}),i.addBoth(_.constant(e)),i},this.fetchUser=function(e,t){var i=new TD.core.defer.Deferred;return(0,m.getClientByAccountKey)(t).showUser(e,null,i.callback.bind(i),i.errback.bind(i)),i},this.shouldFetchAccount=function(e){var t=this.state;return e.isMissingUserData&&!t[e.userId]},this.makeSetStateFetchingAccount=function(e){return function(t){var i={};i[t.userId]=e,this.mergeState(i)}}}var r=i(2),o=i(7),a=n(o),c=i(61),l=n(c),u=i(19),d=n(u),h=i(38),p=n(h),f=i(90),m=i(22);e.exports=(0,r.component)(l.default,s,a.default,d.default)},function(e,t,i){"use strict";function n(){this.attributes({collectionUrlRegex:/twitter.com\/([a-z0-9_]+)\/timelines\/(\d+)/i}),this.initialState({}),this.after("initialize",function(){this.on(document,"dataCustomTimelineSuccess",this.handleCollection),this.on(document,"dataCustomTimelineError",this.handleCollectionError);var e=this.observe(this.requestResource("accounts.state")),t=a.Observable.fromEvent($(document),"uiAddColumnsByUrl",function(e,t){return t}).flatMap(function(e){return e.urls}).map(this.matchCollectionUrl,this).filter(Boolean).map(this.makeCollectionFromRegexMatch,this).filter(this.isNewCollection,this).share();this.stateUpdater=t.map(function(e){var t={};return t[e.id]=e,t}).subscribe(this.mergeState.bind(this)),this.fetcher=t.withLatestFrom(e,function(e,t){return{collection:e,accountsState:t}}).subscribe(this.fetchCollection.bind(this))}),this.after("teardown",function(){this.stateUpdater.unsubscribe(),this.fetcher.unsubscribe()}),this.matchCollectionUrl=function(e){return e.match(this.attr.collectionUrlRegex)},this.makeCollectionFromRegexMatch=function(e){return{id:"custom-"+e[2],screenName:e[1].toLowerCase()}},this.isNewCollection=function(e){return!this.state[e.id]},this.fetchCollection=function(e){var t=this.bestAccountForCollection(e.collection,e.accountsState);this.trigger(document,"uiNeedsCustomTimeline",{id:e.collection.id,account:t.accountKey})},this.bestAccountForCollection=function(e,t){return t.accounts.filter(function(t){return e.screenName===t.screenName.toLowerCase()})[0]||t.defaultAccount},this.handleCollection=function(e,t){var i=t.result.id;this.state[i]&&(this.addCollectionColumn(t.result),this.removeCollection(i))},this.handleCollectionError=function(e,t){var i=t.action.id;this.state[i]&&((0,o.showErrorNotification)({message:TD.i("Could not add Collection")}),this.removeCollection(i))},this.removeCollection=function(e){this.replaceState(_.omit(this.state,e))},this.addCollectionColumn=function(e){var t=new TD.components.TemporaryColumn;t.customTimeline(e),t.populate(),t.makePermanent(),setTimeout(function(){t.destroy()},0)}}var s=i(7),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(6),a=i(18),c=i(2).component,l=i(19),u=i(61);e.exports=c(u,n,r.default,l)},function(e,t,i){"use strict";function n(){this.attributes({paths:["/1.1/account/settings.json","/1.1/account/verify_credentials.json","/1.1/activity/about_me.json","/1.1/activity/by_friends.json","/1.1/activity/by_me.json","/1.1/beta/timelines/custom/add.json","/1.1/beta/timelines/custom/create.json","/1.1/beta/timelines/custom/destroy.json","/1.1/beta/timelines/custom/list.json","/1.1/beta/timelines/custom/remove.json","/1.1/beta/timelines/custom/show.json","/1.1/beta/timelines/custom/update.json","/1.1/beta/timelines/custom/whitelisted.json","/1.1/beta/timelines/timeline.json","/1.1/blocks/create.json","/1.1/blocks/destroy.json","/1.1/blocks/ids.json","/1.1/collections/create.json","/1.1/collections/entries.json","/1.1/collections/entries/add.json","/1.1/collections/entries/move.json","/1.1/collections/entries/remove.json","/1.1/collections/list.json","/1.1/collections/show.json","/1.1/collections/update.json","/1.1/conversation/show.json","/1.1/direct_messages.json","/1.1/direct_messages/destroy.json","/1.1/direct_messages/new.json","/1.1/direct_messages/read.json","/1.1/direct_messages/report_spam.json","/1.1/direct_messages/sent.json","/1.1/dm/conversation/mark_read.json","/1.1/dm/destroy.json","/1.1/dm/mark_read.json","/1.1/dm/new.json","/1.1/dm/user_inbox.json","/1.1/dm/user_updates.json","/1.1/favorites/create.json","/1.1/favorites/destroy.json","/1.1/favorites/list.json","/1.1/friends/following/list.json","/1.1/friendships/create.json","/1.1/friendships/destroy.json","/1.1/friendships/no_retweets/ids.json","/1.1/friendships/show.json","/1.1/geo/search.json","/1.1/help/configuration.json","/1.1/help/settings.json","/1.1/lists/create.json","/1.1/lists/destroy.json","/1.1/lists/list.json","/1.1/lists/members.json","/1.1/lists/members/create.json","/1.1/lists/members/create_all.json","/1.1/lists/members/destroy.json","/1.1/lists/memberships.json","/1.1/lists/ownerships.json","/1.1/lists/show.json","/1.1/lists/statuses.json","/1.1/lists/subscriptions.json","/1.1/lists/update.json","/1.1/live_pipeline/events","/1.1/live_pipeline/update_subscriptions","/1.1/media/upload.json","/1.1/mutes/advanced_filters.json","/1.1/mutes/conversations/create.json","/1.1/mutes/conversations/destroy.json","/1.1/mutes/users/create.json","/1.1/mutes/users/destroy.json","/1.1/mutes/users/ids.json","/1.1/saved_searches/list.json","/1.1/schedule/status/list.json","/1.1/schedule/status/lookup.json","/1.1/schedule/status/tweet.json","/1.1/search/tweets.json","/1.1/search/typeahead.json","/1.1/search/universal.json","/1.1/statuses/flag_possibly_sensitive.json","/1.1/statuses/following_timeline.json","/1.1/statuses/home_timeline.json","/1.1/statuses/lookup.json","/1.1/statuses/mentions_timeline.json","/1.1/statuses/oembed.json","/1.1/statuses/show.json","/1.1/statuses/update.json","/1.1/statuses/user_timeline.json","/1.1/translations/show.json","/1.1/trends/available.json","/1.1/trends/place.json","/1.1/trends/plus.json","/1.1/tweetdeck/clients","/1.1/tweetdeck/columns","/1.1/tweetdeck/dataminr/authtoken","/1.1/tweetdeck/feeds","/1.1/tweetdeck/insights/timeseries.json","/1.1/tweetdeck/insights/related_keywords.json","/1.1/tweetdeck/insights/demographics.json","/1.1/users/contributees.json","/1.1/users/contributees/accept.json","/1.1/users/contributees/destroy.json","/1.1/users/contributees/pending.json","/1.1/users/contributees/update.json","/1.1/users/contributors.json","/1.1/users/contributors/destroy.json","/1.1/users/contributors/pending.json","/1.1/users/contributors/update.json","/1.1/users/lookup.json","/1.1/users/report_spam.json","/1.1/users/search.json","/1.1/users/show.json","/1/statuses/following_timeline.json","/graphql","/i/activity/about_me.json","/i/activity/by_friends.json","/i/search/typeahead.json","/users/following_followers_of.json"].reduce(function(e,t){return e[t]=t,e},{}),pathMatchers:[{regex:"/1.1/statuses/\\d*/activity/summary.json",key:"/1.1/statuses/.../activity/summary.json"},{regex:"/2/timeline/conversation/\\d*.json",key:"/2/timeline/conversation/....json"},{regex:"/i/statuses/\\d*/activity/summary.json",key:"/i/statuses/.../activity/summary.json"},{regex:"/1.1/schedule/status/dismiss/\\d*.json",key:"/1.1/schedule/status/dismiss/....json"},{regex:"/1.1/schedule/status/retweet/\\d*.json",key:"/1.1/schedule/status/retweet/....json"},{regex:"/1.1/schedule/status/\\d*.json",key:"/1.1/schedule/status/....json"},{regex:"/1.1/statuses/destroy/\\d*.json",key:"/1.1/statuses/destroy/....json"},{regex:"/1.1/statuses/retweet/\\d*.json",key:"/1.1/statuses/retweet/....json"},{regex:"/1.1/statuses/show/\\d*.json",key:"/1.1/statuses/show/....json"},{regex:"/1.1/dm/conversation/(\\d*|\\d*-\\d*).json",key:"/1.1/dm/conversation/....json"},{regex:"/1.1/dm/conversation/(\\d*|\\d*-\\d*)/add_participants.json",key:"/1.1/dm/conversation/.../add_participants.json"},{regex:"/1.1/dm/conversation/(\\d*|\\d*-\\d*)/delete.json",key:"/1.1/dm/conversation/.../delete.json"},{regex:"/1.1/dm/conversation/(\\d*|\\d*-\\d*)/update_name.json",key:"/1.1/dm/conversation/.../update_name.json"},{regex:"/1.1/dm/conversation/(\\d*|\\d*-\\d*)/mark_read.json",key:"/1.1/dm/conversation/.../mark_read.json"},{regex:"/1.1/tweetdeck/clients(.+)",key:"/1.1/tweetdeck/clients/..."},{regex:"/1.1/tweetdeck/columns(.+)",key:"/1.1/tweetdeck/columns/..."},{regex:"/1.1/tweetdeck/feeds(.+)",key:"/1.1/tweetdeck/feeds/..."}].map(function(e){return{regex:new RegExp(e.regex||e.key+"$"),key:e.key}})}),this.after("initialize",function(){this.on(document,"dataApiResponse",function(e,t){this.sendApiResponseMetrics(t)})}),this.sendApiResponseMetrics=TD.util.catch(function(e){if(e=e||{},"number"!=typeof e.status||(0,r.default)(e.status)<0)return TD.util.metric("api:other:status-wrong-type");if("string"!=typeof e.url)return TD.util.metric("api:other:url-wrong-type");var t=a(e.url).normalize(),i=t.pathname(),n=t.host();if(!n)return TD.util.metric("api:other:host-missing");var s=this.getKeyForPathname(i);TD.util.metric(["api:host",n,e.status,s].join(":"));var o=(""+e.status).charAt(0)+"XX";TD.util.metric(["api:host:aggregate",n,o,s].join(":"))},!0),this.getKeyForPathname=function(e){var t=this.attr.paths[e];if(!t){var i=this.attr.pathMatchers.find(function(t){return null!==e.match(t.regex)});i&&(t=i.key)}return t||"other"}}var s=i(105),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component,a=i(55);e.exports=o(n)},function(e,t,i){"use strict";var n=i(43),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(2).component,o=function(){this.deleteColumn=function(e,t){var i=t.columnId;i&&TD.controller.columnManager.deleteColumn(i)},this.moveColumn=function(e,t){var i=t.columnId,n=t.action;i&&n&&TD.controller.columnManager.move(i,n)},this.handleUiNeedsSerializedColumn=function(e,t){var i=TD.controller.columnManager.get(t.columnId),n={feeds:_.map(i.getFeeds(),function(e){return e.state}),filters:i.getSearchFilter().toJSONObject()};this.trigger("dataSerializedColumn",{columnId:t.columnId,column:n,url:"https://tweetdeck.twitter.com/#column="+TD.core.base64.encode((0,s.default)(n))})},this.after("initialize",function(){this.on(document,"uiDeleteColumnAction",this.deleteColumn),this.on(document,"uiMoveColumnAction",this.moveColumn),this.on(document,"uiNeedsSerializedColumn",this.handleUiNeedsSerializedColumn)})};e.exports=r(o)},function(e,t,i){"use strict";function n(){this.attributes({pollIntervalMs:9e5}),this.after("initialize",function(){var e=this,t=l.Observable.combineLatest([this.observe(l.Observable.timer(0,this.attr.pollIntervalMs)),this.observe(this.requestResource("accounts.state")).pluck("defaultAccount").filter(Boolean).distinctUntilKeyChanged("accountKey"),u.fromEventOnce(this.$node,"TD.ready")],function(e,t){return t}).flatMap(function(t){return u.fromDeferred(e.getConfiguration(t)).catch(function(e){return l.Observable.empty()})}).startWith({dm_text_character_limit:1e4,characters_reserved_per_media:23,max_media_per_upload:1,non_username_paths:["about","account","accounts","activity","all","announcements","anywhere","api_rules","api_terms","apirules","apps","auth","badges","blog","business","buttons","contacts","devices","direct_messages","download","downloads","edit_announcements","faq","favorites","find_sources","find_users","followers","following","friend_request","friendrequest","friends","goodies","help","home","i","im_account","inbox","invitations","invite","jobs","list","login","logo","logout","me","mentions","messages","mockview","newtwitter","notifications","nudge","oauth","phoenix_search","positions","privacy","public_timeline","related_tweets","replies","retweeted_of_mine","retweets","retweets_by_others","rules","saved_searches","search","sent","sessions","settings","share","signup","signin","similar_to","statistics","terms","tos","translate","trends","tweetbutton","twttr","update_discoverability","users","welcome","who_to_follow","widgets","zendesk_auth","media_signup"],photo_size_limit:3145728,photo_sizes:{thumb:{h:150,resize:"crop",w:150},small:{h:480,resize:"fit",w:340},medium:{h:1200,resize:"fit",w:600},large:{h:2048,resize:"fit",w:1024}},short_url_length:23,transformedURLLength:23,client_event_url:"https://twitter.com/scribe"}).publishReplay(1).refCount().map(function(e){return"help_configuration_overlay"in TD.config?_.merge(e,TD.config.help_configuration_overlay||{}):e});this.provideResource("/1.1/help/configuration.json",t),this.observe(l.Observable.fromEvent(this.$node,"uiNeedsHelpConfiguration")).withLatestFrom(t,function(e,t){return t}).subscribe(function(e){this.trigger("dataHelpConfiguration",e)}.bind(this))}),this.getConfiguration=function(e){return(0,s.makeTwitterRequest)(e.accountKey,"help/configuration.json").addCallback(function(e){return e.data})}}var s=i(147),r=i(7),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=i(2).component,c=i(19),l=i(18),u=i(38);e.exports=a(c,n,o.default)},function(e,t,i){"use strict";function n(){this.attributes({}),this.after("initialize",function(){this.on(document,"uiNeedsContributees",this.handleUiNeedsContributees),this.on(document,"uiAcceptContributeeInvite",this.handleUiAcceptContributeeInvite),this.on(document,"uiRemoveContributee",this.handleUiRemoveContributee),this.on(document,"uiNeedsContributors",this.handleUiNeedsContributors),this.on(document,"uiContributorAction",this.handleUiContributorAction)}),this.triggerResult=function(e,t,i){this.trigger(e,{request:t,response:i})};var e=function(e){return{id:e.user.id_str,isAdmin:!!e.admin}};this.handleUiNeedsContributees=function(t,i){var n=(0,o.makeTwitterRequest)(i.accountKey,"users/contributees/pending.json",{}),s=(0,o.makeTwitterRequest)(i.accountKey,"users/contributees.json",{});TD.core.defer.gatherResults([n,s]).addCallback(function(t){var n=(0,r.default)(t,2),s=n[0],o=n[1],a=o.data.map(e),c=s.data.map(e);this.trigger("dataContributees",{accountKey:i.accountKey,contributees:a,pending:c})}.bind(this))},this.handleUiRemoveContributee=function(e,t){(0,o.makeTwitterRequest)(t.accountKey,"users/contributees/destroy.json",{method:"POST",params:{user_id:t.userId}}).addCallbacks(this.triggerResult.bind(this,"dataContributeeRemoveSuccess",t),this.triggerResult.bind(this,"dataContributeeRemoveError",t))},this.handleUiAcceptContributeeInvite=function(e,t){var i=this;(0,o.makeTwitterRequest)(t.accountKey,"users/contributees/accept.json",{method:"POST",params:{user_id:t.userId}}).addCallbacks(function(){return i.trigger("dataContributeeAcceptSuccess",t)},function(){return i.triggerResult("dataContributeeAcceptError",t)})},this.handleUiNeedsContributors=function(e,t){var i=(0,o.makeTwitterRequest)(t.accountKey,"users/contributors/pending.json",{}),n=(0,o.makeTwitterRequest)(t.accountKey,"users/contributors.json",{}),s=TD.core.defer.gatherResults([i,n]);s.addCallback(function(e){var i=(0,r.default)(e,2),n=i[0],s=i[1],o=this.processContributorsData(s.data,t.accountKey),a=this.processContributorsData(n.data,t.accountKey);this.trigger("dataContributors",{accountKey:t.accountKey,contributors:o,pending:a})}.bind(this)),s.addErrback(this.triggerResult.bind(this,"dataContributorsError",t))},this.processContributorsData=function(e,t){var i=TD.storage.accountController.get(t);return e.map(function(e){return{user:new TD.services.TwitterUser(i).fromJSONObject(e.user,{isContributor:!0}),isAdmin:e.admin}})},this.handleUiContributorAction=function(e,t){var i;t.userId?i=TD.core.defer.succeed():(i=TD.cache.twitterUsers.getByScreenName(t.screenName),i.addCallback(function(e){t.userId=e.id})),i.addCallback(this.performContributorAction.bind(this,t)),i.addCallbacks(this.triggerResult.bind(this,"dataContributorActionSuccess",t),this.triggerResult.bind(this,"dataContributorActionError",t))},this.updateContributor=function(e){return(0,o.makeTwitterRequest)(e.accountKey,"users/contributors/update.json",{method:"POST",params:{user_id:e.userId,admin:!!e.isAdmin}})},this.removeContributor=function(e){return(0,o.makeTwitterRequest)(e.accountKey,"users/contributors/destroy.json",{method:"POST",params:{user_id:e.userId}})},this.performContributorAction=function(e){var t;switch(e.action&&this.trigger("metric",{key:"contributors:data:action:"+e.action}),e.action){case"add":case"update":t=this.updateContributor(e);break;case"remove":t=this.removeContributor(e);break;default:t=TD.core.defer.fail()}return t}}var s=i(236),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(147),a=i(2).component;e.exports=a(n)},function(e,t,i){"use strict";function n(){this.attributes({pollMs:18e5}),this.after("initialize",function(){this.observe(a.Observable.timer(0,this.attr.pollMs)).subscribe(this.metricCookieSize.bind(this))}),this.metricCookieSize=function(){TD.util.metric("cookie-size:all:size",[document.cookie.length],"metric"),TD.util.metric("cookie-size:all:count",[document.cookie.split("; ").length],"metric");var e=document.cookie.match(/mp_.+?;/g);if(e){var t=e.map(TD.util.pluck("length")),i=t.reduce(_.add,0);TD.util.metric("cookie-size:mixpanel:sizes",t,"metric"),TD.util.metric("cookie-size:mixpanel:count",[e.length],"metric"),TD.util.metric("cookie-size:mixpanel:total-size",[i],"metric")}}}var s=i(7),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(89),a=i(18);e.exports=o.mixin(n,r.default)},function(e,t,i){"use strict";function n(){this.createMoment=function(e,t){var i=t.collection,n=i.id,s=i.name,r=i.description,c=i.user;o.default.create({title:s,curatorId:c.id,collectionId:n,description:r}).addCallbacks(function(e){var t=e.moment.id;TD.util.openURL("https://momentmaker.twitter.com/moment-maker/"+t)},function(e){(0,a.showErrorNotification)({message:TD.i("Error creating Moment")})})},this.after("initialize",function(){this.on(document,"uiCreateMomentAction",this.createMoment)})}var s=i(2),r=i(731),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=i(6);e.exports=(0,s.component)(n)},function(e,t,i){"use strict";function n(){this.after("initialize",function(){this.on(document,"uiRemoveTweetFromCustomTimeline",this.checkData(this.removeTweetFromCustomTimeline)),this.on(document,"uiAddOrMoveTweetToCustomTimeline",this.checkData(this.addOrMoveTweetToCustomTimeline)),this.on(document,"uiNeedsCustomTimeline",this.fetchCustomTimeline),this.on(document,"uiUpdateCustomTimeline",this.updateCustomTimeline),this.on(document,"dataAddOrMoveTweetToCustomTimelineError",function(e,t){var i="duplicate"===t.result.message?"You've already added that Tweet to this collection":"Problem adding or moving Tweet: please try again";(0,r.showErrorNotification)({message:TD.i(i)})}),this.on(document,"dataRemoveTweetToCustomTimelineError",function(){(0,r.showErrorNotification)({message:TD.i("Problem removing Tweet: please try again")})})}),this.removeTweetFromCustomTimeline=function(e,t){(0,o.getClientByAccountKey)(t.account).removeTweetFromCustomTimeline(t.id,t.tweetId,this.callbackFactory("dataRemoveTweetFromCustomTimelineSuccess",t),this.callbackFactory("dataRemoveTweetFromCustomTimelineError",t))},this.addOrMoveTweetToCustomTimeline=function(e,t){(0,o.getClientByAccountKey)(t.account).addOrMoveTweetToCustomTimeline({customTimelineId:t.id,tweetId:t.tweetId,relativeToId:t.relativeToId,above:t.above,actionType:t.actionType},this.callbackFactory("dataAddOrMoveTweetToCustomTimelineSuccess",t),this.callbackFactory("dataAddOrMoveTweetToCustomTimelineError",t))},this.fetchCustomTimeline=function(e,t){(0,o.getClientByAccountKey)(t.account).getCustomTimeline(t.id,this.callbackFactory("dataCustomTimelineSuccess",t),this.callbackFactory("dataCustomTimelineError",t))},this.updateCustomTimeline=function(e,t){function i(e){var i={name:void 0!==t.name?t.name:e.name,description:void 0!==t.description?t.description:e.description,url:void 0!==t.url?t.url:e.url};n.updateCustomTimeline(t.id,i,this.callbackFactory("dataCustomTimelineSuccess",t),this.callbackFactory("dataCustomTimelineUpdateError",t))}var n=(0,o.getClientByAccountKey)(t.account);n.getCustomTimeline(t.id,i.bind(this),this.callbackFactory("dataCustomTimelineUpdateError",t))},this.callbackFactory=function(e,t){return function(i){this.trigger(document,e,{action:t,result:i})}.bind(this)},this.checkData=function(e){return function(t,i){if(!i.id||!i.tweetId||!i.account)throw new Error("data needs id, tweetId, and account");e.apply(this,[].slice.call(arguments))}}}var s=i(2),r=i(6),o=i(22);e.exports=(0,s.component)(n)},function(e,t,i){"use strict";function n(){this.attributes({resources:{watchlists:{resource:"account/1/get_lists",method:"GET",metricsKey:"watchlists"},alerts:{resource:"alerts/1/get_alert",method:"GET",metricsKey:"alerts"}}}),this.after("initialize",function(){this.on(document,"uiNeedsDataminrAuth",this.handleUiNeedsDataminrAuth),this.on(document,"uiNeedsDataminrWatchlists",this.handleUiNeedsDataminrWatchlists),this.on(document,"uiNeedsDataminrAlerts",this.handleUiNeedsDataminrAlerts)}),this.handleUiNeedsDataminrAuth=function(){if(this.dataminrIsEnabled()){var e;e=TD.settings.getDataminrAuthToken()?TD.core.defer.succeed():this.makeDataminrRequestForAuthToken(),e.addCallback(this.trigger.bind(this,"dataDataminrAuthenticated"))}},this.handleUiNeedsDataminrWatchlists=function(){this.dataminrIsEnabled()&&this.makeDataminrRequest(this.attr.resources.watchlists).addCallback(this.getEventDataFromResponse.bind(this)).addCallbacks(this.trigger.bind(this,"dataDataminrWatchlists"),this.trigger.bind(this,"dataDataminrWatchlistsError"))},this.handleUiNeedsDataminrAlerts=function(e,t){if(this.dataminrIsEnabled()){var i=_.defaults(t.params,{pagesize:200});this.makeDataminrRequest(this.attr.resources.alerts,i).addCallback(this.getEventDataFromResponse.bind(this)).addCallbacks(this.handleAlertsSuccess.bind(this,t.success),this.handleAlertsError.bind(this,t.error))}},this.handleAlertsSuccess=function(e,t){if("function"==typeof e)return e(t);this.trigger("dataDataminrAlerts",t)},this.handleAlertsError=function(e,t){if("function"==typeof e)return e(t);this.trigger("dataDataminrAlertsError",t)},this.getEventDataFromResponse=function(e){return e.data},this.dataminrIsEnabled=function(){return TD.decider.get("dataminr")}}var s=i(2).component,r=i(902);e.exports=s(n,r)},function(e,t,i){"use strict";function n(){this.attributes({resources:{delete:{method:"POST",resource:"dm/destroy.json",metricsKey:"status:delete"},read:{method:"POST",resource:"dm/conversation/{{conversationId}}/mark_read.json",metricsKey:"conversation:read-one"},readAll:{method:"POST",resource:"dm/conversation/mark_read.json",metricsKey:"conversation:read-all"},new:{method:"POST",resource:"dm/new.json",metricsKey:"status:new"},addParticipants:{method:"POST",resource:"dm/conversation/{{conversationId}}/add_participants.json",metricsKey:"conversation:add-participants"},deleteConversation:{method:"POST",resource:"dm/conversation/{{conversationId}}/delete.json",metricsKey:"conversation:delete"},updateConversationName:{method:"POST",resource:"dm/conversation/{{conversationId}}/update_name.json",metricsKey:"conversation:rename"},disableNotifications:{method:"POST",resource:"dm/conversation/{{conversationId}}/disable_notifications.json",metricsKey:"conversation:disable_notifications"},enableNotifications:{method:"POST",resource:"dm/conversation/{{conversationId}}/enable_notifications.json",metricsKey:"conversation:enable_notifications"}}}),this.after("initialize",function(){this.on(document,"uiDeleteDm",this.handleDeleteDm),this.on(document,"uiDeleteConversation",this.handleDeleteConversation),this.on(document,"uiMarkDmAsRead",this.handleMarkDmAsRead),this.on(document,"uiMarkAllDmsAsRead",this.handleMarkAllDmsAsRead),this.on(document,"uiSendDm",this.handleSendDm),this.on(document,"uiAddConversationParticipants",this.handleAddConversationParticipants),this.on(document,"uiUpdateConversationName",this.handleUpdateConversationName),this.on(document,"uiConversationsDisableNotifications",this.handleConversationsDisableNotifications),this.on(document,"uiConversationsEnableNotifications",this.handleConversationsEnableNotifications)}),this.handleMarkDmAsRead=function(e,t){var i=this.attr.resources.read;this.trigger("metric",{key:"dm:data:"+i.metricsKey}),(0,s.makeTwitterApiCall)({request:t,method:i.method,resource:o.default.toURLFromRaw(i.resource,t),params:{last_read_event_id:t.lastReadEventId},error:t.error})},this.handleMarkAllDmsAsRead=function(e,t){var i=this.attr.resources.readAll;this.trigger("metric",{key:"dm:data:"+i.metricsKey}),(0,s.makeTwitterApiCall)({request:t,method:i.method,resource:i.resource,params:{last_read_event_id:t.lastReadEventId},error:t.error,success:t.success})},this.handleSendDm=function(e,t){if(!t.files||!t.files.length){var i=this.attr.resources.new,n={text:t.text};if(t.tweetId&&(n.tweet_id=t.tweetId),!t.tweetId&&t.attachmentUrl&&TD.decider.get("compose_quoted_tweet_as_attachment")&&(n.tweet_id=(0,a.extractTweetIdFromPermalink)(t.attachmentUrl)),t.conversationId&&(n.conversation_id=t.conversationId),t.messageRecipientIds&&t.messageRecipientIds.length>0&&(n.recipient_ids=t.messageRecipientIds),!n.conversation_id&&!n.recipient_ids)return void this.trigger("dataDmError",{request:t});this.trigger("metric",{key:"dm:data:"+i.metricsKey}),t.mediaId&&(n.media_id=t.mediaId),(0,s.makeTwitterApiCall)({request:t,resource:i.resource,method:i.method,params:n,success:"dataDmSent",error:"dataDmError",dataProcessor:function(e){return{user_events:e}},processAsStreamData:!0})}},this.handleDeleteDm=function(e,t){var i=this.attr.resources.delete;this.trigger("metric",{key:"dm:data:"+i.metricsKey}),(0,s.makeTwitterApiCall)({request:t,method:i.method,resource:i.resource,params:{dm_id:t.id},success:t.success,error:t.error})},this.handleAddConversationParticipants=function(e,t){var i=this.attr.resources.addParticipants;this.trigger("metric",{key:"dm:data:"+i.metricsKey}),(0,s.makeTwitterApiCall)({request:t,method:i.method,resource:o.default.toHtmlFromRaw(i.resource,t),params:{participant_ids:t.participantIds.join(",")},success:t.success,error:t.error,dataProcessor:function(e){return{participantAdded:{user_events:e}}},processAsStreamData:!0})},this.handleDeleteConversation=function(e,t){var i=this.attr.resources.deleteConversation;this.trigger("metric",{key:"dm:data:"+i.metricsKey}),(0,s.makeTwitterApiCall)({request:t,method:i.method,resource:o.default.toHtmlFromRaw(i.resource,t),success:t.success,error:t.error,dataProcessor:function(e){return{delete:{conversationId:t.conversationId}}},processAsStreamData:!0})},this.handleUpdateConversationName=function(e,t){var i=this.attr.resources.updateConversationName;this.trigger("metric",{key:"dm:data"+i.metricsKey}),(0,s.makeTwitterApiCall)({request:t,method:i.method,resource:o.default.toHtmlFromRaw(i.resource,t),params:{name:t.name},success:t.success,error:t.error,dataProcessor:function(e){return{conversationRenamed:{conversationId:t.conversationId,name:t.name}}},processAsStreamData:!0})},this.handleConversationsDisableNotifications=function(e,t){var i=this.attr.resources.disableNotifications;this.trigger("metric",{key:"dm:data:"+i.metricsKey}),(0,s.makeTwitterApiCall)({request:t,method:i.method,resource:o.default.toHtmlFromRaw(i.resource,t),success:t.success,error:t.error})},this.handleConversationsEnableNotifications=function(e,t){var i=this.attr.resources.enableNotifications;this.trigger("metric",{key:"dm:data:"+i.metricsKey}),(0,s.makeTwitterApiCall)({request:t,method:i.method,resource:o.default.toHtmlFromRaw(i.resource,t),success:t.success,error:t.error})}}var s=i(147),r=i(3),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=i(13),c=i(2).component;e.exports=c(n)},function(e,t,i){"use strict";function n(){this.after("initialize",function(){this.on(document,"uiNeedsDMReport",this.handleDMReport)}),this.handleDMReport=function(e,t){TD.sync.util.assert(t.account,"Source account for report must be specified."),TD.sync.util.assert(t.dmId||t.conversationId,"dmId or conversationId must be specified"),TD.sync.util.assert(_.contains(["spam","abuse"],t.reportType),"reportType must be one of {spam, abuse}");var i=(0,r.getClientByAccount)(t.account),n={dmId:t.dmId,conversationId:t.conversationId,reportType:t.reportType,blockUser:Boolean(t.blockUser)};i.reportDMSpam(n,this.handleSuccessFactory(t).bind(this),this.handleErrorFactory(t))},this.handleSuccessFactory=function(e){return function(){var t=(0,r.getClientByAccount)(e.account);e.dmId?this.handleMessageReportSuccess(t,e):e.conversationId&&this.handleConversationReportSuccess(t,e)}},this.handleMessageReportSuccess=function(e,t){e.destroyDM(t.dmId),e.deleteMessage(t.dmId)},this.handleConversationReportSuccess=function(e,t){e.processDeleteChirpEvent({conversationId:t.conversationId})},this.handleErrorFactory=function(e){return function(t){this.trigger("dMReportError",{error:t||{},request:e})}.bind(this)}}var s=i(2),r=i(22);e.exports=(0,s.component)(n)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({widgetBaseURL:(0,o.default)("https://twitter.com/settings/widgets/new/{type}"),publishBaseURL:(0,o.default)("https://publish.twitter.com/"),collectionURL:(0,o.default)("https://twitter.com/{username}/timelines/{id}")}),this.openEmbedTimeline=function(e,t){var i,n,s,r,o={partner:"tweetdeck"};if(t&&t.column&&t.column.isEmbeddable()){switch(n=t.column.getFeeds()[0],s=n.getMetadata(),t.column.getColumnType()){case c.default.columnMetaTypes.USERTWEETS:i=this.attr.widgetBaseURL.expand({type:"user"}),s.id?o.user_id=s.id:o.user_id=TD.storage.accountController.get(n.getAccountKey()).getUserID();break;case c.default.columnMetaTypes.FAVORITES:i=this.attr.widgetBaseURL.expand({type:"favorites"}),s.id?o.user_id=s.id:o.user_id=TD.storage.accountController.get(n.getAccountKey()).getUserID();break;case c.default.columnMetaTypes.LIST:return i=this.attr.widgetBaseURL.expand({type:"list"}),o.list_id=s.listId,void TD.util.openURL(i,o);case c.default.columnMetaTypes.SEARCH:i=this.attr.widgetBaseURL.expand({type:"search"}),s.baseQuery&&s.searchFilterData?(r=new TD.vo.SearchFilter(s.searchFilterData),o.query=[s.baseQuery,r.getQueryString()].join(" ").trim()):o.query=s.term;break;case c.default.columnMetaTypes.CUSTOMTIMELINE:i=this.attr.publishBaseURL.expand(),o.query=this.attr.collectionURL.expand({username:(0,l.getAccountData)().screenName,id:s.id.replace(/[^\d]*/,"")})}TD.util.openURL(i,o)}},this.after("initialize",function(){this.on(document,"uiEmbedTimelineAction",this.openEmbedTimeline)})}var r=i(2060),o=n(r),a=i(20),c=n(a),l=i(22),u=i(2);e.exports=(0,u.component)(s)},function(e,t,i){"use strict";function n(){this.handleEmbeddedTweetFactory=function(e){return function(t){t.request=e,this.trigger(document,"dataEmbeddedTweet",t)}},this.handleErrorFactory=function(e){return function(){var t={request:e};this.trigger(document,"dataEmbeddedTweetError",t)}},this.getEmbeddedTweet=function(e,t){if(t&&t.tweetID){(0,s.getTwitterClient)().getEmbeddedTweet(t.tweetID,t.hideThread,t.hideMedia,t.maxWidth,this.handleEmbeddedTweetFactory(t).bind(this),this.handleErrorFactory(t).bind(this))}},this.after("initialize",function(){this.on(document,"uiNeedsEmbeddedTweet",this.getEmbeddedTweet)})}var s=i(22),r=i(2).component;e.exports=r(n)},function(e,t,i){"use strict";function n(){this.after("initialize",function(){this.on("uiNeedsFavoriteState",this.getFavoriteState),this.on("uiFavoriteTweet",this.handleFavoriteTweet),this.on("uiUnfavoriteTweet",this.handleUnfavoriteTweet)}),this.handleErrorFactory=function(e,t){return function(i){this.trigger(document,t,{request:e,error:i})}.bind(this)},this.handleFavoriteState=function(e){this.trigger("dataFavoriteState",{tweetId:e.id,isFavorite:e.isFavorite,accountKey:e.account.getKey()})},this.handleFavoriteTweet=function(e,t){(0,r.getClientByAccountKey)(t.accountKey).favorite(t.tweetId,this.handleFavoriteSuccessFactory(t,!0),this.handleErrorFactory(t,"dataFavoriteError"))},this.handleUnfavoriteTweet=function(e,t){(0,r.getClientByAccountKey)(t.accountKey).unfavorite(t.tweetId,this.handleFavoriteSuccessFactory(t,!1),this.handleErrorFactory(t,"dataFavoriteError"))},this.handleFavoriteSuccessFactory=function(e,t){return function(){this.trigger("dataFavoriteState",{tweetId:e.tweetId,accountKey:e.accountKey,isFavorite:t})}.bind(this)},this.getFavoriteState=function(e,t){(0,r.getClientByAccountKey)(t.accountKey).show(t.tweetId,this.handleFavoriteState.bind(this),this.handleErrorFactory(t,"dataFavoriteStateError").bind(this))}}var s=i(2),r=i(22);e.exports=(0,s.component)(n)},function(e,t,i){"use strict";var n=i(6),s=i(2).component,r=i(1038);e.exports=s(function(){this.after("initialize",function(){this.on(document,"dataAccountsRewriteColumns",function(e,t){var i=this.rewriteFeeds(t.sourceAccountKey,t.targetAccountKey);(0,n.showNotification)({message:this.getRewriteResultMessage(i)})})}),this.rewriteFeeds=r,this.getRewriteResultMessage=function(e){var t={kept:e.newFeeds.length,lost:e.lostFeeds.length,total:e.initialCount},i=TD.i("Kept {{kept}} columns.",t);1===t.kept&&(i=TD.i("Kept 1 column."));var n=TD.i("{{lost}} columns could not be kept.",t);return 1===t.lost&&(n=TD.i("1 column could not be kept.")),0===t.lost?n="":i=TD.i("Kept {{kept}} out of {{total}} columns.",t),(i+" "+n).trim()}})},function(e,t,i){"use strict";function n(){this.attributes({refreshPauseTime:3e5}),this.after("initialize",function(){this.observe(this.requestResource("version")).filter(this.shouldRefresh,this).subscribe(this.refresh)}),this.shouldRefresh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isAboveLatest,i=void 0!==t&&t,n=e.isBelowMinimum,s=void 0!==n&&n,r=TD.storage.store.getLastVersionRefreshTimestamp();if(Date.now()-r<this.attr.refreshPauseTime)return!1;var o=i&&TD.decider.get("version_poll_force_downgrade"),a=s&&TD.decider.get("version_poll_force_upgrade");return o&&TD.util.metric("version:force-downgrade"),a&&TD.util.metric("version:force-upgrade"),o||a},this.refresh=function(){TD.util.metric("version:force-refresh"),TD.storage.store.setLastVersionRefreshTimestamp(Date.now()),window.location.reload()}}var s=i(7),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(89);e.exports=o.mixin(n,r.default)},function(e,t,i){"use strict";var n=i(2).component,s=function(){this.getLists=function(e){var t=TD.cache.lists.getAll();this.trigger(document,"dataSubscribedLists",{lists:t})},this.after("initialize",function(){this.on(document,"uiNeedsSubscribedLists",this.getLists)})};e.exports=n(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.after("initialize",function(){this.on(document,"uiLogout",this.logout),this.on(document,"uiLogin",this.login),this.on(document,"uiReload",this.handleReload)}),this.logout=function(e){this.wipeStorage(),this.redirect(d.getLogoutUrl())},this.login=function(e,t){t=t||{};var i=t.id,n=(0,u.getTwitterLoginAccount)(),s=(0,u.getAccountFromId)(i)||{},r=d.getLoginUrl({usernameOrEmail:s.screenName}),o=TD.util.getTwitterCookieUserId(),a=n&&n.userId;return n?n.isCookieUser?(i!==a&&this.wipeStorage(),void(o?i!==o?this.logout():i===o&&(i===a||this.reload()):this.redirect(r))):this.logout():this.redirect(r)},this.handleReload=function(e,t){var i=(0,o.default)(t,"params",{}),n=(0,c.default)(window.location.href).addQuery(i).href();if(n!==window.location.href)return this.redirect(n);this.reload()},this.wipeStorage=function(){TD.storage.Store.flushWebstorage()},this.teardownNativeApi=function(){TD.util.isWrapperApp()&&deck.tearDown()},this.redirect=function(e){this.teardownNativeApi(),window.location.href=e},this.reload=function(){this.teardownNativeApi(),window.location.reload()}}var r=i(17),o=n(r),a=i(55),c=n(a),l=i(2),u=i(90),d=i(473);e.exports=(0,l.component)(s)},function(e,t,i){"use strict";function n(){this.after("initialize",function(){this.on(document,"uiHidingMessageBanner",this.dismissMessage),this.on(document,"dataMessages",this.handleMessages)}),this.handleMessages=function(e,t){var i=t.messages;i&&(i=i.filter(this.satisfiesPlatformRequirements,this),i=i.filter(this.satisfiesVersionRequirements,this),i=i.filter(this.hasNotBeenDismissed,this),i.length&&this.trigger("dataMessage",i[0]))},this.dismissMessage=function(e,t){this.updateIdsForSeenMessages(),this.idsForSeenMessages.push(t.id),TD.settings.setIdsForSeenMessages(this.idsForSeenMessages)},this.satisfiesPlatformRequirements=function(e){if(e.target&&e.target.platform){var t=TD.util.getAppEnv();return _.include(e.target.platform,t)}return!0},this.satisfiesVersionRequirements=function(e){return!e.target||!e.target.version||(0,r.appSatisfiesVersionRequirements)(e.target.version)},this.hasNotBeenDismissed=function(e){if(e.message){this.updateIdsForSeenMessages();return this.idsForSeenMessages.every(function(t){return e.message.id!==t})}return!1},this.updateIdsForSeenMessages=function(){var e=TD.settings.getIdsForSeenMessages();this.idsForSeenMessages=_.union(this.idsForSeenMessages,e)}}var s=i(2),r=i(1043);e.exports=(0,s.component)(n)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.after("initialize",function(){this.provideResource("advanced_filters",d.default),this.provideResource("account.settings",p.default)})}var r=i(2),o=i(19),a=n(o),c=i(85),l=n(c),u=i(827),d=n(u),h=i(826),p=n(h);e.exports=(0,r.component)(s,a.default,l.default)},function(e,t,i){"use strict";function n(){this.send=function(e){this.trigger(document,"dataPreferredAccount",{account:e})},this.getPreferredTwitterAccount=function(){this.ready&&this.send(TD.storage.accountController.getPreferredAccount("twitter"))},this.tdReady=function(){this.ready=!0,this.getPreferredTwitterAccount(),this.off(document,"TD.ready",this.tdReady)},this.after("initialize",function(){this.on(document,"uiNeedsPreferredAccount",this.getPreferredTwitterAccount),this.on(document,"TD.ready",this.tdReady),$.subscribe("/storage/account/new",this.getPreferredTwitterAccount.bind(this)),$.subscribe("/storage/client/default_account_changed",this.getPreferredTwitterAccount.bind(this))})}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";var n=i(2).component,s=function(){this.saveRecentSearch=function(e,t){TD.storage.clientController.client.addRecentSearch(t.query)},this.getRecentSearches=function(e){var t={recentSearches:TD.storage.clientController.client.getRecentSearches()};this.trigger("dataRecentSearches",t)},this.clearRecentSearches=function(e){TD.storage.clientController.client.clearRecentSearches()},this.removeRecentSearch=function(e,t){TD.storage.clientController.client.removeRecentSearch(t.query)},this.after("initialize",function(){this.on(document,"uiSearch uiSearchNoTemporaryColumn",this.saveRecentSearch),this.on(document,"uiRecentSearchClearAction",this.clearRecentSearches),this.on(document,"uiRecentSearchClearItem",this.removeRecentSearch),this.on(document,"uiNeedsRecentSearches",this.getRecentSearches)})};e.exports=n(s)},function(e,t,i){"use strict";function n(){this.handleRelationship=function(e){this.trigger(document,"dataRelationship",e)},this.handleError=function(e){return function(){this.trigger(document,"dataRelationshipError",e)}},this.getRelationship=function(e,t){if(t&&t.account&&t.screenName){(0,r.getClientByAccount)(t.account).showFriendship(t.account.getUserID(),null,t.screenName,this.handleRelationship.bind(this),this.handleError(t).bind(this))}},this.after("initialize",function(){this.on(document,"uiNeedsRelationship",this.getRelationship)})}var s=i(2),r=i(22);e.exports=(0,s.component)(n)},function(e,t,i){"use strict";function n(){this.after("initialize",function(){this.initialHref=window.location.href,this.initialUrlHash=window.location.hash,this.on(document,"TD.ready",this.handleTDReady)}),this.handleTDReady=function(){this.processQueryParams(this.initialHref),this.maybeShowWelcomeModal(),this.processUrlHash(this.initialUrlHash),this.cleanUrl()},this.maybeShowWelcomeModal=function(){TD.components.NewFeaturesSplash.shouldShow()&&new TD.components.NewFeaturesSplash},this.processQueryParams=function(e){if(e){var t=r(e).search(!0),i=[].concat(t.add_by_url||[]);i&&i.length&&TD.decider.get("add_column_by_url_query_param")&&this.trigger(document,"uiAddColumnsByUrl",{urls:i}),this.trigger("dataQueryParams",{params:t})}},this.processUrlHash=function(e){if(e){var t=TD.util.extractTweetDeckSharedColumnFromFragment(e);t&&this.trigger("uiShowImportColumnDialog",{columnState:t})}},this.cleanUrl=function(){window.history&&"function"==typeof window.history.replaceState?history.replaceState({},"",window.location.pathname):window.location.hash=""}}var s=i(2).component,r=i(55);e.exports=s(n)},function(e,t,i){"use strict";function n(){this.attributes({resources:{tweet:{method:"POST",url:"schedule/status/tweet.json",metricsKey:"status:tweet"},delete:{method:"DELETE",url:"schedule/status/{{id}}.json",metricsKey:"status:delete"},dismiss:{method:"POST",url:"schedule/status/dismiss/{{id}}.json",metricsKey:"status:dismiss"},edit:{method:"PUT",url:"schedule/status/{{id}}.json",metricsKey:"status:edit"}}}),this.after("initialize",function(){this.on(document,"uiSendScheduledTweets",this.handleSendScheduleTweets),this.on(document,"uiDeleteScheduledTweetGroup",this.handleDeleteScheduledTweets),this.on(document,"uiEditScheduledTweetGroup",this.handleEditScheduleTweets)}),this.handleSendScheduleTweets=function(e,t){if(t&&t.requests){t.metadata=t.metadata||{};var i=t.requests,n=i.filter(function(e){return this.shouldSchedule(e.type)},this),s=[],r=[],o=t.metadata.originalUpdates||[];if(n.length||o.length){this.trigger("metric",{key:"scheduler:ui:send"});var a=n.map(function(e){return e.accountKey});this.trigger("metric",{key:"scheduler:data:selected-accounts-to-nearest-hundred:"+~~(100*Math.round(a.length/100))}),this.trigger("metric",{type:"metric",key:"scheduler:data:selected-accounts",value:[a.length]}),t.tokenToDelete&&(o=[]),o.forEach(function(e,t){var i=a.indexOf(e.account.getKey());if(i<0)return r.push(e);var o=n.splice(i,1)[0];o.id=e.id,s.push(o)});var c=TD.core.defer.succeed();a.length>200&&(this.trigger("metric",{key:"scheduler:data:force-failure"}),c.addCallback(function(){throw new Error(TD.i("Failed to schedule tweets."))})),c.addCallbackWith(this,function(){return TD.core.defer.gatherResults(n.map(this.waitForUploads,this))}),c.addCallbackWith(this,function(e){var t=TD.core.defer.gatherResults(s.map(this.waitForUploads,this));return t.addCallbackWith(this,function(t){return{toCreate:e,toEdit:t}}),t}),c.addErrbackWith(this,function(e){return i.forEach(function(t){this.trigger("dataTweetError",{request:t,response:e})},this),e}),c.addCallbackWith(this,function(e){var t=[].concat(e.toCreate.map(this.makeApiCallToResource.bind(this,this.attr.resources.tweet)),e.toEdit.map(this.makeApiCallToResource.bind(this,this.attr.resources.edit)));return TD.core.defer.gatherResults(t)}),c.addCallbackWith(this,function(e){return TD.core.defer.gatherResults(r.map(function(e){return this.deleteScheduledTweet({id:e.id,token:e.token,accountKey:e.account.getKey()})},this))}),c.addBothWith(this,this.addOrRefreshScheduledColumn)}}},this.handleDeleteScheduledTweets=function(e,t){if(!this.isVisibilityOff()){this.trigger("metric",{key:"scheduler:ui:delete"}),TD.controller.stats.deleteScheduledTweet();new TD.core.defer.DeferredList(t.scheduledTweetGroup.updates.map(function(e){return this.deleteScheduledTweet({id:e.id,token:e.token,state:e.state,accountKey:e.account.getKey()})},this)).addBoth(this.refreshScheduledColumn.bind(this))}},this.handleEditScheduleTweets=function(e,t){if(this.isWriteOff())return alert(TD.i("Sorry – editing scheduled tweets is currently unavailable."));this.trigger("metric",{key:"scheduler:ui:edit"}),TD.controller.stats.editScheduledTweet();var i=t.scheduledTweetGroup;this.trigger("uiComposeTweet",{type:i.inReplyToStatusId?"reply":"tweet",popFromInline:!0,schedule:{time:i.time},text:i.text,from:i.updates.map(function(e){return e.account.getKey()}),autoPopulateReplyMetadata:Boolean(i.autoPopulateReplyMetadata),inReplyTo:i.inReplyToStatus,mentions:i.inReplyToStatus?i.inReplyToStatus.getReplyUsers():[],excludedRecipientsIds:i.excludedRecipientIds,metadata:{originalUpdates:i.updates}})},this.makeApiCallToResource=function(e,t){this.trigger("metric",{key:"scheduler:data:"+e.metricsKey});var i={status:t.text,execute_at:Math.round(t.scheduledDate.getTime()/1e3)};return t.inReplyToStatusId&&(i.in_reply_to_status_id=t.inReplyToStatusId),t.autoPopulateReplyMetadata&&(i.auto_populate_reply_metadata=t.autoPopulateReplyMetadata),t.autoPopulateReplyMetadata&&t.excludeReplyUserIds&&(i.exclude_reply_user_ids=t.excludeReplyUserIds.toString()||"0"),t.mediaId&&(i.media_ids=t.mediaId),t.attachmentUrl&&TD.decider.get("compose_quoted_tweet_as_attachment")&&(i.attachment_url=t.attachmentUrl),(0,s.makeTwitterApiCall)({resource:c.toURLFromRaw(e.url,t),method:e.method,request:t,params:i,success:"dataTweetSent",error:"dataTweetError"})},this.deleteScheduledTweet=function(e){var t=this.attr.resources["failed"===e.state?"dismiss":"delete"];this.trigger("metric",{key:"scheduler:data:"+t.metricsKey});var i=(0,s.makeTwitterApiCall)({resource:c.toURLFromRaw(t.url,{id:e.id}),request:e,method:t.method});return i.addCallback(function(){TD.controller.feedManager.deleteChirp(e.token)}),i.addErrbackWith(this,function(e){return(0,r.showErrorNotification)({message:TD.i("Failed to delete scheduled tweet.")}),e}),i},this.waitForUploads=function(e){if(!e.files||!e.files.length)return TD.core.defer.succeed(e);var t=e.mediaIds;return t.addCallbackWith(this,function(t){return delete e.file,delete e.files,e.mediaId=t.map(o.last).join(","),e}),t},this.refreshScheduledColumn=function(e){this.trigger("uiNeedsScheduledColumnVisible",e||{})},this.handleDeciderChange=function(){this.refreshScheduledColumn()},this.addOrRefreshScheduledColumn=function(){this.refreshScheduledColumn({allowAdd:!0})},this.isWriteOff=function(){return!TD.decider.hasAccessLevel("scheduler","WRITE")},this.isVisibilityOff=function(){return!TD.decider.hasAccessLevel("scheduler","READ_VISIBLE")},this.shouldSchedule=function(e){var t=!this.isWriteOff();return{message:!1,tweet:t,reply:t}[e]}}var s=i(147),r=i(6),o=i(54),a=i(2).component,c=i(3);e.exports=a(n)},function(e,t,i){"use strict";function n(){this.after("initialize",function(){this.on(document,"uiNeedsSchemaValidation",function(e,t){if(t.schemaName&&(t.schema=this.getValidationSchema(t.schemaName)),!t.schema)throw new Error("Missing validation schema",t);this.validate(t)}),this.validate=function(e){var t=o.validate(e.schema,e.data,{checkRequired:!0,useDefault:!0,removeAdditional:!0});this.trigger("dataSchemaValidation",{schema:e.schema,data:e.data,isValid:!t,validationError:t})}})}var s=i(2).component,r=i(903),o=i(428)();e.exports=s(n,r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({typedFilterRegex:/OR|".*\s.*"|(^|\s)-\w|\w:\w/,aggregationPeriod:18e5,searchInitiatedScribeQuery:"deck:main::search_box:*:search",engagementScribeQueries:["deck:column:twitter:search:favorite:click","deck:column:twitter:search:reply:click","deck:column:twitter:search:retweet:click","deck:column:twitter:search:tweet_to_user:click","deck:column:twitter:search:send_a_dm_to_user:click","deck:column:twitter:search:add_or_remove_from_lists:click","deck:column:twitter:search:follow_or_unfollow_from_accounts:click","deck:column:twitter:search:like_or_unlike_from_accounts:click","deck:column:twitter:search:follow:click","deck:column:twitter:search:link_to_this_tweet:click","deck:column:twitter:search:share_via_dm:click","deck:column:twitter:search:share_via_email:click","deck:column:twitter:search:add_to_collection:click","deck:column:twitter:search:embed_this_tweet:click","deck:column:twitter:search:permalink:click"]}),this.initialState({isRecording:!1,engagementCount:0,usesTypedFilters:!1,usesUIFilters:!1}),this.after("initialize",function(){var e=this,t=(0,o.default)(this.recordResult.bind(this),this.attr.aggregationPeriod,{leading:!1,trailing:!0});this.on(document,"dataSearchPoll",this.handleSearchPoll),this.on(document,"scribing",function(i,n){(0,l.scribeTermsMatch)(n.terms,e.attr.searchInitiatedScribeQuery)&&(e.startRecording(),t())}),this.on(document,"scribing",function(t,i){if(e.state.isRecording){e.attr.engagementScribeQueries.some(l.scribeTermsMatch.bind(null,i.terms))&&e.incrementCounter()}})}),this.startRecording=function(){this.mergeState({isRecording:!0})},this.stopRecording=function(){this.mergeState({isRecording:!1})},this.resetCounter=function(){this.mergeState({engagementCount:0})},this.incrementCounter=function(){this.mergeState({engagementCount:this.state.engagementCount+1})},this.handleSearchPoll=function(e,t){var i=t.baseQuery,n=t.uiQuery;this.mergeState({usesTypedFilters:this.state.usesTypedFilters||this.attr.typedFilterRegex.test(i),usesUIFilters:this.state.usesUIFilters||Boolean(n)})},this.recordResult=function(){var e=this.state.engagementCount;this.resetCounter(),this.stopRecording(),TD.decider.get("track_search_engagement")&&this.trigger("metric",{type:"metric",key:["search","engagements",this.state.usesUIFilters?"filter-ui":"basic",this.state.usesTypedFilters?"filter-typed":"basic"].join(":"),value:[e]})}}var r=i(383),o=n(r),a=i(89),c=n(a),l=i(290);e.exports=c.default.mixin(s)},function(e,t,i){"use strict";function n(){this.attributes({needsSecureUrlSelector:".js-needs-secure-url",needsSecureUrlClass:"js-needs-secure-url",orignalUrlAttribute:"data-original-url",cacheSize:200,cacheExpiryMinutes:15}),this.after("initialize",function(){this.on(document,"uiNeedsSecureImageUrl",this.queueSignedImage),this.signedUrlCache=new r(this.attr.cacheSize),this.imageQueue=[],this.debouncedProcessQueue=_.debounce(this.processQueue,100)}),this.queueSignedImage=function(e,t){this.imageQueue.push({event:e,data:t}),this.debouncedProcessQueue()},this.processQueue=function(){var e=this.$node.find(this.attr.needsSecureUrlSelector);this.imageQueue.forEach(function(t){this.findAndSignImage(e,t.event,t.data)}.bind(this)),this.imageQueue=[]},this.findAndSignImage=function(e,t,i){var n=TD.storage.accountController.get(i.accountKey);this.getSignedImage(n,i.url).addCallbackWith(this,function(t){var n=this.attr.orignalUrlAttribute,s=this.attr.needsSecureUrlClass;e.each(function(){var e=$(this);if(e.attr(n)===i.url){var r=e.find("img");r.length?r.attr("src",t.data.url):e.css({"background-image":"url("+t.data.url+")"}),e.removeClass(s).attr(n,"")}})})},this.getSignedImage=function(e,t){return TD.core.defer.succeed({data:{url:t}})}}var s=i(2).component,r=i(170);e.exports=s(n)},function(e,t,i){"use strict";function n(){this.after("initialize",function(){this.on(document,"dataSettingsValues",this.handleDataSettingsValues),this.on(document,"uiNeedsSettings",this.handleUiNeedsSettings),this.on(document,"uiToggleTheme",this.toggleTheme),this.on(document,"uiNavbarWidthChangeAction",this.handleNavbarWidthChange),this.provideResource("settings.state",this.observableState)}),this.handleDataSettingsValues=function(e,t){this.mergeState(t)},this.handleUiNeedsSettings=function(){this.settings={theme:TD.settings.getTheme(),navbarWidth:TD.settings.getNavbarWidth()},this.trigger(document,"dataSettings",this.settings)},this.toggleTheme=function(){var e="light"===this.settings.theme?"dark":"light";TD.settings.setTheme(e),this.settings.theme=e,this.trigger(document,"dataSettings",this.settings)},this.handleNavbarWidthChange=function(e,t){TD.settings.setNavbarWidth(t.navbarWidth),this.settings.navbarWidth=t.navbarWidth,this.trigger(document,"dataSettings",this.settings)}}var s=i(85),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component,a=i(19);e.exports=o(a,r.default,n)},function(e,t,i){"use strict";var n=i(2).component,s=i(477),r=s.store,o=function(){function e(e){var t;try{t=r.getJSON(e)}catch(t){return void TD.sync.util.stateLog("Error parsing JSON for storage key",e)}this.trigger(document,"dataStorageItem",{name:e,value:t})}this.get=function(t,i){i.names&&i.names.forEach(e.bind(this)),i.name&&e.call(this,i.name)},this.set=function(e,t){for(var i in t)if(t.hasOwnProperty(i))try{r.setJSON(i,t[i])}catch(e){e.code===DOMException.QUOTA_EXCEEDED_ERR?this.trigger(document,"dataStorageFull",{name:i,value:t[i]}):this.trigger(document,"dataStorageSetError",{name:i,value:t[i]})}},this.after("initialize",function(){this.on("dataStorageSet",this.set),this.on("dataStorageGet",this.get)})};e.exports=n(o)},function(e,t,i){"use strict";var n=i(2).component,s=function(){this.attributes({updatePeriod:500,aggregationPeriod:1e4}),this.updateStreamCount=function(e,t){this.streamCounter.incrementCounter(t.numStreamItems)},this.after("initialize",function(){this.on(document,"dataReceivedStreamData",this.updateStreamCount),this.streamCounter=new TD.util.TpmCounter(this.attr.updatePeriod,this.attr.aggregationPeriod,"dataStreamRate")})};e.exports=n(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({streamImpressionScribeQuery:"deck:*:*:stream:*:results"}),this.initialState({jsExecutionTime:Date.now(),interactiveTime:0,firstTweetTime:0,isUsingGraphQL:!1}),this.after("initialize",function(){var e=this;this.on(document,"dataUsingGraphQL",function(t,i){e.mergeState({isUsingGraphQL:i.isUsingGraphQL})}),this.observe(this.getInteractiveObservable()).subscribe(function(){e.mergeState({interactiveTime:Date.now()})}),this.observe(this.getFirstTweetObservable()).subscribe(function(){e.mergeState({firstTweetTime:Date.now()})}),this.observableState.map(this.stateToResult).filter(this.resultLooksOk).do(this.triggerResult.bind(this)).subscribe(this.done.bind(this))}),this.getInteractiveObservable=function(){return c.default.Observable.fromEvent($(document),"TD.ready").first()},this.getFirstTweetObservable=function(){return c.default.Observable.fromEvent($(document),"scribing",function(e,t){return t}).pluck("terms").filter(v.scribeQueryMatch.bind(null,this.attr.streamImpressionScribeQuery)).first()},this.stateToResult=function(e){return{timeToInteractive:e.interactiveTime-e.jsExecutionTime,timeToFirstTweet:e.firstTweetTime-e.jsExecutionTime}},this.resultLooksOk=function(e){return e.timeToInteractive>0&&e.timeToFirstTweet>0},this.triggerResult=function(e){var t=this.state.isUsingGraphQL?"graphql":"non-graphql";g.default.metric("time-to-interactive",[e.timeToInteractive],"metric"),g.default.metric("time-to-interactive:"+t,[e.timeToInteractive],"metric"),g.default.metric("time-to-first-tweet",[e.timeToFirstTweet],"metric"),g.default.metric("time-to-first-tweet:"+t,[e.timeToFirstTweet],"metric")},this.done=function(){(0,o.default)(this.teardown.bind(this))}}var r=i(162),o=n(r),a=i(18),c=n(a),l=i(89),u=n(l),d=i(7),h=n(d),p=i(85),f=n(p),m=i(13),g=n(m),v=i(290);e.exports=u.default.mixin(h.default,f.default,s)},function(e,t,i){"use strict";var n=i(2).component,s=function(){this.attributes({isTouchComposeClass:"is-touch-compose",isTouchSearchClass:"is-touch-search",isTouchTweetContainer:"is-touch-tweet-container",withTouchFontSizeClass:"with-touch-font-size"}),this.handleUpdateCompose=function(){TD.util.isTouchDevice()&&TD.decider.get("touchdeck_compose_v2")?$(".js-docked-compose").addClass(this.attr.isTouchComposeClass):$(".js-docked-compose").removeClass(this.attr.isTouchComposeClass)},this.handleUpdateFontSize=function(){TD.util.isTouchDevice()&&TD.decider.get("touchdeck_font_size_v2")?$("html").addClass(this.attr.withTouchFontSizeClass):$("html").removeClass(this.attr.withTouchFontSizeClass)},this.handleUpdateSearch=function(){TD.util.isTouchDevice()&&TD.decider.get("touchdeck_search_v2")?$(".js-search").addClass(this.attr.isTouchSearchClass):$(".js-search").removeClass(this.attr.isTouchSearchClass)},this.handleUpdateTweetControls=function(){TD.util.isTouchDevice()&&TD.decider.get("touchdeck_tweet_controls_v3")?$(".js-chirp-container").addClass(this.attr.isTouchTweetContainer):$(".js-chirp-container").removeClass(this.attr.isTouchTweetContainer)},this.after("initialize",function(){this.on(document,"dataDeciderUpdated",this.handleUpdateCompose),this.on(document,"dataDeciderUpdated",this.handleUpdateFontSize),this.on(document,"dataDeciderUpdated",this.handleUpdateSearch),this.on(document,"dataDeciderUpdated",this.handleUpdateTweetControls)})};e.exports=n(s)},function(e,t,i){"use strict";function n(){this.attributes({resources:{show:{method:"GET",url:"statuses/show/:id.json"},destroy:{method:"POST",url:"statuses/destroy/:id.json"},message:{method:"POST",url:"direct_messages/new.json"},reply:{method:"POST",url:"statuses/update.json"},tweet:{method:"POST",url:"statuses/update.json"},retweet:{method:"POST",url:"statuses/retweet/:id.json"}}}),this.after("initialize",function(){this.on(document,"uiSendTweet",this.handleSendTweet),this.on(document,"uiRetweet",this.handleRetweet),this.on(document,"uiUndoRetweet",this.handleUndoRetweet)}),this.getTweet=function(e){var t,i=new TD.core.defer.Deferred;try{t=this.attr.resources.show,(0,o.makeTwitterApiCall)({request:{accountKey:e.accountKey},params:e.params,resource:t.url.replace(":id",e.id),method:t.method,success:function(e){i.callback(e)},error:function(e){i.errback(e)}})}catch(t){i.errback({request:e})}return i},this.sendTweet=function(e){var t,i,n;try{switch(t=this.attr.resources[e.type],e.type){case"message":var s=e.messageRecipients&&e.messageRecipients[0]&&e.messageRecipients[0].id;i={text:e.text,user_id:s},n=function(e){return{direct_message:e}};break;case"reply":i={status:e.text,in_reply_to_status_id:e.inReplyToStatusId,auto_populate_reply_metadata:!!e.autoPopulateReplyMetadata,batch_mode:(0,r.default)(e,"batchMode","off")},e.autoPopulateReplyMetadata&&e.excludeReplyUserIds&&(i.exclude_reply_user_ids=e.excludeReplyUserIds.toString());break;case"tweet":i={status:e.text}}var a="message"===e.type?"media_id":"media_ids";e.mediaId&&(i[a]=e.mediaId),e.attachmentUrl&&TD.decider.get("compose_quoted_tweet_as_attachment")&&(i.attachment_url=e.attachmentUrl),(0,o.makeTwitterApiCall)({request:e,resource:t.url,method:t.method,params:i,success:"dataTweetSent",error:"dataTweetError",dataProcessor:n,processAsStreamData:!0})}catch(t){this.trigger("dataTweetError",{request:e})}},this.sendRetweet=function(e,t){var i;try{i=this.attr.resources.retweet,(0,o.makeTwitterApiCall)({request:{accountKey:e},resource:i.url.replace(":id",t.id),method:i.method,success:"dataRetweetSuccess",error:"dataRetweetError",processAsStreamData:!0})}catch(e){this.trigger("dataRetweetError",{request:t})}},this.handleRetweet=function(e,t){t.from.forEach(function(e){this.sendRetweet(e,t)}.bind(this))},this.handleUndoRetweet=function(e,t){var i=t.tweetId,n=t.from,s=this.getTweet({id:i,accountKey:n,params:{include_my_retweet:!0}});s.addCallback(function(e){return e.response.current_user_retweet?this.destroyTweet({accountKey:n,tweetId:e.response.current_user_retweet.id_str}):TD.core.defer.succeed()}.bind(this)),s.addCallbacks(function(){$(document).trigger("dataUndoRetweetSuccess",{tweetId:i,from:n})},function(){$(document).trigger("dataUndoRetweetError",{tweetId:i,from:n})})},this.destroyTweet=function(e){var t,i=new TD.core.defer.Deferred;try{t=this.attr.resources.destroy,(0,o.makeTwitterApiCall)({request:{accountKey:e.accountKey},resource:t.url.replace(":id",e.tweetId),method:t.method,success:function(e){i.callback(e)},error:function(e){i.errback(e)}})}catch(t){i.errback({request:e})}return i},this.handleSendTweet=function(e,t){t.files&&t.files.length||this.sendTweet(t)}}var s=i(17),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(147),a=i(2).component;e.exports=a(n)},function(e,t,i){"use strict";function n(){this.after("initialize",function(){this.on(document,"uiSendDm",this.handleSendTweet),this.on(document,"uiSendTweet",this.handleSendTweet)}),this.responseFactory=function(e,t){return function(i){this.trigger(e,{response:i,request:t})}.bind(this)},this.handleSendTweet=function(e,t){var i=this;if(t.files&&t.files.length){var n=this.responseFactory("dataTweetError",t);t.mediaIds.addCallbacks(function(s){var r=!1,o=!1;delete t.file,delete t.files,delete t.mediaIds,t.mediaId=s.map(function(e){return e[0]||(r=!0),e[0]&&void 0===e[1]&&(o=!0),e[1]}).join(","),r?n({errors:[{message:TD.i("We could not upload all images, please try again.")}]}):o||i.trigger(document,e,t)},n)}},this.isTweetSchedulerOn=function(){return TD.decider.hasAccessLevel("scheduler","WRITE")},this.shouldSchedule=function(e){var t=this.isTweetSchedulerOn();return{message:!0,tweet:!t,reply:!t}[e]}}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.after("initialize",function(){this.on("ddgImpression",this.handleImpression),this.provideResource("/1.1/help/settings.json",(0,o.default)())}),this.handleImpression=function(e,t){TD.controller.stats.experimentImpression(t.name,t.bucket)}}var r=i(63),o=n(r),a=i(2),c=i(19),l=n(c);e.exports=(0,a.component)(l.default,s)},function(e,t,i){"use strict";function n(){this.getTwitterUser=function(e,t){var i;t&&(i=t.id?TD.cache.twitterUsers.getById(t.id):TD.cache.twitterUsers.getByScreenName(t.screenName),i.addCallbacks(this.handleTwitterUser,this.errorHandlerFactory(t.screenName),null,null,this,this))},this.errorHandlerFactory=function(e){return function(t){var i=t.req.errors,n=TD.i("Sorry, we couldn't retrieve user @{{1}}",{1:e}),r=!1;i&&i.forEach(function(e){63===e.twitterErrorCode?r=!0:e.message&&(n+=" - "+e.message)}),r||(0,s.showErrorNotification)({message:n}),this.trigger("dataTwitterUserError",{screenName:e})}.bind(this)},this.handleTwitterUser=function(e){e&&e.account&&this.trigger(document,"dataTwitterUser",e)},this.after("initialize",function(){this.on(document,"uiNeedsTwitterUser",this.getTwitterUser)})}var s=i(6),r=i(2).component;e.exports=r(n)},function(e,t,i){"use strict";var n=i(22),s=i(2).component,r=function(){this.handleTwitterUsersFactory=function(e){return function(t){this.trigger("dataTwitterUsers",{requestId:e,users:t})}.bind(this)},this.handleTwitterUsersErrorFactory=function(e){return function(){this.trigger("dataTwitterUsersError",{requestId:e})}.bind(this)},this.getTwitterUsers=function(e,t){this.twitterClient=this.twitterClient||(0,n.getTwitterClient)(),this.twitterClient.getUsersByIds(t.userIds,this.handleTwitterUsersFactory(t.requestId),this.handleTwitterUsersErrorFactory(t.requestId))},this.after("initialize",function(){this.on("uiNeedsTwitterUsers",this.getTwitterUsers)})};e.exports=s(r)},function(e,t,i){"use strict";function n(){this.attributes({count:5,limits:{default:5,lists:2},timing:{default:150,search:150,compose:300},dataSourceToClient:{locations:f}}),this.after("initialize",function(){this.currentRequest={},this.datasources={},this.suggestions={},this.userPrefetchComplete=!1,this.getRemoteSuggestionsByType=_.reduce(this.attr.timing,function(e,t,i){return e[i]=_.throttle(this._getRemoteSuggestions.bind(this),t,{leading:!1}),e},{},this),this.on("uiNeedsTypeaheadSuggestions",this.getSuggestions),this.on("uiRecentSearchClearAction",this.updateSuggestions),this.on("uiRecentSearchClearItem",this.updateSuggestions),this.on("dataTypeaheadQueryReset",this.queryReset),this.on("dataTypeaheadUserPrefetchComplete",this.handleUserPrefetchComplete)}),this.handleUserPrefetchComplete=function(){this.userPrefetchComplete=!0},this.getLimit=function(e){return this.currentRequest.limits[e]||this.currentRequest.limits.default},this.sendSuggestions=function(e){this.trigger("dataTypeaheadSuggestions",{query:this.currentRequest.query,suggestions:e||this.dedupeSuggestions(this.suggestions),datasources:this.currentRequest.datasources,dropdownId:this.currentRequest.dropdownId})},this.dedupeSuggestions=function(e){var t={};return e=_.clone(e),e.recentSearches=this.dedupeArray(e.recentSearches,null,t),e.savedSearches=this.dedupeArray(e.savedSearches,"query",t),e.topics=this.dedupeArray(e.topics,"topic",t),e},this.dedupeArray=function(e,t,i){return e&&0!==e.length?_.filter(e,function(e){var n=t?e[t]:e,s=n.toLowerCase(),r=!i[s];return i[s]=!0,r}):e},this.processTypeaheadData=function(e,t){t.query===this.currentRequest.query&&(t.datasources.forEach(function(t){var i=this.datasources[t],n=e[t],s=this.getLimit(t);i&&n&&(i.processData(n),this.suggestions[t]=i.getSuggestions(this.currentRequest,s))},this),this.sendSuggestions())},this.updateSuggestions=function(){var e=new r.default(function(e){this.userPrefetchComplete?e():this.$node.one("dataTypeaheadUserPrefetchComplete",e)}.bind(this));this.currentRequest&&this.currentRequest.datasources&&e.then(this.actuallyUpdateSuggestions.bind(this))},this.actuallyUpdateSuggestions=function(){this.currentRequest.datasources&&(this.currentRequest.datasources.forEach(function(e){var t=this.datasources[e],i=this.getLimit(e);if(t){var n=t.getSuggestions(this.currentRequest,i);n&&n.length>0&&(this.suggestions[e]=n)}},this),this.sendSuggestions())},this.handleGetSuggestionsError=function(){this.trigger("dataTypeaheadSuggestionsError")},this._getRemoteSuggestions=function(){var e=this.currentRequest,t=e.datasources,i=e.query,n=e.limits;if(i&&""!==i.trim()){var s=1===t.length,r=this.attr.dataSourceToClient.hasOwnProperty(t[0]);s&&r?this.getRemoteSuggestionsFromClient(t[0],i,n):this.getRemoteSuggestionsFromTwitterClient()}},this.getRemoteSuggestionsFromClient=function(e,t,i){this.attr.dataSourceToClient[e].search({query:t,maxResults:i[e]}).addCallback(this.sendSuggestions.bind(this),this.handleGetSuggestionsError.bind(this))},this.getRemoteSuggestionsFromTwitterClient=function(){(0,o.getTwitterClient)().typeaheadSearch(this.currentRequest,this.processTypeaheadData.bind(this),this.handleGetSuggestionsError.bind(this))},this.getSuggestions=function(e,t){if(t.query!==this.currentRequest.query){var i=$.extend({},this.attr.limits,t.limits);this.currentRequest={accountKey:t.accountKey,query:t.query,datasources:t.datasources,count:this.attr.count,dropdownId:t.dropdownId,limits:i},this.suggestions={},this.updateSuggestions(),t.onlyLocalData||this.getRemoteSuggestions(t.type)}},this.queryReset=function(){this.currentRequest={}},this.getRemoteSuggestions=function(e){e=e||"default",this.attr.timing[e]||(e="default");var t=this.getRemoteSuggestionsByType[e];if(!t)throw new Error("No matching remote suggestion debounce type.");return t()}}var s=i(104),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(22),a=i(2).component,c=i(896),l=i(895),u=i(893),d=i(894),h=i(892),p=i(891),f=i(729);e.exports=a(n,c,l,u,d,h,p)},function(e,t,i){"use strict";function n(){this.getConversationsSuggestions=function(e,t){function i(e){return r.test(e.name)}function n(e){return r.test(e.screenName)}if(e.accountKey){var s=TD.controller.clients.getClient(e.accountKey).conversations.getAllConversations(),r=new RegExp(TD.util.quotedForRegExp(e.query.trim()),"i");return s.filter(function(e){return"GROUP_DM"===e.type&&(r.test(e.name||"")||e.participants.some(i)||e.participants.some(n))},this).sort(function(e,t){var s=e.participants.some(i),r=e.participants.some(n),o=t.participants.some(i),a=t.participants.some(n),c=!!e.name&&i(e),l=!!t.name&&i(t);return s&&!o?-1:!s&&o?1:r&&!a?-1:!r&&a?1:c&&!l?-1:!c&&l?1:0}).slice(0,t)}},this.processConversationsData=function(){},this.after("initialize",function(){this.datasources=this.datasources||{},this.datasources.conversations={getSuggestions:this.getConversationsSuggestions.bind(this),processData:this.processConversationsData.bind(this)}})}e.exports=n},function(e,t,i){"use strict";var n=function(){this.getListSuggestions=function(e,t){var i=e.query.trim().toLowerCase();return this.trigger("uiNeedsSubscribedLists"),this.lists?this.lists.filter(function(e){return-1!==e.user.screenName.toLowerCase().indexOf(i)||-1!==e.name.toLowerCase().indexOf(i)},this).slice(0,t):[]},this.handleSubscribedLists=function(e,t){t&&t.lists&&(this.lists=t.lists)},this.processListData=function(){},this.after("initialize",function(){this.datasources=this.datasources||{},this.datasources.lists={getSuggestions:this.getListSuggestions.bind(this),processData:this.processListData.bind(this)},this.on(document,"dataSubscribedLists",this.handleSubscribedLists)})};e.exports=n},function(e,t,i){"use strict";var n=function(){this.tokenize=function(e){return e.trim().toLowerCase().split(TD.constants.regexps.tokenSeparator)},this.getRecentSearchSuggestions=function(e,t){if(this.trigger("uiNeedsRecentSearches"),!this.recentSearches)return[];var i=this.recentSearches,n=this.tokenize(e.query);return i.filter(function(e){var t=this.tokenize(e);return this.recentSearchMatchesQuery(t,n)},this).slice(0,t)},this.recentSearchMatchesQuery=function(e,t){return t.every(function(t){return e.some(function(e){return 0===e.indexOf(t)})})},this.handleRecentSearches=function(e,t){t&&t.recentSearches&&(this.recentSearches=t.recentSearches)},this.processRecentSearchData=function(){},this.after("initialize",function(){this.datasources=this.datasources||{},this.datasources.recentSearches={getSuggestions:this.getRecentSearchSuggestions.bind(this),processData:this.processRecentSearchData.bind(this)},this.on(document,"dataRecentSearches",this.handleRecentSearches)})};e.exports=n},function(e,t,i){"use strict";var n=i(22),s=function(){this.tokenize=function(e){return e.trim().toLowerCase().split(TD.constants.regexps.tokenSeparator)},this.savedSearchesComparator=function(e,t){var i=e.query.toLowerCase(),n=t.query.toLowerCase();return(i>n)-(i<n)},this.updateSavedSearches=function(){var e=Date.now()-TD.constants.time.oneHour;if(!this.savedSearchesLastFetch||this.savedSearchesLastFetch<e){var t=(0,n.getClientsByService)("twitter");this.savedSearches=[],t.forEach(function(e){this.savedSearches=this.savedSearches.concat(e.searches)},this),this.savedSearchesLastFetch=Date.now()}},this.getSavedSearchSuggestions=function(e){if(""===e.query.trim())return[];if(!e.datasources||!e.datasources.some(function(e){return"savedSearches"===e}))return[];var t=[],i=this.tokenize(e.query);return this.updateSavedSearches(),this.savedSearches.forEach(function(e){var n=this.tokenize(e.query);this.savedSearchMatchesQuery(n,i)&&t.push(e)},this),t.sort(this.savedSearchesComparator),t.splice(this.attr.limit),t},this.savedSearchMatchesQuery=function(e,t){return t.every(function(t){return e.some(function(e){return 0===e.indexOf(t)})})},this.processSavedSearchData=function(){},this.after("initialize",function(){this.savedSearches=[],this.savedSearchesLastFetch=!1,this.datasources=this.datasources||{},this.datasources.savedSearches={getSuggestions:this.getSavedSearchSuggestions.bind(this),processData:this.processSavedSearchData.bind(this)}})};e.exports=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(39),r=n(s),o=i(161),a=n(o),c=i(167),l=n(c),u=i(111),d=n(u),h=i(22),p=function(){this.attributes({storageTopicsHash:"typeaheadTopicsHash",storageTopicsLastPrefetch:"typeaheadTopicsLastPrefetch"}),this.tokenize=function(e){return e.trim().toLowerCase().split(TD.constants.regexps.tokenSeparator)},this.topicSortComparator=function(e,t){return t.rounded_score-e.rounded_score},this.overwriteTopics=function(e){this.topicsHash={},this.topicsAdjacencyList={},this.processTopicData(e)},this.processTopicData=function(e){(0,d.default)(e,function(e){var t,i=e.topic;this.topicsHash[i]=e,0===e.tokens.length&&(t=this.tokenize(e.topic),e.tokens=t.map(function(e){return{token:e.toLowerCase()}})),e.tokens.forEach(function(e){var t=e.token.charAt(0).toLowerCase(),n=this.topicsAdjacencyList[t]||[];-1===n.indexOf(i)&&n.push(i),this.topicsAdjacencyList[t]=n},this)},this);var t={};t[this.attr.storageTopicsHash]=this.topicsHash,this.trigger("dataStorageSet",t)},this.processPrefetchTopicData=function(e){this.processTopicData(e.topics),this.topicsLastPrefetch=Date.now();var t={};t[this.attr.storageTopicsLastPrefetch]=this.topicsLastPrefetch,this.trigger("dataStorageSet",t)},this.pruneTopics=function(){var e=(0,l.default)(this.topicsHash);e.sort(this.topicSortComparator),e=e.slice(0,Math.floor(e.length/2)),this.overwriteTopics(e)},this.getTopicSuggestions=function(e,t){var i=e.query.toLowerCase(),n=[].concat((0,r.default)(this.topicsAdjacencyList[i.charAt(0)]||[]),(0,r.default)(this.topicsAdjacencyList["#"]||[])),s=n.filter(function(e){var t=e.toLowerCase();return 0===t.indexOf(i)||0===t.indexOf("#"+i)}),o=this.getTopicObjectsFromStrings((0,a.default)(s));return o.sort(this.topicSortComparator),o.slice(0,t)},this.getTopicObjectsFromStrings=function(e){var t=[];return e.forEach(function(e){var i=this.topicsHash[e];i&&t.push(i)},this),t},this.prefetchTopicsSuggestions=function(){(0,h.getTwitterClient)().typeaheadSearch({query:"",prefetch:!0,limit:200,datasources:["topics"]},this.processPrefetchTopicData.bind(this),this.trigger.bind(this,"dataTypeaheadSuggestionsError"))},this.processTopicStorageItem=function(e,t){switch(t.name){case this.attr.storageTopicsHash:this.processTopicData(t.value);break;case this.attr.storageTopicsLastPrefetch:this.topicsLastPrefetch=t.value,(!this.topicsLastPrefetch||Date.now()-this.topicsLastPrefetch>TD.constants.time.oneDay)&&this.prefetchTopicsSuggestions()}},this.loadTopicsData=function(){this.trigger("dataStorageGet",{names:[this.attr.storageTopicsHash,this.attr.storageTopicsLastPrefetch]})},this.resetTopicData=function(e,t){t.client&&(this.overwriteTopics([]),this.prefetchTopicsSuggestions())},this.after("initialize",function(){this.topicsHash={},this.topicsAdjacencyList={},this.datasources=this.datasources||{},this.datasources.topics={getSuggestions:this.getTopicSuggestions.bind(this),processData:this.processTopicData.bind(this)},this.on(document,"dataStorageItem",this.processTopicStorageItem),this.on(document,"TD.ready",this.loadTopicsData),this.on(document,"dataTwitterClientChanged",this.resetTopicData),this.on(document,"dataStorageFull",this.pruneTopics)})};e.exports=p},function(e,t,i){"use strict";function n(e){this.attributes({usersStorageLimit:2500,storageUserHash:"typeaheadUserHash",storageUserLastPrefetch:"typeaheadUserLastPrefetch"}),this.after("initialize",function(){this.userAdjacencyList={},this.userHash={},this.blockedUserIds={},this.datasources=this.datasources||{},this.datasources.users={processData:this.processUserData.bind(this),getSuggestions:this.getUserSuggestions.bind(this)},this.on(document,"dataStorageItem",this.processUserStorageItem),this.on(document,"TD.ready",this.loadUserData),this.on(document,"dataTwitterClientChanged",this.resetUserData),this.on(document,"dataStorageFull",this.pruneUsers)}),this.tokenize=function(e){return e.trim().toLowerCase().split(TD.constants.regexps.tokenSeparator)},this.overwriteUserdata=function(e){this.userHash={},this.userAdjacencyList={},this.processUserData(e)},this.processUserData=function(e){_.each(e,function(e){e.tokens=e.tokens.map(function(e){return e="string"==typeof e?e:e.token,e.toLowerCase()}),0===e.tokens.length&&(e.tokens=this.tokenize(e.name),e.tokens.push(e.screen_name),e.tokens.push(TD.util.atMentionify(e.screen_name)),e.tokens=e.tokens.map(function(e){return e.toLowerCase()})),delete e.location,delete e.connecting_user_ids,this.userHash[e.id_str]=e,e.tokens.forEach(function(t){var i=t.charAt(0);void 0===this.userAdjacencyList[i]&&(this.userAdjacencyList[i]=[]),-1===this.userAdjacencyList[i].indexOf(e.id_str)&&this.userAdjacencyList[i].push(e.id_str)},this)},this);var t={};t[this.attr.storageUserHash]=this.userHash,this.trigger("dataStorageSet",t)},this.processPrefetchUserData=function(e){this.processUserData(e.users);var t={};t[this.attr.storageUserLastPrefetch]=Date.now(),this.trigger("dataStorageSet",t),this.trigger("dataTypeaheadUserPrefetchComplete")},this.prefetchUserSuggestions=function(){var e=(0,s.getTwitterClient)();e&&e.typeaheadSearch({prefetch:!0,count:this.attr.usersStorageLimit},this.processPrefetchUserData.bind(this),this.handleGetSuggestionsError.bind(this))},this.pruneUsers=function(){var e=_.values(this.userHash);e.sort(this.userSortComparator),e=e.slice(0,Math.floor(e.length/2)),this.overwriteUserdata(e)},this.getUserSuggestions=function(e,t){var i,n,s,r=[];return i=this.tokenize(e.query),n=this.getPotentiallyMatchingUserIds(i),s=this.getUsersFromIds(n),r=s.filter(this.matchUsers(i)),r.sort(this.userSortComparator),r=r.slice(0,t)},this.getPotentiallyMatchingUserIds=function(e){var t=[];return e.map(function(e){var i=this.userAdjacencyList[e.charAt(0)];i&&(t=t.concat(i))},this),t=_.uniq(t)},this.getUsersFromIds=function(e){var t=[];return e.forEach(function(e){var i=this.userHash[e];i&&!this.isUserBlocked(e)&&t.push(i)},this),t},this.matchUsers=function(e){return function(t){var i=t.tokens;if(e.every(function(e){return i.filter(function(t){return 0===t.indexOf(e)}).length}))return t}},this.userSortComparator=function(e,t){var i=0!==e.rounded_graph_weight,n=0!==t.rounded_graph_weight;return i&&!n?-1:n&&!i?1:i&&n?t.rounded_graph_weight-e.rounded_graph_weight:t.rounded_score-e.rounded_score},this.isUserBlocked=function(e){return!!this.blockedUserIds[e]},this.processUserStorageItem=function(e,t){switch(t.name){case this.attr.storageUserHash:this.processUserData(t.value);break;case this.attr.storageUserLastPrefetch:("number"!=typeof t.value||Date.now()-t.value>TD.constants.time.oneDay)&&this.prefetchUserSuggestions()}},this.loadUserData=function(){this.trigger("dataStorageGet",{names:[this.attr.storageUserHash,this.attr.storageUserLastPrefetch]});var e=(0,s.getTwitterClient)();e&&(this.blockedUserIds=e.blocks)},this.resetUserData=function(e,t){t.client&&(this.overwriteUserdata([]),this.blockedUserIds=t.client.blocks,this.prefetchUserSuggestions())}}var s=i(22);e.exports=n},function(e,t,i){"use strict";var n=i(2).component,s=function(){this.attributes({actions:{follow:{userAction:"follow",errorEvent:"dataFollowActionError"},unfollow:{userAction:"unfollow",errorEvent:"dataUnfollowActionError"},block:{userAction:"block",errorEvent:"dataBlockActionError"},unblock:{userAction:"unblock",errorEvent:"dataUnblockActionError"},mute:{userAction:"mute",errorEvent:"dataMuteActionError"},unmute:{userAction:"unmute",errorEvent:"dataUnmuteActionError"},report:{userAction:"report",errorEvent:"dataReportActionError"},reportSpam:{userAction:"reportSpam",errorEvent:"dataReportSpamActionError"},reportCompromised:{userAction:"reportCompromised",errorEvent:"dataReportCompromisedActionError"}}}),this.error=function(e,t){return function(i){var n;n={request:t,response:i},this.trigger(document,e.errorEvent,n)}},this.success=function(e,t){return function(i){this.trigger("dataFollowStateChange",{action:e,request:t,response:i})}},this.takeAction=function(e,t,i){var n=this.success(e,i).bind(this),s=this.error(e,i).bind(this),r=e.userAction;try{switch(r){case"block":i.twitterUser.block(i.account,!1,n,s);break;case"unblock":i.twitterUser.unblock(i.account,n,s);break;case"follow":i.twitterUser.follow(i.account,n,s,!0);break;case"unfollow":i.twitterUser.unfollow(i.account,n,s,!1);break;case"mute":i.twitterUser.mute(i.account).addCallbacks(n,s);break;case"unmute":i.twitterUser.unmute(i.account).addCallbacks(n,s);break;case"reportSpam":i.twitterUser.block(i.account,!0,n,s,!1)}}catch(e){this.error()}},this.bindAction=function(e){return this.takeAction.bind(this,e)},this.after("initialize",function(){this.on(document,"uiFollowAction uiFollowProtectedUserAction",this.bindAction(this.attr.actions.follow)),this.on(document,"uiUnfollowAction",this.bindAction(this.attr.actions.unfollow)),this.on(document,"uiBlockAction",this.bindAction(this.attr.actions.block)),this.on(document,"uiUnblockAction",this.bindAction(this.attr.actions.unblock)),this.on(document,"uiMuteAction",this.bindAction(this.attr.actions.mute)),this.on(document,"uiUnmuteAction",this.bindAction(this.attr.actions.unmute)),this.on(document,"uiReportSpamAction",this.bindAction(this.attr.actions.reportSpam)),this.on(document,"uiReportCompromisedAction",this.bindAction(this.attr.actions.reportCompromised))})};e.exports=n(s)},function(e,t,i){"use strict";function n(){this.handleUserProfileSocialProofFactory=function(e){return function(t){t.request=e,this.trigger(document,"dataUserProfileSocialProof",t)}},this.handleErrorFactory=function(e){return function(){var t={request:e};this.trigger(document,"dataUserProfileSocialProofError",t)}},this.getUserProfileSocialProofData=function(e,t){if(t&&t.screenName){(0,s.getTwitterClient)().getFollowingFollowersOf(t.screenName,this.handleUserProfileSocialProofFactory(t).bind(this),this.handleErrorFactory(t).bind(this))}},this.after("initialize",function(){this.on(document,"uiNeedsUserProfileSocialProof",this.getUserProfileSocialProofData)})}var s=i(22),r=i(2).component;e.exports=r(n)},function(e,t,i){"use strict";function n(){this.handleResponseFactory=function(e,t){return function(i){this.trigger(document,e,{request:t,result:i})}.bind(this)},this.doUserSearch=function(e,t){var i=(0,r.getTwitterClient)(),n=t.query;i?i.userSearch(n,this.handleResponseFactory("dataUserSearch",t),this.handleResponseFactory("dataUserSearchError",t)):this.handleResponseFactory("dataUserSearchError",t)()},this.after("initialize",function(){this.on(document,"uiNeedsUserSearch",this.doUserSearch)})}var s=i(2),r=i(22);e.exports=(0,s.component)(n)},function(e,t,i){"use strict";function n(){this.attributes({pollIntervalMs:3e5}),this.after("initialize",function(){var e=this,t=u.fromEventOnce(document,"dataDeciderUpdated").exhaustMap(function(){return e.getTimer()}),i=this.observe(t).flatMap(function(){return u.fromDeferred(e.getVersion()).catch(function(e){return l.Observable.empty()})}).map(this.processVersion).do(this.sendMetrics);this.provideResource("version",i.publishReplay(1).refCount())}),this.getTimer=function(){return l.Observable.timer(0,this.attr.pollIntervalMs)},this.getVersion=function(){return TD.decider.get("version_poll")?(TD.util.metric("version:poll"),TD.net.ajax.sendRequest("GET",TD.config.api_root+"/web/dist/version.json?t="+Date.now()).addCallback(function(e){return e.data})):TD.core.defer.succeed(!1)},this.processVersion=function(e){return{isOutOfDate:c.lt(TD.version,e.version),isAboveLatest:c.gt(TD.version,e.version),isBelowMinimum:c.lt(TD.version,e.minimum)}},this.sendMetrics=function(e){e.isOutOfDate&&TD.util.metric("version:out-of-date"),e.isBelowMinimum&&TD.util.metric("version:is-below-minimum"),e.isAboveLatest&&TD.util.metric("version:is-above-latest")}}var s=i(7),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component,a=i(19),c=i(431),l=i(18),u=i(38);e.exports=o(a,n,r.default)},function(e,t,i){"use strict";function n(){this.after("initialize",function(){var e=this.observe(a.fromEventOnce(document,"TD.ready")),t=this.observe(a.fromEventOnce(document,"uiMessageBannerReady"));e.combineLatest(t,function(){}).subscribe(this.trigger.bind(this,"uiCheckNotificationPermission")),this.on(document,"uiCheckNotificationPermission",this.checkPermission),this.on(document,"uiRequestBrowserNotificationPermission",this.requestPermission)}),this.requestPermission=function(){TD.controller.notifications.getPermission()},this.checkPermission=function(){this.needsPermission()&&TD.controller.notifications.canPermissionBeRequested()?this.showRequestMessage():this.hideRequestMessage()},this.needsPermission=function(){return TD.storage.columnController.getAll().some(function(e){return e.getHasNotification()})},this.showRequestMessage=function(){this.trigger(document,"dataMessage",{message:this.getMessageData()})},this.hideRequestMessage=function(){this.trigger(document,"dataMessageRemove",{id:this.getMessageData().id})},this.getMessageData=function(){return{id:"web-notification-permission-banner",text:TD.i("TweetDeck needs permission to show your desktop notifications in this browser"),colors:{background:"#b2d5ed",foreground:"#555"},actions:[{class:"btn-positive",id:"yes-button",action:"trigger-event",label:TD.i("Let's go!"),event:{type:"uiRequestBrowserNotificationPermission",data:{}}}]}}}var s=i(7),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(89),a=i(38);e.exports=o.mixin(n,r.default)},function(e,t,i){"use strict";var n=i(147),s=i(2).compose,r=i(461);e.exports=function(){s.mixin(this,[r]),this.attributes({dataminrBaseUrl:"https://gateway.dataminr.com",directAuth:{resource:"auth/1/get_auth_token",method:"GET",metricsKey:"authtoken:direct"},proxiedAuth:{resource:"tweetdeck/dataminr/authtoken",method:"GET",metricsKey:"authtoken:proxy"},httpStatusCodes:{ok:200,badRequest:400,unauthorized:401,tooManyRequests:429,internalServerError:500},dataminrErrorCodes:{invalidApiCall:101,oauthAuthenticationError:102,invalidDMToken:103,twitterAccountNotLinked:104,rateLimitExceeded:105}}),this.makeDataminrRequest=function(e,t){var i=this.withDataminrApiUrl(e,t);return this.trigger("metric",{key:"dataminr:data:"+e.metricsKey}),TD.controller.stats.dataminrApiRequest(e.metricsKey),TD.net.ajax.sendRequest(e.method,i,{Authorization:"DmAuth "+TD.settings.getDataminrAuthToken()}).addErrback(this.dataminrRequestError.bind(this,i,e))},this.dataminrRequestError=function(e,t,i){if(i.number===this.attr.httpStatusCodes.unauthorized)return this.makeDataminrRequestForAuthToken().addCallbacks(function(){return TD.net.ajax.sendRequest(t.method,e,{Authorization:"DmAuth "+TD.settings.getDataminrAuthToken()})},function(){TD.settings.setDataminrAuthToken(null),$(document).trigger("dataMessage",{message:this.getDataminrAccountAccessDeniedMessageData()})}.bind(this))},this.makeDataminrRequestForAuthToken=function(){return this.proxiedAuthFlow().addCallbacksWith(this,this.handleAuthSuccess,this.handleAuthError)},this.proxiedAuthFlow=function(){var e=this.attr.proxiedAuth;return this.trigger("metric",{key:"dataminr:data:"+e.metricsKey}),TD.controller.stats.dataminrAuthRequest(),(0,n.makeTwitterRequest)(TD.storage.store.getTwitterLoginAccount().getKey(),e.resource,{method:e.method})},this.handleAuthSuccess=function(e){e.data.dmaToken&&(TD.settings.setDataminrAuthToken(e.data.dmaToken),this.trigger("metric",{key:"dataminr:auth:success"}))},this.handleAuthError=function(e){throw this.trigger("metric",{key:"dataminr:auth:error:"+e.number}),e},this.withDataminrApiUrl=function(e,t){var i=[];i.push(e.baseUrl||this.attr.dataminrBaseUrl),i.push(e.resource);var n=i.join("/");return t&&"GET"===e.method&&(n=TD.net.util.addURLParameters(n,t)),n}}},function(e,t,i){"use strict";var n={sharedColumn:i(717)};e.exports=function(){this.getValidationSchema=function(e){return n[e]}}},function(e,t,i){"use strict";var n=i(86),s=i(905);n(document).ready(function(){TD.controller.init.preload(),TD.util.checkAPIRoot(),s.attachTo(document),TD.controller.init.start()})},function(e,t,i){"use strict";function n(){this.attributes({modal:"#open-modal",appHeader:".js-app-header",searchResults:".js-search-form",message:".js-message-banner",appSearchSourceId:"appSearch",searchPopoverSourceId:"searchPopover",isHiddenClass:"is-hidden",gridFocusId:"grid_focus",modalsContainerSelector:".js-modals-container",columnScrollContainerSelector:".js-app-columns-container"}),this.initSearchInPopover=function(){I.attachTo(".js-search-in-popover",{popoverPosition:"rt",closeModals:!0,appSearchSourceId:this.attr.appSearchSourceId,searchPopoverSourceId:this.attr.searchPopoverSourceId,isHiddenClass:this.attr.isHiddenClass}),f.attachTo(".js-search-in-popover",{sourceId:this.attr.searchPopoverSourceId}),A.attachTo(".js-search-in-popover"),x.attachTo(".js-search-in-popover")},this.attachLoggedInComponents=function(){O.attachTo(this.$node),_.attachTo(this.$node),L.attachTo(this.$node),b.attachTo(this.$node),p.attachTo(this.select("message")),y.attachTo(this.$node),N.attachTo(this.$node),P.attachTo(this.$node),g.attachTo(this.$node,{focusId:this.attr.gridFocusId}),E.attachTo(this.select("columnScrollContainerSelector")),v.attachTo(this.$node,{focusId:this.attr.gridFocusId}),T.attachTo(this.$node),D.attachTo("#compose-modal"),M.attachTo(".js-app-header"),R.attachTo(".js-app"),j.attachTo(this.$node),r.default.attachTo(".js-app"),S.attachTo("#column-navigator"),f.attachTo(".js-search-form",{sourceId:this.attr.appSearchSourceId}),this.initSearchInPopover(),k.attachTo(this.$node),h.attachTo(this.$node),U.attachTo(this.$node),B.attachTo(this.$node)},this.handleLoggedIn=function(){this.$node.find(".js-app").removeClass(this.attr.isHiddenClass),$("body","html").removeClass("scroll-v"),this.attachLoggedInComponents()},this.attachLoggedOutComponents=function(){d.attachTo(this.$node),m.attachTo(this.$node),F.attachTo(this.attr.modalsContainerSelector),C.attachTo(".js-app-loading",{teardownOn:"TD.ready"})},this.after("initialize",function(){TD.config.flight_debug&&(console.info("Flight debug mode enabled."),u.enable(!0),c.mixin(a,[l.withAdvice])),this.attachLoggedOutComponents(),this.on(document,"TD.ready",this.handleLoggedIn)})}var s=i(954),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component,a=i(2).registry,c=i(2).compose,l=i(2).advice,u=i(2).debug,d=i(1034),h=i(982),p=i(988),f=i(923),m=i(924),g=i(927),v=i(973),T=i(974),_=i(969),y=i(949),w=i(1028),b=i(991),D=i(987),C=i(986),S=i(929),E=i(932),I=i(1007),A=i(286),x=i(1008),k=i(1009),M=i(922),O=i(955),R=i(938),L=i(959),F=i(992),N=i(919),P=i(931),j=i(961),U=i(956),B=i(1015);e.exports=o(n,w)},function(e,t,i){"use strict";function n(){this.trackSelectDefaultAccount=function(){TD.controller.stats.defaultAccountSelected()},this.after("initialize",function(){this.on(document,"uiSelectDefaultAccount",this.trackSelectDefaultAccount)})}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";function n(){this.trackClear=function(){TD.controller.stats.columnActionClick("clear")},this.trackMoveColumn=function(e,t){TD.controller.stats.columnActionClick(t.action)},this.trackEmbedTimeline=function(e,t){TD.controller.stats.columnActionClick("embed",{type:t.column.getColumnType()})},this.trackActionFilterError=function(e,t){TD.controller.stats.actionFilterError()},this.after("initialize",function(){this.on(document,"uiClearColumnAction",this.trackClear),this.on(document,"uiMoveColumnAction",this.trackMoveColumn),this.on(document,"uiEmbedTimelineAction",this.trackEmbedTimeline),this.on(document,"uiActionFilterError",this.trackActionFilterError)})}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";function n(){this.after("initialize",function(){this.on(document,"dataTweetSent",this.handleTweetSent),this.on(document,"dataDmSent",this.handleDmSent),this.on(document,"dataScheduledTweetsSent",this.handleScheduledTweetSent),this.on(document,"uiRemoveInReplyTo",this.handleClearReply),this.on(document,"uiComposeStackReply",this.handleStackReply),this.on(document,"uiDockedComposeTweet",this.handleDockedTweet)}),this.handleTweetSent=function(e,t){if("message"===t.request.type)return this.handleDmSent(e,t);var i=_.get(t,"request.files",null)||_.get(t,"request.tweetData.files",null),n=i||[],s=n.length,a=1===s,c=Boolean(a&&(0,r.isVideo)(n[0])),l=Boolean(a&&(0,r.isGif)(n[0])),u=Boolean(s&&!l&&!c),d=(0,o.getAccountData)(t.request.accountKey),h=d?d.id:null,p=Boolean(t.request.scheduledDate),f=t.request.inline||!1;switch(t.request.type){case"tweet":TD.controller.stats.postTweet({twitterId:h,withImage:u,withGIF:l,withVideo:c,isScheduled:p});break;case"reply":TD.controller.stats.postReply({twitterId:h,withImage:u,withGIF:l,withVideo:c,isScheduled:p,inline:f})}},this.handleDmSent=function(e,t){var i=(0,o.getAccountData)(t.request.accountKey),n=i?i.id:null,s=Boolean(t.request.files&&t.request.files.length),r=t.request.isReplyBar||!1,a="GROUP_DM"===t.request.messageType;TD.controller.stats.postMessage({twitterId:n,withImage:s,isReplyBar:r,isGroupDm:a})},this.handleScheduledTweetSent=function(e,t){t=t||{},t.request=t.request||{},t.request.requests=t.request.requests||[],t.request.requests.forEach(function(t){this.handleTweetSent(e,{request:t})}.bind(this))},this.handleClearReply=function(){TD.controller.stats.composeClearReply()},this.handleStackReply=function(){TD.controller.stats.composeStackReply()},this.handleDockedTweet=function(e,t){t.popFromInline&&TD.controller.stats.composePopFromInline(),t.contextMenu&&TD.controller.stats.composeFromContextMenu(t.contextMenu)}}var s=i(2),r=i(289),o=i(22);e.exports=(0,s.component)(n)},function(e,t,i){"use strict";function n(){this.after("initialize",function(){this.on(document,"dataCustomTimelineCreateSuccess",this.handleTimelineCreated),this.on(document,"dataCustomTimelineUpdateSuccess",this.handleTimelineUpdated),this.on(document,"dataCustomTimelineDeleteSuccess",this.handleTimelineDeleted),this.on(document,"dataAddOrMoveTweetToCustomTimelineSuccess",this.handleTweetAddedOrMoved),this.on(document,"dataRemoveTweetFromCustomTimelineSuccess",this.handleTweetRemoved)}),this.handleTimelineCreated=function(e,t){TD.controller.stats.customTimelineCreated()},this.handleTimelineUpdated=function(e,t){TD.controller.stats.customTimelineUpdated()},this.handleTimelineDeleted=function(e,t){TD.controller.stats.customTimelineDeleted()},this.handleTweetAddedOrMoved=function(e,t){TD.controller.stats.tweetAddedOrMovedToCustomTimeline(t.action.actionType)},this.handleTweetRemoved=function(e,t){TD.controller.stats.tweetRemovedFromCustomTimeline()}}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";function n(){this.trackOpen=function(e,t){TD.controller.stats.embedTweetDialogOpen(t.tweet.id)},this.after("initialize",function(){this.on(document,"uiShowEmbedTweet",this.trackOpen)})}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";function n(){this.initialState({viaLoginForm:!1}),this.after("initialize",function(){this.on(document,"dataAppStart",this.start),this.on(document,"uiLoginFormImpression",this.loginImpression);var e=o.Observable.fromEvent($(document),"TD.ready"),t=o.Observable.fromEvent($(document),"dataQueryParams",function(e,t){return t.params});this.readyStream=o.Observable.combineLatest(e,t,function(e,t){return t}).take(1).subscribe(this.complete.bind(this))}),this.before("teardown",function(){this.readyStream.unsubscribe()}),this.start=function(){var e=!!TD.util.getTwitterCookieUserId();this.trigger("metric",{key:"login:start:"+(e?"has-twitter-session":"no-session")})},this.loginImpression=function(){this.mergeState({viaLoginForm:!0}),this.trigger("metric",{key:"login:login-form-impression:twitter"})},this.complete=function(e){e.via_twitter_login&&this.mergeState({viaLoginForm:!0});var t=TD.storage.store.getTwitterLoginAccount(),i=t.isCookieUser()?"twitter":"tweetdeck",n="returning-user";this.state.viaLoginForm&&(n="via-login-form"),this.trigger("metric",{key:"login:complete:"+i+":"+n}),this.teardown()}}var s=i(2).component,r=i(61),o=i(18);e.exports=s(r,n)},function(e,t,i){"use strict";function n(){this.trackImpression=function(e,t){TD.controller.stats.messageBannerImpression(t.id),this.trigger("metric",{key:"message_banner:"+t.id+":impression"})},this.trackDismiss=function(e,t){TD.controller.stats.messageBannerDismiss(t.id),this.trigger("metric",{key:"message_banner:"+t.id+":dismiss"})},this.trackAction=function(e,t){TD.controller.stats.messageBannerClick(t.messageId,t.actionId),this.trigger("metric",{key:"message_banner:"+t.messageId+":click:"+t.actionId})},this.after("initialize",function(){this.on(document,"uiShowMessageBanner",this.trackImpression),this.on(document,"uiDismissMessageAction",this.trackDismiss),this.on(document,"uiClickMessageButtonAction",this.trackAction)})}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";function n(){this.after("initialize",function(){this.on(document,"uiShowReportOptions",function(e,t){t.isMessage&&TD.controller.stats.reportDM("impression")});var e={uiShowReportMessageCancel:"cancel",uiShowReportMessageError:"error",uiNeedsDMReport:function(e){return"report_as_"+e.reportType}};_.each(e,function(e,t){this.on(document,t,function(t,i){TD.controller.stats.reportDM(_.isFunction(e)?e(i):e)})}.bind(this))})}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";function n(){this.after("initialize",function(){this.on(document,"uiShowReportOptions",function(e,t){t.isMessage||TD.controller.stats.reportUser("impression")}),this.on(document,"uiShowReportTweetCancel",function(){TD.controller.stats.reportUser("cancel")}),this.on(document,"uiReportSpamAction",function(e,t){TD.controller.stats.reportUser("report_as_spam","spam")}),this.on(document,"uiReportCompromisedAction",function(e,t){t&&t.block?TD.controller.stats.reportUser("block","compromised"):TD.controller.stats.reportUser("report_as_spam","compromised")}),this.on(document,"uiReportAbusiveAction",function(e,t){TD.controller.stats.reportUserAbusive("impression"),t&&t.block?TD.controller.stats.reportUser("block","abusive"):TD.controller.stats.reportUser("report_as_spam","abusive")}),this.on(document,"uiReportAbusiveOption",function(e,t){TD.controller.stats.reportUserAbusive("click",t.option)})})}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";function n(){this.after("initialize",function(){this.on(document,"scribing",function(e,t){t&&t.terms&&TD.decider.get("convert_scribe_to_metrics_v2")&&this.trigger("metric",{key:s(t.terms)})})})}function s(e){return["scribe"].concat(["page","section","component","element","action"].map(function(t){return e[t]||""})).join(":")}var r=i(2).component;e.exports=r(n)},function(e,t,i){"use strict";function n(){this.trackViews=function(e,t){TD.controller.stats.viewedTweetSocialProof(t.type)},this.after("initialize",function(){this.on(document,"uiShowSocialProof",this.trackViews)})}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";function n(){this.trackInvocation=function(){TD.controller.stats.typeaheadInvoked()},this.trackSelection=function(e,t){var i=t.query||t.input;"recent-search"===t.searchType?TD.controller.stats.typeaheadRecentItemSelected(i,t.searchType,t.index):TD.controller.stats.typeaheadItemSelected(i,t.searchType,t.index)},this.after("initialize",function(){this.on(document,"uiTypeaheadDropdownInvoked",this.trackInvocation),this.on(document,"uiTypeaheadItemSelected",this.trackSelection)})}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){return{page:"settings",section:"accounts",component:{remove:"account",removeCheck:"account",removeCancel:"account",manageContributors:"account",showInvitations:"account",setAccountSafeguard:"account",addAccountLoginFormShowing:"add_account_login_form",addAccountLoginRequest:"add_account_login_form",addAccount2faTimeout:"add_account_login_form",addAccount2faCancel:"add_account_login_form",addAccountLoginSuccess:"add_account_login_form",addAccountLoginError:"add_account_login_form",addAccountLoginServerError:"add_account_login_form"}[e],element:{remove:"remove",removeCheck:"remove_check",removeCancel:"remove_cancel",add:"add_twitter_account",passwordReset:"reset_password",manageContributors:"show_contributor_manager",showInvitations:"show_team_invitations",setAccountSafeguard:"confirmation_step",setDefault:"default",addAccountLoginFormShowing:"login_form",addAccountLoginRequest:"add_twitter_account",addAccount2faTimeout:"two_factor",addAccount2faCancel:"two_factor",addAccountLoginSuccess:"login_form",addAccountLoginError:"login_form",addAccountLoginServerError:"login_form"}[e],action:{setDefault:"select",addAccountLoginFormShowing:"impression",addAccountLoginRequest:"click",addAccount2faTimeout:"timeout",addAccount2faCancel:"cancel",addAccountLoginSuccess:"success",addAccountLoginError:"error",addAccountLoginServerError:"error"}[e]||"click"}}function r(e){var t=e.$node,i=e.$tooltipNode,n=e.count,s=parseInt(t.attr("data-max-digits"),10)||4,r=w.default.truncateNumber(n,s);t.text(r),i.attr("data-original-title",w.default.prettyNumber(n,{noNegativeNumbers:!0}))}function o(){this.initialState({hasOpenedDefaultAccount:!1,userData:function(){return{}},contributorManagerAccountKey:null,invitations:[]}),this.attributes({accountManagerContainerSelector:".js-account-manager-container",contributorManagerContainerSelector:".js-contributor-manager-container",scrollContainerSelector:".scroll-v",contributorManagerTeardownEvent:"uiTeardownContributorManager",contributorManagerSelector:".js-contributor-manager",contributorManagerBackSelector:".js-contributor-manager-back",teamInvitationsPanel:".js-invitations-panel",teamInvitationsTeardownEvent:"uiTeardownTeamInvitations",teamInvitationsSelector:".js-team-invitations",teamInvitationsBackSelector:".js-team-invitations-back",actionButtonSelector:".js-account-action",manageTeamSelector:".js-manage-team",manageTeamDisabledSelector:".js-manage-team-disabled",accountRowSelector:".js-account-settings-row",accountSummarySelector:".js-account-settings-summary",accountsLoginAccountSelector:".js-account-settings-login-account",teamAccountsInfoSelector:".js-account-settings-team-info",teamAccountsContainerSelector:".js-account-settings-accounts",accountsTeamInvitationsSelector:".js-account-settings-team-invitations",accountsScrollContainerSelector:".js-account-settings-scroll-container",accountsRemoveCheckSelector:".js-account-remove-check",accountRemoveCheckClass:"account-remove-check-open",openAccountRowSelector:".js-account-settings-row.is-expanded",accountsInvitedContainerSelector:".js-account-invited-accounts",accountInvitedRowSelector:".js-account-settings-invited-row",accountFollowingCountSelector:".js-account-following-count",accountFollowersCountSelector:".js-account-followers-count",profileLinkSelector:'a[rel="user"]',editProfileSelector:".js-edit-profile",shiftedColumnClass:"is-shifted-1",shiftedColumnInvitationsClass:"is-shifted-2",accountProfileHeader:".js-account-profile-header",accountUserProfileUrl:".js-account-profile-url",accountUserFriendUrl:".js-account-friend-url",accountUserFollowerUrl:".js-account-follower-url",accountSafeguardSelector:'.js-account-action[data-action="setAccountSafeguard"]',accountSafeguardSwitchSelector:".js-account-safeguard-switch",logInAccountSelector:".js-log-in-account"}),this.componentDidInitialize=function(){var e=this;this.on(document,"dataCachedTwitterUser",this.handleCacheTwitterUser),this.on(document,"uiDrawerActive",this.handleActiveDrawer),this.on(document,"dataContributors",this.handleContributors),this.on(document,"dataContributorsError",this.handleContributorsError),this.on(document,"dataContributeeNotManaged",this.handleContributeeNotManaged),this.on(document,"dataContributeeAcceptError",this.handleContributeeInviteAcceptanceFailure),this.on("click",{actionButtonSelector:this.handleActionButtonClick,contributorManagerBackSelector:this.hideContributorManager,profileLinkSelector:this.handleProfileLinkClick,editProfileSelector:this.handleEditProfileClick,teamInvitationsBackSelector:this.hideTeamInvitations}),this.on("uiAccordionWillExpand",this.handleAccordionItemWillExpand),this.on("uiAccordionDidExpand",{accountsScrollContainerSelector:_.debounce(this.handleAccordionItemDidExpand)}),this.on("uiAccordionExpandAction",this.handleAccordionItemExpandAction);var t=O.render("settings/account_settings");this.$node.html(t);var i=this.observe(this.requestResource("accounts.state")).pluck("accounts").combineLatest(u.default.Observable.fromEvent($(document),"dataDeciderUpdated").startWith(null),k.fromEventOnce($(document),"uiShowAccountSettings"),function(e,t,i){return e});i.subscribe(this.renderAccounts.bind(this)),i.subscribe(this.maybeCloseContributorManager.bind(this)),this.on("click",{logInAccountSelector:function(){var t=TD.storage.accountController.getCookieAccount(),i=t.getUsername(),n={title:TD.i("Add @{{screenName}} as an admin for another account",{screenName:i}),withHeader:!0,withHeaderDivider:!0,withFooter:!1,withDismissButton:!0,withBorder:!1,withClasses:["s-narrow-500","s-fluid-height"],withContentClasses:["padding-h--30"],withTitleClasses:["margin-r--20"]};e.showModal(T.default,{account:t},n)}})},this.render=function(){var e=O.render("settings/invitations_panel",{invitationCount:this.state.invitations.length,showInvitationPanel:Boolean(this.state.invitations.length)});this.select("teamInvitationsPanel").html(e)},this.handleAccountsRendered=function(e){var t=!this.state.hasOpenedDefaultAccount,i=(_.head(e)||{}).accountKey,n=this.select("accountsInvitedContainerSelector"),s=!!n.children().length;this.mergeState({hasOpenedDefaultAccount:!0}),t?s&&M.makeElementVisible(n.closest(this.attr.scrollContainerSelector),n):this.expandAccount(i,0)},this.expandAccount=function(e,t){t=t||0,e&&setTimeout(function(){this.getAccountSettingsRow(e).find(this.attr.accordionToggleSelector).click()}.bind(this),t)},this.recalculateAccordion=function(){this.trigger("uiAccordionUpdatePanelHeights")},this.maybeCloseContributorManager=function(e){if(this.state.contributorManagerAccountKey){var t=e.filter(function(e){return e.accountKey===this.state.contributorManagerAccountKey},this)[0];t&&!1!==t.isAdmin||this.hideContributorManager()}},this.handleCacheTwitterUser=function(e,t){this.updateManagedUserInfo(t)},this.updateAccountFromUserCache=function(e){var t,i=this.state.userData[e.userId];t=i?TD.core.defer.succeed(i):TD.cache.twitterUsers.getById(e.userId),t.addCallback(this.updateManagedUserInfo.bind(this))},this.updateManagedUserInfo=function(e){(0,E.getAccountFromId)(e.id)&&(this.state.userData[e.id]=e,this.updateUserInfo(e))},this.updateUserInfo=function(e){var t=this.$node.find('.account-settings-row[data-user-id="'+e.id+'"]');t.length&&(t.find(this.attr.accountProfileHeader).css({"background-color":"#"+e.profileColor,"background-image":"url("+e.bannerUrlSmall+")"}),t.find(this.attr.accountUserProfileUrl).attr("href",e.profileURL),t.find(this.attr.accountUserFriendUrl).attr("href",e.getFriendURL()),t.find(this.attr.accountUserFollowerUrl).attr("href",e.getFollowerURL()),r({$node:t.find(this.attr.accountFollowingCountSelector),$tooltipNode:t.find(this.attr.accountUserFriendUrl),count:e.friendsCount}),r({$node:t.find(this.attr.accountFollowersCountSelector),$tooltipNode:t.find(this.attr.accountUserFollowerUrl),count:e.followersCount}))},this.updateAccountContributorsUi=function(e){e.isAdmin&&this.trigger("uiNeedsContributors",{accountKey:e.accountKey})},this.handleContributors=function(e,t){this.toggleContributorsUiForAccount(t.accountKey,!0)},this.handleContributorsError=function(e,t){this.toggleContributorsUiForAccount(t.request.accountKey,!1)},this.toggleContributorsUiForAccount=function(e,t){var i=this.getAccountSettingsRow(e);i.find(this.attr.manageTeamSelector).toggleClass("is-hidden",!t),i.find(this.attr.manageTeamDisabledSelector).toggleClass("is-hidden",t),this.recalculateAccordion()},this.handleContributeeNotManaged=function(e,t){TD.cache.twitterUsers.getById(t.id).addCallback(function(e){var i=_.extend({},e,{accountKey:"invited:"+t.id,userId:e.id,isAdmin:!!t.isAdmin});this.state.invitations.find(function(e){return e.id===i.id})||(this.mergeState({invitations:[].concat((0,c.default)(this.state.invitations),[i])}),this.updateInvitedNotification())}.bind(this))},this.handleContributeeInviteAcceptanceFailure=function(e,t){(0,b.showErrorNotification)({message:TD.i("Looks like the invitation could not be accepted. Please try again.")}),this.handleContributeeNotManaged(null,{id:t.request.id,isAdmin:t.request.isAdmin})},this.renderInvitedAccount=function(e,t){var i=this.select("accountsInvitedContainerSelector");if(!i.find("[data-user-id="+t.id+"]").length){var n=_.extend({},t,{accountKey:"invited:"+e.id,userId:t.id,isInvited:!0,isAdmin:!!e.isAdmin}),s=$(O.render("settings/account_settings_invited_row",n));i.append(s),this.updateAccountFromUserCache({userId:t.id}),this.trigger("metric",{key:"contributors:ui:invite:impression"})}},this.renderAccounts=function(e){var t=this,i=void 0,n=this.select("accountRowSelector"),s=this.select("accountsLoginAccountSelector"),r=this.select("teamAccountsContainerSelector"),o=[],a=e.map(function(e){return e.accountKey});n.each(function(e,t){var i=$(t),n=i.attr("data-account-key");-1===a.indexOf(n)&&i.remove()});var c=e.length>=2;this.select("teamAccountsInfoSelector").toggleClass("is-hidden",!c);var l=e.length;e.forEach(function(e){var a=$(t.renderAccount(e,l)),c=n.filter('[data-account-key="'+e.accountKey+'"]');t.updateFromExistingAccount(c,a),0===c.length&&o.push(e),c.remove(),e.isTwoginAccount?s.html(a):(i?i.after(a):r.prepend(a),i=a),t.updateAccountContributorsUi(e),t.updateAccountFromUserCache(e)}),this.handleAccountsRendered(o)},this.renderAccount=function(e,t){var i=TD.storage.accountController.getCookieAccount(),n=$.extend({},e,{getProfileURL:"https://twitter.com/"+e.screenName,profileImageURL:e.isTwoginAccount?(0,D.getAvatarUrlBySize)(e.profileImageURL,D.x128):e.profileImageURL,cookieProfileImageURL:i.getProfileImageURL(),isSafeguarded:this.isAccountSafeguarded(e.accountKey),emojifiedName:e.emojifiedName,withManageTeam:e.isTwoginAccount||e.isContributor,isRemovable:!e.isTwoginAccount,isSoleAccount:e.isTwoginAccount&&1===t}),s=e.isTwoginAccount?"settings/account_settings_login_account":"settings/account_settings_row";return O.render(s,n)},this.updateFromExistingAccount=function(e,t){if(0!==e.length){t.toggleClass(this.attr.accordionIsExpandedClass,e.hasClass(this.attr.accordionIsExpandedClass)),t.toggleClass(this.attr.accordionIsActiveClass,e.hasClass(this.attr.accordionIsActiveClass));var i=e.find(this.attr.manageTeamSelector).hasClass("is-hidden");t.find(this.attr.manageTeamSelector).toggleClass("is-hidden",i),t.find(this.attr.manageTeamDisabledSelector).toggleClass("is-hidden",!i)}},this.handleDefaultAccountSelected=function(e,t){var i=$(t.el).val();this.trigger("uiAccountAction",{action:"setDefault",accountKey:i}),this.trigger(document,"scribeEvent",{terms:{page:"settings",section:"accounts",element:"default",action:"select"}})},this.handleActionButtonClick=function(e,t){var i=$(t.el);if(!t.el.disabled&&!i.hasClass("is-disabled")){var n=i.attr("data-action"),r=i.attr("data-account-key"),o=s(n),a=this.getInfoNode(e),c=this.getUpdatedInvitations(a);switch(n){case"setDefault":this.trigger("uiAccountAction",{action:n,accountKey:r});break;case"removeCheck":this.toggleAccountRemoveCheck(r,!0);break;case"removeCancel":this.toggleAccountRemoveCheck(r,!1);break;case"remove":this.trigger("uiAccountAction",{action:n,accountKey:r});break;case"add":this.trigger("uiAccountAction",{action:n});break;case"manageContributors":this.showContributorManager(r);break;case"showInvitations":this.showTeamInvitations();break;case"setAccountSafeguard":var l=i.find("i").hasClass("icon-toggle-on");this.toggleAccountSafeguarded(r,l),this.trigger("metric",{key:"account:safeguard:"+(l?"disable":"enable")});break;case"inviteAccept":0===c.length&&this.hideTeamInvitations(),this.mergeState({invitations:c}),$(document).trigger("uiAcceptContributeeInvite",{accountKey:TD.storage.store.getTwitterLoginAccount().getKey(),userId:a.attr("data-user-id"),id:a.attr("data-user-id"),isAdmin:void 0!==a.attr("data-user-is-admin")}),this.updateInvitedNotification(),this.trigger("metric",{key:"contributors:ui:invite:click:accept"});break;case"inviteCancel":0===c.length&&this.hideTeamInvitations(),this.mergeState({invitations:c}),$(document).trigger("uiRemoveContributee",{accountKey:TD.storage.store.getTwitterLoginAccount().getKey(),userId:a.attr("data-user-id")}),this.updateInvitedNotification(),this.trigger("metric",{key:"contributors:ui:invite:click:reject"})}this.trigger(document,"scribeEvent",{terms:o})}},this.getInfoNode=function(e){return $(e.currentTarget).closest(".js-account-settings-invited-row")},this.getUpdatedInvitations=function(e){return this.state.invitations.filter(function(t){return t.id!==e.attr("data-user-id")})},this.getInvitedAccount=function(e){var t=$(e).attr("data-account-key");return this.select("accountsInvitedContainerSelector").find(this.attr.accountInvitedRowSelector+'[data-account-key="'+t+'"]')},this.isAccountSafeguarded=function(e){return TD.settings.getSafeguardedAccountList().some(function(t){return e===t})},this.toggleAccountSafeguarded=function(e,t){var i=t?"icon-toggle-off":"icon-toggle-on",n=t?"icon-toggle-on":"icon-toggle-off";t?TD.settings.removeSafeguardedAccount(e):TD.settings.addSafeguardedAccount(e),this.select("accountRowSelector").filter(function(t,i){return $(i).attr("data-account-key")===e}).find(this.attr.accountSafeguardSwitchSelector).addClass(i).removeClass(n)},this.handleActiveDrawer=function(e,t){t.activeDrawer||(this.hideContributorManager(),this.hideTeamInvitations())},this.toggleAccountRemoveCheck=function(e,t){var i=this.select("accountRowSelector").filter(function(t,i){return $(i).attr("data-account-key")===e}).toggleClass(this.attr.accountRemoveCheckClass,t).trigger("uiAccordionUpdatePanelHeights");t&&M.makeElementVisible(i.closest(this.attr.scrollContainerSelector),i.find(this.attr.accountsRemoveCheckSelector))},this.teardownContributorManagerInstances=function(){this.trigger(document,this.attr.contributorManagerTeardownEvent)},this.showContributorManager=function(e){var t=this.select("contributorManagerContainerSelector");this.teardownContributorManagerInstances(),this.$node.addClass(this.attr.shiftedColumnClass),this.mergeState({contributorManagerAccountKey:e}),this.attachChild(x,t,{accountKey:e,teardownOn:[this.attr.contributorManagerTeardownEvent,this.childTeardownEvent].join(" ")})},this.teardownTeamInvitationsInstances=function(){this.trigger(document,this.attr.teamInvitationsTeardownEvent)},this.showTeamInvitations=function(){var e=this.select("teamInvitationsSelector");this.teardownTeamInvitationsInstances(),this.$node.addClass(this.attr.shiftedColumnInvitationsClass);var t=this.connect(S.default,{mapStateToProps:function(e){return{invitations:e.invitations}}});this.attachChild(t,e,{teardownOn:this.attr.teamInvitationsTeardownEvent})},this.hideTeamInvitations=function(){this.teardownTeamInvitationsInstances(),this.$node.removeClass(this.attr.shiftedColumnInvitationsClass),this.recalculateAccordion(),this.trigger(document,"scribeEvent",{terms:{page:"settings",section:"team_invitations",element:"back",action:"click"}})},this.hideContributorManager=function(){this.teardownContributorManagerInstances(),this.state.contributorManagerAccountKey=null,this.$node.removeClass(this.attr.shiftedColumnClass),this.recalculateAccordion(),this.trigger(document,"scribeEvent",{terms:{page:"settings",section:"contributor_manager",element:"back",action:"click"}})},this.handleAccordionItemWillExpand=function(e){this.toggleAccountRemoveCheck(e.target.getAttribute("data-account-key"),!1)},this.handleAccordionItemDidExpand=function(){M.makeElementVisible(this.select("accountsScrollContainerSelector"),this.select("openAccountRowSelector"))},this.handleAccordionItemExpandAction=function(e){this.trigger(document,"scribeEvent",{terms:{page:"settings",section:"accounts",component:"account",action:"impression"}})},this.handleProfileLinkClick=function(){this.trigger(document,"scribeEvent",{terms:{page:"settings",section:"accounts",component:"account",element:"show_profile",action:"click"}})},this.handleEditProfileClick=function(){TD.util.openURL("https://twitter.com/settings/profile")},this.getAccountSettingsRow=function(e){return this.select("accountsScrollContainerSelector").find(this.attr.accountRowSelector+'[data-account-key="'+e+'"]')},this.updateInvitedNotification=function(){this.trigger("uiInvitedContributeeAccounts",{count:this.state.invitations.length})}}var a=i(39),c=n(a),l=i(18),u=n(l),d=i(4),h=n(d),p=i(7),f=n(p),m=i(214),g=n(m),v=i(920),T=n(v),y=i(13),w=n(y),b=i(6),D=i(1073),C=i(1016),S=n(C),E=i(90),I=i(465),A=i(30),x=i(951),k=i(38),M=i(217),O=i(3);e.exports=h.default.mixin(f.default,o,g.default,I,A)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({isActionsMenu:!0,profileActionsButtonSelector:".js-user-actions-menu",chirpActionsContainerSelector:".js-tweet-actions",profileMenuTemplate:"menus/actions",chirpMenuTemplate:"menus/actions",dmMenuTemplate:"menus/actions_directmessage",menuPosition:"pos-l",actionScribeElementMap:{mention:"tweet_to_user",message:"send_a_dm_to_user",lists:"add_or_remove_from_lists","flag-media":"flag_media",block:"block_user","report-tweet":"report_tweet","report-spam":"report_spam",followOrUnfollow:"follow_or_unfollow_from_accounts",favoriteOrUnfavorite:"like_or_unlike_from_accounts",follow:"follow",unfollow:"unfollow","reference-to":"link_to_this_tweet","message-to":"share_via_dm",email:"share_via_email",mute:"mute_user",unmute:"unmute_user",muteConversation:"mute_conversation",unmuteConversation:"unmute_conversation","undo-retweet":"undo_retweet",destroy:"delete_tweet",customtimelines:"add_to_collection",embed:"embed_this_tweet",translate:"translate"}}),this.after("initialize",function(){this.state={},this.around("handleDocumentClick",this.maybeStopDocumentClick),this.after("renderDropdown",this.addActionsMenuClickHandler),this.before("teardownCurrentDropdown",this.removeActionsMenuClickHandler),this.before("teardownCurrentDropdown",this.removeForcedActionsMenuContainerVisibility),this.on("uiDetailViewClosing uiMediaGalleryClosing uiTwitterProfileClosing",this.teardownCurrentDropdown),this.on("click",{profileActionsButtonSelector:this.handleUserButtonClick}),this.on("uiShowActionsMenu",this.handleShowActionsMenu)}),this.addActionsMenuClickHandler=function(){this.currentDropdown&&this.on(this.currentDropdown.$el,"click",this.handleActionsMenuClick)},this.removeActionsMenuClickHandler=function(){this.currentDropdown&&this.off(this.currentDropdown.$el,"click",this.handleActionsMenuClick)},this.removeForcedActionsMenuContainerVisibility=function(){this.state.$actionsMenuContainer&&(this.state.$actionsMenuContainer.removeClass("is-visible"),this.state.$actionsMenuContainer=null)},this.maybeStopDocumentClick=function(e,t){if(this.dropdownIsOpen()){0===$(t.target).closest(this.attr.profileActionsButtonSelector).length&&e(t)}},this.showActionsMenu=function(e,t,i){var n,s,r,o,a,c=1===TD.storage.accountController.getAccountsForService("twitter").length,l=void 0,u=e.hasClass("js-tweet-detail-action"),d=e.data("actions-menu-position");i?(i.getRelatedTweet&&(i=i.getRelatedTweet()||i),n=!c,s=i.getMedia().some(function(e){return e.flaggedNSFW}),r=i instanceof TD.services.TwitterConversationMessageEvent,o=r?this.attr.dmMenuTemplate:this.attr.chirpMenuTemplate,t=i.getMainUser(),l=i.conversationMuted):o=this.attr.profileMenuTemplate,a=!!TD.controller.clients.getClient(t.account.getKey()).mutes[t.id],this.renderDropdown(e,o,{showFavorite:n,isFlagged:s,isMuted:a,isMutedConversation:l,isTweetDetailAction:u,user:t,chirp:i,isSingleAccount:c},{toggle:!0,position:d||this.attr.menuPosition}),this.state={user:t,chirp:i,$actionsMenuContainer:e.closest(this.attr.chirpActionsContainerSelector)},this.state.$actionsMenuContainer.addClass("is-visible")},this.handleShowActionsMenu=function(e,t){var i=$(e.target),n=i.attr("data-parent-chirp-id");if(n||(n=i.attr("data-chirp-id")),!n)return this.handleUserButtonClick(e);var s=i.attr("data-account-key"),r=i.closest(".js-column").attr("data-column"),o=TD.controller.columnManager.findChirpByAccountKey({chirpId:n,accountKey:s,columnKey:r});this.showActionsMenu(i,null,o)},this.handleUserButtonClick=function(e){var t=$(e.target).closest(this.attr.profileActionsButtonSelector),i=t.data("user-id");if(i){var n=TD.cache.twitterUsers.getById(i);e.stopPropagation(),e.preventDefault(),n.addCallback(function(e){this.showActionsMenu(t,e,null)}.bind(this)),this.trigger("scribeEvent",{terms:(0,o.default)({},(0,u.getElementNamespace)(t),{element:"user_actions_menu",action:"click"})})}},this.handleFlagTweetSuccess=function(){this.state.chirp.getMedia().forEach(function(e){e.flaggedNSFW=!0}),(0,d.showNotification)({message:TD.i("Success: Media flagged")})},this.handleFlagTweetError=function(){(0,d.showErrorNotification)({message:TD.i("Error: Failed to flag media. Please try again.")})},this.scribeAction=function(e,t){this.trigger("scribeEvent",{terms:(0,o.default)({},(0,u.getElementNamespace)(t),{element:this.attr.actionScribeElementMap[e]||e.toLowerCase(),action:"click"})})},this.handleActionsMenuClick=function(e){var t=$(e.target);if(0!==t.closest(this.attr.isSelectedSelector).length){var i,n=t.data("action"),s=!0,r=this.state.user,o=this.state.chirp,a=[];switch(o&&a.push(o.account.getKey()),o?this.trigger("metric",{key:["chirp","ui",o.chirpType,n].join(":")}):this.trigger("metric",{key:["user","ui",n].join(":")}),this.scribeAction(n,t),n){case"mention":this.trigger("uiComposeTweet",{text:"@"+r.screenName+" ",from:a});break;case"message":this.trigger("uiComposeTweet",{type:"message",from:a,messageRecipients:[{screenName:r.screenName,avatar:r.profileImageURL}]});break;case"lists":new TD.components.AddToListsDialog(r);break;case"flag-media":(0,d.showNotification)({message:TD.i("Flagging media…")}),i=TD.controller.clients.getClient(o.account.getKey()),i.flagTweet(o.id,this.handleFlagTweetSuccess.bind(this),this.handleFlagTweetError);break;case"block":this.trigger("uiBlockAction",{account:r.account,twitterUser:r});break;case"report-tweet":this.trigger("uiShowReportOptions",{account:r.account,tweetId:o.id,twitterUser:r,isMessage:o instanceof TD.services.TwitterConversationMessageEvent,isMedia:o.hasMedia()});break;case"report-spam":this.trigger("uiShowReportUserOptions",{account:r.account,twitterUser:r});break;case"followOrUnfollow":this.trigger("uiShowFollowFromOptions",{userToFollow:r});break;case"favoriteOrUnfavorite":this.trigger("uiShowFavoriteFromOptions",{tweet:o});break;case"follow":r.follow(r.account,null,null,!0);break;case"unfollow":r.unfollow(r.account,null,null,!0);break;case"reference-to":this.trigger("uiShowCopyTweetLink",{url:o.getChirpURL()});break;case"message-to":o.messageTo();break;case"email":o.email();break;case"mute":r.mute(r.account);break;case"unmute":r.unmute(r.account);break;case"muteConversation":o.muteConversation(r.account);break;case"unmuteConversation":o.unmuteConversation(r.account);break;case"destroy":o.destroy();break;case"undo-retweet":$(document).trigger("uiUndoRetweet",{tweetId:o.getMainTweet().id,from:o.account.getKey()});break;case"customtimelines":new TD.components.AddToCustomTimelineDialog(o.getMainTweet());break;case"embed":this.trigger("uiShowEmbedTweet",{tweet:o.getMainTweet()});break;case"translate":o.translate();break;case"search-for-quoted":$(document).trigger("uiPerformSearch",{query:o.getChirpURL(),columnKey:t.closest(".js-column").attr("data-column")});break;default:s=!1}s&&(e.preventDefault(),e.stopPropagation()),this.teardownCurrentDropdown()}}}var r=i(15),o=n(r),a=i(2),c=i(215),l=n(c),u=i(143),d=i(6);e.exports=(0,a.component)(s,l.default)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"add_account_info",addAccountContinueSelector:".js-add-account-continue",account:null}),this.componentDidInitialize=function(){this.on("click",{addAccountContinueSelector:this.continueClick})},this.continueClick=function(){this.trigger("uiCloseModal"),(0,l.joinTeam)({windowOpener:p.default.isMacApp()?d.default:window.open.bind(window)}).then(function(e){TD.controller.clients.addExpectedNewContributeeId(e),TD.controller.clients.fetchContributees()},this.handleJoinTeamError.bind(this))},this.handleJoinTeamError=function(e){e.message===l.POPUP_BLOCKED&&(0,f.showErrorNotification)({message:TD.i("Could not join team - Popup was blocked by your browser")})},this.render=function(){var e=this.attr.account,t=o.default.render(this.attr.template,{screenName:e.getUsername(),profileImageURL:e.getProfileImageURL()});this.$node.html(t)}}var r=i(3),o=n(r),a=i(4),c=n(a),l=i(838),u=i(839),d=n(u),h=i(13),p=n(h),f=i(6);e.exports=c.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"column/add_to_custom_timeline",addToCustomTimelineInputSelector:".js-add-to-customtimeline-input",addToCustomTimelineButtonSelector:".js-add-to-customtimeline-button",customTimelineIdDataAttr:"customtimeline-id",accountKey:null,customTimelineId:null,spinnerButtonSelector:".js-spinner-button",spinnerButtonActiveSelector:".js-spinner-button-active",spinnerButtonActiveClass:"spinner-button-is-active",spinnerButtonHiddenClass:"is-hidden"}),this.componentDidInitialize=function(){this.on("uiInputSubmit",{addToCustomTimelineInputSelector:this.addTweetToCustomTimeline}),this.on("click",{addToCustomTimelineButtonSelector:this.addTweetToCustomTimeline}),this.on(document,"dataAddOrMoveTweetToCustomTimelineSuccess",function(e,t){this.eventIsForCustomTimeline(e,t)&&(this.spinnerButtonToggle(!1),_.get(t,"result.response.errors",[]).length?(0,l.showErrorNotification)({message:TD.i("Unable to add or move that Tweet")}):this.select("addToCustomTimelineInputSelector").val(""))}),this.on("dataAddOrMoveTweetToCustomTimelineError",function(e,t){this.eventIsForCustomTimeline(e,t)&&(this.spinnerButtonToggle(!1),(0,l.showErrorNotification)({message:TD.i("Unable to add or move that Tweet")}))})},this.render=function(){var e=this.attr,t=e.accountKey,i=e.customTimelineId,n=c.default.render(this.attr.template,{accountKey:t,customTimelineId:i});this.$node.html(n).removeClass("is-hidden"),this.$spinnerBtn=this.select("spinnerButtonSelector"),this.$spinnerBtnActive=this.select("spinnerButtonActiveSelector")},this.eventIsForCustomTimeline=function(e,t){var i=this.select("addToCustomTimelineInputSelector"),n=TD.util.extractTweetIdFromPermalink(i.val());return t.action.tweetId===n&&t.action.id===i.data(this.attr.customTimelineIdDataAttr)},this.addTweetToCustomTimeline=function(){var e=this.select("addToCustomTimelineInputSelector"),t=e.data("account-key"),i=e.data("customtimeline-id"),n=e.val(),s=TD.util.extractTweetIdFromPermalink(n);s?(this.trigger(document,"uiAddOrMoveTweetToCustomTimeline",{account:t,id:i,tweetId:s}),this.spinnerButtonToggle(!0)):((0,l.showErrorNotification)({message:TD.i("Can't recognize Tweet URL")}),this.spinnerButtonToggle(!1))},this.spinnerButtonToggle=function(e){this.$spinnerBtn.toggleClass(this.attr.spinnerButtonActiveClass,e),this.$spinnerBtnActive.toggleClass(this.attr.spinnerButtonHiddenClass,!e)}}var r=i(4),o=n(r),a=i(3),c=n(a),l=i(6);e.exports=o.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({headerActionSelector:".js-header-action",settingsButtonSelector:'[data-action="settings-menu"]',inviteCountSelector:".js-invite-count",userInfoSelector:".js-account-summary"}),this.initialState({showUpdateAvailable:!1,showDisableDogfood:!1}),this.after("initialize",function(){var e=this;this.on("click",this.handleClick),this.on(document,"uiToggleNavbarWidth",this.toggleNavbarWidth),this.on(document,"dataSettings",this.handleDataSettings),this.on(document,"uiInvitedContributeeAccounts",this.handleInvitedContributeeAccounts),this.on(document,"uiSuggestRefreshToggle",function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.shouldShow,s=void 0!==n&&n;return e.mergeState({showUpdateAvailable:s})}),this.select("headerActionSelector").on("mouseover",this.handleListItemMouseover.bind(this)).on("mouseout",this.handleListItemMouseout.bind(this)),this.trigger("uiNeedsSettings"),this.observe(this.requestResource("accounts.state")).pluck("loginAccount").filter(c.default).subscribe(this.renderUserInfo.bind(this)),this.observe((0,d.default)()).map(function(e){var t=(0,o.default)(e,"config.tweetdeck_devel.value",!1),i=(0,o.default)(e,"config.tweetdeck_dogfood.value",!1);return t||i}).subscribe(function(t){return e.mergeState({showDisableDogfood:t})}),this.after("stateChanged",this.maybeShowUpdateAvailable),this.setupCommands()}),this.renderUserInfo=function(e){var t=m.default.render("topbar/navbar_account_summary",e);this.select("userInfoSelector").html(t)},this.handleClick=function(e,t){var i=$(e.target).closest("[data-action]"),n=i.attr("data-action");if(i.length){switch("url"!==n&&e.preventDefault(),n){case"settings-menu":e.stopPropagation(),this.toggleSettingsDropdown(i),TD.controller.stats.navbarSettingsClick();break;default:this.performAction(n)}i.hasClass("js-show-tip")&&i.tooltip("hide"),this.destroyFlyover()}},this.setupCommands=function(){var e=this;this.addCommands([{label:TD.i("Show Accounts"),apply:function(){return e.performAction("account-settings")}},{label:TD.i("Add a Column"),shortcut:{key:"a"},apply:function(){return e.performAction("add-column")}},{label:TD.i("Expand/Collapse Navigation"),shortcut:{key:"x"},apply:function(){return e.performAction("change-sidebar-width")}},{label:TD.i("Search Twitter"),shortcut:{key:"/"},apply:function(){return e.performAction("show-search")}},{label:TD.i("Log out"),apply:function(){return e.performAction("signOut")}},{label:TD.i("Show Settings"),shortcut:{key:","},apply:function(){return e.performAction("globalSettings")}},{label:TD.i("Show Keyboard Shortcuts"),shortcut:{key:"?"},apply:function(){return e.performAction("keyboardShortcutList")}},{label:TD.i("Show Search Tips"),apply:function(){return e.performAction("searchOperatorList")}},{label:TD.i("Update TweetDeck"),apply:function(){return e.performAction("updateAvailable")},canApply:function(){return e.state.showUpdateAvailable}},{label:TD.i("Disable Dev/Dogfood Features"),apply:function(){return e.performAction("disableDogfood")},canApply:function(){return e.state.showDisableDogfood}}])},this.performAction=function(e){switch(e){case"account-settings":this.trigger("uiShowAccountSettings");break;case"add-column":TD.ui.openColumn.showOpenColumn(),TD.controller.stats.navbarAddColumnClick();break;case"show-lists":TD.ui.openColumn.showLists(),TD.controller.stats.navbarListsClick();break;case"show-customtimelines":TD.ui.openColumn.showCustomTimelines();break;case"change-sidebar-width":this.toggleNavbarWidth();break;case"show-search":this.trigger("uiShowSearchButtonClick");break;case"signOut":TD.controller.init.signOut();break;case"globalSettings":$(document).trigger("uiShowGlobalSettings");break;case"keyboardShortcutList":$(document).trigger("uiShowKeyboardShortcutList");break;case"searchOperatorList":$(document).trigger("uiShowSearchOperatorList");break;case"updateAvailable":this.trigger("uiAppHeaderUpdateAvailableClick");break;case"disableDogfood":this.trigger("uiReload",{params:{no_dogfood:1}})}},this.toggleSettingsDropdown=function(e){this.renderDropdown(e,"menus/topbar_menu",{account:TD.storage.accountController.getUserIdentifier(),showUpdateAvailable:this.state.showUpdateAvailable,showDisableDogfood:this.state.showDisableDogfood},{position:this.attr.dropdownPositions.verticalRight,toggle:!0})},this.toggleNavbarWidth=function(){var e;e=this.isCollapsed?"full-size":"condensed",this.trigger("uiNavbarWidthChangeAction",{navbarWidth:e})},this.maybeShowUpdateAvailable=function(){this.select("settingsButtonSelector").find(".icon").toggleClass("txt-twitter-yellow",this.state.showUpdateAvailable)},this.handleDataSettings=function(e,t){this.isCollapsed=Boolean("condensed"===t.navbarWidth)},this.handleListItemMouseover=function(e){if(this.isCollapsed&&!TD.util.isTouchDevice()){var t=$(e.currentTarget);this.renderFlyover(t)}},this.handleListItemMouseout=function(e){this.destroyFlyover()},this.handleInvitedContributeeAccounts=function(e,t){this.select("inviteCountSelector").text(t.count>20?"20+":t.count).toggleClass("is-visible",t.count>0)}}var r=i(17),o=n(r),a=i(264),c=n(a),l=i(87),u=i(63),d=n(u),h=i(7),p=n(h),f=i(3),m=n(f),g=i(2).component,v=i(61),T=i(1029),_=i(467),y=i(215),w=i(19);e.exports=g(v,w,p.default,s,T,_,y,l.flightWithCommands)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({sourceId:"appSearch",appSearchInputSelector:".js-app-search-input",searchButtonSelector:".js-perform-search",clearButtonSelector:".js-clear-search",KEY_CODE_MAP:{13:{name:"ENTER",event:"uiSearchInputSubmit",on:"keypress",preventDefault:!0},27:{name:"ESC",event:"uiSearchInputEscaped",on:"keydown"},9:{name:"TAB",event:"uiSearchInputTab",on:"keydown",preventDefault:!0},37:{name:"LEFT",event:"uiSearchInputLeft",on:"keydown"},39:{name:"RIGHT",event:"uiSearchInputRight",on:"keydown"},38:{name:"UP",event:"uiSearchInputMoveUp",on:"keydown",preventDefault:!0},40:{name:"DOWN",event:"uiSearchInputMoveDown",on:"keydown",preventDefault:!0}}}),this.after("initialize",function(){d.default.attachTo(this.$node,{source:"appSearch"}),this.$input=this.select("appSearchInputSelector"),this.on(this.$input,"keyup keydown keypress paste",this.modifierKeyPressed),this.on(this.$input,"focus",this.handleFocus),this.on(this.$input,"uiInputBlur",function(e){this.$input.blur()}),this.on(this.$input,"click",function(e){e.stopPropagation()}),this.on(this.select("searchButtonSelector"),"click",function(e){this.trigger(this.$input,"uiSearchInputSubmit",{query:this.$input.val()})}),this.on(this.select("clearButtonSelector"),"click",this.handleClearSearchAction),this.on("uiAppSearchSetPreventDefault",this.setPreventKeyDefault),this.on("uiAppSearchSubmit",this.handleAppSearchSubmit),this.on(document,"uiNewSearchQuery uiSearchInputChanged",this.handleSearchInputChanged),this.on("uiSearchInPopoverHidden",this.handleResetState)}),this.handleSearchInputChanged=function(e,t){t.source!==this.attr.sourceId&&(this.$input.val(t.query),this.currentQuery=t.query)},this.handleAppSearchSubmit=(0,c.default)(function(e,t){this.trigger(this.$input,"uiSearchInputSubmit",{query:t.query,columnKey:t.columnKey})},100),this.around("trigger",function(){var e,t=[].slice.call(arguments),i=t.shift();"string"!=typeof t[t.length-1]&&(e=t.pop()),void 0===e?e={source:this.attr.sourceId}:e.source=this.attr.sourceId,t.push(e),i.apply(this,t)}),this.setPreventKeyDefault=function(e,t){this.attr.KEY_CODE_MAP[t.key].preventDefault=t.preventDefault},this.handleFocus=function(e){(0,o.default)(this.$input.select.bind(this.$input)),this.trigger(this.$input,"uiSearchInputFocus",{query:this.$input.val()})},this.modifierKeyPressed=function(e){var t=this.$input.val();t=""===t.trim()?"":t;var i=this.attr.KEY_CODE_MAP[e.which||e.keyCode];if(i){if(e.type!==i.on)return;i.preventDefault&&e.preventDefault(),this.trigger(this.$input,i.event,{query:t,cursorPosition:this.$input[0].selectionStart})}else this.setQueryAndTriggerUpdateEvent(t)},this.setQueryAndTriggerUpdateEvent=function(e){this.currentQuery&&this.currentQuery===e||(this.currentQuery=e,this.trigger(this.$input,"uiSearchInputChanged",{query:this.currentQuery}))},this.focusInput=function(){this.$input.focus()},this.handleClearSearchAction=function(){this.focusInput()},this.handleResetState=function(){this.currentQuery=null,this.$input.val("")},this.before("teardown",function(){this.trigger("uiDestroyAsynchronousForm")})}var r=i(162),o=n(r),a=i(382),c=n(a),l=i(2),u=i(283),d=n(u);e.exports=(0,l.component)(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({develFeatureFlag:"tweetdeck_devel",dogfoodFeatureFlag:"tweetdeck_dogfood"}),this.initialState({originalTitle:function(){return document.title},isDevel:!1,isDogfood:!1}),this.componentDidInitialize=function(){this.watchFeatureFlags()},this.watchFeatureFlags=function(){var e=this;this.observe((0,u.default)()).map(function(t){return{isDevel:(0,c.default)(t,["config",e.attr.develFeatureFlag,"value"],!1),isDogfood:(0,c.default)(t,["config",e.attr.dogfoodFeatureFlag,"value"],!1)}}).subscribe(function(t){return e.mergeState(t)})},this.shouldComponentUpdate=function(e,t){return!(0,o.default)(t,this.state)},this.render=function(){document.title=this.getTitleFromState(this.state)},this.getTitleFromState=function(e){var t=e.isDevel?"Dev":"",i=e.isDogfood?"Dogfood":"",n=[t,i].filter(Boolean).join(" + ").trim();return n?n+" :: "+e.originalTitle:e.originalTitle}}var r=i(97),o=n(r),a=i(17),c=n(a),l=i(63),u=n(l),d=i(4),h=n(d),p=i(7),f=n(p);e.exports=h.default.mixin(s,f.default)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"chart_with_controls",gridChartSelector:".js-insights-grid-chart",datePickerSelector:".js-insights-date-picker",title:void 0,chartTermsSelector:".js-chart-terms",initialTerms:void 0,minDate:void 0,maxDate:void 0}),this.componentDidInitialize=function(){this.initialRender(),this.attachDatePicker(),this.attachTermsInput(),this.attachChart()},this.initialRender=function(){var e=u.default.render(this.attr.template,{title:this.attr.title});this.$node.html(e)},this.render=function(){},this.attachChart=function(){var e=this,t=this.connect(h.default,{mapStateToProps:function(){return{chartData:e.props.chartData}}});this.attachChild(t,this.select("gridChartSelector"))},this.createDatePicker=function(e){var t=e.minDate,i=e.maxDate;return new f.default({dateRangeOptions:{datePickerOptions:{minDate:t,maxDate:i},customPresetText:"Custom",defaultPresetFunction:this.lastDay.bind(this),presets:[{text:TD.i("Last hour"),fn:this.lastHour.bind(this)},{text:TD.i("Last 3 hours"),fn:this.last3Hours.bind(this)},{text:TD.i("Last 24 hours"),fn:this.lastDay.bind(this)},{text:TD.i("Last 48 hours"),fn:this.last2Days.bind(this)},{text:TD.i("Last 7 days"),fn:this.last7Days.bind(this)},{text:TD.i("Last 30 days"),fn:this.last30Days.bind(this)}]},targetLabelText:function(e,t,i){return i||(0,g.default)(e).format("ll")+" - "+(0,g.default)(t).format("ll")}})},this.attachDatePicker=function(){var e=this,t=this.attr,i=t.minDate,n=t.maxDate;this.datePicker=this.createDatePicker({minDate:i,maxDate:n}),this.datePicker.$el.addClass("Button--small"),this.select("datePickerSelector").append(this.datePicker.$el),this.datePicker.dateRange.on(w.default.events.CHANGE,function(t,i){e.props.updateChartDateRange(i),e.scribeEvent({section:"date_picker",element:"date_range",action:"change"})}),this.datePicker.dateRange.on(w.default.events.PRESET_SELECT,function(t,i){e.scribeEvent({section:"date_picker",element:"preset",action:"click"},{value:i.text})})},this.attachTermsInput=function(){var e=this,t=this.select("chartTermsSelector");this.tokenInput=new T.default({placeholderText:TD.i("Add terms to compare"),tokenSelected:function(){return!0},value:this.attr.initialTerms,maxLength:4,tokenColor:_.getNamedChartColor}),this.tokenInput.on(T.default.events.CHANGE,function(t){e.props.updateChartTerms(t.detail),e.scribeEvent({section:"input",element:"token",action:"change"})}),t.append(this.tokenInput.el)},this.lastHour=function(){return{endDate:this.attr.maxDate,startDate:new Date(this.attr.maxDate-(0,b.hoursAgoInMilliseconds)(1))}},this.last3Hours=function(){return{endDate:this.attr.maxDate,startDate:new Date(this.attr.maxDate-(0,b.hoursAgoInMilliseconds)(3))}},this.lastDay=function(){return{endDate:this.attr.maxDate,startDate:new Date(this.attr.maxDate-(0,b.daysAgoInMilliseconds)(1))}},this.last2Days=function(){return{endDate:this.attr.maxDate,startDate:new Date(this.attr.maxDate-(0,b.daysAgoInMilliseconds)(2))}},this.last7Days=function(){return{endDate:this.attr.maxDate,startDate:new Date(this.attr.maxDate-(0,b.daysAgoInMilliseconds)(7))}},this.last30Days=function(){return{endDate:this.attr.maxDate,startDate:new Date(this.attr.maxDate-(0,b.daysAgoInMilliseconds)(30))}},this.scribeEvent=function(e,t){this.trigger("scribeEvent",{terms:(0,o.default)({page:"insights_panel"},e),data:(0,o.default)({},t)})}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(15),o=n(r),a=i(4),c=n(a),l=i(3),u=n(l),d=i(285),h=n(d),p=i(719),f=n(p),m=i(60),g=n(m),v=i(791),T=n(v),_=i(219),y=i(438),w=n(y),b=i(176);t.default=c.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({columnMessageSelector:".js-column-message",columnDragDropOverlayText:".js-drag-drop-overlay-text",columnDragDropOverlaySpinner:".js-drag-drop-overlay-spinner",columnMessageTemplate:"column/column_message",filterErrorTemplate:"column/column_filter_error",filterErrorClass:"filter-error",showDetailViewClass:"is-shifted-1",showSocialProofClass:"is-shifted-2",socialProofSelector:".js-column-social-proof",columnStateDefault:"default",columnStateDetailView:"detailView",columnStateSocialProof:"socialProof",moreTweetsButtonContainerSelector:".more-tweets-btn-container",moreTweetsButton:".js-more-tweets-btn",moreTweetsGlow:".js-more-tweets-glow",tweetTextSelector:".tweet-text",tweetDragHandleSelector:".tweet-drag-handle",columnScrollerIsAnimatingClass:"is-column-scroller-animating",isNewClass:"is-new",chirpSelector:".js-stream-item",tweetActionsSelector:".js-tweet-actions",tweetActionsVisibleClass:"is-visible",animateInClass:"anim-rotate-in",animateOutClass:"anim-rotate-out",customTimelineDescriptionSelector:".js-customtimeline-description",shareColumnSelector:".js-share-column",otherRepliesStreamLinkSelector:".js-other-replies-link",focusId:null,tweetImpressionTrackingPeriod:250,scribeElementSelector:"[data-scribe-element]",userSelectorInputSelector:".js-username-input",isOptionsOpenClass:"is-options-open",headerActionButtonSelector:".js-action-header-button, .js-column-message",dropIndicatorId:"custom-timeline-drop-indicator",dropIndicatorClassName:"drop-indicator",insightsEntryPoint:".js-insights-entry-point",searchFilterCalloutSelector:".js-search-filter-callout",liveVideoSelector:".js-live-video",searchFilterSelector:".js-search-filter",addToCustomTimelineSelector:".js-add-to-customtimeline",addToCustomTimelineInputSelector:".js-add-to-customtimeline-input",customTimelineIdDataAttr:"customtimeline-id"}),this.initialState({isRebroadCasting:!1}),this.componentDidInitialize=function(){var e=this;this.attachChild(W,this.$node),(0,x.browserNeedsWillAnimateFix)()&&$(this.$node).addClass("will-animate"),this.columnKey=this.$node.data("column"),this.column=TD.controller.columnManager.get(this.columnKey),this.visibleChirpsTierTwo={},this.visibleChirpsTierThree={};var t,i,n,s=this.column.getCustomTimelineFeed(),r=this.column.isOwnCustomTimeline();if(r&&(t=s.getMetadata(),i=t.id,n=TD.storage.Account.generateKeyFor("twitter",t.ownerId)),this.targetTopPosition=0,this.$socialProofContainer=this.select("socialProofSelector"),this.$columnOptions=this.select("columnOptionsSelector"),this.$scrollContainer=this.select("scrollContainerSelector"),this.createNewHeightCache(),this.renderColumnMessage(),"col_customtimeline"===this.column.getColumnType()){var o=this.getMomentMakerProStream();this.observe(o).subscribe(function(t){e.column.hasMomentMakerProAccess=t})}if(this.attr.tweetImpressionTrackingPeriod>0&&(this.scribeTweetImpressions=k.throttle(this.scribeTweetImpressions.bind(this),this.attr.tweetImpressionTrackingPeriod)),this.setupDragDrop({type:"tweet",indicateDrop:!1,predrag:function(e,t){$(t.el).closest(this.attr.tweetActionsSelector).addClass(this.attr.tweetActionsVisibleClass)},dragend:function(e,t){$(t.el).closest(this.attr.tweetActionsSelector).removeClass(this.attr.tweetActionsVisibleClass)}}),this.on("click",{shareColumnSelector:this.handleShareColumnButtonClick,scribeElementSelector:this.handleScribeElementClick,headerActionButtonSelector:k.throttle(this.handleHeaderClick.bind(this),300)}),this.on("click",{otherRepliesStreamLinkSelector:function(t,i){var n=$(t.target).closest("[data-recipient-ids]").attr("data-recipient-ids");if(n){var s=n.split(",").map(function(e){return{id:e}});e.recipientUsersRequestId=q.requestUsers(s)}}}),this.on("mediaGalleryRequestTwitterUsersForReplyModal",function(t,i){var n=q.getImplicitMentions(i.userMentions);e.recipientUsersRequestId=q.requestUsers(n)}),this.on(document,"dataTwitterUsers",function(t,i){if(i.requestId===e.recipientUsersRequestId){var n=q.getDefaultModalOptions();e.showModal(V,{replies:i.users,withUserBio:!0,withComposeContext:!1},(0,c.default)({},n,{title:TD.i("People in conversation")}))}}),this.on("uiViewTimeline",this.handleViewTimeline),this.on("uiReferenceTimeline",this.handleReferenceTimeline),this.on("uiDetailViewActive",this.handleDetailViewActive),this.on("uiDetailViewClosed",this.handleDetailViewClosed),this.on("uiCloseDetailView",this.handleCloseDetailView),this.on("uiSocialProofForTweetClosed",this.handleSocialProofClosed),this.on("uiShowSocialProof",this.handleShowSocialProof),this.on("uiCloseSocialProof",this.handleCloseSocialProof),this.on(document,"uiShowDmParticipants",this.handleShowDmParticipants),this.on("uiDmParticipantsClosed",this.handleCloseDmParticipants),this.on("uiColumnOptionsShown",this.handleColumnOptionsShown),this.on("uiHidingColumnOptions",this.handleHidingColumnOptions),this.on("uiShowingColumnOptions",this.handleShowingColumnOptions),this.on("uiColumnOptionsHidden",this.handleColumnOptionsHidden),this.on("uiUpdateLiveVideoTimeline",this.handleLiveVideoTimelineUpdate),this.on("uiMarkAllMessagesRead",this.handleMarkAllRead),this.on("uiReadStateChange",this.handleColumnReadStatus),this.on(document,"uiMessageThreadRead",this.handleMessageThreadRead),this.on(document,"uiMessageUnreadCount",this.handleMessageCount),this.on("uiColumnUpdateSearchFilter",this.handleUpdateSearchFilter),this.on("uiColumnUpdateMediaPreview",this.handleUpdateMediaPreview),this.on("dataColumnUpdatingFilters dataColumnUpdatingFeed",this.handleColumnUpdating),this.on("dataColumnFiltersUpdated dataColumnFeedUpdated",this.handleColumnUpdated),this.on("uiColumnTitleUpdate",this.handleColumnTitleUpdate),this.on("uiRemoveColumn",this.handleUiRemoveColumn),this.on("uiExitSettings",this.exitEditMode),this.on("uiEnterSettings",this.enterEditMode),this.on("mouseover",{tweetDragHandleSelector:function(e,t){var i=t.el;G.makeTweetDraggable(i)}}),this.on("mouseout",{tweetDragHandleSelector:k.debounce(function(e,t){var i=t.el;G.makeTweetUnDraggable(i)},50)}),this.on(document,"dataSerializedColumn",this.handleSerializedColumn),this.on(document,"dataSettingsValues",this.handleSettingsChange),this.on(document,"uiColumnUpdateMediaPreview",this.handleMediaPreviewChange),this.on(document,"uiFocus",function(e,t){this.hasFocus=t.id===this.attr.focusId,this.hasFocus&&this.scribeTweetImpressions()}),this.on(this.$scrollContainer,"scroll",this.scribeTweetImpressions),this.on(document,"uiColumnVisibilities",this.handleColumnVisibilities),this.on(document,"uiColumnChirpsChanged",function(e,t){t.id===this.columnKey&&this.scribeTweetImpressions()}),this.on("uiDetailViewClosed uiTransitionExpandEnd",this.scribeTweetImpressions),this.on(window,"resize",k.debounce(this.handleWindowResize.bind(this),300)),this.on(document,TD.util.visibilityChangeEventName(),function(e){this.scribeTweetImpressions()}),this.on(window,"beforeunload",this.scribeAllChirpsHidden),this.setMoreTweetsDesign(),this.attachChild(H,this.$node),r&&(this.setupDragDrop({type:"tweet",indicateDrop:!0,dragstart:this.onDragStart,dragleave:this.onDragLeave,dragover:this.onDragOver,dragend:this.onDragEnd,drop:this.onDrop}),this.attachChild(I.default,this.select("addToCustomTimelineSelector"),{accountKey:n,customTimelineId:i}),this.on(document,"dataAddOrMoveTweetToCustomTimelineSuccess",this.boundedRefreshCustomTimelineFeed.bind(this)),this.on(document,"dataAddOrMoveTweetToCustomTimelineError",this.onDragLeave),this.on(document,"dataRemoveTweetFromCustomTimelineSuccess",this.removeChripFromCustomTimelineFeed.bind(this)),this.on("uiRemoveTweetFromCustomTimeline",this.rebroadcast(this.transformRemoveTweetFromCustomTimeline))),s&&this.attachChild(L,this.select("customTimelineDescriptionSelector"),{withAutoComplete:!1,customTimelineId:s.getMetadata().id,isOwnCustomTimeline:this.column.isOwnCustomTimeline(),columnKey:this.columnKey,readOnly:this.column.temporary,accountKey:s.getAccountKey(),maxCharCount:160}),this.column.isSearchColumn()&&!this.column.temporary&&"awaiting_backfill"===this.column.state&&this.attachChild(y.default,this.select("searchFilterCalloutSelector")),"col_livevideo"===this.column.getColumnType()){var a=this.column.getFeeds()[0].getMetadata();this.attachChild(S.default,this.select("liveVideoSelector"),(0,c.default)({},a,{isTemporaryColumn:this.column.temporary}))}if(this.on("uiCardDidResize",this.handleCardResized),this.column.isSearchColumn()){var l=f.default.nextTeardownEvent();this.observe(A.enableDataDrawer$).distinctUntilChanged().subscribe(function(t){if(t){var i=e.connect(T.default,{mapStateToProps:function(){return{matching:k.get(e.props,"matching",null)}}});e.attachChild(i,e.select("insightsEntryPoint"),{teardownOn:l+" "+e.childTeardownEvent})}else e.trigger(l)})}},this.render=function(){},this.handleCardResized=function(e,t){var i=this,n=t.height,s=$(e.target).closest(".js-card-container"),r=$(e.target).closest(".js-stream-item"),o=r.attr("data-key");TD.ui.columns.alterColumnContents(this.columnKey,r,function(){s.removeClass("height--0"),s.height(n),i.chirpHeightCache.put(o,r.height())})},this.handleScribeElementClick=function(e){var t=$(e.target);if(this.column.isDataminr()&&(this.$scrollContainer.find(t).length||this.column.detailViewComponent)){var i=t.closest(this.attr.scribeElementSelector).attr("data-scribe-element"),n=this.column.detailViewComponent?"dataminr_alert_detail":"dataminr_alert";TD.controller.stats.dataminrClickImpression(n,i)}},this.handleHeaderClick=function(e){return e.preventDefault(),e.stopPropagation(),this.handleHeaderAction($(e.target).closest("[data-action]").attr("data-action"),e)},this.handleHeaderAction=function(e,t){var i=this.$node,n=i.attr("data-column");switch(e){case"options":i.hasClass(this.attr.isOptionsOpenClass)?this.exitEditMode():(this.enterEditMode(),$(document).trigger("scribeEvent",{terms:(0,c.default)({},(0,w.getElementNamespace)($(t.currentTarget)),{element:"options",action:"click"})}));break;case"user-filter":case"content-filter":case"action-filter":case"engagement-filter":this.enterEditMode(e);break;case"mark-all-read":TD.controller.stats.messagesColumnHeaderClick("mark_all_read"),this.trigger("uiMarkAllMessagesRead",{columnKey:n});break;case"compose-dm":TD.controller.stats.messagesColumnHeaderClick("compose"),this.trigger("uiComposeTweet",{type:"message",columnKey:n});break;case"message-menu":var s=$(t.target).closest("[data-action]"),r=s.data("conversation-id"),o=s.data("account-key");i.trigger("uiShowConversationMenu",{conversationId:r,accountKey:o,columnKey:n,$targetElement:s})}},this.setColumnState=function(e){switch(this.$node.removeClass([this.attr.showDetailViewClass,this.attr.columnStateDetailViewClass,this.attr.showSocialProofClass,this.attr.columnStateSocialProofClass].join(" ")),e){case this.attr.columnStateDetailView:this.$node.addClass(this.attr.showDetailViewClass),this.$node.addClass(this.attr.columnStateDetailViewClass);break;case this.attr.columnStateSocialProof:this.$node.addClass(this.attr.showSocialProofClass),this.$node.addClass(this.attr.columnStateSocialProofClass),this.$node.one(J,function(){this.select("userSelectorInputSelector").focus()}.bind(this))}},this.handleDetailViewActive=function(){this.setColumnState(this.attr.columnStateDetailView),this.scribeAllChirpsHidden(),this.pause()},this.handleDetailViewClosed=function(){this.setColumnState(this.attr.columnStateDefault),this.column.detailViewComponent=null,this.unpause()},this.handleCloseDetailView=function(){this.column.detailViewComponent.destroy()},this.handleShowSocialProof=function(e,t){this.attachChild(N,this.$socialProofContainer,{type:t.type,tweetSummary:t.tweetSummary}),this.setColumnState(this.attr.columnStateSocialProof)},this.handleSocialProofClosed=function(){this.setColumnState(this.attr.columnStateDetailView)},this.handleCloseSocialProof=function(){this.trigger(this.$socialProofContainer,"uiSocialProofForTweetClose")},this.handleColumnTitleUpdate=function(e,t){if(this.column.isSearchColumn()){this.column.setMatchingFilter(t.title);var i=this.column.getSearchFilter();this.select("searchFilterSelector").trigger("uiSearchFilterUpdateAction",{filter:i.content,filterName:"matching",type:"content",value:t.title}),this.$columnOptions.trigger("uiUpdateTitle",t),TD.controller.stats.columnHeaderSearchUpdate(t.title)}},this.handleShowDmParticipants=function(e,t){t.columnKey===this.columnKey&&(this.attachChild(F,this.$socialProofContainer,t),this.setColumnState(this.attr.columnStateSocialProof))},this.handleCloseDmParticipants=function(e,t){this.setColumnState(this.attr.columnStateDetailView)},this.pause=function(){this.column.isTrackingRealtime&&(this.paused=!0,this.column.isTrackingRealtime=!1,this.column.ui.pause())},this.unpause=function(){this.paused&&0===this.column.getNumUnseenChirps()&&(this.column.isTrackingRealtime=!0,this.column.ui.unpause()),this.paused=!1},this.handleUiRemoveColumn=function(){var e=(0,o.default)(this.column.updateIndex);this.column.ui.removeChirps(e,{willBreakScrollPosition:!1}),this.scribeAllChirpsHidden(),this.teardown()},this.handleShareColumnButtonClick=function(e,t){var i=$(t.el);this.toggleShareMenu(e,i)},this.getMomentMakerProStream=function(){return(0,D.default)().map(function(e){return k.get(e,"config.tweetdeck_create_moment_pro.value",!1)}).startWith(!1)},this.toggleShareMenu=function(e,t){e.preventDefault(),e.stopPropagation();var i=this.attr.dropdownPositions,n={position:[i.offsetRight,i.underLeftIcon].join(" "),toggle:!0};this.renderDropdown(t,"menus/column_share",this.column,n)},this.getCustomTimelineDataForPermalink=function(){var e=this.column.getCustomTimelineFeed(),t=e.getMetadata(),i=TD.util.deMentionify(TD.cache.names.getScreenName(t.ownerId)),n=TD.cache.names.getCustomTimelineName(t.id,t.ownerId);if(!i)throw new Error("Could not get username from name cache.");return{username:i,name:n,id:t.id.replace(/[^\d]*/,"")}},this.getCustomTimelinePermalinkURL=function(){var e=this.getCustomTimelineDataForPermalink();return Y.toURLFromRaw("https://twitter.com/{{username}}/timelines/{{id}}",{username:e.username,id:e.id})},this.getCustomTimelinePermalinkURLWithDescription=function(){var e=this.getCustomTimelineDataForPermalink();return Y.toHtmlFromRaw("“{{name}}” - @{{username}} “https://twitter.com/{{username}}/timelines/{{id}}”",{name:e.name,username:e.username,id:e.id})},this.handleViewTimeline=function(){var e=this.getCustomTimelinePermalinkURL();TD.util.openURL(e)},this.handleReferenceTimeline=function(){"col_customtimeline"===this.column.getColumnType()?this.trigger("uiComposeTweet",{appendText:this.getCustomTimelinePermalinkURLWithDescription()}):this.trigger("uiNeedsSerializedColumn",{columnId:this.columnKey})},this.handleShowingColumnOptions=function(e,t){var i=this.select("columnMessageSelector");i.css({opacity:0}),this.transitionCollapse(i)},this.handleColumnOptionsShown=function(e,t){this.attachChild(R,this.$columnOptions)},this.handleHidingColumnOptions=function(e){this.trigger(this.$columnOptions,"uiDestroyAsynchronousForm"),this.renderColumnMessage()},this.handleColumnOptionsHidden=function(e,t){this.select("columnMessageSelector").animate({opacity:1},150,"easeInOutQuad")},this.renderColumnMessage=function(){var e,t=this.select("columnMessageSelector");this.column.hasActiveSearchFilters()?(this.column.hasFilterError()?(e=$(Y.render(this.attr.filterErrorTemplate)),t.addClass(this.attr.filterErrorClass)):(e=$(Y.render(this.attr.columnMessageTemplate,{action:!this.column.isSingleActionTypeColumn()&&!this.column.isSearchColumn()&&this.column.hasActiveActionFilters(),content:this.column.hasActiveContentFilters(),location:this.column.hasActiveLocationFilters(),user:this.column.hasActiveUserFilters(),engagement:this.column.hasActiveEngagementFilters()})),t.removeClass(this.attr.filterErrorClass)),this.animateElementContentHeight(t,e)):this.animateElementContentHeight(t,"")},this.handleSettingsChange=function(e,t){(t.font_size||t.column_width)&&(this.createNewHeightCache(),this.scribeTweetImpressions())},this.handleMediaPreviewChange=function(e,t){this.createNewHeightCache(),this.scribeTweetImpressions()},this.createNewHeightCache=function(){this.chirpHeightCache=new O(200)},this.getColumnTopError=function(){var e,t=this.select("scrollContainerSelector"),i=0;return t.hasClass(this.attr.columnScrollerIsAnimatingClass)||(e=this.select("columnOptionsContainerSelector").height(),i=e-this.targetTopPosition),i},this.handleShowUserFilter=function(){this.trigger(this.$columnOptions,"uiShowUserFilter")},this.handleShowContentFilter=function(){this.trigger(this.$columnOptions,"uiShowContentFilter")},this.handleUpdateSearchFilter=function(e,t){this.column.updateSearchFilter(t)},this.handleUpdateMediaPreview=function(e,t){this.column.setMediaPreviewSize(t.value)},this.handleColumnUpdating=function(){this.trigger(this.$columnOptions,"uiWaitingForAsyncResponse")},this.handleColumnUpdated=function(){this.trigger(this.$columnOptions,"uiReceivedAsyncResponse")},this.handleMarkAllRead=function(){this.column.markAllMessagesAsRead()},this.handleSerializedColumn=function(e,t){if(t.columnId===this.columnKey){var i=Y.toHtmlFromRaw("Check out this TweetDeck column: “{{url}}”",{name:this.column.model.getTitle(),url:t.url});this.trigger("uiComposeTweet",{appendText:i})}},this.handleMessageCount=function(e,t){if(this.columnKey===t.columnKey){var i=this.select("columnUnreadCountSelector"),n=i.text()||"0",s="0"===n&&"0"!==t.count,r="0"!==n&&"0"===t.count;i.text(t.count),s&&(this.stopAnimation(i,this.attr.animateOutClass),i.addClass("is-visible"),this.addAnimateClass(i,this.attr.animateInClass)),r&&(this.stopAnimation(i,this.attr.animateInClass),this.addAnimateClass(i,this.attr.animateOutClass,function(){i.removeClass("is-visible")}))}},this.handleColumnReadStatus=function(e,t){this.column.isMessageColumn()||(t.columnKey=this.columnKey,this.$node.toggleClass(this.attr.isNewClass,!t.read))},this.handleMessageThreadRead=function(e,t){this.column.isMessageColumn()&&this.trigger(document,"uiMessageUnreadCount",{columnKey:this.columnKey,count:this.column.unreadMessageCount()})},this.handleColumnVisibilities=function(e,t){var i=this.column.visibility,n=t[this.columnKey];if(n&&(this.column.visibility=n,i.visibleFraction!==n.visibleFraction&&this.scribeTweetImpressions(),TD.decider.get("dev_hide_offscreen_columns"))){var s=0===this.column.visibility.visibleFraction;this.select("columnContentSelector").toggleClass("is-hidden",s)}},this.getChirpVerticalVisibileFraction=function(e,t){if(t<=0)return 0;var i=Math.min(this.scrollContainerHeight,Math.max(0,e));return(Math.min(this.scrollContainerHeight,Math.max(0,e+t))-i)/t},this.scribeTweetImpressions=function(){var e=Date.now(),t=this.column.temporary||this.column.visibility.visibleFraction>.5,i=this.$node.hasClass(this.attr.columnStateDetailViewClass)||this.$node.hasClass(this.attr.columnStateSocialProofClass);TD.util.documentIsHidden()||i||!t?(this.setAllChirpsHidden(),this.updateVisibleChirps(e)):(this.updateVisibleChirps(e),this.updateVisibleChirpsWithEndTimes(e),TD.controller.stats.tweetStreamImpression(this.column.getColumnType(),this.getChirpsToScribeTierTwo())),TD.controller.stats.tweetStreamImpression(this.column.getColumnType(),this.getChirpsToScribeTierThree(),!0),this.removeScribedChirpsFromVisibleChirps()},this.scribeAllChirpsHidden=function(){this.setAllChirpsHidden(),TD.controller.stats.tweetStreamImpression(this.column.getColumnType(),this.getChirpsToScribeTierThree(),!0)},this.handleWindowResize=function(){this.scrollContainerHeight=this.$scrollContainer.height()},this.updateVisibleChirps=function(e){var t=!1;this.scrollContainerHeight=this.scrollContainerHeight||this.$scrollContainer.height();var i=null,n=[];this.select("chirpSelector").each(function(s,r){var o=$(r),a=o.attr("data-key"),c=this.chirpHeightCache.get(a);if(!c){if((c=o.height())<=0)return;this.chirpHeightCache.put(a,c)}var l;l=null===i?o.position().top:i+1,i=l+c;var u=this.getChirpVerticalVisibileFraction(l,c),d=u*(this.column.temporary?1:this.column.visibility.visibleFraction);if(d<=0&&t)return!1;if(d>0){t=!0,n.push({$elem:o,id:a,chirp:this.column.findChirp(a)});var h=this.visibleChirpsTierTwo[a];h||(h={scribed:!1}),this.visibleChirpsTierTwo[a]=h}if(d>.5){var p=this.visibleChirpsTierThree[a];p||(p={scribed:!1,visibilityStart:e}),p.knownVisible=!0,this.visibleChirpsTierThree[a]=p}}.bind(this)),this.trigger("uiVisibleChirps",{columnKey:this.columnKey,chirpsData:n})},this.updateVisibleChirpsWithEndTimes=function(e){(0,o.default)(this.visibleChirpsTierThree).forEach(function(t){var i=this.visibleChirpsTierThree[t];i.knownVisible||(i.visibilityEnd=e),this.visibleChirpsTierThree[t]=i},this)},this.getChirpsToScribeTierThree=function(){var e=[];return(0,o.default)(this.visibleChirpsTierThree).forEach(function(t){var i,n=this.visibleChirpsTierThree[t];n.visibilityStart&&n.visibilityEnd&&(n.visibilityEnd-n.visibilityStart>500&&(i=this.column.findMostInterestingChirp(t))instanceof TD.services.TwitterStatus&&e.push(i.getScribeItemData(n)),n.scribed=!0,this.visibleChirpsTierThree[t]=n)},this),e},this.getChirpsToScribeTierTwo=function(){var e=[];return(0,o.default)(this.visibleChirpsTierTwo).forEach(function(t){var i,n=this.visibleChirpsTierTwo[t];this.column.scribedImpressionIDs.get(t)||(i=this.column.findMostInterestingChirp(t),i instanceof TD.services.TwitterStatus&&e.push(i.getScribeItemData(n)),this.column.scribedImpressionIDs.put(t,!0)),n.scribed=!0,this.visibleChirpsTierTwo[t]=n},this),e},this.removeScribedChirpsFromVisibleChirps=function(){(0,o.default)(this.visibleChirpsTierTwo).forEach(function(e){this.visibleChirpsTierTwo[e].scribed&&delete this.visibleChirpsTierTwo[e]},this),(0,o.default)(this.visibleChirpsTierThree).forEach(function(e){var t=this.visibleChirpsTierThree[e];t.scribed?delete this.visibleChirpsTierThree[e]:(t.knownVisible=!1,this.visibleChirpsTierThree[e]=t)},this)},this.setAllChirpsHidden=function(){var e=Date.now();(0,o.default)(this.visibleChirpsTierThree).forEach(function(t){this.visibleChirpsTierThree[t].visibilityEnd=e},this)},this.setMoreTweetsDesign=function(){var e=!!TD.decider.get("column_unread_bar");this.select("moreTweetsButton").toggleClass("is-hidden",e),this.select("moreTweetsGlow").toggleClass("is-hidden",!e)},this.getAllCustomTimelineData=function(){var e=this.column.getCustomTimelineFeed(),t=e.getMetadata(),i=this.column.getCustomTimeline();return{feed:e,customTimeline:i,metadata:t,account:i?i.account.getKey():this.select("addToCustomTimelineInputSelector").data("account-key"),poller:TD.controller.feedManager.getPoller(e.getKey())}},this.customTimelineActionWasMe=function(e){var t=this.column.getCustomTimelineFeed();if(t){var i=t.getMetadata();if(i)return e.action.id===i.id}},this.boundedRefreshCustomTimelineFeed=function(e,t){var i=this;if(this.customTimelineActionWasMe(t)){this.column.boundedRefreshCustomTimelineFeed({relativeToId:k.get(t,"action.relativeToId",null),placeAbove:k.get(t,"action.above",!1),actionType:k.get(t,"action.actionType",null)}).addCallback(function(){return i.onDragLeave()})}},this.removeChripFromCustomTimelineFeed=function(e,t){if(this.customTimelineActionWasMe(t)){this.getAllCustomTimelineData().poller.removeWhere(function(e){return e.id===t.action.tweetId})}},this.rebroadcast=function(e){return function(t){if(!this.state.isRebroadcasting)return this.mergeState({isRebroadcasting:!0}),this.trigger(t,e.apply(this,[].slice.call(arguments))),this.mergeState({isRebroadcasting:!1}),t.stopPropagation(),!1}.bind(this)},this.transformRemoveTweetFromCustomTimeline=function(e,t){var i=this.getAllCustomTimelineData();return{id:i.metadata.id,tweetId:t.tweetId,account:i.account}},this.isOfMetaType=function(e){return!(!this.column||!this.column.getColumnType)&&this.column.getColumnType()===g.default.columnMetaTypes[e]},this.isFirstInCollection=function(e){return 0===this.column.getChirpIndex(e.data("key"))},this.onDrop=function(e,t){this.onDragOver.cancel();var i=$(e.target),n=i.closest(".stream-item"),s=n.length?n:i.find(".stream-item").last(),r=this.attr.dropIndicatorId,o=$("#"+r),a=this.attr.dropIndicatorClassName,c=s.children().first().hasClass(a),l=!!this.isFirstInCollection(s)&&c,u=s.length?s.data("key"):null,d=this.getAllCustomTimelineData(),h=g.default.getDropActionType($(t.el).closest(".js-column"),this.column.model.getKey()),p=$(TD.ui.template.render("column/add_to_customtimeline_drop_indicator_spinner"));o.length?o.html(p):(this.select("columnDragDropOverlayText").addClass("is-hidden"),this.select("columnDragDropOverlaySpinner").removeClass("is-hidden")),this.trigger("uiAddOrMoveTweetToCustomTimeline",{id:d.metadata.id,tweetId:$(t.el).attr("data-tweet-id"),account:d.account,relativeToId:u,actionType:h,above:l})},this.onDragOver=k.debounce(function(e,t){if(this.column.isOwnReorderableCustomTimeline()){var i=$(e.target),n=i.closest(".stream-item"),s=n.length?n:i.find(".stream-item").last(),r=g.default.getDropIndicatorText($(t.el).closest(".js-column"),this.column.model.getKey());if(!s.length){if(!this.column.isEmpty())return;var o=this.select("columnDragDropOverlayText");return this.$node.addClass(this.attr.dropTargetClass),void o.text(r)}var a=$("."+this.attr.dropIndicatorClassName),c=s.children(),l=$("#"+this.attr.dropIndicatorId),u=!0;if(this.isFirstInCollection(s)){var d=s.parent().offset();if(!d)return;var h=this.attr.dropIndicatorId,p=g.default.isTopHalfOfTweet({event:e,parentOffset:d,$streamItem:s,dropIndicatorId:h});if(p)u=!1;else if(void 0!==p)return}var f=s.get(0)===l.parent().get(0),m=s.get(0)===$(t.el).get(0),v=u&&c.first().get(0)!==l.get(0),T=!u&&c.last().get(0)!==l.get(0),_=a.length>2;if(!((f||m)&&(v||T)||_)){l.css("max-height","0").removeAttr("id").one(J,function(){l.remove()});var y=$(TD.ui.template.render("column/add_to_customtimeline_drop_indicator",{dropIndicatorIdName:this.attr.dropIndicatorId,dropIndicatorClassName:this.attr.dropIndicatorClassName,dropIndicatorText:r}));u?s.append(y):s.prepend(y),M.mutate(function(){y.css("max-height","500px")})}}},10),this.onDragStart=function(e,t){M.mutate(function(){$(t.el).addClass("opacity--40")})},this.onDragEnd=function(e,t){$(t.el).removeClass("opacity--40")},this.onDragLeave=function(){this.onDragOver.cancel(),$("."+this.attr.dropIndicatorClassName).remove(),this.$node.removeClass(this.attr.dropTargetClass)},this.enterEditMode=function(e){this.select("searchFilterCalloutSelector").trigger("uiRemoveSearchCallout");var t=TD.controller.columnManager.get(this.columnKey),i=this.$columnOptions;this.$node.hasClass(this.attr.isOptionsOpenClass)||(this.$node.addClass(this.attr.isOptionsOpenClass),this.attachChild(K,i,{column:t,expandContentFilter:"content-filter"===e,expandUserFilter:"user-filter"===e,expandActionFilter:"action-filter"===e,expandEngagementFilter:"engagement-filter"===e,columnType:t.getColumnType()}))},this.exitEditMode=function(){this.$node.hasClass(this.attr.isOptionsOpenClass)&&(this.$node.removeClass(this.attr.isOptionsOpenClass),this.$columnOptions.trigger("uiColumnOptionsCloseAction"))},this.handleLiveVideoTimelineUpdate=function(e,t){var i=this.column.getFeeds()[0].getMetadata();i.timelineId=t.timelineId,this.column.updateMetadata(i)}}var r=i(27),o=n(r),a=i(15),c=n(a),l=i(4),u=n(l),d=i(7),h=n(d),p=i(30),f=n(p),m=i(20),g=n(m),v=i(978),T=n(v),_=i(1011),y=n(_),w=i(143),b=i(63),D=n(b),C=i(984),S=n(C),E=i(921),I=n(E),A=i(117),x=i(1074),k=i(54),M=i(212),O=i(170),R=i(283),L=i(953),F=i(957),N=i(1014),P=i(144),j=i(88),U=i(215),B=i(213),H=i(964),z=i(214),W=i(958),K=i(930),V=i(284),G=i(146),q=i(172),Y=i(3),Q=i(173),J=Q.TRANSITION_END;e.exports=u.default.mixin(s,P,j,U,B,z,h.default)},function(e,t,i){"use strict";function n(){this.attributes({columnDragHandleSelector:".js-column-drag-handle",hideTweetDragHandlesClass:"without-tweet-drag-handles",scrollDebounceTime:200,focusId:null,dragScrollActivationOffset:{left:500,right:800},dragScrollActivationResponseDamping:10}),this.after("initialize",function(){var e=this;this.$scrollContainer=this.select("appColumnsContainerSelector"),this.on(document,"dataColumnOrder",this.setTweetDragHandleState),this.on(document,"uiColumnRendered",this.handleColumnRendered),this.select("columnSelector").each(function(t,i){var n=$(i);e.connectColumn(n)}),this.setupDragScroll("appColumnsContainerSelector",{deltaFn:function(e,t,i,n){if(!this.attr.dragScrollActivationOffset[t])return e;var s=this.attr.dragScrollActivationOffset[t]/10,r=this.attr.dragScrollActivationResponseDamping,o=1/(1+Math.pow(Math.E,s-n/r));return parseFloat((e*o).toFixed(4))}});var t=["dataColumnOrder","uiToggleNavBarWidth","uiDrawerTransitionComplete","uiCalculateColumnVisibilities"];this.on(document,t.join(" "),this.calculateColumnVisibilities),this.on(this.$scrollContainer,"scroll",_.debounce(this.calculateColumnVisibilities.bind(this),this.attr.scrollDebounceTime)),this.on(window,"resize",this.calculateColumnVisibilities),this.trigger("uiNeedsColumnOrder")}),this.handleColumnRendered=function(e,t){this.connectColumn(t.$column)},this.connectColumn=function(e){var t=e.attr("data-column"),i=r.columnStates$.filter(function(e){return t===e.columnKey}).map(function(e){return e.state});(0,s.connect)(i)(a).attachTo(e,{focusId:this.attr.focusId})},this.calculateColumnVisibilities=function(){var e=this.select("columnSelector"),t=this.$scrollContainer.width(),i={};e.each(function(e){var n,s=$(this),r=s.position(),o=s.width();r.right=r.left+o,r.left=Math.max(0,r.left),r.right=Math.max(0,r.right),r.left=Math.min(t,r.left),r.right=Math.min(t,r.right),n={columnWidth:o,visibleWidth:r.right-r.left,visibleHeight:s.height()},n.visibleFraction=n.visibleWidth/n.columnWidth,i[s.data("column")]=n}),this.trigger("uiColumnVisibilities",i)},this.setTweetDragHandleState=function(e,t){var i=t.columnOrder.some(function(e){return TD.controller.columnManager.get(e).isOwnCustomTimeline()}),n=!i;this.select("columnsContainerSelector").toggleClass(this.attr.hideTweetDragHandlesClass,n)}}var s=i(4),r=i(831);i(767);var o=i(2).component,a=i(926),c=i(144),l=i(88),u=i(960);e.exports=o(n,c,l,u)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({column:null,renderOptions:null,scribeSection:null,isSearchOrEventColumn:null,accordionSelector:null,userFilterSelector:null,contentFilterSelector:null,locationFilterSelector:".js-location-filter",actionFilterSelector:".js-action-filter",engagementFilterSelector:".js-engagement-filter",contentSummarySelector:".js-content-filter-summary",locationSummarySelector:".js-location-filter-summary",userSummarySelector:".js-user-filter-summary",actionSummarySelector:".js-action-filter-summary",engagementSummarySelector:".js-engagement-filter-summary",searchAccordionTemplate:"menus/search_accordion",contentSummaryClass:"js-content-filter-summary",locationSummaryClass:"js-location-filter-summary",userSummaryClass:"js-user-filter-summary",actionSummaryClass:"js-action-filter-summary",engagementSummaryClass:"js-engagement-filter-summary",filterTypes:["content","location","user","action","engagement"]}),this.isValidFilterType=function(e){return this.attr.filterTypes.some(function(t){return e===t})},this.handleSearchFilterUpdate=function(e,t){if(t.filter&&this.isValidFilterType(t.type)){this.searchFilter[t.type]=t.filter,"col_search"===this.columnType&&""===t.filter.matching&&(t.filter.matching=this.attr.column.getBaseQuery());var i=t.filter.getSummaryText(this.columnType);this.select(t.type+"SummarySelector").text(i);$.contains(this.node,e.target)&&TD.controller.stats.advancedSearchSettings(this.attr.scribeSection,t.type,t.filterName,t.value),this.trigger(this.$accordion,"uiAccordionUpdatePanelHeights"),this.trigger("uiColumnUpdateSearchFilter",this.searchFilter)}},this.componentDidInitialize=function(){this.searchFilter=this.attr.column.getSearchFilter(),this.columnType=this.attr.column.getColumnType(),this.on("uiSearchFilterUpdateAction",this.handleSearchFilterUpdate),this.on("uiAccordionWillExpand",this.handleAccordionWillExpand)},this.handleAccordionWillExpand=function(e){var t=$(e.target).closest(".js-accordion-item"),i=t.hasClass("facet-type-content");this.attr.isSearchOrEventColumn&&i&&this.trigger("uiSearchFilterUpdateAction",{filter:this.searchFilter.content,filterName:"matching",type:"content",value:this.searchFilter.content.matching})},this.render=function(){var e=this.attr.renderOptions;this.$accordion=this.select("accordionSelector");var t=c.default.render(this.attr.searchAccordionTemplate,{content:{summaryText:this.searchFilter.content.getSummaryText(),iconClass:"icon-content",title:TD.i("Content"),jsClass:this.attr.contentSummaryClass,isExpanded:e.expandContentFilter},location:!!e.withLocationFilter&&{summaryText:this.searchFilter.location.getSummaryText(),iconClass:"icon-geo",title:TD.i("Location"),jsClass:this.attr.locationSummaryClass,isExpanded:e.expandLocationFilter},user:{summaryText:this.searchFilter.user.getSummaryText(),iconClass:"icon-user",title:TD.i("Users"),jsClass:this.attr.userSummaryClass,isExpanded:e.expandUserFilter},action:!!e.withActionFilter&&{summaryText:this.searchFilter.action.getSummaryText(this.columnType),iconClass:"icon-check",title:TD.i("Notification types"),jsClass:this.attr.actionSummaryClass,isExpanded:e.expandActionFilter},engagement:!!e.withEngagementFilter&&{summaryText:this.searchFilter.engagement.getSummaryText(),iconClass:"icon-heart",title:TD.i("Engagement"),jsClass:this.attr.engagementSummaryClass,isExpanded:e.expandEngagementFilter}});this.$accordion.append(t),this.trigger(this.select("contentFilterSelector"),"uiDestroyContentFilterForm"),this.trigger(this.select("locationFilterSelector"),"uiDestroyLocationFilterForm"),this.trigger(this.select("userFilterSelector"),"uiDestroyUserFilterForm"),this.attachChild(u.default,this.select("contentFilterSelector"),{searchFilter:this.searchFilter,renderOptions:e}),e.withLocationFilter&&this.attachChild(h.default,this.select("locationFilterSelector"),{searchFilter:this.searchFilter,renderOptions:e}),this.attachChild(f.default,this.select("userFilterSelector"),{searchFilter:this.searchFilter,renderOptions:e}),e.withActionFilter&&this.attachChild(g.default,this.select("actionFilterSelector"),{searchFilter:this.searchFilter,renderOptions:e,columnType:this.columnType}),e.withEngagementFilter&&this.attachChild(T.default,this.select("engagementFilterSelector"),{searchFilter:this.searchFilter,renderOptions:e})}}var r=i(4),o=n(r),a=i(3),c=n(a),l=i(1001),u=n(l),d=i(1004),h=n(d),p=i(1010),f=n(p),m=i(1e3),g=n(m),v=i(1003),T=n(v);e.exports=o.default.mixin(s)},function(e,t,i){"use strict";function n(){var e=!1,t=null,i=null,n=null;this.attributes({templateName:"menus/column_nav_menu",contentSelector:".js-column-nav-list",dragAndDropContainerSelector:".js-int-scroller",addColumnButtonSelector:".js-header-add-column",headerActionSelector:".js-header-action",listItemSelector:".js-column-nav-menu-item",dragHandleSelector:".js-drag-handle",columnNavScrollerSelector:".js-column-nav-scroller",animateInClass:"anim-rotate-in",animateOutClass:"anim-rotate-out",isNewClass:"is-new",overflowClass:"column-navigator-overflow",touchEvents:"touchstart touchmove touchend touchcancel",listOrientation:"vertical",initScrollbarsDelay:300,showScrollbarsThrottle:100}),this.after("initialize",function(){this.$columnNavScroller=$(".js-column-nav-scroller"),this.renderColumnNavigation(),this.on(document,"dataColumnsLoaded",this.handleDataColumnsLoaded),this.on(document,"uiMainWindowResized",this.handleUiMainWindowResized),$.subscribe("/storage/client/column_order_changed",this.handleColumnsChanged.bind(this)),$.subscribe("/storage/client/change",this.handleColumnsChanged.bind(this)),this.on(document,"uiReadStateChange",this.handleReadStateChange),this.on(document,"uiMessageUnreadCount",this.handleMessageCount),this.on(document,"dataSettings",this.handleDataSettings),this.on(document,"uiColumnTitleRefreshed",this.handleColumnTitleRefreshed),this.on("click",{headerActionSelector:this.handleClick}),this.trigger("uiNeedsSettings"),TD.util.isTouchDevice()&&this.on(this.$columnNavScroller,this.attr.touchEvents,this.handleTouch),this.throttledShowScrollbars=_.throttle(this.showScrollbars.bind(this),this.attr.showScrollbarsThrottle),this.debouncedInitScrollbars=_.debounce(this.initScrollbars.bind(this),this.attr.initScrollbarsDelay),this.debouncedInitScrollbars(),this.setupDragDrop({type:"tweet",indicateDrop:!1,dragover:this.delegateDragOver,drop:function(e,t){var i=$(e.target).closest(".js-droptarget",this.$node);i.length&&this.trigger("uiAddOrMoveTweetToCustomTimeline",{id:i.data("customtimeline-id"),tweetId:$(t.el).attr("data-tweet-id"),account:i.data("customtimeline-account")})}})}),this.delegateDragOver=function(e){var t,i=$(e.target);if(t=i.is(".js-droptarget")?i:i.closest(".js-droptarget",this.$node),t.length){if(e.preventDefault(),this.$flyover){if(this.flyoverFor===t[0])return;this.destroyFlyover()}this.showFlyoverFor(t[0]),this.flyoverFor=t[0]}else this.destroyFlyover()},this.handleDataColumnsLoaded=function(){this.renderColumnNavigation()},this.handleColumnsChanged=function(){this.debouncedInitScrollbars()},this.renderColumnNavigation=function(){var e=this,t=TD.controller.columnManager.getAllOrdered(),i=this.select("listItemSelector").map(function(e,t){return t.getAttribute("data-column")}),n=i.length!==t.length,s=_.map(t,function(t,s){var o,a,c,l,u,d=t.model.getKey(),h=TD.ui.columns.getColumnElementByKey(d);return i[s]!==d&&(n=!0),t.isOwnCustomTimeline()&&(o=t.getCustomTimelineFeed(),a=o&&o.getMetadata(),c=a&&a.id,l=o&&o.getAccountKey()),t.isMessageColumn()&&(u=t.unreadMessageCount()),{key:d,title:r.default.getColumnTitleHTML(t),iconclass:t.getIconClass(),isEventColumn:t.isEventColumn(),isNew:h.hasClass(e.attr.isNewClass),customTimelineId:c,customTimelineAccount:l,isMessageColumn:t.isMessageColumn(),unreadCount:"0"===u?null:u}});if(n){var o=u.render(this.attr.templateName,{columns:s});this.$node.html(o),this.$content=this.select("contentSelector"),this.$addColumnButton=this.select("addColumnButtonSelector"),this.select("headerActionSelector").on("mouseover",this.handleListItemMouseover.bind(this)).on("mouseout",this.handleListItemMouseout.bind(this)),this.resizeColumnNavigation(),this.initialiseDragDrop()}$(".js-column-nav-list a").find(":hover").length||this.destroyFlyover()},this.resizeColumnNavigation=function(){this.setNormalNavbar();var e=this.$node.height();this.$node&&e&&this.$content.outerHeight()>e&&this.setOverflowNavbar()},this.setNormalNavbar=function(){$(document).trigger("uiColumnNavSizeNormal"),this.$columnNavScroller.removeClass(this.attr.overflowClass),this.$addColumnButton.show()},this.setOverflowNavbar=function(){$(document).trigger("uiColumnNavSizeOverflow"),this.$columnNavScroller.addClass(this.attr.overflowClass),this.$addColumnButton.hide()},this.handleUiMainWindowResized=function(){this.resizeColumnNavigation(),this.throttledShowScrollbars()},this.handleClick=function(t){if(!TD.util.isTouchDevice()||!e){var i=$(t.target).closest("a[data-action]"),n=i.data("action"),s=i.data("column");switch(n){case"jumpto":TD.controller.columnManager.showColumn(s),TD.controller.stats.navbarJumpToColumn()}this.trigger(TD.components.BaseModal.CLOSE_EVENT)}},this.handleDrop=function(e){var t=[],i=$(e.target).attr("data-column");this.trigger("uiColumnMoving",{columnKey:i}),this.select("listItemSelector").each(function(){t.push($(this).attr("data-column"))}),TD.storage.clientController.client.setColumnOrder(t),TD.controller.stats.navbarReorderColumns()},this.handleDrag=function(e,t){this.repositionFlyover($(e.target))},this.handleDropped=function(e,t){this.repositionFlyover($(e.target))},this.initialiseDragDrop=function(){this.select("dragAndDropContainerSelector").dragdroplist({handle:this.attr.dragHandleSelector,orientation:this.attr.listOrientation,selector:this.attr.listItemSelector,$boundary:this.$node}).on("drop.dragdroplist",this.handleDrop.bind(this)).on("drag.draggable",this.handleDrag.bind(this)).on("dropped.dragdroplist",this.handleDropped.bind(this))},this.getColumnItem=function(e){return this.$node.find(".js-column-nav-menu-item[data-column="+e+"]")},this.handleReadStateChange=function(e,t){var i=this.getColumnItem(t.columnKey);0===i.find(".js-unread-count").length&&i.toggleClass(this.attr.isNewClass,!t.read)},this.handleMessageCount=function(e,t){var i=this.getColumnItem(t.columnKey),n=i.find(".js-unread-count"),s=n.text()||"0",r="0"===s&&"0"!==t.count,o="0"!==s&&"0"===t.count;n.text(t.count),r&&(this.stopAnimation(n,this.attr.animateOutClass),n.addClass("is-visible"),this.addAnimateClass(n,this.attr.animateInClass)),o&&(this.stopAnimation(n,this.attr.animateInClass),this.addAnimateClass(n,this.attr.animateOutClass,function(){n.removeClass("is-visible")}))},this.showFlyoverFor=function(e){var t=$(e);if(this.isNavbarCollapsed&&!TD.util.isTouchDevice()){var i,n,s=t.data("column");s&&(i=TD.controller.columnManager.get(s),n={content:r.default.getColumnTitleHTML(i)}),this.isDragging()||this.renderFlyover(t,n)}},this.handleListItemMouseover=function(e){this.showFlyoverFor(e.currentTarget)},this.handleListItemMouseout=function(e){this.isDragging()||this.destroyFlyover()},this.isDragging=function(){return this.$node.find(".draggable-dragging").length>0},this.handleDataSettings=function(e,t){this.isNavbarCollapsed=Boolean("condensed"===t.navbarWidth),this.destroyFlyover()},this.handleDataColumnStateUpdated=function(e,t){var i=this.$node.find(".js-column-nav-menu-item[data-column="+t.columnKey+"]");t.unread?i.addClass(this.attr.isNewClass):i.removeClass(this.attr.isNewClass)},this.handleColumnTitleRefreshed=function(e,t){var i=this.$node.find(".js-column-nav-menu-item[data-column="+t.columnKey+"] .js-column-title"),n=TD.controller.columnManager.get(t.columnKey),s=r.default.getColumnTitleHTML(n);i.html(s)},this.initScrollbars=function(){var e=this.$columnNavScroller.data("antiscroll");e?e.refresh():this.$columnNavScroller.antiscroll({showOnMouseOver:!1,position:"left"})},this.showScrollbars=function(){var e=this.$columnNavScroller.data("antiscroll");e?(e.refresh(),e.vertical&&e.vertical.show()):this.initScrollbars()},this.handleTouch=function(s){if(0!==$(s.target).closest(".js-drag-handle").length){var r=null,o=s.originalEvent,a=o.changedTouches[0],c={x:a.pageX,y:a.pageY},l=(new Date).getTime();switch(o.type){case"touchstart":e=!1,t=l,i=c,n=0;break;case"touchmove":var u=this.countDistance(c,i);if(u>n&&(n=u),l<t+300)break;!e&&n<50?(e=!0,r="mousedown"):e&&(r="mousemove");break;case"touchend":e&&(r="mouseup")}r&&this.simulateMouseEvent(r,o)}},this.simulateMouseEvent=function(e,t){var i=t.changedTouches[0],n=document.createEvent("MouseEvent");n.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(n),t.preventDefault()},this.countDistance=function(e,t){if(!e||!t)return 0;var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.sqrt(i*i+n*n)}}var s=i(20),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component,a=i(213),c=i(88),l=i(467),u=i(3);e.exports=o(n,a,c,l)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({actionButton:"[data-action]",searchInputForm:".js-column-options-search-form",searchInput:".js-search-input",scribeSection:"column_options",isAnimatingClass:"is-column-options-animating",column:null,columnType:null,isTouchColumnOptionsClass:"is-touch-column-options",hideContentClass:"scroll-none",accordionSelector:".js-accordion",scribeElementSelector:"[data-scribe-element]",searchFilterSelector:".js-search-filter",contentFilterSelector:".js-content-filter",userFilterSelector:".js-user-filter",excludingClass:"js-excluding",matchingClass:"js-matching"}),this.updateHeight=function(){this.$node.css("height",""),this.$node.height(this.$node.height()),this.trigger("uiAccordionTotalHeightChanged")},this.handleChildTransitionExpandStart=function(e,t){this.$node.css("height","")},this.handleChildTransitionExpandEnd=function(){this.$node.css("height","")},this.handleUpdateSearchFilter=function(e,t){this.updateHeight(),this.column.updateSearchFilter(t)},this.handleShowUserFilter=function(e){e.stopPropagation(),this.showAccordionPanel(this.select("userFilterSelector"))},this.handleShowContentFilter=function(e){e.stopPropagation(),this.showAccordionPanel(this.select("contentFilterSelector"))},this.hide=function(){this.$node.hasClass(this.attr.isAnimatingClass)||(this.trigger("uiHidingColumnOptions"),this.$node.addClass(this.attr.hideContentClass),this.transitionCollapse(this.$node,this.attr.isAnimatingClass,this.afterHideTransition.bind(this)),this.teardown())},this.afterHideTransition=function(){this.$node.css("height",""),this.$node.empty(),this.trigger("uiColumnOptionsHidden")},this.showColumnOptions=function(){var e=function(){this.$node.removeClass(this.attr.hideContentClass),this.trigger("uiColumnOptionsShown")}.bind(this);this.trigger("uiShowingColumnOptions"),this.$node.addClass(this.attr.hideContentClass),this.transitionExpand(this.$node,this.attr.isAnimatingClass,e.bind(this))},this.handleClickEvents=function(e){var t=$(e.target).closest(this.attr.actionButton),i=t.data("action"),n=this.column.model.getKey();switch(i){case"remove":this.trigger("uiDeleteColumnAction",{columnId:n});break;case"clear":this.column.clear(),this.trigger("uiClearColumnAction",{columnId:n});break;case"left":case"right":this.trigger("uiMoveColumnAction",{columnId:n,action:i});break;case"edit-list":this.trigger("uiShowEditListMembers",{list:this.column.getOwnList()});break;case"edit-customtimeline":var s=this.column.getCustomTimelineFeed(),r=this.column.getCustomTimeline(),o={timelineId:s.getMetadata().id,accountKey:s.getAccountKey(),name:r.name,description:r.description,columnKey:this.column.model.getKey()};this.trigger("uiShowEditCustomTimeline",o);break;case"embed":this.trigger("uiEmbedTimelineAction",{column:this.column});break;case"view-on-web":this.trigger("uiViewTimeline");break;case"reference-to":this.trigger("uiReferenceTimeline");break;case"copy-search-query":var a=this.column.getBaseQuery(),c=this.column.getSearchFilter().getQueryString(),l=[a,c].join(" ");this.trigger("uiShowCopySearchQuery",{query:l});break;case"moment":this.trigger("uiCreateMomentAction",{collection:this.column.getCustomTimeline()})}},this.handleScribeElementClick=function(e){var t=$(e.target).closest(this.attr.scribeElementSelector).attr("data-scribe-element");TD.controller.stats.generic({section:this.attr.scribeSection,element:t,action:"click"})},this.attachColumnFilters=function(){var e=this.attr.column.getSearchFilter(),t=this.attr.column.isSearchColumn()||this.attr.column.isEventColumn();this.attachChild(h.default,this.select("searchFilterSelector"),{renderOptions:{withContentType:!0,withMatching:{isControl:!0,searchInputClassName:this.attr.matchingClass,searchInputPlaceholder:TD.i("Enter words to match"),searchInputTitle:"matching",searchInputValue:e.content?e.content.matching:""},withExcluding:{isControl:!0,searchInputClassName:this.attr.excludingClass,searchInputPlaceholder:TD.i("Enter words to exclude"),searchInputTitle:"excluding",searchInputValue:e.content?e.content.excluding:""},withLanguage:t,withDateTime:t,withRetweetsToggle:!0,withFromList:t,withUsersIFollow:this.column.canFilterByUsersIFollow(),withActionFilter:this.column.isActionsColumn(),withEngagementFilter:t,withPeriscopeFilter:t,withLocationFilter:t,expandContentFilter:this.attr.expandContentFilter,expandUserFilter:this.attr.expandUserFilter,expandActionFilter:this.attr.expandActionFilter,expandEngagementFilter:this.attr.expandEngagementFilter},accordionSelector:this.attr.accordionSelector,contentFilterSelector:this.attr.contentFilterSelector,userFilterSelector:this.attr.userFilterSelector,scribeSection:this.attr.scribeSection,column:this.column,isSearchOrEventColumn:t})},this.after("initialize",function(){var e=this;this.column=this.attr.column;var t;this.on("uiShowUserFilter",this.handleShowUserFilter),this.on("uiShowContentFilter",this.handleShowContentFilter),this.on("uiColumnOptionsCloseAction",this.hide),this.on("uiColumnUpdateSearchFilter",this.handleUpdateSearchFilter),this.on("uiAccordionExpandAction",this.updateHeight),this.on("uiAccordionCollapseAction",this.updateHeight),this.on(document,"uiColumnWidthChange",this.updateHeight),this.on("uiTransitionExpandStart",{searchFilterSelector:this.handleChildTransitionExpandStart}),this.on("uiTransitionExpandEnd",{searchFilterSelector:this.handleChildTransitionExpandEnd}),this.on("uiUpdateTitle",function(t,i){e.select("contentFilterSelector").trigger("uiContentFilterUpdateTitle",i)}),this.on("click",{actionButton:this.handleClickEvents,scribeElementSelector:this.handleScribeElementClick});var i=Boolean(TD.util.isTouchDevice()&&TD.decider.get("touchdeck_column_options_v2"));i?this.$node.addClass(this.attr.isTouchColumnOptionsClass):this.$node.removeClass(this.attr.isTouchColumnOptionsClass),t={searchTerm:this.column.getBaseQuery(),isOwnList:Boolean(this.column.getOwnList()),isOwnCustomTimeline:this.column.isOwnCustomTimeline(),isShareableOrEmbeddable:this.column.isShareable()||this.column.isEmbeddable(),isClearable:this.column.isClearable(),isTouchColumnOptions:i,isDataminr:this.column.isDataminr()};var n=v.render("column/column_options",t);this.$node.html(n),this.column.isFilterable()&&this.attachColumnFilters(),this.attachChild(f,this.select("accordionSelector"),{column:this.column}),this.attachChild(c.default,".js-notification-filter-info",{columnType:this.attr.columnType,columnAccounts:this.attr.column.getFeeds().map(function(e){return TD.storage.accountController.get(e.getAccountKey())})}),this.attachChild(u.default,".js-quality-filter-info",{columnType:this.attr.columnType,columnAccounts:this.attr.column.getFeeds().map(function(e){return TD.storage.accountController.get(e.getAccountKey())})}),this.showColumnOptions()})}var r=i(30),o=n(r),a=i(1005),c=n(a),l=i(1006),u=n(l),d=i(928),h=n(d),p=i(2).component,f=i(996),m=i(465),g=i(88),v=i(3);e.exports=p(s,m,o.default,g)},function(e,t,i){"use strict";function n(){this.attributes({columnDragHandleSelector:".js-column-drag-handle",appColumnsContainerSelector:".js-app-columns-container",columnsContainerSelector:".js-app-columns",columnSelector:".js-column"}),this.after("initialize",function(){this.on("uiColumnRendered",this.handleColumnRendered),this.select("columnsContainerSelector").dragdroplist({selector:this.attr.columnSelector,contentSelector:this.attr.columnSelector,handle:this.attr.columnDragHandleSelector,$boundary:this.select("appColumnsContainerSelector"),orientation:"horizontal",tagName:"section",scroll_speed:24}).on("dropped.dragdroplist",function(){var e=[];this.select("columnSelector").each(function(){e.push($(this).attr("data-column"))}),TD.storage.clientController.client.setColumnOrder(e)}.bind(this))}),this.handleColumnRendered=function(e,t){t.$column.trigger("itemadded.dragdroplist",{itemId:t.column})}}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";function n(){this.attributes({isMovingClass:"is-moving",isMovingSelector:".is-moving"}),this.after("initialize",function(){this.on(document,"uiColumnMoving",this.handleMovingColumn),this.on(document,"dataColumnOrder",this.handleColumnOrder),this.$columnsContainer=this.select("columnsContainerSelector")}),this.handleMovingColumn=function(e,t){this.getColumnElementByKey(t.columnKey).addClass(this.attr.isMovingClass)},this.isColumnOffScreen=function(e){var t=e.position().left,i=this.getOriginalWidth(e);return t+i<0||t+i>this.$node.width()},this.storeOriginalWidth=function(e){var t=e.data("originalWidth");void 0===t&&(t=parseInt(e.css("width"),10)),e.data("originalWidth",t)},this.getOriginalWidth=function(e){return e.data("originalWidth")||parseInt(e.css("width"),10)},this.moveColumnInstantly=function(e,t,i,n){i.length>0&&i.attr("data-column")!==n.newOrder[n.newIndex+1]&&(n.detached[i.attr("data-column")]=i.detach()),e?t.insertAfter(e):this.$columnsContainer.prepend(t)},this.moveColumnToNewIndex=function(e,t){var i,n,s=e.newOrder[e.newIndex],r=e.detached[s]||this.getColumnElementByKey(s),o=r.index(),a=function(){r.removeClass(this.attr.isMovingClass),t=r,delete e.detached[s]}.bind(this);e.newOrder.length>=e.newIndex?(i=this.getColumnElementByKey(e.newOrder[e.newIndex+1]),n=i.index()):(i=!1,n=-1),e.newIndex<e.newOrder.length&&o!==n&&(r.hasClass(this.attr.isMovingClass)?(this.storeOriginalWidth(r),this.moveColumnInstantly(t,r,i,e),this.isColumnOffScreen(r)?(r.one("uiColumnScrolled",function(){a(),e.newIndex+=1,this.moveColumnToNewIndex(e,t)}.bind(this)),r.trigger("uiColumnsScrollColumnToCenter",{columnKey:r.attr("data-column")})):(TD.ui.columns.focusColumn(r.attr("data-column"),TD.ui.columns.COLUMN_GLOW_DURATION),a(),e.newIndex+=1,this.moveColumnToNewIndex(e,t))):(t=r,e.newIndex+=1,this.moveColumnToNewIndex(e,t)))},this.handleColumnOrder=function(e,t){var i={},n=null;if(this.select("columnSelector").filter(this.attr.isMovingSelector).length>0)return void this.moveColumnToNewIndex({newIndex:0,newOrder:t.columnOrder,detached:i});t.columnOrder.forEach(function(e,s){var r=i[e]||this.getColumnElementByKey(e),o=this.select("columnSelector").eq(s);o[0]!==r[0]&&(t.columnOrder.length>s+1&&o.length>0&&o.attr("data-column")!==t.columnOrder[s+1]&&(i[o.attr("data-column")]=o.detach()),0===s?r.prependTo(this.$columnsContainer):r.insertAfter(n),delete i[e]),n=r},this)}}var s=i(2).component,r=i(144);e.exports=s(n,r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({inputSelector:".js-input",commandSelector:".js-command",listSelector:".js-command-list",template:"command_palette/base",autoFocus:!0}),this.initialState({fuzzyMatchedCommands:function(){return u.query()},query:"",selection:0}),this.before("initialize",function(){this.addCommands([{label:TD.i("Close this dialog"),shortcut:{key:"Esc"},apply:function(){}}])}),this.componentDidInitialize=function(){var e=this,t=h.default.render(this.attr.template);this.$node.html(t),(0,c.default)(function(){return e.select("inputSelector").focus()}),this.on("uiInputSubmit",function(){return e.execute()}),this.on("uiInputEscape",this.teardown),this.on(document,"uiKeyEnter",function(){return e.execute()}),this.on(document,"uiKeyDown",function(){return e.nudgeSelection(1)}),this.on(document,"uiKeyUp",function(){return e.nudgeSelection(-1)}),this.on(this.attr.inputSelector,"keydown",this.handleInputKeyDown),this.on("click",{commandSelector:function(t,i){return e.execute($(i.el).attr("data-index"))}}),this.on(this.attr.inputSelector,"input change",function(){var t=e.select("inputSelector").val();e.setQuery(t)});var i=this.connect(g.default,{mapStateToProps:function(e){return{fuzzyMatchedCommands:e.fuzzyMatchedCommands,selection:e.selection}}});this.attachChild(i,this.attr.listSelector)},this.execute=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.selection,t=(0,o.default)(this.state,["fuzzyMatchedCommands",e,"original"]);t&&(this.teardown(),t.apply())},this.setQuery=function(e){e!==this.state.query&&this.mergeState({fuzzyMatchedCommands:u.query(e),query:e,selection:0})},this.nudgeSelection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e=e<0?-1:1;var t=this.state.selection+this.state.fuzzyMatchedCommands.length+e;this.mergeState({selection:t%this.state.fuzzyMatchedCommands.length})},this.handleInputKeyDown=function(e){9===e.which&&(this.select("inputSelector").blur(),e.preventDefault()),40===e.which&&(this.nudgeSelection(1),e.preventDefault()),38===e.which&&(this.nudgeSelection(-1),e.preventDefault())}}var r=i(17),o=n(r),a=i(162),c=n(a),l=i(87),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(l),d=i(3),h=n(d),p=i(4),f=n(p),m=i(934),g=n(m),v=i(145),T=n(v);e.exports=f.default.mixin(s,T.default,u.flightWithCommands)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"command_palette/command_list"}),this.render=function(){var e=this.props,t=e.fuzzyMatchedCommands,i=void 0===t?[]:t,n=e.selection,s=void 0===n?0:n,r={commands:i.map(function(e,t){return{html:e.string.split(a.MATCH_DELIMITER).map(function(e){return o.default.cleanWithEmoji(e)}).reduce(function(e,t,i){return e+(i%2==1?"<b>"+t+"</b>":t)},""),shortcut:e.original.shortcut,index:t,classes:t===s?"is-selected bg-r-medium-blue txt-on-r-medium-blue":"txt-r-dark-gray hover-bg-r-white"}})},c=l.default.render(this.attr.template,r);this.$node.html(c),this.scrollToSelection()},this.scrollToSelection=(0,u.makeDOMMutator)(function(){h.default.makeElementVisible(this.$node,this.$node.find(".is-selected"),{time:100})})}var r=i(13),o=n(r),a=i(87),c=i(3),l=n(c),u=i(174),d=i(217),h=n(d),p=i(4),f=n(p);e.exports=f.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({accountListSelector:".js-account-list",accountItemSelector:".js-account-item",isSelectedClass:"is-selected",selectedItemSelector:".js-account-item.is-selected",singleAccountMode:!1,focusSelector:".js-account-item:focus",gridModeClass:{grid:"is-grid",minigrid:"is-minigrid",list:"is-list"},avatarSize:{grid:"48",minigrid:"32",list:"32"},avatarSizeClass:{grid:"size48",minigrid:"size32",list:"size32"},stateSource:null}),this.initialState({defaultAccountKey:function(){return(0,g.getDefaultAccount)().accountKey},selectedAccountKeys:function(){return[(0,g.getDefaultAccount)().accountKey]},singleAccountMode:function(){return this.attr.singleAccountMode},gridMode:function(){return TD.settings.getAccountSelectorGridMode()},isPrivateConversation:!1,tweetSentWhileVideoUploadInProgress:!1}),this.after("initialize",function(){this.on("click keypress",{accountItemSelector:this.handleClick}),this.around("replaceState",this.checkSingleAccountMode),this.observe(this.requestResource("settings.state")).pluck("account_selector_grid_mode").subscribe(this.toState("gridMode").bind(this)),this.observe(this.requestResource(this.attr.stateSource)).map(_.filterKeys(["singleAccountMode","selectedAccountKeys","isPrivateConversation","tweetSentWhileVideoUploadInProgress"])).distinctUntilChanged(c.default).subscribe(this.mergeState.bind(this)),this.observe(this.requestResource("accounts.state")).map(_.filterKeys(["accounts"])).distinctUntilKeyChanged("accounts",function(e,t){var i=(0,o.default)(e,"accountKey"),n=(0,o.default)(t,"accountKey");return(0,c.default)(i,n)}).map(this.processAccounts,this).subscribe(this.mergeState.bind(this));var e=this.observe(this.observableState).map(_.filterKeys(["accounts","selectedAccountKeys","gridMode","isPrivateConversation"])).distinctUntilChanged(c.default);e.subscribe(this.renderAccounts.bind(this)),e.map(_.filterKeys(["accounts","selectedAccountKeys"])).subscribe(this.broadcastSelectedAccountKeys.bind(this)),this.initializeTooltips()}),this.checkSingleAccountMode=function(e,t){t.singleAccountMode&&t.selectedAccountKeys.length>1&&(t.selectedAccountKeys=[],(0,v.showErrorNotification)({message:[TD.i("Messages cannot be sent from multiple accounts."),TD.i("Please choose an account.")].join(" ")})),e(t)},this.initializeTooltips=function(){TD.util.isTouchDevice()&&TD.decider.get("touchdeck_compose_v2")||this.select("accountListSelector").tooltip({selector:".js-show-tip",container:"body",placement:"bottom",suppressFadeOut:!0})},this.processAccounts=function(e){if(e.accounts){var t;e.accounts.some(function(e){if(e.isDefault)return t=e.accountKey,!0});var i=this.state.selectedAccountKeys.filter(function(t){return e.accounts.some(function(e){return e.accountKey===t})}),n=1===this.state.selectedAccountKeys.length&&this.state.selectedAccountKeys[0]===this.state.defaultAccountKey;return(0===i.length||n)&&(i=[t]),{defaultAccountKey:t,accounts:e.accounts,selectedAccountKeys:i}}},this.broadcastSelectedAccountKeys=function(e){this.trigger("uiAccountsSelected",{accountKeys:e.selectedAccountKeys})},this.renderAccounts=function(){if(this.state.accounts){var e=this.select("focusSelector"),t=null;e.length>0&&(t=e.attr("data-account-key"));var i="list"===this.state.gridMode,n={gridModeClass:this.attr.gridModeClass[this.state.gridMode],avatarSize:this.attr.avatarSize[this.state.gridMode],avatarSizeClass:this.attr.avatarSizeClass[this.state.gridMode],isList:i};n.accounts=this.state.accounts.map(function(e){var t=this.state.selectedAccountKeys.indexOf(e.accountKey)>-1;return{accountKey:e.accountKey,screenName:e.screenName,name:e.name,profileImageURL:e.profileImageURL,isSelected:t,emojifiedName:e.emojifiedName}},this);var s=u.default.render("compose/account_selector",n);this.select("accountListSelector").replaceWith(s),t&&this.select("accountItemSelector").filter('[data-account-key="'+t+'"]').focus(),this.trigger("uiAccountSelectorRendered")}},this.handleClick=function(e){if(!this.state.tweetSentWhileVideoUploadInProgress){if(T.eventIsKey(e)&&!T.isSpacebar(e))return!1;var t,i=$(e.target).closest(this.attr.accountItemSelector),n=i.attr("data-account-key");t=e.shiftKey||this.state.singleAccountMode?[n]:this.toggleArrayElement(this.state.selectedAccountKeys,n),this.mergeState({selectedAccountKeys:t})}},this.toggleArrayElement=function(e,t){return-1===e.indexOf(t)?e.concat([t]):e.filter(function(e){return e!==t})}}var r=i(200),o=n(r),a=i(97),c=n(a),l=i(3),u=n(l),d=i(2),h=i(7),p=n(h),f=i(85),m=n(f),g=i(90),v=i(6),T=i(472),_=i(38),y=i(19);e.exports=(0,d.component)(m.default,p.default,s,y)},function(e,t,i){"use strict";function n(){this.attributes({gridToggleSelector:"[data-grid-mode]"}),this.initialState({gridMode:function(){return TD.settings.getAccountSelectorGridMode()}}),this.after("initialize",function(){this.after("mergeState",this.renderToggle),this.on(document,"dataSettingsValues",this.handleSettingsValue),this.on("click",{gridToggleSelector:this.handleGridToggleClick}),this.renderToggle()}),this.renderToggle=function(){var e={};if(e[this.state.gridMode]=!0,this.state.gridMode!==this.previousGridMode){var t=r.default.render("compose/account_selector_grid_toggle",e);this.$node.html(t),this.previousGridMode=this.state.gridMode}},this.handleSettingsValue=function(e,t){t.account_selector_grid_mode&&this.mergeState({gridMode:t.account_selector_grid_mode})},this.handleGridToggleClick=function(e){var t=$(e.target).closest(this.attr.gridToggleSelector).attr("data-grid-mode");TD.settings.setAccountSelectorGridMode(t)}}var s=i(3),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component,a=i(61);e.exports=o(a,n)},function(e,t,i){"use strict";function n(){this.attributes({stateSource:null,buttonLabelSelector:".js-add-image-button-label"}),this.after("initialize",function(){this.$buttonLabel=this.select("buttonLabelSelector"),this.on(this.$node,"click",this.handleClick);var e=this.observe(this.requestResource(this.attr.stateSource));e.pluck("addImageButtonText").distinctUntilChanged().subscribe(this.renderButtonText.bind(this)),e.pluck("addImageButtonTooltip").distinctUntilChanged().subscribe(this.renderTooltip.bind(this)),e.pluck("canAddImage").distinctUntilChanged().subscribe(this.toggleEnabled.bind(this)),e.pluck("tweetType").distinctUntilChanged().subscribe(this.toggleTweetType.bind(this)),e.pluck("scheduledDate").distinctUntilChanged().subscribe(this.toggleScheduledDate.bind(this))}),this.toggleTweetType=function(e){this.trigger(this.$node,"uiComposeUpdatedTweetType",{type:e})},this.toggleScheduledDate=function(e){this.trigger(this.$node,"uiComposeUpdatedScheduledDate",{scheduledDate:e})},this.renderButtonText=function(e){this.$buttonLabel.text(e)},this.renderTooltip=function(e){var t=$("<div/>").html(e).text();this.$node.attr("data-original-title",t)},this.toggleEnabled=function(e){this.$node.toggleClass("is-disabled",!e).attr("tabindex",e?"":"-1")},this.handleClick=function(e){this.$node.hasClass("is-disabled")||this.trigger(this.$node,"uiComposeAddImageClick")}}var s=i(7),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component,a=i(19);e.exports=o(r.default,n,a)},function(e,t,i){"use strict";function n(){var e;this.attributes({composeDrawerOpenClass:"hide-detail-view-inline",inlineOpenClass:".js-inline-reply.is-inline-active"}),this.after("initialize",function(){this.on(document,"uiDrawerActive",this.handleDrawerActive),this.on(document,"uiComposeTweet",this.handleUiComposeTweet),this.on(document,"uiFilesAdded",this.handleFilesAdded),this.on(document,"uiRecipientToggledFromList",this.handleRecipientToggledFromList)}),this.handleDrawerActive=function(e,t){var i="compose"===t.activeDrawer;this.$node.toggleClass(this.attr.composeDrawerOpenClass,i)},this.handleFilesAdded=function(e,t){this.select("inlineOpenClass").length&&this.trigger("uiPopInlineComposeState"),this.trigger("uiComposeFilesAdded",t)},this.handleUiComposeTweet=function(t,i){i=i||{};var n=function(e){return this.select("inlineOpenClass").length&&"tweet"===e.type&&!e.text&&!e.replyTo&&!e.quotedTweet}.bind(this);this.$node.hasClass(this.attr.composeDrawerOpenClass)?this.trigger("uiDockedComposeTweet",i):"reply"===i.type&&i.element&&i.element.closest(".js-column").length>0?(e||(r.attachTo(this.$node),e=!0),this.trigger("uiInlineComposeTweet",i)):n(i)?this.trigger("uiPopInlineComposeState"):this.trigger("uiDockedComposeTweet",i)},this.handleRecipientToggledFromList=function(e,t){var i=this.$node.hasClass(this.attr.composeDrawerOpenClass),n=i?"uiRecipientToggledInDockedCompose":"uiRecipientToggledInInlineCompose";this.trigger(n,t)}}var s=i(2).component,r=i(941);e.exports=s(n)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({stayOpenInputSelector:".js-compose-stay-open",tweetTextInputSelector:".js-compose-text",characterCountSelector:".js-character-count",progressSvgSelector:".js-progress-svg",accountSafeguardCheckboxSelector:".js-account-safeguard-checkbox",composeScrollerSelector:".js-compose-scroller",withTouchComposeClass:"is-touch-compose",addImageButtonSelector:".js-add-image-button",sendButtonContainerSelector:".js-send-button-container",replyInfoContainerSelector:".js-reply-info-container",scheduleButtonSelector:".js-scheduler",tweetTypeButtonSelector:".js-tweet-type-button",inReplyToSelector:".js-in-reply-to",quoteTweetHolderSelector:".js-quote-tweet-holder",inlineConfirmationSelector:".js-inline-confirmation",tcoLinkLength:22,tweetLinkLength:23,panelCloseDelay:500,releaseFocusDelay:300,defaultTextComposeHeight:130,increasedTextComposeHeight:160,minimumComposeHeight:180,scheduledHintSelector:".js-compose-hint",accountSelectorGridToggleSelector:".js-account-selector-grid-toggle",maxRecipients:20,setIsClosable:null}),this.initialState({sendingStatus:"ready",tweetType:"tweet",tweetText:"",tweetTextFocused:!1,singleAccountMode:!1,isPrivateConversation:!1,messageConversation:null,scheduledDate:null,quotedTweet:null,stayOpen:null,accountSafeguardChecked:!1,inReplyTo:null,uploadsInProgress:{},attr:function(){return this.attr},selectedAccountKeys:function(){return[(0,M.getDefaultAccount)().accountKey]},messageRecipients:function(){return[]},files:function(){return[]},currentTime:function(){return new Date},replies:function(){return[]},mentions:function(){return[]},selectionIndices:function(){return[]},tweetSentWhileVideoUploadInProgress:!1}),this.after("initialize",function(){var e=this;TD.util.isTouchDevice()&&TD.decider.get("touchdeck_compose_v2")&&this.$node.addClass(this.attr.withTouchComposeClass);var t=this.observe(this.requestResource("settings.state")).map(TD.util.unpluck("settings")),i=this.observe(this.requestResource("/1.1/help/configuration.json")).map(TD.util.unpluck("configuration")),n=he.Observable.combineLatest([this.observableState,t,i],TD.util.merge).map(ue).share();this.provideResource("dockedCompose.state",n),this.observe(he.Observable.fromEvent(this.$node,"uiComposeSendTweet")).do(function(e){e.stopPropagation()}).withLatestFrom(n,function(e,t){return t}).filter(TD.util.pluck("canSend")).map(this.prepareSendTweet.bind(this)).subscribe(this.sendTweet.bind(this)),this.observe(this.observableState).distinctUntilKeyChanged("scheduledDate",R.existenceEquality).filter(function(e){return e.files.length>0}).subscribe(this.updateImageTTLs.bind(this)),this.observe(this.observableState).distinctUntilKeyChanged("scheduledDate",R.existenceEquality).filter(function(e){var t=(0,E.default)(e,["metadata","originalUpdates"],[]),i=!e.quotedTweet&&t.some(function(e){return e.attachmentUrl}),n=!e.inReplyTo&&t.some(function(e){return e.inReplyToStatusId});return e.scheduledDate&&(i||n)}).subscribe(this.hydrateScheduledFields.bind(this)),this.observe(this.observableState).filter(function(e){return"reply"===e.tweetType&&e.autoPopulateReplyMetadata&&(0,E.default)(e,"inReplyTo.getReplyUsers")&&0===(0,E.default)(e,"implicitRecipients.length",0)}).map(function(e){return e.inReplyTo.getReplyUsers()}).filter(function(e){return e.length}).subscribe(function(t){e.mergeState({implicitRecipients:t})}),this.observe(this.observableState).pluck("tweetTextFocused").distinctUntilChanged().filter(TD.util.equals(!1)).subscribe(this.setReleaseFocusTimer.bind(this));var s=this.connect(U.default,{mapStateToProps:function(e){return{scheduledDate:e.scheduledDate}}});this.attachChild(s,this.select("scheduledHintSelector")),this.observe(this.requestResource("dockedCompose.state")).pluck("displayedCharacterCount").distinctUntilChanged().subscribe(function(t){e.mergeState({displayedCharacterCount:t})}),this.attachChild(K,this.select("characterCountSelector"),{stateSource:"dockedCompose.state"});var r=this.connect(V,{mapStateToProps:function(e){return{characterCount:e.displayedCharacterCount,tweetType:e.tweetType}}});this.attachChild(r,this.select("progressSvgSelector").first()),this.attachChild(J,this.$node,{stateSource:"dockedCompose.state",maxRecipients:this.attr.maxRecipients}),this.attachChild(G,this.select("inReplyToSelector"),{stateSource:"dockedCompose.state"}),this.attachChild(X,this.select("tweetTextInputSelector"),{stateSource:"dockedCompose.state"}),this.attachChild(ie,this.select("quoteTweetHolderSelector"),{stateSource:"dockedCompose.state"}),this.attachChild(Z,this.select("sendButtonContainerSelector"),{stateSource:"dockedCompose.state"}),this.attachChild(Y,this.select("addImageButtonSelector"),{stateSource:"dockedCompose.state"}),this.attachChild(Q,this.select("scheduleButtonSelector"),{stateSource:"dockedCompose.state"}),this.attachChild(te,this.select("tweetTypeButtonSelector"),{stateSource:"dockedCompose.state"}),this.attachChild(ee,this.$node,{stateSource:"dockedCompose.state"}),this.attachChild(ne,this.select("stayOpenInputSelector"),{settingName:"compose_stay_open"}),this.on("uiAccountsSelected",this.handleAccountsSelected),this.attachChild(z,this.$node,{stateSource:"dockedCompose.state"}),this.attachChild(W,this.select("accountSelectorGridToggleSelector")),this.attachChild(H,this.select("accountSafeguardCheckboxSelector"),{stateSource:"dockedCompose.state"});var o=this.connect(q,{mapStateToProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selectedAccountKeys,i=void 0===t?[]:t,n=e.implicitRecipients,s=void 0===n?[]:n,r=e.excludedRecipientsIds;return{recipients:de.recipientsWithoutSelfMention(s,i),excludedRecipientsIds:r}}});this.attachChild(o,this.select("replyInfoContainerSelector")),this.releaseFocusTimer=null,this.observe(this.requestResource("settings.state")).pluck("compose_stay_open").distinctUntilChanged().subscribe(this.toState("stayOpen").bind(this)),this.on(document,"uiDrawerActive",this.handleUiDrawerActive),this.on(document,"uiDockedComposeTweet",this.handleUiComposeTweet),this.on(document,"uiComposeClose",this.handleUiComposeClose),this.on(document,"uiComposeCloseNeedsConfirmation",this.handleUiComposeCloseNeedsConfirmation),this.on(document,"uiComposeFilesAdded",this.handleUiComposeFilesAdded),this.on(document,"uiRemoveQuotedTweet",this.handleQuotedTweetRemove),this.on(document,"uiRecipientToggledInDockedCompose",this.handleRecipientToggledFromList),this.on(document,"videoUploadProgress",this.handleVideoUploadProgress),this.on(document,"videoUploadCancel",this.handleVideoUploadCancel),this.on("uiComposeTweetSending",this.enterSendingState),this.on("uiComposeTweetSent",this.enterSuccessState),this.on("uiComposeTweetError",this.enterErrorState),this.on("uiComposeScheduleDate",this.handleUiComposeScheduleDate),this.on("uiAccountSafeguardCheckboxChange",this.handleAccountSafeguardCheckboxChange),this.on("uiRemoveInReplyTo",this.handleRemoveInReplyTo),this.after("attachImagesPreview",function(){this.mergeState({selectionIndices:[this.state.tweetText.length,this.state.tweetText.length]})}),this.after("removeFile",function(){this.mergeState({files:this.getFiles()})}),this.onReceiveClick(function(){this.hasFocus||this.focusRequest()}),this.onLoseClick(function(){this.hasFocus&&this.focusRelease()}),this.on("uiComposeImageAdded",this.handleComposeImageAdded),this.on(document,"uiComposeResetFiles",this.resetFiles.bind(this)),this.on("uiComposeImageClicked",function(){this.mergeState({tweetTextFocused:!0})}),this.on("uiComposeTextChanged",this.handleComposeTextChanged),this.on("uiAddMessageRecipient",this.handleUiAddMessageRecipient),this.on("uiRemoveMessageRecipient",this.handleUiRemoveMessageRecipient),this.on("uiRemoveLastMessageRecipient",this.handleUiRemoveLastMessageRecipient),this.on("uiAddMessageConversation",this.handleUiAddMessageConversation),this.on("uiRemoveMessageConversation",this.handleUiRemoveMessageConversation),this.on("uiComposeTextFocus",this.handleUiComposeTextFocus),this.$composeScroller=this.select("composeScrollerSelector"),he.Observable.merge(this.observableState.distinctUntilChanged(function(e,t){var i=(0,E.default)(e,"inReplyTo.id")===(0,E.default)(t,"inReplyTo.id"),n=(0,E.default)(e,"quotedTweet.id")===(0,E.default)(t,"quotedTweet.id");return i&&n}),t.pluck("account_selector_grid_mode"),he.Observable.fromEvent($(document),"uiMainWindowResized"),he.Observable.fromEvent(this.$node,"uiComposeScheduleDatePickerOpen")).debounceTime(50).subscribe(this.initScrollbars.bind(this)),this.observe(he.Observable.timer(0,1e3)).map(function(e){return{value:e,timestamp:Date.now()}}).pluck("timestamp").map(TD.util.makeDate).subscribe(this.toState("currentTime").bind(this)),this.state.stayOpen&&this.trigger(document,"uiDockedComposeTweet",{noAnimate:!0,noFocus:!0})}),this.resetFiles=function(){this.mergeState({files:this.getFiles()})},this.getConversation=function(e,t){return t.map(P.getClientByAccountKey).map(function(t){return t.conversations.getConversation(e)}).find(function(e){return e})||null},this.hydrateMessageRecipients=function(e){return TD.core.defer.gatherResults(e.map(function(e){return e.screenName&&e.id&&e.profileImageURL?TD.core.defer.succeed(e):TD.cache.twitterUsers.getByScreenName(e.screenName||e)})).addCallbackWith(this,function(e){return(0,C.default)(e,function(e){return e.id})})},this.hydrateScheduledFields=function(e){var t=this,i=(0,E.default)(e,["metadata","originalUpdates"],[]),n=i.map(function(e){var t=e.account,i=e.attachmentUrl,n=e.inReplyToStatusId;return{account:t,hydrations:{quotedTweet:(0,O.extractTweetIdFromPermalink)(i),inReplyTo:n}}});TD.core.defer.gatherResults(n.map(function(e){var t=e.account,i=e.hydrations,n=TD.controller.clients.getClient(t.getKey()),s=(0,h.default)(i).map(function(e){var t=i[e];if(!t)return TD.core.defer.succeed();var s=new TD.core.defer.Deferred;return n.show(t,s.callback.bind(s),s.errback.bind(s)),s.addCallback(function(t){return(0,u.default)({},e,t)}),s}),r=TD.core.defer.gatherResults(s);return r.addCallback(function(e){return b.default.apply(void 0,[{}].concat((0,c.default)(e)))}),r})).addCallback(function(e){t.mergeState(e[0])})},this.handleUiAddMessageConversation=function(e,t){de.existingConversation(this.state)||de.keyIsInSelectedAccounts(this.state,t.conversation.accountKey)&&this.mergeState({messageConversation:this.getConversation(t.conversation.conversationId,[t.conversation.accountKey]),tweetTextFocused:!0})},this.handleUiAddMessageRecipient=function(e,t){if(this.state.messageConversation)return!1;de.maxRecipientsReached(this.state)||this.hydrateMessageRecipients(this.state.messageRecipients.concat(t.recipient)).addCallbackWith(this,function(e){this.mergeState({messageRecipients:e,tweetTextFocused:e.length>=this.attr.maxRecipients})})},this.handleUiRemoveMessageConversation=function(e){this.mergeState({messageConversation:null})},this.handleUiRemoveMessageRecipient=function(e,t){var i=this.state.messageRecipients.filter(function(e){return e.id!==t.id});this.hydrateMessageRecipients(i).addCallbackWith(this,this.toState("messageRecipients"))},this.handleUiRemoveLastMessageRecipient=function(e,t){this.hydrateMessageRecipients(this.state.messageRecipients.slice(0,-1)).addCallbackWith(this,this.toState("messageRecipients"))},this.handleAccountsSelected=function(e,t){this.mergeState({selectedAccountKeys:t.accountKeys}),this.updateAccountsMediaIds(t.accountKeys)},this.handleUiDrawerActive=function(e,t){null===t.activeDrawer&&this.resetAfterClose()},this.handleQuotedTweetRemove=function(){this.mergeState({quotedTweet:null}),TD.controller.stats.discardQuoteTweet()},this.hideComposePanel=function(){this.trigger("uiDrawerHideDrawer")},this.handleUiComposeTweet=function(e,t){t=t||{},$(document).trigger("uiCloseModal"),this.trigger("uiDrawerShowDrawer",{drawer:"compose",withAnimation:!t.noAnimate}),this.mergeState({tweetType:t.type||"tweet"}),this.trigger(document,"scribeEvent",{terms:{page:"compose",component:"docked_compose",element:this.state.tweetType,action:"impression"}}),!0!==t.noReset&&this.resetComposePanelState(t),t.noFocus||this.focusRequest(),this.enableClickTrap();var i=[];if(t.columnKey){var n=TD.controller.columnManager.get(t.columnKey),s=n.getFeeds();i=s.length>1?[(0,M.getDefaultAccount)().accountKey]:[s[0].getAccountKey()],this.mergeState({selectedAccountKeys:i})}},this.handleUiComposeClose=function(e,t){t=t||{},t.keyboardShortcut?this.hasFocus&&(this.state.stayOpen?this.focusRelease():this.hideComposePanel()):this.hideComposePanel(),clearTimeout(this.releaseFocusTimer),this.releaseFocusTimer=null},this.handleUiComposeCloseNeedsConfirmation=function(){var e=this;this.state.tweetSentWhileVideoUploadInProgress&&this.attachChild(F.default,this.select("inlineConfirmationSelector"),{confirmationText:TD.i("Are you sure you want to discard this Tweet?"),primaryButtonText:TD.i("Discard"),secondaryButtonText:TD.i("Cancel"),buttonPrimaryAction:function(){return function(){e.attr.setIsClosable(!0),e.hideComposePanel(),e.triggerEventForClearingVideoProcessing()}},buttonPrimaryIsNegative:!0,buttonPrimaryClickShouldCauseTeardown:!0,buttonSecondaryClickShouldCauseTeardown:!0,teardownOn:"teardownInlineConfirmation"})},this.prepareSendTweet=function(e){var t=(0,N.isUploading)(this.state);t&&(this.attr.setIsClosable(!t),this.trigger("uiDockedComposeSendingVideoInProgress")),this.mergeState({tweetSentWhileVideoUploadInProgress:t});var i={};return i.requestId=(0,y.default)("sendTweet"),i.text=TD.decider.get("compose_quoted_tweet_as_attachment")?e.tweetText:e.rawTweetText,i.inReplyToStatusId=this.state.inReplyTo&&this.state.inReplyTo.id,i.autoPopulateReplyMetadata=this.state.autoPopulateReplyMetadata,i.excludeReplyUserIds=this.state.excludedRecipientsIds,i.files=this.getFiles(),TD.decider.get("compose_quoted_tweet_as_attachment")&&(i.attachmentUrl=e.hasQuotedTweet?e.quotedTweet.getChirpURL():""),i.messageRecipientIds=e.messageRecipients.map(TD.util.pluck("id")).join(","),i.conversationId=e.messageConversation&&e.messageConversation.conversationId,i.scheduledDate=e.scheduledDate,i.from=e.selectedAccountKeys,i.type=e.tweetType,i.metadata=e.metadata,i.files.length&&(i.accountsMediaIds=i.from.reduce(function(e,t){return e[t]=this.getDeferredMediaIdsFor(t),e}.bind(this),{})),i},this.enterSendingState=function(e){e.stopPropagation(),this.mergeState({sendingStatus:"sending"})},this.enterSuccessState=function(e){e.stopPropagation(),this.mergeState({sendingStatus:"success"}),setTimeout(this.resetAfterSend.bind(this),this.attr.panelCloseDelay)},this.enterErrorState=function(e,t){e.stopPropagation();var i;t.errors&&(i=t.errors.map(function(e){return e.request.accountKey})),this.trigger(document,"teardownInlineConfirmation"),this.mergeState({sendingStatus:"ready",selectedAccountKeys:i||this.state.selectedAccountKeys}),this.triggerEventForClearingVideoProcessing()},this.resetAfterSend=function(){this.mergeState({tweetType:"message"===this.state.tweetType?"message":"tweet",tweetText:"",sendingStatus:"ready",messageRecipients:[],messageConversation:null,quotedTweet:null,files:[],inReplyTo:null,replies:[],mentions:[],implicitRecipients:[],excludedRecipientsIds:[],scheduledDate:null,metadata:{},tweetSentWhileVideoUploadInProgress:!1}),this.attr.setIsClosable(!0),this.trigger(document,"teardownInlineConfirmation"),this.state.stayOpen?this.resetComposePanelState({type:this.state.tweetType,text:"",from:this.state.selectedAccountKeys}):this.hideComposePanel(),this.triggerEventForClearingVideoProcessing()},this.resetAfterClose=function(){this.mergeState({tweetType:"tweet",tweetText:"",selectedAccountKeys:[(0,M.getDefaultAccount)().accountKey],files:[],sendingStatus:"ready",messageRecipients:[],messageConversation:null,quotedTweet:null,metadata:{},inReplyTo:null,replies:[],mentions:[],implicitRecipients:[],excludedRecipientsIds:[],tweetTextFocused:!1,scheduledDate:null,tweetSentWhileVideoUploadInProgress:!1}),this.removeFiles(),this.$node.find(":focus").blur(),this.focusRelease(),this.disableClickTrap(),this.resetSendTweet()},this.resetComposePanelState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.type=e.type||"tweet";var t=void 0!==e.text,i={tweetText:this.state.tweetText,scheduledDate:this.state.scheduledDate,metadata:e.metadata||this.state.metadata||{},singleAccountMode:"message"===e.type,isPrivateConversation:"message"===e.type,selectedAccountKeys:this.state.selectedAccountKeys,implicitRecipients:this.state.implicitRecipients};switch(t&&(i.scheduledDate=null,this.removeFiles()),e.schedule&&(i.scheduledDate=e.schedule.time,i.selectedAccountKeys=e.from),e.type){case"tweet":i.inReplyTo=null,void 0!==e.text?i.tweetText=e.text:this.state.messageRecipients.length>0&&(i.tweetText=le.prependRecipients(this.state)),void 0!==e.appendText&&(i.tweetText=le.appendText(e.appendText,this.state)),(e.from&&e.from.length>0||e.isEditAndRetweet||e.quotedTweet)&&(i.selectedAccountKeys=e.from),e.noFocus||TD.util.isiOSDevice()&&TD.decider.get("touchdeck_compose_v2")||(i.tweetTextFocused=!0,i.selectionIndices=i.tweetText&&[i.tweetText.length,i.tweetText.length]),i.messageRecipients=[],i.messageConversation=null,i.quotedTweet=e.quotedTweet||null;break;case"reply":if(de.shouldSetNewReplyTo(this.state)&&(i.inReplyTo=e.inReplyTo,i.selectedAccountKeys=e.from,i.autoPopulateReplyMetadata="boolean"!=typeof e.autoPopulateReplyMetadata||e.autoPopulateReplyMetadata,i.implicitRecipients=[],i.autoPopulateReplyMetadata&&(i.implicitRecipients=e.mentions,i.excludedRecipientsIds=e.excludedRecipientsIds||[])),e.popFromInline)i.tweetText=e.text,i.selectionIndices=[e.text.length,e.text.length],i.mentions=(0,T.default)(e.mentions,"screenName").map(ce.atMentionify),i.inReplyTo=e.inReplyTo;else{var n=le.mergeRepliesAndMentions(this.state.replies,this.state.mentions,e.inReplyTo,e.mentions,i.implicitRecipients);if(i=(0,o.default)({},i,n),de.onlyOneAccountIsSelected(i)){var s=(0,P.getAccountData)(i.selectedAccountKeys[0]).screenName;i.mentions=(0,g.default)(i.mentions,ce.atMentionify(s)),i.replies=(0,g.default)(i.replies,ce.atMentionify(s))}i.tweetText=le.getStackedRepliesText(this.state.tweetText,i.replies,i.mentions),i.selectionIndices=le.getSelectionIndices(i.tweetText,i.replies,i.mentions),i.tweetTextFocused=!0}i.messageRecipients=[],i.messageConversation=null;break;case"message":var r,a=[];if(e.from&&e.from.length>0&&(i.selectedAccountKeys=e.from),void 0!==e.text?i.tweetText=e.text:r=ce.extractMentions(this.state.tweetText),e.conversationId)i.messageConversation=this.getConversation(e.conversationId,i.selectedAccountKeys);else if(e.messageRecipients)a=e.messageRecipients;else if(e.to&&e.to.screenName)a=[e.to.screenName];else if(this.state.messageRecipients.length>0)a=this.state.messageRecipients;else if(r&&r.length){a=r;var c=ce.removeFirstMention(this.state.tweetText);i.tweetText=c}var l=this.hydrateMessageRecipients(a).addCallbackWith(this,this.toState("messageRecipients"));a.length&&l.addCallbackWith(this,function(){i.tweetTextFocused=!0}),i.quotedTweet=e.quotedTweet||null,i.inReplyTo=null}this.mergeState(i)},this.triggerEventForClearingVideoProcessing=function(){this.trigger("uiDockedComposeSendingVideoComplete")},this.resetVideoUploadProgress=function(){this.mergeState({uploadsInProgress:{}}),this.triggerEventForClearingVideoProcessing()},this.handleUiComposeFilesAdded=function(e,t){this.resetVideoUploadProgress(),this.addFiles((0,f.default)(t.files)),this.trigger("uiDockedComposeTweet",{type:this.state.tweetType,noReset:!0})},this.handleUiComposeScheduleDate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.date;this.mergeState({scheduledDate:i})},this.initScrollbars=function(){var e=this.$composeScroller.data("antiscroll");e?e.refresh():this.$composeScroller.antiscroll({initialDisplay:!1})},this.handleComposeTextChanged=function(e,t){e.stopPropagation(),this.mergeState({tweetText:t.value})},this.setReleaseFocusTimer=function(e){var t=0;this.state.stayOpen||(t=this.attr.releaseFocusDelay),this.releaseFocusTimer=setTimeout(function(){this.releaseFocusTimer=null,this.focusRelease()}.bind(this),t)},this.handleComposeImageAdded=function(e){this.mergeState({files:this.getFiles()})},this.handleAccountSafeguardCheckboxChange=function(e,t){e.stopPropagation(),this.mergeState({accountSafeguardChecked:t.checked})},this.handleRemoveInReplyTo=function(e,t){e.stopPropagation(),this.mergeState({tweetText:le.stripNamesFromText(this.state.tweetText,this.state.mentions.concat(this.state.replies)),inReplyTo:null,replies:[],mentions:[],implicitRecipients:[],excludedRecipientsIds:[],autoPopulateReplyMetadata:!1,tweetTextFocused:!0})},this.handleUiComposeTextFocus=function(e,t){e.stopPropagation(),this.mergeState({tweetTextFocused:t.focused})},this.handleRecipientToggledFromList=function(e,t){var i=de.getUpdatedExcludedRecipientsIds(this.state,t);this.mergeState({excludedRecipientsIds:i})},this.handleVideoUploadProgress=function(e,t){var i=this.getFiles();i&&i.length&&this.mergeState({uploadsInProgress:(0,o.default)({},this.state.uploadsInProgress,(0,u.default)({},t.userId,{mode:t.mode,percent:t.percent}))})},this.handleVideoUploadCancel=function(e,t){delete this.state.uploadsInProgress[t.userId]},this.render=function(){}}var r=i(15),o=n(r),a=i(39),c=n(a),l=i(152),u=n(l),d=i(27),h=n(d),p=i(112),f=n(p),m=i(1675),g=n(m),v=i(200),T=n(v),_=i(403),y=n(_),w=i(1751),b=n(w),D=i(161),C=n(D),S=i(17),E=n(S),I=i(85),A=n(I),x=i(7),k=n(x),M=i(90),O=i(13),R=i(38),L=i(976),F=n(L),N=i(475),P=i(22),j=i(999),U=n(j),B=i(4),H=i(453),z=i(935),W=i(936),K=i(454),V=i(455),G=i(940),q=i(456),Y=i(937),Q=i(944),J=i(942),X=i(458),Z=i(457),ee=i(946),te=i(947),ie=i(943),ne=i(945),se=i(466),re=i(145),oe=i(948),ae=i(459),ce=i(146),le=i(474),ue=i(470),de=i(216),he=i(18);e.exports=B.mixin(A.default,k.default,s,se,re,oe,ae)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({stateSource:null,removeSelector:".js-in-reply-to-remove"}),this.after("initialize",function(){this.on("click",{removeSelector:function(){this.trigger("uiRemoveInReplyTo")}}),this.observe(this.requestResource(this.attr.stateSource)).pluck("inReplyTo").distinctUntilChanged(function(e,t){return(0,o.default)(e,"id")===(0,o.default)(t,"id")}).subscribe(this.render.bind(this))}),this.render=function(e){e?(this.$node.html(d.render("compose/in_reply_to",e)),this.$node.removeClass("is-hidden")):(this.$node.addClass("is-hidden"),this.$node.html(""))}}var r=i(17),o=n(r),a=i(7),c=n(a),l=i(2).component,u=i(19),d=i(3);e.exports=l(c.default,s,u)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){var e,t,i;this.attributes({panelCloseDelay:500,inlineReplySelector:".js-inline-reply",closeSelector:".js-inline-compose-close",popSelector:".js-inline-compose-pop",characterCountSelector:".is-inline-active .js-character-count",progressSvgSelector:".js-progress-svg",accountSafeguardCheckboxSelector:".is-inline-active .js-account-safeguard-checkbox",addImageSelector:".js-inline-compose-add-image",accountSelector:".js-inline-reply .js-account-item",tweetSelector:".js-tweet",tweetActionsSelector:".js-tweet-actions",replyActionSelector:".js-reply-action",detailViewInlineSelector:".js-detail-view-inline",tweetTextInputSelector:".is-inline-active .js-compose-text",sendButtonContainerSelector:".is-inline-active .js-send-button-container",replyInfoContainerSelector:".is-inline-active .js-reply-info-container",pagingEasingFunction:"easeOutQuad",draftCacheSize:50}),this.initialState({tweetType:"reply",sendingStatus:"ready",tweetText:"",accountSafeguardChecked:!1,tweetTextFocused:!1,batchMode:"off",attr:function(){return this.attr},messageRecipients:function(){return[]},files:function(){return[]},currentTime:function(){return new Date},selectedAccountKeys:function(){return[]},selectionIndices:function(){return[]}}),this.after("initialize",function(){try{this.afterInitialize.apply(this,arguments)}catch(e){TD.controller.stats.generic({page:"compose",component:"inline_compose",action:"error"},{custom_json_payload:{stack:e.stack,build:TD.buildIDShort}})}}),this.afterInitialize=function(){this.draftCache=new o.default(this.attr.draftCacheSize),this.on(document,"uiInlineComposeTweet",this.handleUiInlineComposeTweet),this.on(document,"uiDockedComposeTweet",this.closeInlineCompose),this.on(document,"uiComposeClose",this.closeInlineComposeIfFocused),this.on(document,"uiPopInlineComposeState",this.handlePopClick),this.on(document,"uiRecipientToggledInInlineCompose",this.handleRecipientToggledFromList),this.on("uiComposeTweetSending",this.enterSendingState),this.on("uiComposeTweetSent",this.enterSuccessState),this.on("uiComposeTweetError",this.enterErrorState),this.on("uiComposeTextChanged",this.handleTextChanged),this.on("uiAccountSafeguardCheckboxChange",this.handleAccountSafeguardCheckboxChange);var e=this.observe(this.requestResource("settings.state")).pluck("safeguarded_account_list").map(TD.util.unpluck("safeguarded_account_list")).map(TD.util.unpluck("settings")),t=this.observe(this.requestResource("/1.1/help/configuration.json")).map(TD.util.unpluck("configuration")),i=k.Observable.combineLatest([this.observableState,e,t],TD.util.merge).map(I).share();this.provideResource("inlineCompose.state",i),k.Observable.fromEvent(this.$node,"uiComposeSendTweet").do(function(e){e.stopPropagation()}).withLatestFrom(i,function(e,t){return t}).filter(TD.util.pluck("canSend")).map(this.prepareSendTweet.bind(this)).subscribe(this.sendTweet.bind(this)),this.on(S,{inlineReplySelector:this.handleAnimationEnd})},this.setupDOM=function(){var e=this;if(i){this.attachChild(y,this.select("tweetTextInputSelector"),{stateSource:"inlineCompose.state",teardownOn:"inlineInstanceTearDown"}),this.attachChild(g,this.select("characterCountSelector"),{stateSource:"inlineCompose.state",teardownOn:"inlineInstanceTearDown"}),this.observe(this.requestResource("inlineCompose.state")).pluck("displayedCharacterCount").distinctUntilChanged().subscribe(function(t){e.mergeState({displayedCharacterCount:t})});var t=this.connect(v,{mapStateToProps:function(e){return{characterCount:e.displayedCharacterCount,tweetType:"tweet"}}});this.attachChild(t,i.find(".js-progress-svg").first()),this.attachChild(T,this.select("sendButtonContainerSelector"),{stateSource:"inlineCompose.state",teardownOn:"inlineInstanceTearDown"}),this.attachChild(m,this.select("accountSafeguardCheckboxSelector"),{stateSource:"inlineCompose.state"});var n=this.connect(_,{mapStateToProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selectedAccountKeys,i=void 0===t?[]:t,n=e.implicitRecipients,s=void 0===n?[]:n,r=e.excludedRecipientsIds,o=e.batchMode,a=void 0===o?"off":o;return{recipients:E.recipientsWithoutSelfMention(s,i),excludedRecipientsIds:r,batchMode:a}}});this.attachChild(n,this.select("replyInfoContainerSelector"),{teardownOn:"inlineInstanceTearDown"}),this.select("closeSelector").on("click",this.handleCloseClick.bind(this)),this.select("popSelector").on("click",this.handlePopClick.bind(this)),this.select("addImageSelector").on("click",this.handleAddImageClick.bind(this)),this.select("accountSelector").on("click",this.handlePopClick.bind(this))}},this.handleUiInlineComposeTweet=function(i,n){if(e=n||{},e.singleFrom=[n.from[0]],$(n.element).find(this.attr.inlineReplySelector).length>0)return void this.closeInlineCompose();t&&this.closeInlineCompose(),this.focusRequest(),this.setupInlineCompose(e)},this.setupInlineCompose=function(e){this.trigger(document,"scribeEvent",{terms:{page:"compose",component:"inline_compose",action:"impression"}}),t=e.element,t.find(".js-tweet-actions").addClass("is-visible"),t.find(".js-detail-view-inline").addClass("is-hidden"),t.find(".js-reply-action").addClass("is-selected");var n=(0,p.getAccountData)(e.from),s=e.inReplyTo.chirp,r=s.isOwnChirp()&&s.isInThread()&&!s.isMidSelfThread()&&s.lastInSelfThread();i=$(h.default.render("compose/compose_inline_reply",{account:n,isMac:"osx"===TD.util.getOSName(),inline:!0,addSubsequentTweet:r})),t.find(this.attr.tweetSelector).after(i),this.setupDOM();var o=M.pluck(e.mentions,"screenName").map(A.atMentionify),a=[e.inReplyTo.user.screenName].map(A.atMentionify);o=x.stripRepliesFromMentions(o,a);var c=(0,p.getAccountData)(e.from[0]).screenName;o=M.without(o,A.atMentionify(c)),a=M.without(a,A.atMentionify(c));var l,u,d=this.getDraftText();d&&""!==d?(u=d,l=[u.length,u.length]):(u="",l=x.getSelectionIndices(u,a,o)),this.mergeState({selectedAccountKeys:e.from,tweetText:u,selectionIndices:l,tweetTextFocused:!0,implicitRecipients:e.mentions,excludedRecipientsIds:[],autoPopulateReplyMetadata:!0,batchMode:r?"subsequent":"off",replies:a,mentions:o}),M.defer(function(){i.removeClass("is-inline-inactive")}),i.on("click",function(e){e.target.classList.contains("account-link")||e.stopPropagation()});var f=i.parents(".js-column");f.hasClass("js-column-state-detail-view")||TD.ui.columns.lockColumnToElement(f.attr("data-column"),t)},this.closeInlineCompose=function(){t&&(this.saveDraftText(this.state.tweetText),this.closeAndRemovePanels(),this.focusRelease(),this.trigger(document,"scribeEvent",{terms:{page:"compose",component:"inline_compose",action:"close"}}),this.trigger(i,"inlineInstanceTearDown"))},this.closeInlineComposeIfFocused=function(e,t){t&&t.keyboardShortcut&&!this.hasFocus||this.closeInlineCompose()},this.closeAndRemovePanels=function(e){i&&this.select("inlineReplySelector").removeClass("is-inline-active").css({overflow:"hidden"}).addClass("is-inline-inactive")},this.tearDownInlineCompose=function(){this.closeAndRemovePanels(),this.deleteDraftText(),this.focusRelease(),t=null,this.mergeState({sendingStatus:"ready",tweetText:"",selectedAccountKeys:[]})},this.handleAnimationEnd=function(e){var t=$(e.target);if(t.hasClass("is-inline-inactive")){var n=t.parents(".js-column").attr("data-column"),s=t.parents(".js-stream-item-content");TD.ui.columns.unlockColumnFromElement(n),s.find(this.attr.tweetActionsSelector).removeClass("is-visible"),s.find(this.attr.replyActionSelector).removeClass("is-selected"),s.find(this.attr.detailViewInlineSelector).removeClass("is-hidden"),t.remove()}else this.scrollColumnIfRequired(),i.css({overflow:"visible"})},this.scrollColumnIfRequired=function(){var e,t=i.parents(".js-column"),n=t.attr("data-column"),s=this.getColumnScrollContainerByKey(n),r=t.find(".js-live-video"),o=i.offset().top+i.height()-s.height();if(o>0){e=s.scrollTop()-r.height();var a=TD.ui.columns.calculateScrollDuration(o,50,750);s.stop().animate({scrollTop:e+o},a,this.attr.pagingEasingFunction)}},this.accountsHaveSafeguard=function(e){return M.intersection(e,TD.settings.getSafeguardedAccountList()).length>0},this.prepareSendTweet=function(t,i){return{requestId:M.uniqueId("sendTweet"),text:this.state.tweetText,inReplyToStatusId:e.inReplyTo.id,autoPopulateReplyMetadata:this.state.autoPopulateReplyMetadata,excludeReplyUserIds:this.state.excludedRecipientsIds,from:this.state.selectedAccountKeys,type:"reply",inline:!0,batchMode:this.state.batchMode}},this.enterSendingState=function(e){e.stopPropagation(),this.mergeState({sendingStatus:"sending"})},this.enterSuccessState=function(e){e.stopPropagation(),this.mergeState({sendingStatus:"success"}),this.deleteDraftText(),setTimeout(this.tearDownInlineCompose.bind(this),this.attr.panelCloseDelay)},this.enterErrorState=function(e,t){e.stopPropagation(),this.mergeState({sendingStatus:"ready"})},this.getDraftText=function(){if(t&&t.length)return this.draftCache.get(t.attr("data-key"))},this.saveDraftText=function(e){if(t&&t.length){var i=t.attr("data-key");i&&this.draftCache.enqueue(i,e)}},this.deleteDraftText=function(){t&&t.length&&this.draftCache.dequeue(t.attr("data-key"))},this.handleTextChanged=function(e,t){e.stopPropagation(),this.saveDraftText(t.value),this.mergeState({tweetText:t.value})},this.handleCloseClick=function(){this.closeInlineCompose()},this.handlePopClick=function(){this.deleteDraftText(),this.trigger("uiDockedComposeTweet",{type:"reply",text:this.state.tweetText,from:e.from,mentions:e.mentions,inReplyTo:e.inReplyTo,excludedRecipientsIds:this.state.excludedRecipientsIds,batchMode:this.state.batchMode,popFromInline:!0})},this.handleAddImageClick=function(){this.handlePopClick(),this.trigger("uiComposeAddImageClick")},this.handleAccountSafeguardCheckboxChange=function(e,t){this.mergeState({accountSafeguardChecked:t.checked})},this.handleRecipientToggledFromList=function(e,t){var i=E.getUpdatedExcludedRecipientsIds(this.state,t);this.mergeState({excludedRecipientsIds:i})},this.render=function(){}}var r=i(445),o=n(r),a=i(85),c=n(a),l=i(7),u=n(l),d=i(3),h=n(d),p=i(22),f=i(4),m=i(453),g=i(454),v=i(455),T=i(457),_=i(456),y=i(458),w=i(144),b=i(145),D=i(459),C=i(173),S=C.TRANSITION_END,E=i(216),I=i(470),A=i(146),x=i(474),k=i(18),M=i(54);e.exports=f.mixin(c.default,u.default,s,w,b,D)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({containerSelector:".js-compose-message-recipient-container",inputSelector:".js-compose-message-account",inputContainerSelector:".js-compose-message-recipient-input-container",listContainerSelector:".js-compose-message-recipient-list",removeRecipientSelector:".js-remove-recipient",removeConversationSelector:".js-remove-conversation",recipientSelector:".js-compose-message-recipient",hideInputClass:"compose-message-account-hidden",stateSource:null,maxRecipients:null,dropdownSelector:".js-typeahead-dropdown",focusableSelector:"textarea, input"}),this.initialState({selectedAccountKeys:function(){return[]}}),this.after("initialize",function(){this.$container=this.select("containerSelector"),this.$input=this.select("inputSelector"),this.$inputContainer=this.select("inputContainerSelector"),this.$list=this.select("listContainerSelector"),this.on(this.$input,"focus",this.handleInputFocus),this.on(this.$input,"blur",this.handleInputBlur),this.on("click",{removeConversationSelector:this.handleRemoveConversationClick,removeRecipientSelector:this.handleRemoveRecipientClick,listContainerSelector:this.handleListContainerClick}),this.attachChild(g,this.$node,{inputSelector:this.attr.inputSelector}),this.attachChild(m,this.$node,{alwaysOpen:!1,autoSelect:!0,blockLinkActions:!0,datasources:["users","conversations"],datasourcesRecentOnly:[],hideAfterSelect:!0,inputSelector:this.attr.inputSelector,usersTemplate:"typeahead/typeahead_users_compose",withClickTrap:!0}),this.on("uiTypeaheadInputEscaped uiTypeaheadNoItemSelected",{inputSelector:this.handleTypeaheadInputEscaped}),this.on("uiTypeaheadInputBackspace",this.handleTypeaheadInputBackspace),this.on("uiTypeaheadItemComplete uiTypeaheadItemSelected",this.handleTypeaheadItemSelected),this.on("uiNeedsTypeaheadSuggestions",this.extendTypeaheadRequest);var e=this.observe(this.requestResource(this.attr.stateSource));e.pluck("tweetType").map(TD.util.equals("message")).distinctUntilChanged().subscribe(this.toggleVisibility.bind(this)),e.map(T.filterKeys(["messageRecipients","messageConversation"])).distinctUntilChanged(function(e,t){var i={messageRecipients:e.messageRecipients,messageConversationId:(0,c.default)(e,"messageConversation.conversationId")},n={messageRecipients:t.messageRecipients,messageConversationId:(0,c.default)(t,"messageConversation.conversationId")};return(0,o.default)(i,n)}).subscribe(this.render.bind(this)),e.pluck("selectedAccountKeys").distinctUntilChanged().subscribe(this.toState("selectedAccountKeys").bind(this)),this.setScrollToTopListener()}),this.extendTypeaheadRequest=function(e,t){t.accountKey=(this.state.selectedAccountKeys||[])[0]},this.handleRemoveConversationClick=function(){this.trigger("uiRemoveMessageConversation")},this.handleRemoveRecipientClick=function(e,t){this.trigger("uiRemoveMessageRecipient",{id:$(t.el).attr("data-user-id")})},this.handleInputFocus=function(){this.$inputContainer.addClass("is-focused")},this.handleInputBlur=function(){this.$inputContainer.removeClass("is-focused")},this.handleListContainerClick=function(e,t){e.target===t.el&&(this.$input.focus(),v.makeElementVisible(this.$inputContainer,this.$input))},this.toggleVisibility=function(e){this.$container.toggleClass("is-hidden",!e),e?TD.util.isTouchDevice()&&TD.decider.get("touchdeck_compose_v2")||this.$input.focus():this.$input.blur()},this.render=function(e){var t=this.$inputContainer.scrollTop(),i=t+this.$inputContainer.height()>=this.$inputContainer.prop("scrollHeight");this.select("recipientSelector").remove(),e.messageRecipients&&e.messageRecipients.length>0?(this.renderRecipientList(e.messageRecipients),this.$inputContainer.scrollTop(t),i&&v.makeElementVisible(this.$inputContainer,this.$input),this.checkMaxRecipients(e.messageRecipients)):e.messageConversation?(this.renderConversation(e.messageConversation),this.$input.addClass(this.attr.hideInputClass)):(this.$list.addClass("is-hidden"),this.$input.removeClass(this.attr.hideInputClass),this.$input.focus(),this.trigger("uiMessageRecipientUnset"))},this.renderConversation=function(e){var t=e.render({templateName:"compose/message_conversation"});this.$list.prepend(t),this.$list.removeClass("is-hidden")},this.renderRecipientList=function(e){var t=_.render("compose/message_recipients",{users:e});this.$list.prepend(t),this.$list.removeClass("is-hidden")},this.checkMaxRecipients=function(e){var t=e.length>=this.attr.maxRecipients;this.$input.toggleClass(this.attr.hideInputClass,t).trigger(t?"blur":"focus")},this.handleTypeaheadInputBackspace=function(e,t){this.trigger("uiRemoveLastMessageRecipient")},this.handleTypeaheadItemSelected=function(e,t){this.$input.val(""),"conversation"===t.searchType?this.trigger("uiAddMessageConversation",{conversation:t.item}):"user"===t.searchType&&this.trigger("uiAddMessageRecipient",{recipient:t.item})},this.handleTypeaheadInputEscaped=function(e){var t=this.select("inputSelector");""===t.val().trim()?t.blur():t.val("")},this.setScrollToTopListener=function(){var e=this.select("focusableSelector");this.on(e,"focus",function(){window.scrollTo(0,0),document.body.scrollTop=0})}}var r=i(97),o=n(r),a=i(17),c=n(a),l=i(7),u=n(l),d=i(2).component,h=i(19),p=i(30),f=i(61),m=i(286),g=i(463),v=i(217),T=i(38),_=i(3);e.exports=d(f,u.default,s,p,h)},function(e,t,i){"use strict";function n(){this.attributes({removeSelector:".js-quote-tweet-remove",stateSource:null}),this.after("initialize",function(e){var t=this;this.on("click",{removeSelector:function(){this.trigger(document,"uiRemoveQuotedTweet")}}),this.observe(this.requestResource(this.attr.stateSource)).pluck("quotedTweet").distinctUntilChanged(function(e,t){return _.get(e,"id")===_.get(t,"id")}).map(function(e){return t.renderTweet(e)}).do(function(e){return t.toggle(!!e)}).subscribe(function(e){return t.$node.html(e)})}),this.renderTweet=function(e){return e?e.renderQuotedTweet({inCompose:!0,mediaPreviewSize:TD.vo.Column.MEDIA_PREVIEW_SIZE_MEDIUM}):""},this.toggle=function(e){this.$node.toggleClass("is-hidden",!e)}}var s=i(7),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component,a=i(19);e.exports=o(r.default,n,a)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({stateSource:null,scheduleButtonSelector:".js-schedule-button",scheduleButtonLabelSelector:".js-schedule-button-label",scheduleDatePickerHolderSelector:".js-schedule-datepicker-holder"}),this.initialState({datePickerOpen:!1}),this.after("initialize",function(){var e=this;this.$scheduleButton=this.select("scheduleButtonSelector"),this.$scheduleButtonLabel=this.select("scheduleButtonLabelSelector"),this.$scheduleDatePickerHolder=this.select("scheduleDatePickerHolderSelector"),this.initPicker(),d.Observable.fromEvent(this.$scheduleButton,"click",function(e){return e.currentTarget}).filter(_.negate(TD.util.makeHasClass("is-disabled"))).map(_.negate(this.fromState("datePickerOpen")),this).subscribe(this.toState("datePickerOpen").bind(this));var t=this.observe(this.requestResource(this.attr.stateSource)),i=t.pluck("scheduledDate").distinctUntilChanged(function(e,t){return(e?e.getTime():null)===(t?t.getTime():null)});t.pluck("canSchedule").distinctUntilChanged().subscribe(this.toggleEnabled.bind(this)),t.pluck("scheduleButtonTooltip").distinctUntilChanged().subscribe(this.renderTooltip.bind(this)),t.pluck("scheduleButtonText").distinctUntilChanged().subscribe(this.$scheduleButtonLabel.text.bind(this.$scheduleButtonLabel)),i.subscribe(function(t){return e.scheduleDatePicker.setDate(t)});var n=this.observableState.pluck("datePickerOpen").distinctUntilChanged().share();n.subscribe(this.togglePicker.bind(this)),n.map(TD.util.unpluck("datePickerOpen")).withLatestFrom(i.map(TD.util.unpluck("scheduledDate")),TD.util.merge).subscribe(this.handleStateChanged.bind(this))}),this.after("teardown",function(){$.unsubscribe(this.dateChangedSubscription),$.unsubscribe(this.dateRemovedSubscription)}),this.handleStateChanged=function(e){e.datePickerOpen&&!e.scheduledDate&&this.changePickerDate(h().add(20,"m").toDate())},this.togglePicker=function(e){var t=this;this.scheduleDatePicker.$node.toggle(e),this.trigger("uiComposeScheduleDatePickerOpen"),_.defer(function(){return t.toggleClickTrap(e)})},this.renderTooltip=function(e){var t=$("<div/>").html(e).text();this.$scheduleButton.attr("data-original-title",t)},this.toggleEnabled=function(e){this.$scheduleButton.toggleClass("is-disabled",!e).attr("tabindex",e?"":"-1")},this.scheduleRemoved=function(e){this.mergeState({datePickerOpen:!1})},this.initPicker=function(){this.dateChangedSubscription=$.subscribe("/change/date",this.changePickerDate.bind(this)),this.dateRemovedSubscription=$.subscribe("/removed/date",this.scheduleRemoved.bind(this)),this.scheduleDatePicker=new TD.components.ScheduledDatePicker(this.$scheduleDatePickerHolder,{hidden:!this.state.datePickerOpen})},this.changePickerDate=function(e){this.trigger("uiComposeScheduleDate",{date:e?h(e).seconds(0).toDate():e})},this.elementIsOutsideScheduler=function(e){return 0===e.closest(this.$scheduleDatePickerHolder).length&&0===e.closest(this.$scheduleButton).length},this.elementIsScroller=function(e){return e.hasClass("antiscroll-scrollbar")||e.hasClass("antiscroll-wrap")},this.toggleClickTrap=function(e){e?$("body").on("click.scheduleclicktrap",function(e){var t=$(e.target);this.elementIsOutsideScheduler(t)&&!this.elementIsScroller(t)&&this.mergeState({datePickerOpen:!1})}.bind(this)):$("body").off("click.scheduleclicktrap")}}var r=i(85),o=n(r),a=i(7),c=n(a),l=i(2).component,u=i(19),d=i(18),h=i(60);e.exports=l(c.default,o.default,s,u)},function(e,t,i){"use strict";function n(){this.attributes({settingName:null}),this.after("initialize",function(){this.on("change",function(e){TD.settings.set(this.attr.settingName,this.$node.prop("checked")),e.preventDefault()}),this.observe(this.requestResource("settings.state")).pluck(this.attr.settingName).distinctUntilChanged().subscribe(this.render.bind(this))}),this.render=function(e){this.$node.prop("checked",e)}}var s=i(7),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component,a=i(19);e.exports=o(r.default,a,n)},function(e,t,i){"use strict";function n(){this.attributes({stateSource:null,titleSelector:".js-compose-title",headerSelector:".js-compose-header",messageHeaderSelector:".js-compose-message-header"}),this.after("initialize",function(){this.$title=this.select("titleSelector"),this.$header=this.select("headerSelector"),this.$messageHeader=this.select("messageHeaderSelector"),this.observe(this.requestResource(this.attr.stateSource)).map(c.filterKeys(["tweetType","scheduledDate","metadata"])).distinctUntilChanged(c.shallowEquals()).subscribe(this.render.bind(this))}),this.render=function(e){this.$header.toggleClass("with-dm-icon","message"===e.tweetType),this.$messageHeader.text("message"===e.tweetType?TD.i("Message"):TD.i("Tweet")),e.scheduledDate&&e.metadata&&e.metadata.originalUpdates?this.$title.text(TD.i("Edit scheduled Tweet")):this.$title.text("message"===e.tweetType?TD.i("New message"):TD.i("New Tweet"))}}var s=i(7),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component,a=i(19),c=i(38);e.exports=o(r.default,n,a)},function(e,t,i){"use strict";function n(){this.attributes({stateSource:null,messageButtonSelector:".js-dm-button",tweetButtonSelector:".js-tweet-button"}),this.after("initialize",function(){this.$messageButton=this.select("messageButtonSelector"),this.$tweetButton=this.select("tweetButtonSelector"),this.on(this.$messageButton,"click",function(){this.$messageButton.hasClass("is-disabled")||this.trigger(document,"uiComposeTweet",{type:"message"})}),this.on(this.$tweetButton,"click",function(){this.trigger(document,"uiComposeTweet",{type:"tweet"})});var e=this.observe(this.requestResource(this.attr.stateSource));e.pluck("tweetType").distinctUntilChanged().subscribe(this.toggleButtonType.bind(this)),e.pluck("tweetTypeButtonTooltip").distinctUntilChanged().subscribe(this.renderTooltip.bind(this)),e.pluck("canSwitchTweetType").distinctUntilChanged().subscribe(this.toggleEnabled.bind(this))}),this.toggleButtonType=function(e){var t="message"===e;this.$messageButton.toggleClass("is-hidden",t),this.$tweetButton.toggleClass("is-hidden",!t)},this.renderTooltip=function(e){var t=$("<div/>").html(e).text();this.$messageButton.attr("data-original-title",t)},this.toggleEnabled=function(e){this.$messageButton.toggleClass("is-disabled",!e).attr("tabindex",e?"":"-1")}}var s=i(7),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component,a=i(19);e.exports=o(r.default,n,a)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.mediaBarData={files:[],previews:[],accountsMediaIds:{}}}function r(e,t){var i=m.default.upload({file:e,accountKey:t,ttl:this.state.scheduledDate?"infinity":"ephemeral"});return i.addErrback(function(t){if(!(t instanceof TD.core.defer.CancelledError)){var i=this.mediaBarData.files.indexOf(e);if(i>-1){this.mediaBarData.files.length>1?(this.removeFileAtIndex(i),this.attachImagesPreview()):this.removeFiles();var n=TD.i("We could not upload {{name}}, please try again.",{name:e.name});setTimeout(u.showErrorNotification,0,{message:n})}return t}}.bind(this)),i}var o=i(27),a=n(o),c=i(17),l=n(c),u=i(6),d=i(1027),h=n(d),p=i(30),f=i(1035),m=n(f),g=i(3),v=n(g);e.exports=function(){this.attributes({mediaBarContainerSelector:".js-media-added",mediaBarRemoveSelector:".js-media-bar-remove",mediaBarThumb:".js-media-bar-thumb",mediaBarSelector:".compose-media-bar",maxImageHeight:310}),this.before("initialize",s),this.after("initialize",function(){this.$mediaBarContainer=this.select("mediaBarContainerSelector"),this.on("click",{mediaBarRemoveSelector:this.removeFile}),this.on(document,"uiComposeVideoTooLarge",this.handleVideoTooLarge.bind(this))}),this.addFiles=function(e){if(this.$mediaBarContainer.removeClass("is-hidden"),TD.util.hasFeature("filereader")){new TD.core.defer.DeferredList(e.map(this.loadFileData)).addCallback(function(t){t.forEach(function(t,i){if(t[0]){var n=t[1];this.mediaBarData.previews.indexOf(n)<0&&(this.mediaBarData.files.push(e[i]),this.mediaBarData.previews.push(n),this.state.selectedAccountKeys.forEach(function(e){this.addMediaIdsFor(e)},this))}},this),this.attachImagesPreview()}.bind(this))}else this.mediaBarData.files=e,this.attachImageInfoBar()},this.loadFileData=function(e){var t=new TD.core.defer.Deferred,i=new FileReader;return i.onloadend=function(e){t.callback(e.target.result)},i.readAsDataURL(e),t},this.attachImageInfoBar=function(){var e=v.default.render("compose/media_bar_infobar");this.$mediaBarContainer.html(e)},this.attachImagesPreview=function(e){var t=this.mediaBarData.previews.length,i=t>1,n="video/mp4"===(0,l.default)(this.mediaBarData,"files[0].type"),s=v.default.render("compose/media_bar_image",{isMediaGridContent:i,mediaLength:t,isVideo:n,mediaInfo:this.mediaBarData.previews.map(function(e,t){return{src:e,fileIndex:t}})});if(this.$mediaBarContainer.html(s),this.$mediaBarContainer.on("click",function(e){var t=$(event.target);(t.is("img")||t.hasClass("media-image"))&&this.trigger("uiComposeImageClicked")}.bind(this)),n){var r=this.$node.find(".js-video"),o=(0,p.attach)(h.default,r,{data:this.mediaBarData}),a=o.teardownEvent;this.videoTeardownEvent=a,this.trigger("uiComposeImageAdded",{files:this.getFiles()})}else i?!1!==e&&this.trigger("uiComposeImageAdded",{files:this.getFiles()}):(s=this.select("mediaBarThumb"),s[0].complete?this.setImageHeight(s,e):s.load(this.setImageHeight.bind(this,s,e)))},this.setImageHeight=function(e,t){var i=this.select("mediaBarSelector");e.height()>this.attr.maxImageHeight?(e.height(this.attr.maxImageHeight),i.addClass("compose-media-compressed")):(e.height("auto"),i.removeClass("compose-media-compressed")),!1!==t&&this.trigger("uiComposeImageAdded")},this.removeFile=function(e){var t=$(e.target).closest(this.attr.mediaBarRemoveSelector),i=t.attr("data-file-index");if(i&&(this.removeFileAtIndex(parseInt(i,10)),this.mediaBarData.files.length))return this.attachImagesPreview();this.removeFiles()},this.removeFiles=function(){(0,a.default)(this.mediaBarData.accountsMediaIds).forEach(function(e){this.removeMediaIdsFor(e)},this),s.call(this),this.$mediaBarContainer.addClass("is-hidden"),this.$mediaBarContainer.empty(),this.trigger("uiResetImageUpload"),this.videoTeardownEvent&&this.trigger(this.videoTeardownEvent)},this.removeFileAtIndex=function(e){this.mediaBarData.files.splice(e,1),this.mediaBarData.previews.splice(e,1),(0,a.default)(this.mediaBarData.accountsMediaIds).forEach(function(t){this.mediaBarData.accountsMediaIds[t].splice(e,1)[0].cancel()},this)},this.removeFilesBut=function(e){for(var t=this.mediaBarData.files,i=t.length;i--;)t[i]!==e&&this.removeFileAtIndex(i)},this.addMediaIdsFor=function(e){var t=this.mediaBarData,i=t.accountsMediaIds[e];i||(i=[],t.accountsMediaIds[e]=i),t.files.forEach(function(t,n){i[n]||(i[n]=r.call(this,t,e))},this)},this.removeMediaIdsFor=function(e){var t=this.mediaBarData;t.accountsMediaIds[e]&&(t.accountsMediaIds[e].forEach(function(e){e.cancel()}),delete t.accountsMediaIds[e])},this.updateAccountsMediaIds=function(e){(0,a.default)(this.mediaBarData.accountsMediaIds).forEach(function(t){e.indexOf(t)<0&&this.removeMediaIdsFor(t)},this),e.forEach(function(e){this.mediaBarData.accountsMediaIds[e]||this.addMediaIdsFor(e)},this)},this.getDeferredMediaIdsFor=function(e){var t=this.mediaBarData.accountsMediaIds[e];if(!t)throw new Error("unknown list of media ids for "+e);return new TD.core.defer.DeferredList(t.slice(0))},this.getFiles=function(){return this.mediaBarData.files.concat()},this.updateImageTTLs=function(){(0,a.default)(this.mediaBarData.accountsMediaIds).forEach(function(e){this.removeMediaIdsFor(e),this.addMediaIdsFor(e)},this)},this.handleVideoTooLarge=function(){this.removeFiles(),this.trigger("uiComposeResetFiles"),(0,u.showErrorNotification)({message:TD.i("Looks like the video is longer than 2 minutes and 20 seconds. Please upload a shorter video.")})}}},function(e,t,i){"use strict";var n=i(2).component,s=function(){this.showConfirmationDialog=function(e,t){this.trigger(document,"uiConfirmationAction",{id:t.id,result:!!confirm(t.message)})},this.after("initialize",function(){this.on(document,"uiShowConfirmationDialog",this.showConfirmationDialog)})};e.exports=n(s)},function(e,t,i){"use strict";function n(){this.initialState({contributee:function(){return TD.storage.accountController.get(this.attr.accountKey)}}),this.attributes({accountKey:null,contributorRowSelector:".js-contributor-row",contributorRowClass:"js-contributor-row",contributorOpenSettingsSelector:".js-contributor-open-settings",contributorRemoveSelector:".js-contributor-remove",contributorRoleSelector:".js-contributor-role",contributorErrorMessageSelector:".js-contributor-error-message",selectedContributorRoleSelector:".js-contributor-role:checked",actionConfirmSelector:".js-contributor-action-confirm",actionCancelSelector:".js-contributor-action-cancel",genericErrorMessage:TD.i("Something went wrong. Please try again."),STATE_INITIAL:"initial",STATE_CLOSED:"closed",STATE_SETTINGS:"settings",STATE_CONFIRM_ADD:"confirmAdd",STATE_CONFIRM_DEADMIN:"confirmDeadmin",STATE_CONFIRM_REMOVE:"confirmRemove",STATE_REMOVING:"confirmRemove-removing",disallowedStateTransitions:{confirmAdd:{anotherContributorOpening:["closed"]}},notAnimatedStateTransitions:{initial:{load:["closed"]}},stateToScribeElement:{settings:"settings",confirmAdd:"confirm_add",confirmRemove:"confirm_remove",confirmDeadmin:"confirm_deadmin"},scrollWait:300}),this.componentDidInitialize=function(){this.on(document,"dataContributorsError",this.handleContributorsError),this.on(document,"dataContributorActionSuccess",this.handleContributorActionSuccess),this.on(document,"dataContributorActionError",this.handleContributorActionError),this.on("click",{contributorOpenSettingsSelector:this.handleOpenSettings,contributorRemoveSelector:this.handleRemoveContributorClick,actionConfirmSelector:this.handleActionConfirmClick,actionCancelSelector:this.handleActionCancelClick})},this.sortByName=function(e,t){var i="string"==typeof e?e.toLowerCase():e.user.name.toLowerCase(),n="string"==typeof t?t.toLowerCase():t.user.name.toLowerCase();return i<n?-1:i>n?1:0},this.handleContributorsError=function(e,t){t.request.accountKey===this.attr.accountKey&&this.$node.html(u.render("contributors/contributor_list_error"))},this.render=function(){var e=this,t=this.props.contributors,i=void 0===t?[]:t,n=this.select("contributorRowSelector").toArray().map(function(e){return $(e).attr("data-user-id")}),s=i.filter(function(e){return!n.includes(e.user.id)}).find(function(e){return e.isUnconfirmed});this.removeMessages(),n.filter(function(t){return!e.getContributor(t)}).forEach(function(t){return e.getContributorRow(t).remove()}),i.forEach(function(t){var i=e.getContributorRow(t.user.id),n=i.attr("data-state"),s=e.getUpdatedState(t,n);0===i.length&&e.createContributorRow(t),e.setContributorState(t,s,{transition:"load"})}),s&&this.scrollToContributor(s)},this.getUpdatedState=function(e,t){var i=e.isUnconfirmed?this.attr.STATE_CONFIRM_ADD:this.attr.STATE_CLOSED;return!t||e.isUnconfirmed&&t!==this.attr.STATE_CONFIRM_ADD||!e.isUnconfirmed&&t===this.attr.STATE_CONFIRM_ADD?i:t},this.handleOpenSettings=function(e,t){e.preventDefault();var i=$(t.el),n=i.attr("data-user-id"),s=this.getContributor(n),r=this.getContributorRow(n);if(0!==r.length){var o=this.getContributorRole(s);r.find(this.attr.contributorRoleSelector).filter(function(){return $(this).attr("data-contributor-role")===o}).prop("selected",!0),this.select("contributorRowSelector").each(function(e,t){var i=$(t).attr("data-user-id");if(i!==n){var s=this.getContributor(i);this.setContributorState(s,this.attr.STATE_CLOSED,{transition:"anotherContributorOpening"})}}.bind(this)),this.setContributorState(s,this.attr.STATE_SETTINGS),this.scribeContributorAction("open_settings","click");var a=this.$node.closest(".scroll-v");setTimeout(function(){l.makeElementVisible(a,r)},this.attr.scrollWait)}},this.handleRemoveContributorClick=function(e,t){var i=$(t.el),n=i.attr("data-user-id"),s=this.getContributor(n);this.setContributorState(s,this.attr.STATE_CONFIRM_REMOVE),this.scribeContributorAction("remove","click")},this.setRole=function(e,t){var i=this.getContributor(t),n=this.getContributorRow(t);if(0!==n.length){var s=n.find(this.attr.selectedContributorRoleSelector),r=s.attr("data-contributor-role"),o="admin"===r;if(o===i.isAdmin)return this.setContributorState(i,this.attr.STATE_CLOSED);var c=(0,a.getTwitterLoginAccount)();c&&c.userId===t&&!o?this.setContributorState(i,this.attr.STATE_CONFIRM_DEADMIN):(this.setContributorState(i,this.attr.STATE_CLOSED),this.trigger("uiContributorAction",{accountKey:this.attr.accountKey,action:"update",userId:t,isAdmin:o}))}},this.handleActionConfirmClick=function(e,t){var i=$(t.el),n=i.attr("data-user-id"),s=this.getContributor(n),r=this.getContributorRow(n).attr("data-state"),o={accountKey:this.attr.accountKey,userId:n,action:null};switch(r){case this.attr.STATE_SETTINGS:this.setRole(i,n);break;case this.attr.STATE_CONFIRM_ADD:o.action="add",this.setContributorState(s,this.attr.STATE_CLOSED);break;case this.attr.STATE_CONFIRM_DEADMIN:o.action="update",o.isAdmin=!1,this.setContributorState(s,this.attr.STATE_CLOSED);break;case this.attr.STATE_CONFIRM_REMOVE:o.action="remove",this.setContributorState(s,this.attr.STATE_REMOVING)}o.action&&this.trigger("uiContributorAction",o),this.scribeContributorAction(this.attr.stateToScribeElement[r],"confirm")},this.handleActionCancelClick=function(e,t){var i=$(t.el).attr("data-user-id"),n=this.getContributor(i),s=this.getContributorRow(i).attr("data-state");switch(s){case this.attr.STATE_SETTINGS:this.setContributorState(n,this.attr.STATE_CLOSED);break;case this.attr.STATE_CONFIRM_ADD:this.props.onUnconfirmedContributorCancelClick(i);break;case this.attr.STATE_CONFIRM_DEADMIN:case this.attr.STATE_CONFIRM_REMOVE:this.setContributorState(n,this.attr.STATE_SETTINGS)}this.scribeContributorAction(this.attr.stateToScribeElement[s],"cancel")},this.handleContributorActionSuccess=function(e,t){if(t.request.accountKey===this.attr.accountKey){var i=this.getContributor(t.request.userId);if(i)switch(t.request.action){case"add":this.setContributorState(i,this.attr.STATE_CLOSED);break;case"update":this.setContributorState(i,this.attr.STATE_CLOSED),this.scribeContributorAction("admin",t.request.isAdmin?"on":"off")}}},this.handleContributorActionError=function(e,t){if(t.request.accountKey===this.attr.accountKey){var i=this.getContributor(t.request.userId);if(i){var n;try{n=t.response.req.errors[0]}catch(e){}if("add"===t.request.action&&i.isUnconfirmed)return this.setContributorState(i,this.attr.STATE_CONFIRM_ADD,{error:this.makeErrorState(this.attr.STATE_CONFIRM_ADD),errorData:n});n&&(0,o.showErrorNotification)({message:n.message}),this.revertContributorState(i)}}},this.setContributorState=function(e,t,i){if(i=_.defaults(i||{},{error:"",errorData:{},transition:""}),e){var n=this.getContributorRow(e.user.id);if(0!==n.length){var s=n.attr("data-state"),r=n.attr("data-error"),o=n.attr("data-error-code"),a=""+i.errorData.twitterErrorCode,c=this.getContributorRole(e),l=n.attr("data-contributor-role");if(t!==s||c!==l||i.error!==r||a!==o){if(!this.stateRuleMatch(this.attr.disallowedStateTransitions,{from:s,transition:i.transition,to:t})){var u=this.doStateChange(n,{from:s,to:t,error:i.error,errorData:i.errorData,transition:i.transition,role:this.getContributorRole(e)});return u.addCallbackWith(this,function(){this.scrollFix(),this.scribeContributorAction(this.attr.stateToScribeElement[t],"impression")}),u}}}}},this.doStateChange=function(e,t){function i(){e.attr({"data-previous-state":t.from,"data-state":t.to,"data-state-error":t.error,"data-state-error-code":t.errorData.twitterErrorCode,"data-contributor-role":t.role}),e.find(n.attr.contributorErrorMessageSelector).text(t.errorData.message||n.attr.genericErrorMessage)}t=t||{};var n=this;return this.stateRuleMatch(this.attr.notAnimatedStateTransitions,t)?TD.core.defer.maybeDeferred(i):this.deferredAnimateElementHeightChange(e,i)},this.stateRuleMatch=function(e,t){return t=t||{},t.transition&&t.from&&t.to&&e[t.from]&&e[t.from][t.transition]&&e[t.from][t.transition].indexOf(t.to)>-1},this.revertContributorState=function(e){var t=this.getContributorRow(e.user.id).attr("data-previous-state");t&&this.setContributorState(e,t,{error:this.makeErrorState(t)})},this.scrollToContributor=function(e){var t=this.getContributorRow(e.user.id),i=this.$node.closest(".scroll-v");setTimeout(function(){l.makeElementVisible(i,t)},this.attr.scrollWait)},this.scrollFix=function(){this.$node.closest(".scroll-v").trigger("scroll")},this.removeMessages=function(){this.$node.contents().filter(function(e,t){return!$(t).hasClass(this.attr.contributorRowClass)}.bind(this)).remove()},this.getContributor=function(e){return this.props.contributors.find(function(t){return t.user.id===e})},this.getContributorRow=function(e){return this.select("contributorRowSelector").filter(function(){return $(this).attr("data-user-id")===e})},this.createContributorRow=function(e){var t=!1,i=$(this.renderContributorRow(e));return e.isUnconfirmed||this.select("contributorRowSelector").each(function(n,s){var r=$(s),o=this.getContributor(r.attr("data-user-id")),a=1===this.sortByName(r.attr("data-name"),e),c=o.isUnconfirmed;t||!a&&!c||(i.insertBefore(r),t=!0)}.bind(this)),t||this.$node.append(i),i},this.renderContributorRow=function(e){var t=(0,a.getTwitterLoginAccount)(),i={initialState:this.attr.STATE_INITIAL,contributor:e,contributee:this.state.contributee,isSigninAccount:t&&e.user.id===t.userId};return u.render("contributors/contributor_list_row",i)},this.scribeContributorAction=function(e,t){e&&(this.trigger(document,"scribeEvent",{terms:{page:"settings",section:"contributor_manager",component:"contributor",element:e,action:t}}),this.trigger("metric",{key:["contributors:ui",e,t].join(":")}))},this.getContributorRole=function(e){return e.isAdmin?"admin":"contributor"},this.makeErrorState=function(e){return e+"-error"}}var s=i(4),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(6),a=i(90),c=i(88),l=i(217),u=i(3);e.exports=r.default.mixin(n,c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.initialState({pollIntervalId:null,contributors:[],pending:[],unconfirmed:[]}),this.attributes({accountKey:null,contributorAdderSelector:".js-contributor-adder",contributorsContainer:".js-contributors",contributorListSelector:".js-contributor-list",pendingContainer:".js-pending",pendingListSelector:".js-contributor-list-pending",readMoreLinkSelector:".js-read-more",contributorsPollInterval:6e4}),this.componentDidInitialize=function(){var e=this;this.initialRender(),this.attachChild(T,this.attr.contributorAdderSelector,{focusOnInit:!1,placeholder:TD.i("@username or name"),withAutocompleteAboveInput:!1}),this.attachChild(this.connect(_,{mapStateToProps:this.contributorListMapStateToPropsFactory(this.getTeamMembersFromState)}),this.attr.contributorListSelector,{accountKey:this.attr.accountKey}),this.attachChild(this.connect(_,{mapStateToProps:this.contributorListMapStateToPropsFactory(this.getPendingMembersFromState)}),this.attr.pendingListSelector,{accountKey:this.attr.accountKey}),this.on("uiUserSelected",{contributorAdderSelector:this.handleUserSelection}),this.on("click",{readMoreLinkSelector:this.trackReadMoreClick}),this.trigger(document,"scribeEvent",{terms:{page:"settings",section:"contributor_manager",action:"impression"}}),this.on(document,"dataContributors",this.handleContributors),this.mergeState({pollIntervalId:setInterval(function(){return e.fetchContributors()},this.attr.contributorsPollInterval)}),this.fetchContributors(),this.on(document,"dataContributorActionSuccess",this.fetchContributors)},this.componentWillTeardown=function(){clearInterval(this.state.pollIntervalId)},this.render=function(){this.select("contributorsContainer").toggleClass("is-hidden",0===this.getTeamMembersFromState(this.state).length),this.select("pendingContainer").toggleClass("is-hidden",0===this.getPendingMembersFromState(this.state).length)},this.initialRender=function(){var e=(0,g.getAccount)(this.attr.accountKey);e.getProfileURL="https://twitter.com/"+e.screenName;var t=y.render("contributors/contributor_manager",{account:e,withUserBio:!1,withUserMenu:!1});this.$node.html(t)},this.contributorListMapStateToPropsFactory=function(e){var t=this;return function(i){return{contributors:e(i),onUnconfirmedContributorCancelClick:function(e){return t.onUnconfirmedContributorCancelClick(e)}}}},this.getTeamMembersFromState=function(e){return[].concat((0,u.default)(e.contributors))},this.getPendingMembersFromState=function(e){return[].concat((0,u.default)(e.pending),(0,u.default)(e.unconfirmed.map(function(e){return(0,c.default)({},e,{isUnconfirmed:!0})})))},this.fetchContributors=function(){this.trigger("uiNeedsContributors",{accountKey:this.attr.accountKey})},this.handleContributors=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.accountKey,n=t.contributors,s=t.pending;if(i===this.attr.accountKey){var r=new o.default((0,h.default)([].concat((0,u.default)(n),(0,u.default)(s)),"user.id"));this.mergeState({contributors:n,pending:s,unconfirmed:this.state.unconfirmed.filter(function(e){return!r.has(e.user.id)})})}},this.handleUserSelection=function(e,t){var i={user:t.user,isAdmin:!1},n=this.state,s=n.contributors,r=n.pending,a=n.unconfirmed;if(new o.default((0,h.default)([].concat((0,u.default)(s),(0,u.default)(r),(0,u.default)(a)),"user.id")).has(i.user.id))return void(0,m.showNotification)({message:TD.i("Already added!")});var c=TD.storage.accountController.get(this.attr.accountKey);if(i.user.id===c.getUserID())return void(0,m.showErrorNotification)({message:TD.i("You cannot add a user to their own team — they can already contribute to this account.")});this.mergeState({unconfirmed:[].concat((0,u.default)(this.state.unconfirmed),[i])}),this.trigger(document,"scribeEvent",{terms:{page:"settings",section:"contributor_manager",component:"user_search",action:"select"}})},this.onUnconfirmedContributorCancelClick=function(e){this.mergeState({unconfirmed:this.state.unconfirmed.filter(function(t){return t.user.id!==e})})},this.trackReadMoreClick=function(){this.trigger(document,"scribeEvent",{terms:{page:"settings",section:"contributor_manager",element:"read_more",action:"click"}})}}var r=i(235),o=n(r),a=i(15),c=n(a),l=i(39),u=n(l),d=i(200),h=n(d),p=i(4),f=n(p),m=i(6),g=i(90),v=i(30),T=i(464),_=i(950),y=i(3);e.exports=f.default.mixin(s,v)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(3),r=n(s),o=i(4),a=n(o),c=i(276),l=n(c),u=i(13),d=i(6);t.default=a.default.mixin(function(){this.attributes({textSelector:".js-text-field",copyButtonSelector:".js-copy-button",value:null,readonly:!1,titleText:void 0,explanatoryText:void 0,buttonText:void 0,placeholderText:void 0,successText:void 0,errorText:void 0}),this.componentDidInitialize=function(){var e=this,t=!(0,u.isSafari)()||(0,u.getWebkitVersion)()>602,i={titleText:TD.i("Copy"),buttonText:TD.i("Copy"),placeholderText:"",explanatoryText:TD.i("The item you requested is below."),successText:TD.i("Text copied to clipboard"),errorText:TD.i("That didn't work. Try copying the text from the field."),showButton:t},n=_.defaults({},this.attr,i),s=r.default.render("actions/copy_text_modal",n);this.$node.html(s),this.setupClipboard(_.pick(n,["successText","errorText"])),this.attr.readonly&&this.on("click",{textSelector:function(){e.select("textSelector").select()}}),_.defer(function(){e.select("textSelector").val(e.attr.value).select()})},this.setupClipboard=function(e){var t=this;this.clipboard=new l.default(this.attr.copyButtonSelector,{target:function(){return t.select("textSelector").get(0)}}),this.clipboard.on("success",function(){(0,d.showNotification)({message:e.successText})}),this.clipboard.on("error",function(t){(0,d.showErrorNotification)({message:e.errorText})})},this.render=function(){},this.before("teardown",function(){this.clipboard.destroy()})})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({accountKey:null,customTimelineId:null,columnKey:null,isOwnCustomTimeline:!1,readOnly:!1,reloadPeriod:900,animatingClass:"is-column-options-animating",maxCharCount:160,characterCountSelector:".js-character-count",tweetTextInputSelector:".js-compose-text",inputSelector:".js-input",editSelector:".js-edit",saveSelector:".js-save",cancelSelector:".js-cancel",closeEditEvent:function(){return"uiCloseCustomTimelineDescriptionEdit-"+this.attr.customTimelineId}}),this.initialState({descriptionText:"",hideCharacterCount:!1}),this.after("initialize",function(){this.customTimeline=null,this.newDescription=null,this.$node.removeClass("is-hidden"),this.on(document,"dataCustomTimelineSuccess",this.handleCustomTimeline.bind(this)),this.on(document,"dataCustomTimelineUpdateError",this.handleUpdateError.bind(this)),this.on("uiComposeTextChanged",this.handleComposeTextChanged),this.stateSource="customTimelineDescription["+_.uniqueId("ctlid")+"].state";var e=this.observableState.map(function(e){var t=m.getRemainingCharCount(this.attr.maxCharCount,twttrTxt.getUnicodeTextLength(e.descriptionText));return _.merge({},e,{tweetText:e.descriptionText,displayedCharacterCount:t,hasValidCharacterCount:t>=0})},this);this.provideResource(this.stateSource,e),e.subscribe(this.renderButtons.bind(this)),this.on("click",{editSelector:this.edit,saveSelector:this.save,cancelSelector:this.cancel}),this.on("uiInputSubmit",{inputSelector:this.save}),this.on("uiInputBlur",{inputSelector:this.cancel}),this.reloadTaskId=TD.controller.scheduler.schedulePeriodicTask(this.attr.reloadPeriod,this.requestData.bind(this),!0)}),this.before("teardown",function(){TD.controller.scheduler.removePeriodicTask(this.reloadTaskId)}),this.requestData=function(){this.trigger(document,"uiNeedsCustomTimeline",{id:this.attr.customTimelineId,account:this.attr.accountKey})},this.handleCustomTimeline=function(e,t){var i=!0;t.action.id===this.attr.customTimelineId&&(i=!this.customTimeline||this.customTimeline.description!==t.result.description,this.customTimeline=t.result,this.customTimeline.description===this.newDescription&&(this.newDescription=null),i&&this.showDescription(this.customTimeline.description))},this.showDescription=function(e){var t=$(f.render("column/custom_timeline_description",{description:c.default.cleanWithEmoji(e),editable:this.attr.isOwnCustomTimeline&&!this.attr.readOnly}));this.animateElementContentHeight(this.$node,t,this.attr.animatingClass)},this.edit=function(){this.trigger("uiShowEditCustomTimeline",{accountKey:this.attr.accountKey,timelineId:this.attr.customTimelineId,columnKey:this.attr.columnKey,name:this.customTimeline.name,description:this.customTimeline.description,focus:"description"})},this.setupDOM=function(){},this.save=function(e,t){var i=this.select("inputSelector").val(),n=this.customTimeline?this.customTimeline.description:null;this.select("saveSelector").prop("disabled")||(this.showDescription(i),i!==n&&(this.newDescription=i,this.trigger(document,"uiUpdateCustomTimeline",{account:this.attr.accountKey,id:this.attr.customTimelineId,description:i}),this.trigger(this.attr.closeEditEvent)))},this.cancel=function(){this.showDescription(this.customTimeline.description),this.trigger(this.attr.closeEditEvent)},this.handleUpdateError=function(e,t){t.action.id===this.attr.customTimelineId&&this.newDescription&&(this.edit(),(0,l.showErrorNotification)({message:TD.i("Error: unable to save description")}))},this.handleComposeTextChanged=function(e,t){e.stopPropagation(),this.mergeState({descriptionText:t.value})},this.renderButtons=function(e){this.select("saveSelector").prop("disabled",e.displayedCharacterCount<=0)}}var r=i(85),o=n(r),a=i(13),c=n(a),l=i(6),u=i(2).component,d=i(88),h=i(30),p=i(19),f=i(3),m=i(468);e.exports=u(o.default,s,d,h,p)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"data_drawer",drawerBodySelector:".js-drawer-body",drawerFooterSelector:".js-drawer-footer",insightsPanelSelector:".js-insights-panel"}),this.initialState({enabled:!1,insightTerm:""}),this.componentDidInitialize=function(){this.subscribeDataDrawerFeatureFlag()},this.handleButtonClick=function(){var e=this.state.insightTerm;this.trigger(document,"uiComposeTweet",{text:e+" "}),this.trigger(document,"scribeEvent",{terms:{page:"insights_panel",section:"footer",element:"tweet_button",action:"click"}}),this.drawer.close()},this.render=function(){var e=this;if(this.state.enabled){this.drawer||this.createDrawer();var t=$(o.default.render(this.attr.template)).filter(this.attr.drawerBodySelector)[0],i=$(o.default.render(this.attr.template,{insightTerm:this.state.insightTerm})).filter(this.attr.drawerFooterSelector)[0];this.drawer.render({titleText:TD.i("Insights"),bodyEl:t,footerEl:i}),this.createContents();$(i).find(".js-drawer-action").on("click",function(){return e.handleButtonClick()})}else this.drawer&&(this.getPanel().empty(),this.drawer.close(),this.destroyContents())},this.makeContents=function(){if(this.state.drawerIsOpen){return(0,g.attach)(T.default,this.getPanel(),{insightTerm:this.state.insightTerm}).teardownEvent}},this.createContents=function(){this.innerPanelTeardownEvent||(this.innerPanelTeardownEvent=this.makeContents())},this.destroyContents=function(){this.innerPanelTeardownEvent&&(this.trigger(this.innerPanelTeardownEvent),this.innerPanelTeardownEvent=null)},this.getPanel=function(){if(this.drawer)return $(this.drawer.el).find(this.attr.insightsPanelSelector)},this.componentWillTeardown=function(){this.drawer&&this.drawer.remove(),this.destroyContents()},this.subscribeDataDrawerFeatureFlag=function(){var e=this;this.observe(m.enableDataDrawer$).distinctUntilChanged().subscribe(function(t){e.mergeState({enabled:t}),w(t?"add":"remove")})},this.createDrawer=function(){var e=this;this.drawer=new u.default,this.on(document,"uiShowDataDrawer",function(t,i){var n=i.insightTerm;e.mergeState({insightTerm:n}),e.drawer.open()}),this.drawer.on(u.default.events.BEFORE_OPEN,function(){e.mergeState({drawerIsOpen:!0})}),this.drawer.on(u.default.events.AFTER_CLOSE,function(){e.destroyContents(),e.mergeState({drawerIsOpen:!1})})}}var r=i(3),o=n(r),a=i(4),c=n(a),l=i(720),u=n(l),d=i(87),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(d),p=i(7),f=n(p),m=i(117),g=i(30),v=i(979),T=n(v),_=h.makeCommandBag(),y={label:"Show Insights",apply:function(){return $(document).trigger("uiShowDataDrawer",{insightTerm:"otters"})}},w=function(e){return _[e]([y])};e.exports=c.default.mixin(f.default,s)},function(e,t,i){"use strict";function n(){this.attributes({jsAppSelector:".js-app",jsAppHeaderSelector:".js-app-header",jsAppHeaderInnerSelector:".js-app-header-inner",jsSearchSelector:".js-search",jsAppContentSelector:".js-app-content",isCondensingClass:"is-condensing",isCondensedClass:"is-condensed",scrollNoneClass:"scroll-none",navbarWidthChangeDuration:250,maxColumnsForAnimation:5});var e,t;this.setTheme=function(e){var t=$("html");if(this._currentTheme=e,"dark"===e)return void t.addClass("dark");t.removeClass("dark")},this.setNavbarWidth=function(i){var n,s=this.select("jsAppHeaderInnerSelector"),r=this.select("jsAppHeaderSelector"),o="condensed"===i,a=TD.storage.clientController.client.getColumnOrder().length,c=function(){o&&r.removeClass(this.attr.isCondensingClass),e.toggleClass(this.attr.isCondensedClass,o),r.toggleClass(this.attr.isCondensedClass,o)}.bind(this);if(!this.isNavbarWidthSet||a>this.attr.maxColumnsForAnimation)c(),this.isNavbarWidthSet=!0,this.trigger("uiToggleNavBarWidth");else{if(!o&&!e.hasClass(this.attr.isCondensedClass)||o&&e.hasClass(this.attr.isCondensedClass))return;o?(n=parseInt(s.css("min-width"),10),r.addClass(this.attr.isCondensingClass)):(r.removeClass(this.attr.isCondensedClass),n=s.outerWidth()),r.addClass(this.attr.scrollNoneClass),r.animate({width:n},{duration:this.attr.navbarWidthChangeDuration,complete:function(){c(),r.removeClass(this.attr.scrollNoneClass),this.trigger("uiToggleNavBarWidth")}.bind(this),step:function(e){t.css("left",e)},easing:"easeOutQuad"})}},this.handleDataSettings=function(e,t){this.setTheme(t.theme),this.setNavbarWidth(t.navbarWidth)},this.after("initialize",function(){e=this.select("jsAppSelector"),t=this.select("jsAppContentSelector"),this.isNavbarWidthSet=!1,this.on(document,"dataSettings",this.handleDataSettings)})}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.initialState({conversationData:{}}),this.after("initialize",function(){this.on("uiShowConversationMenu",this.handleShowConversationMenu),this.after("renderDropdown",this.addConversationMenuClickHandler),this.before("teardownCurrentDropdown",this.handleRemoveConversationMenu)}),this.getConversation=function(e){return TD.controller.clients.getClient(e.accountKey).conversations.getConversation(e.conversationId)},this.addConversationMenuClickHandler=function(){this.currentDropdown&&this.on(this.currentDropdown.$el,"click",this.handleConversationMenuClick)},this.handleConversationMenuClick=function(e){var t=$(e.target),i=this.state.conversationData;if(0!==t.closest(this.attr.isSelectedSelector).length){switch(t.data("action")){case"rename-conversation":t.closest(".js-detail-header").trigger("uiRenameConversation",i);break;case"leave-conversation":this.trigger("uiDeleteConversation",i);break;case"notify-conversation":var n=this.getConversation(i),s=n.notificationsDisabled?"uiConversationsEnableNotifications":"uiConversationsDisableNotifications";n.notificationsDisabled=!n.notificationsDisabled,this.trigger(s,i);break;case"view-people":this.trigger("metric",{key:"dm:ui:conversation:view-participiants"}),this.trigger(document,"uiShowDmParticipants",i);break;case"flag-conversation":var r=TD.storage.accountController.get(i.accountKey);this.trigger(document,"uiShowReportOptions",{account:r,twitterUser:this.getConversation(i).participants[0],isGroupConversation:i.group,conversationId:i.conversationId})}this.teardownCurrentDropdown()}},this.handleShowConversationMenu=function(e,t){var i=t.$targetElement.find(".js-menu-target"),n=this.getConversation(t),s=TD.storage.store.getTwitterLoginAccount().getKey(),r={columnKey:t.columnKey,accountKey:t.accountKey,conversationId:t.conversationId,notificationsDisabled:n.notificationsDisabled,name:n.name,group:"GROUP_DM"===n.type,loginAccount:s===t.accountKey};this.renderDropdown(i,"menus/dm_conversations_menu",r,{toggle:!0,position:"pos-l conversation-menu-position"}),this.mergeState({conversationData:r})},this.handleRemoveConversationMenu=function(e,t){this.currentDropdown&&this.mergeState({conversationData:{}})}}var r=i(4),o=n(r),a=i(215),c=n(a);e.exports=o.default.mixin(s,c.default)},function(e,t,i){"use strict";function n(){this.attributes({columnBackSelector:".js-dm-participants-back",headerLinkClass:"js-dm-participants-back",conversationAdderSelector:".js-conversation-adder",conversationId:null,accountKey:null}),this.initialState({participants:null,isOneToOne:!1,conversationId:function(){return this.attr.conversationId},accountKey:function(){return this.attr.accountKey}}),this.after("initialize",function(){this.after("stateChanged",this.render),this.on("uiCloseDmParticipants",this.close),this.on("click",{columnBackSelector:this.close}),this.on("uiUserSelected",{conversationAdderSelector:this.handleUserSelection}),this.on(document,"dataConversationParticipants",this.handleConversationParticipants),this.fetchData()}),this.fetchData=function(){var e=TD.controller.clients.getClient(this.state.accountKey),t=e.conversations.getConversation(this.state.conversationId),i=t.participants;this.mergeState({participants:i,isOneToOne:t.isOneToOne()})},this.handleConversationParticipants=function(e,t){t.conversationId===this.state.conversationId&&this.mergeState({participants:t.participants})},this.render=function(){if(null!==this.state.participants){var e={columntitle:TD.i("Conversation"),headerLinkClass:this.attr.headerLinkClass,withUserMenu:!0,users:this.state.participants},t=c.render("column/column_dm_participants",e);this.$node.html(t),this.attachChild(a,this.attr.conversationAdderSelector,{placeholder:TD.i("Add people to group"),withSelectButton:!1,focusOnInit:!1})}},this.close=function(){this.trigger("uiDmParticipantsClosed"),this.teardown()},this.addParticipants=function(e){var t={conversationId:this.state.conversationId,participantIds:[e.user.id],accountKey:this.state.accountKey};this.trigger("uiAddConversationParticipants",t)},this.createNewConversation=function(e){var t={type:"message",messageRecipients:this.state.participants.concat(e.user),from:[this.state.accountKey],text:""};this.trigger("uiComposeTweet",t)},this.handleUserSelection=function(e,t){this.state.isOneToOne?this.createNewConversation(t):this.addParticipants(t)}}var s=i(2).component,r=i(61),o=i(30),a=i(464),c=i(3);e.exports=s(r,n,o)},function(e,t,i){"use strict";function n(){this.attributes({renameParentContainer:".js-detail-header",renameHeaderText:".js-tooltip-target",renameContainerSelector:".js-edit-conversation-name",renameInputSelector:".js-conversation-name",renameConfirmSelector:'[data-action="confirm-edit-conversation"]',renameCloseSelector:'[data-action="close-edit-conversation"]'}),this.after("initialize",function(){this.on("uiRenameConversation",this.handleRenameConversation),this.on("click",{renameConfirmSelector:this.handleRenameConversationActions,renameCloseSelector:this.handleRenameConversationActions}),this.on("uiInputEscape uiInputSubmit",{renameInputSelector:this.handleRenameConversationKeypress})}),this.handleRenameConversation=function(e,t){var i=t.name||"",n=this.select("renameContainerSelector"),s=this.select("renameInputSelector").val(i).focus();i&&(s[0].selectionStart=0,s[0].selectionEnd=i.length),n.addClass("is-visible")},this.handleRenameConversationKeypress=function(e,t){this.performRenameConversation("uiInputSubmit"===e.type?$(t.el).val().trim():"")},this.performRenameConversation=function(e){var t=this.select("renameContainerSelector");if(e.length>0){var i=t.data("conversation-id");this.trigger("uiUpdateConversationName",{conversationId:i,name:e})}t.removeClass("is-visible")},this.handleRenameConversationActions=function(e,t){var i=$(t.el),n=this.select("renameInputSelector"),s=i.is(this.attr.renameConfirmSelector)?n.val().trim():"";this.performRenameConversation(s),e.stopPropagation()}}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";function n(){this.after("initialize",function(){this.on("dragstart",function(e){var t=this.extractDataFromEvent(e);e.originalEvent.dataTransfer.setData("text",document.getSelection()),this.trigger(document,"uiDragStart",t)}),this.on("dragend",function(e){var t=this.extractDataFromEvent(e);this.trigger(document,"uiDragEnd",t)})})}var s=i(2).component,r=i(213);e.exports=s(n,r)},function(e,t,i){"use strict";function n(){this.attributes({defaultDragScrollConfig:{regionSize:20,maxSpeed:400,throttlePeriod:200,horizontal:!0,vertical:!1,deltaFn:function(e,t,i,n){return e}}}),this.before("initialize",function(){this.animateScrollLeft=this.animateScroll.bind(this,"scrollLeft"),this.animateScrollTop=this.animateScroll.bind(this,"scrollTop"),this.dragScrollId=_.uniqueId("drag-scroll")}),this.handleDrag=function(e,t,i,n){if(this.justDropped)return void(this.justDropped=!1);var s=$(n.el),r=this.mousePositionRelativeToElement(s,i.originalEvent),o={};o.left=r.x/s.width()*100,o.right=100-o.left,o.top=r.y/s.height()*100,o.bottom=100-o.top;var a={};a.left=-this.percToDelta(o.left,e),a.right=this.percToDelta(o.right,e),a.up=-this.percToDelta(o.top,e),a.down=this.percToDelta(o.bottom,e),!1!==e.horizontal&&(o.left<e.regionSize?this.animateScrollLeft(s,"left",a.left,e,t.left):o.right<e.regionSize&&this.animateScrollLeft(s,"right",a.right,e,t.right)),!1!==e.vertical&&(o.top<e.regionSize?this.animateScrollTop(s,"up",a.up,e,t.up):o.bottom<e.regionSize&&this.animateScrollTop(s,"down",a.down,e,t.down))},this.setupDragScroll=function(e,t){t=_.defaults(t||{},this.attr.defaultDragScrollConfig);var i={up:{},down:{},left:{},right:{}},n={};n[e]=_.throttle(this.handleDrag.bind(this,t,i),t.throttlePeriod),this.on("dragover",n),this.on("drop",function(){this.justDropped=!0})},this.percToDelta=function(e,t){var i=e/t.regionSize;return t.maxSpeed-t.maxSpeed*i},this.animateScroll=function(e,t,i,n,r,o){var a=$(t);if(!a[e])throw new Error("$elem has no method "+e);o.startTime||(o.startTime=Date.now()),clearTimeout(o.timeout),o.timeout=setTimeout(function(){delete o.startTime},1.1*r.throttlePeriod);var c=Date.now()-o.startTime,l=r.deltaFn.call(this,n,i,u,c),u=a[e]();s.ease({name:this.dragScrollId,from:u,delta:l,time:r.throttlePeriod,applicator:function(t){a[e](t)}})},this.getMousePosition=function(e){var t=0,i=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,i=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:i}},this.mousePositionRelativeToElement=function(e,t){var i=$(e),n=i.offset(),s=this.getMousePosition(t);return s.x-=n.left+parseInt(i.css("paddingLeft"),10)+parseInt(i.css("borderLeftWidth"),10),s.y-=n.top+parseInt(i.css("paddingTop"),10)+parseInt(i.css("borderTopWidth"),10),s}}var s=i(471);e.exports=n},function(e,t,i){"use strict";function n(){var e={};e.accountSettings="accounts",this.attributes({contentSelector:".js-app-content",drawerSelector:".js-drawer",closeDrawerSelector:".js-drawer-close",composeSelector:".js-drawer-compose",accountSettingsSelector:".js-drawer-account-settings",drawerWidth:270,transitionDuration:200}),this.initialState({activeDrawer:null,closeDrawerConfirmationRequired:!1}),this.componentDidInitialize=function(){var e=this;this.$content=this.select("contentSelector"),this.on(document,"uiDrawerHideDrawer",this.handleDrawerHide),this.on(document,"uiDrawerShowDrawer",this.handleDrawerShow),this.on(document,"uiShowAccountSettings",this.handleShowAccountSettings),this.on("click",{closeDrawerSelector:this.handleDrawerHide});var t=this.connect(s,{mapStateToProps:function(t){return e.state.closeDrawerConfirmationRequired}});this.attachChild(t,this.getDrawerContainer("compose"),{setIsClosable:function(){return function(t){return e.toggleCloseDrawerConfirmationRequired(!t)}}}),this.attachChild(r,this.getDrawerContainer("accountSettings"))},this.handleDrawerShow=function(e,t){this.showDrawer({drawer:t.drawer,withAnimation:t.withAnimation})},this.handleDrawerHide=function(e,t){if(this.state.closeDrawerConfirmationRequired)return void this.trigger("uiComposeCloseNeedsConfirmation");this.hideDrawer({withAnimation:!0})},this.getDrawerContainer=function(e){return this.select("drawerSelector").filter(function(){return $(this).attr("data-drawer")===e})},this.handleShowAccountSettings=function(){this.showDrawer({drawer:"accountSettings",withAnimation:!0})},this.applyContentTransition=function(e){this.$content.one(a,this.handleTransitionEnd.bind(this)),this.$content.css(e)},this.hideDrawer=function(e){this.state.activeDrawer&&(this.select("contentSelector").removeClass("is-open"),this.setTransitionDuration(e.withAnimation),this.mergeState({activeDrawer:null}),this.applyContentTransition({transform:"translateX(0px)","margin-right":"0"}),this.trigger("uiDrawerActive",{activeDrawer:this.state.activeDrawer}))},this.showDrawer=function(t){t.drawer!==this.state.activeDrawer&&(this.select("contentSelector").addClass("is-open"),this.setVisibleDrawer(t.drawer),this.state.activeDrawer||(this.setTransitionDuration(t.withAnimation),this.applyContentTransition({transform:"translateX("+this.attr.drawerWidth+"px)"})),this.mergeState({activeDrawer:t.drawer}),this.trigger("uiDrawerActive",{activeDrawer:this.state.activeDrawer}),e[t.drawer]&&this.trigger(document,"scribeEvent",{terms:{page:"settings",section:e[t.drawer],action:"impression"}}))},this.handleTransitionEnd=function(){this.state.activeDrawer&&this.$content.css({"margin-right":this.attr.drawerWidth}),this.trigger("uiDrawerTransitionComplete")},this.setVisibleDrawer=function(e){this.trigger("uiCloseModal"),this.select("drawerSelector").addClass("is-hidden"),this.getDrawerContainer(e).removeClass("is-hidden")},this.setTransitionDuration=function(e){e?this.$content.css({"transition-duration":this.attr.transitionDuration+"ms"}):this.$content.css({"transition-duration":"0"})},this.toggleCloseDrawerConfirmationRequired=function(e){this.mergeState({closeDrawerConfirmationRequired:e})},this.render=function(){}}var s=i(939),r=i(918),o=i(173),a=o.TRANSITION_END,c=i(4);e.exports=c.mixin(n)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({saveButtonSelector:".js-save-customtimeline",deleteButtonSelector:".js-delete-customtimeline",accountSelector:".js-customtimeline-account",nameSelector:".js-customtimeline-name",descriptionSelector:".js-customtimeline-description",characterCountSelector:".js-character-count",maxDescriptionLength:160,timelineId:void 0,accountKey:void 0,columnKey:void 0,name:"",description:"",focus:"name"}),this.initialState({isSubmittable:!0,descriptionCharsLeft:0}),this.componentDidInitialize=function(){var e=this,t=TD.storage.accountController.getAccountsForService("twitter"),i=(0,o.default)({},this.attr,{accounts:t}),n=c.default.render("customtimeline/edit_customtimeline",i);this.$node.html(n),this.attr.timelineId&&this.updateUI(this.attr),_.defer(function(){e.select(e.attr.focus+"Selector").focus()}),this.on("click uiInputSubmit",{saveButtonSelector:this.handleSaveEvent,deleteButtonSelector:this.handleDeleteEvent}),this.on("uiInputSubmit",{nameSelector:this.handleSaveEvent}),this.on("input propertychange change",{descriptionSelector:this.handleChange});var s=this.connect(f.default,{mapStateToProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{displayedCharacterCount:e.descriptionCharsLeft,hasValidCharacterCount:e.hasValidCharacterCount}}});this.attachChild(s,this.select("characterCountSelector")),this.handleChange()},this.updateUI=function(e){this.select("nameSelector").val(e.name),this.select("descriptionSelector").val(e.description),this.select("accountSelector").val(e.accountKey)},this.getValsFromUI=function(){return{accountKey:this.select("accountSelector").val(),name:this.select("nameSelector").val(),description:this.select("descriptionSelector").val()}},this.handleSaveEvent=function(){this.state.isSubmittable&&(this.attr.timelineId?this.triggerUpdateExisting():this.createAndConfigureNew(),this.teardown())},this.handleDeleteEvent=function(){var e=_.uniqueId(),t={id:e,title:TD.i("Delete"),message:TD.i("Are you sure you want to delete this collection?"),okLabel:TD.i("Delete"),cancelLabel:TD.i("Cancel")};this.on(document,"uiConfirmationAction",function(t,i){if(i.id===e&&(this.off(document,"uiConfirmationAction"),i.result)){TD.controller.columnManager.get(this.attr.columnKey).deleteCustomTimeline(),this.teardown()}}),this.trigger("uiShowConfirmationDialog",t)},this.triggerUpdateExisting=function(){var e=this.getValsFromUI();this.trigger(document,"uiUpdateCustomTimeline",{account:this.attr.accountKey,id:this.attr.timelineId,name:e.name,description:e.description})},this.createNewTimeline=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=TD.controller.clients.getClient(e),n=new u.default.Deferred;return i.createCustomTimeline(t,n.callback.bind(n),n.errback.bind(n)),n},this.createAndConfigureNew=function(){var e=this.getValsFromUI(),t=e.name,i=e.description,n=e.accountKey,s=this.createNewTimeline(n,{name:t,description:i});s.addCallback(function(e){var t=new TD.components.TemporaryColumn;t.customTimeline(e),t.populate(),t.makePermanent(),_.defer(function(){t.destroy()})}),s.addErrback(function(e){(0,m.showErrorNotification)({message:TD.i("Error creating customTimeline: {{status}}",{status:e.status})})})},this.handleChange=function(){var e=this.select("descriptionSelector").val().length,t=this.attr.maxDescriptionLength-e;this.mergeState({descriptionCharsLeft:t,hasValidCharacterCount:t>=0,isSubmittable:t>=0})},this.render=function(){this.select("saveButtonSelector").prop("disabled",!this.state.isSubmittable)}}var r=i(15),o=n(r),a=i(3),c=n(a),l=i(118),u=n(l),d=i(4),h=n(d),p=i(452),f=n(p),m=i(6);e.exports=h.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({saveButtonSelector:".js-save-list",accountSelector:".js-list-account",nameSelector:".js-list-name",descriptionSelector:".js-list-description",characterCountSelector:".js-character-count",publicSelector:"#list-mode-public",privateSelector:"#list-mode-private",maxDescriptionLength:100,listId:void 0,accountKey:void 0,name:"",description:"",isPrivate:!1,focus:"name",autoAddUser:void 0}),this.initialState({isSubmittable:!0,descriptionCharsLeft:0}),this.componentDidInitialize=function(){var e=this,t=TD.storage.accountController.getAccountsForService("twitter"),i=(0,o.default)({},this.attr,{accounts:t}),n=c.default.render("lists/edit_list_details",i);this.$node.html(n),this.attr.listId&&this.updateUI(this.attr),_.defer(function(){e.select(e.attr.focus+"Selector").focus()}),this.on("click uiInputSubmit",{saveButtonSelector:this.handleSaveEvent}),this.on("uiInputSubmit",{nameSelector:this.handleSaveEvent}),this.on("input propertychange change",{nameSelector:this.handleChange,descriptionSelector:this.handleChange});var s=this.connect(f.default,{mapStateToProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{displayedCharacterCount:e.descriptionCharsLeft,hasValidCharacterCount:e.hasValidCharacterCount}}});this.attachChild(s,this.select("characterCountSelector")),this.handleChange()},this.updateUI=function(e){this.select("nameSelector").val(e.name),this.select("descriptionSelector").val(e.description),this.select("accountSelector").val(e.accountKey),e.isPrivate?this.$node.find('input:radio[value="private"]').prop("checked",!0):this.$node.find('input:radio[value="public"]').prop("checked",!0)},this.getValsFromUI=function(){return{accountKey:this.select("accountSelector").val(),name:this.select("nameSelector").val(),description:this.select("descriptionSelector").val(),isPrivate:this.select("privateSelector").prop("checked")}},this.handleSaveEvent=function(){if(this.state.isSubmittable){this.select("saveButtonSelector").prop("disabled",!0);var e=this.getValsFromUI(),t=e.name,i=e.description,n=e.accountKey,s=e.isPrivate,r=this.attr.autoAddUser?[this.attr.autoAddUser]:[],o=this.createOrUpdateList(n,this.attr.listId,t,i,s);o.addCallbackWith(this,function(e){this.trigger("uiShowEditListMembers",{list:e,autoAddUsers:r})}),o.addErrbackWith(this,function(e){this.select("saveButtonSelector").prop("disabled",!1);var t=TD.i("Problem saving list. Please check the details and try again");(0,m.showErrorNotification)({message:t})})}},this.createOrUpdateList=function(e,t,i,n,s){var r=TD.controller.clients.getClient(e),o=new u.default.Deferred;return t?r.updateList(t,i,n,s,o.callback.bind(o),o.errback.bind(o)):r.createList(i,n,s,o.callback.bind(o),o.errback.bind(o)),o},this.handleChange=function(){var e=this.select("descriptionSelector").val().length,t=this.attr.maxDescriptionLength-e,i=this.select("nameSelector").val().length;this.mergeState({descriptionCharsLeft:t,hasValidCharacterCount:t>=0,isSubmittable:t>=0&&i>0})},this.render=function(){this.select("saveButtonSelector").prop("disabled",!this.state.isSubmittable)}}var r=i(15),o=n(r),a=i(3),c=n(a),l=i(118),u=n(l),d=i(4),h=n(d),p=i(452),f=n(p),m=i(6);e.exports=h.default.mixin(s)},function(e,t,i){"use strict";function n(){this.attributes({allowEmpty:!1,customTitleSelector:".js-column-title-edit-box"}),this.initialState({currentTitle:""}),this.after("initialize",function(){this.on("change uiInputSubmit",{customTitleSelector:this.handleCustomTitleChange}),this.on("focusin",{customTitleSelector:this.handleFocus})}),this.handleFocus=function(){this.mergeState({currentTitle:this.select("customTitleSelector").val()})},this.handleCustomTitleChange=function(){var e=this.select("customTitleSelector").val().trim(),t=e!==this.state.currentTitle;if(""===e&&!1===this.attr.allowEmpty)return void this.select("customTitleSelector").val(this.state.currentTitle);t&&(this.trigger("uiColumnTitleUpdate",{title:e}),this.mergeState({currentTitle:e}))}}var s=i(89),r=function(e){return e&&e.__esModule?e:{default:e}}(s);e.exports=r.default.mixin(n)},function(e,t,i){"use strict";function n(){this.attributes({embedDataCache:{},includeParentTweet:!0,includeMedia:!0,closeEvent:"uiCloseEmbedTweet",dataEmbeddedTweetEvent:"dataEmbeddedTweet",dataEmbeddedTweetErrorEvent:"dataEmbeddedTweetError",embedTextArea:".js-embed-textarea",embedIncludeParentCheckBox:".js-embed-include-parent",embedIncludeMediaCheckBox:".js-embed-include-media",modalTitle:".js-header-title",embedIframe:".js-embed-iframe",embedIframeContainer:".js-embed-iframe-container",embedModalPanel:".js-modal-panel",embedModalHeader:".js-mdl-header",embedModalContent:".js-mdl-content",embedLoading:".js-embed-loading-container",tweet:null}),this.after("initialize",function(){this.includeParentTweet=this.attr.includeParentTweet,this.includeMedia=this.attr.includeMedia;var e=o.default.render("embed_tweet",{loading:!0});this.$node.html(e),this.trigger(document,"uiNeedsEmbeddedTweet",{tweetID:this.attr.tweet.id,hideThread:!this.includeParentTweet,hideMedia:!this.includeMedia}),this.on(this.attr.closeEvent,this.teardown),this.on("change",{embedIncludeParentCheckBox:this.handleEmbeddedTweetOptionsChange,embedIncludeMediaCheckBox:this.handleEmbeddedTweetOptionsChange}),this.on(document,this.attr.dataEmbeddedTweetEvent,this.handleEmbeddedTweet),this.on(document,this.attr.dataEmbeddedTweetErrorEvent,this.handleEmbeddedTweetError)}),this.handleEmbeddedTweet=function(e,t){var i,n,s,r,a,c,l,u;if(t&&t.html&&t.request&&t.request.tweetID===this.attr.tweet.id&&t.request.hideThread!==this.includeParentTweet&&t.request.hideMedia!==this.includeMedia)if(this.putEmbedDataInCache(t),u=function(e){var u,d=o.default.render("embed_tweet",{html:t.html,isReply:!!e.inReplyToID,includeParentTweet:this.includeParentTweet,hasMedia:!1,includeMedia:this.includeMedia});this.$node.html(d),this.select("modalTitle").text(TD.i("Embed this Tweet")),this.on(this.select("embedTextArea"),"focus",this.handleInputBoxFocus),n=this.select("embedIframe"),s=this.select("embedIframeContainer"),r=this.select("embedModalPanel"),a=this.select("embedModalHeader"),c=this.select("embedModalContent"),l=this.select("embedLoading"),u=function(){s.css("height","auto"),n.height(Math.max($("html",i).outerHeight(),$("body",i).outerHeight(),n.height())),r.height(c.height()+a.outerHeight()),$("a",i).attr("target","_blank")},n.load(function(){l.addClass("is-hidden"),u(),this.resizeIframeIntervalId=setInterval(u,500)}.bind(this)),n[0]&&(i=n[0].contentWindow.document,i.open(),i.write(["<!DOCTYPE html>",'<meta charset="utf-8">','<base href="https://tweetdeck.twitter.com">','<meta name="twitter:widgets:csp" content="on">',t.html].join("\n")),i.close()),c.removeClass("horizontal-flow-container")},!this.attr.tweet.cards&&this.attr.tweet.hasLink()){var d=TD.controller.clients.getClient(this.attr.tweet.account.getKey());d.show(this.attr.tweet.id,u.bind(this),function(){this.trigger(document,this.attr.dataEmbeddedTweetErrorEvent,t)}.bind(this))}else u.call(this,this.attr.tweet)},this.handleEmbeddedTweetError=function(e,t){t&&t.request&&t.request.tweetID===this.attr.tweet.id&&(this.teardown(e),(0,a.showErrorNotification)({message:TD.i("Sorry, couldn't retrieve embedded Tweet. Please try again later.")}))},this.handleInputBoxFocus=function(e){var t=this.select("embedTextArea");_.defer(function(){t.select()})},this.handleEmbeddedTweetOptionsChange=function(e){var t;this.includeParentTweet=$(this.attr.embedIncludeParentCheckBox).prop("checked"),this.includeMedia=$(this.attr.embedIncludeMediaCheckBox).prop("checked");var i=o.default.render("embed_tweet",{loading:!0});this.$node.html(i),t=this.getEmbedDataFromCache(),t?this.trigger(document,"dataEmbeddedTweet",t):this.trigger(document,"uiNeedsEmbeddedTweet",{tweetID:this.attr.tweet.id,hideThread:!this.includeParentTweet,hideMedia:!this.includeMedia})},this.getEmbedDataFromCache=function(){var e=!!this.includeParentTweet,t=!!this.includeMedia,i=this.attr.embedDataCache[e+":"+t];if(i&&i.request.tweetID===this.attr.tweet.id)return i},this.putEmbedDataInCache=function(e){var t=!!this.includeParentTweet,i=!!this.includeMedia;this.attr.embedDataCache[t+":"+i]=e},this.after("teardown",function(){clearInterval(this.resizeIframeIntervalId),this.$node.html("")})}var s=i(2),r=i(3),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=i(6);e.exports=(0,s.component)(n)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({list:null,members:null,copyUsersTemplate:"lists/member_export",membersTextareaSelector:".js-copy-users-input",copyButtonSelector:".js-copy-members",backButtonSelector:".js-dismiss-top-modal"}),this.componentDidInitialize=function(){var e=this;this.on("click",{backButtonSelector:this.openEditListModal}),(0,o.default)(function(){e.select("membersTextareaSelector").select()}),this.setupClipboard()},this.setupClipboard=function(){var e=this;this.clipboard=new m.default(this.attr.copyButtonSelector,{target:function(){return e.select("membersTextareaSelector").get(0)}}),this.clipboard.on("success",function(){(0,p.showNotification)({message:TD.i("List copied to clipboard")})}),this.clipboard.on("error",function(e){(0,p.showErrorNotification)({message:TD.i("List could not be copied")})})},this.openEditListModal=function(){this.trigger("uiShowEditListMembers",{list:this.attr.list})},this.render=function(){var e=c.default.render(this.attr.copyUsersTemplate,{members:this.attr.members,name:h.default.cleanWithEmoji(this.attr.list.name),showCopyButton:!(0,d.isSafari)()||(0,d.getWebkitVersion)()>602});this.$node.html(e)},this.componentWillTeardown=function(){this.clipboard.destroy()}}var r=i(162),o=n(r),a=i(3),c=n(a),l=i(4),u=n(l),d=i(13),h=n(d),p=i(6),f=i(276),m=n(f);e.exports=u.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({tweet:null,buttonStates:{favorited:"s-favorited",unfavorited:"s-not-favorited",protected:"s-protected"},accounts:function(){return TD.storage.accountController.getAccountsForService("twitter")}}),this.initialState({stopSubsequentLikes:!1}),this.componentDidInitialize=function(){this.initialRender(),this.setUpListeners()},this.getButtonForAccount=function(e){return this.$node.find('[data-account-key="'+e+'"]')},this.setUpListeners=function(){var e=this,t=this.attr.accounts;_.each(t,function(t){var i=t.getKey();e.getButtonForAccount(i).click(e.handleFavoriteButtonClick.bind(e,i)),e.on(document,"dataFavoriteState",function(t,n){return e.handleFavoriteState((0,c.default)({currentAccountKey:i},n))}),e.on(document,"dataFavoriteStateError",function(t,n){return e.handleFavoriteStateError((0,c.default)({currentAccountKey:i},n))}),e.on(document,"dataFavoriteError",function(t,n){return e.handleFavoriteError((0,c.default)({currentAccountKey:i},n))}),e.trigger("uiNeedsFavoriteState",{tweetId:e.attr.tweet.id,accountKey:i})})},this.handleFavoriteButtonClick=function(e,t){var i=this;if(!this.state.stopSubsequentLikes){var n=this.attr.buttonStates.favorited,s=$(t.currentTarget),r=s.hasClass("is-disabled"),o=s.hasClass(n);if(!r){var a=o?"uiUnfavoriteTweet":"uiFavoriteTweet";this.trigger(a,{tweetId:this.attr.tweet.id,accountKey:e}),this.mergeState({stopSubsequentLikes:!0}),setTimeout(function(){i.trigger("uiCloseModal")},500)}}},this.initialRender=function(){var e=this.attr.accounts,t=h.default.render("favorite_from_options",{no_horiz_flow_container:!0,accounts:e,tweet:this.attr.tweet});this.$node.html(t)},this.render=function(){},this.updateButton=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.attr.buttonStates,i=(0,o.default)(t).join(" "),n=e.$button,s=e.tooltip,r=e.newState,a=e.disabled,c=t[r];n.removeClass(i).addClass(c).removeAttr("title").removeAttr("data-orig-title").toggleClass("is-disabled",a||!1),s&&n.attr("title",s).attr("data-orig-title",s)},this.handleFavoriteState=function(e){if(e.tweetId===this.attr.tweet.id&&e.accountKey===e.currentAccountKey){var t=e.isFavorite?"favorited":"unfavorited",i=this.getButtonForAccount(e.accountKey);this.updateButton({newState:t,$button:i})}},this.handleFavoriteStateError=function(e){if(e.request.tweetId===this.attr.tweet.id&&e.request.accountKey===e.currentAccountKey){if(179===_.get(e,"error.responseJSON.errors[0].code")){var t=this.getButtonForAccount(e.request.accountKey);return void this.updateButton({$button:t,newState:"protected",tooltip:TD.i("You cannot favorite this protected Tweet"),disabled:!0})}(0,p.showErrorNotification)({message:TD.i("Cannot retrieve favorite status")})}},this.handleFavoriteError=function(e){e.request.tweetId===this.attr.tweet.id&&e.request.accountKey===e.currentAccountKey&&(0,p.showErrorNotification)({message:TD.i("Failed changing favorite status")})},this.componentWillTeardown=function(){this.off(document,"dataFavoriteState",this.handleFavoriteState),this.off(document,"dataFavoriteStateError",this.handleFavoriteStateError),this.off(document,"dataFavoriteError",this.handleFavoriteError)}}var r=i(519),o=n(r),a=i(15),c=n(a),l=i(4),u=n(l),d=i(3),h=n(d),p=i(6);e.exports=u.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"settings/global_setting_filter",filterListTemplate:"settings/global_setting_filter_list",filterListSelector:".js-filter-list",addFilterButtonSelector:".js-add-filter",addFilterButtonTemplate:"settings/global_setting_filter_add_btn",addFilterContainerSelector:".js-add-filter-container",filterTypeSelector:".js-filter-types",filterInputSelector:".js-filter-input",removeFilterButtonSelector:".js-remove-filter",globalSettingsSelector:".js-global-settings"}),this.initialState({placeholderText:"",addFilterButtonEnabled:!1,filters:[]}),this.componentDidInitialize=function(){this.on("submit",{globalSettingsSelector:this.handleAddFilter.bind(this)}),this.on("click",{removeFilterButtonSelector:this.handleRemoveFilter.bind(this)}),this.on("keyup",{filterInputSelector:this.toggleFilterButtonEnabled.bind(this)}),this.on("change",{filterTypeSelector:this.handleFilterTypeChange.bind(this)}),this.on("click",{addFilterButtonSelector:this.handleAddFilter.bind(this)}),this.mergeState({placeholderText:TD.i("Enter a word or phrase"),filters:TD.controller.filterManager.getAll()}),this.initialRender()},this.toggleFilterButtonEnabled=function(){this.mergeState({addFilterButtonEnabled:this.validateFilter()})},this.validateFilter=function(){var e=this.select("filterTypeSelector").val(),t=this.select("filterInputSelector").val();return TD.controller.filterManager.validateFilter(e,t)},this.handleAddFilter=function(e){if(e.preventDefault(),this.validateFilter()){var t=this.select("filterTypeSelector").val(),i=this.select("filterInputSelector").val();TD.controller.filterManager.addFilter(t,i),this.refreshFilters(),this.select("filterInputSelector").val("")}},this.handleRemoveFilter=function(e){var t=$(e.target);TD.controller.filterManager.removeFilter({id:t.data("id")}),this.refreshFilters()},this.getPlaceholderText=function(e){switch(e){case TD.vo.Filter.PHRASE:return TD.i("Enter a word or phrase");case TD.vo.Filter.SOURCE:return TD.i("eg TweetSpamApp");default:return""}},this.handleFilterTypeChange=function(){var e=this.select("filterTypeSelector").val(),t=this.getPlaceholderText(e);this.mergeState({placeholderText:t,addFilterButtonEnabled:this.validateFilter()})},this.refreshFilters=function(){this.mergeState({filters:TD.controller.filterManager.getAll()})},this.initialRender=function(){var e=o.default.render(this.attr.template,{placeholderText:this.state.placeholderText,addFilterButtonEnabled:this.state.addFilterButtonEnabled,filters:this.state.filters});this.$node.html(e)},this.render=function(){var e=this.state.placeholderText;this.select("filterInputSelector").attr("placeholder",e);var t=o.default.render(this.attr.addFilterButtonTemplate,{addFilterButtonEnabled:this.state.addFilterButtonEnabled});this.select("addFilterContainerSelector").html(t);var i=o.default.render(this.attr.filterListTemplate,{filters:this.state.filters});this.select("filterListSelector").html(i)}}var r=i(3),o=n(r),a=i(4),c=n(a);e.exports=c.default.mixin(s)},function(e,t,i){"use strict";var n=i(2).component,s=function(){this.handleFocusRequest=function(e,t){t&&void 0!==t.id&&this.focusHistory[this.focusHistory.length-1]!==t.id&&(this.focusHistory.push(t.id),this.trigger("uiFocus",{id:t.id}))},this.handleFocusRelease=function(e,t){t&&void 0!==t.id&&(this.focusHistory[this.focusHistory.length-1]===t.id?(this.focusHistory=this.focusHistory.filter(function(e){return e!==t.id}),this.focusHistory.length>0&&_.defer(function(){this.trigger("uiFocus",{id:this.focusHistory[this.focusHistory.length-1]})}.bind(this))):this.focusHistory=this.focusHistory.filter(function(e){return e!==t.id}))},this.after("initialize",function(){this.focusHistory=[],this.on(document,"uiFocusRequest",this.handleFocusRequest),this.on(document,"uiFocusRelease",this.handleFocusRelease)})};e.exports=n(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({userToFollow:null,account:null,template:"actions/follow_from",followButtonSelector:".js-follow-button",followButtonHolderSelector:".js-action-follow"}),this.initialState({relationship:"stranger",stopSubsequentFollows:!1}),this.before("teardown",function(){_.each(this.subscriptions,function(e){return $.unsubscribe(e)})}),this.componentDidInitialize=function(){var e=this;this.initialRender(),this._fetchFriendship().addErrback(function(e){console.log("Unhandled Err in FollowFrom._fetchFriendship:",e)}),this.on("click",{followButtonSelector:this.handleClick.bind(this)});var t=this.attr.userToFollow.screenName;this.subscriptions=[$.subscribe("/user/"+t+"/block",function(t){return e._handleBlock(t)}),$.subscribe("/user/"+t+"/blocked",function(t){return e._handleBlock(t)})]},this._handleBlock=function(e){e.getKey()===this.attr.account.getKey()&&this.mergeState({relationship:"blocked"})},this.initialRender=function(){var e=TD.storage.accountController,t=1===e.getAccountsForService("twitter").length,i={account:this.attr.account,isSingleAccount:t},n=c.default.render(this.attr.template,i);this.$node.html(n),this.select("followButtonSelector").prop("disabled",!1)},this.render=function(){var e=this.select("followButtonHolderSelector");switch(e.removeClass("s-thats-you s-not-following s-following s-pending s-blocking"),this.state.relationship){case"me":e.addClass("s-thats-you");break;case"blocked":e.addClass("s-blocking");break;case"pending":e.addClass("s-pending");break;case"following":e.addClass("s-following");break;case"stranger":e.addClass("s-not-following")}},this._fetchFriendship=function(){if(this.attr.account.getUserID()===this.attr.userToFollow.id)return this.mergeState({relationship:"me"}),TD.core.defer.succeed();var e=TD.controller.clients.getClient(this.attr.account.getKey()),t=new TD.core.defer.Deferred;return e.showFriendship(this.attr.account.getUserID(),this.attr.userToFollow.id,null,t.callback.bind(t),t.errback.bind(t)),t.addCallbackWith(this,this._handleFriendshipResponse),t},this._handleFriendshipResponse=function(e){!0===e.relationship.source.blocking?this.mergeState({relationship:"blocked"}):!0===e.relationship.source.following?this.mergeState({relationship:"following"}):this.mergeState({relationship:"stranger"})},this.handleClick=function(e){var t=this;if(!this.state.stopSubsequentFollows){var i=this.attr.account;if(!this.select("followButtonSelector").prop("disabled")){switch(this.state.relationship){case"me":TD.util.openURL("https://twitter.com/settings/profile");break;case"blocked":this.attr.userToFollow.unblock(i,null,function(){t.mergeState({relationship:"blocked"})}),this.mergeState({relationship:"stranger"});break;case"pending":case"following":this.attr.userToFollow.unfollow(i,null,function(){t.mergeState({relationship:"following"})}),this.mergeState({relationship:"stranger"});break;case"stranger":this.attr.userToFollow.follow(i,function(e){e.isProtected&&t.mergeState({relationship:"pending"})},function(){t.mergeState({relationship:"stranger"})}),this.mergeState({relationship:"following"})}this.mergeState({stopSubsequentFollows:!0}),setTimeout(function(){t.trigger("uiCloseModal")},500)}}}}var r=i(4),o=n(r),a=i(3),c=n(a);e.exports=o.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({userToFollow:null}),this.render=function(){var e=this,t=TD.storage.accountController.getAccountsForService("twitter"),i=document.createDocumentFragment();this.trigger(this.childTeardownEvent),t.forEach(function(t){if(t.getUserID()!==e.attr.userToFollow.id){var n=$.createElement("div").addClass("js-component");e.attachChild(o.default,n,{userToFollow:e.attr.userToFollow,account:t}),i.appendChild(n[0])}}),this.$node.html(i)}}var r=i(970),o=n(r),a=i(4),c=n(a);e.exports=c.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"settings/global_setting_general",version:null,wrapperVersion:void 0,streamTweetsInputId:"streaming-updates",startupNotificationsInputId:"show-startup-notifications",sensitiveContentInputId:"display-sensitive-media",autoplayGifsInputId:"auto-play-gifs",toggleSwitchSelector:".js-toggle-switch",radioInputSelector:".js-settings-radio",themeInputName:"theme",columnWidthInputName:"column-size",fontSizeInputName:"font-size",columnWidthSelector:".js-column-size",fontSizeSelector:".js-font-size",themeSelector:".js-theme",streamTweetsSelector:".js-streaming-updates",showNotificationsSelector:".js-show-startup-notifications",displaySensitiveContentSelector:".js-display-sensitive-media",autoplayGifsSelector:".js-auto-play-gifs"}),this.componentDidInitialize=function(){this.on("click",{toggleSwitchSelector:this.handleToggleSwitchClick.bind(this)}),this.on("change",{radioInputSelector:this.handleRadioInputChange}),this.on(document,"dataSettingsValues",this.loadSettings),this.loadSettings(),this.initialRender(),this.$columnWidth=this.select("columnWidthSelector"),this.$fontSize=this.select("fontSizeSelector"),this.$theme=this.select("themeSelector"),this.$streamTweets=this.select("streamTweetsSelector"),this.$showNotifications=this.select("showNotificationsSelector"),this.$displaySensitiveContent=this.select("displaySensitiveContentSelector"),this.$autoplayGifs=this.select("autoplayGifsSelector")},this.loadSettings=function(){this.mergeState({streamTweets:TD.settings.getUseStream(),showStartupNotifications:TD.settings.getShowStartupNotifications(),displaySensitiveMedia:TD.settings.getDisplaySensitiveMedia(),autoplayGifs:TD.settings.getAutoPlayGifs(),theme:TD.settings.getTheme(),columnWidth:TD.settings.getColumnWidth(),fontSize:TD.settings.getFontSize()})},this.handleToggleSwitchClick=function(e){var t=$(e.currentTarget).hasClass("icon-toggle-on"),i=!t;switch(e.currentTarget.id){case this.attr.streamTweetsInputId:TD.settings.setUseStream(i),this.mergeState({streamTweets:i});break;case this.attr.startupNotificationsInputId:TD.settings.setShowStartupNotifications(i),this.mergeState({showStartupNotifications:i});break;case this.attr.sensitiveContentInputId:TD.settings.setDisplaySensitiveMedia(i),this.mergeState({displaySensitiveMedia:i});break;case this.attr.autoplayGifsInputId:TD.settings.setAutoPlayGifs(i),this.mergeState({autoplayGifs:i})}},this.handleRadioInputChange=function(e){var t=e.currentTarget.value;switch(e.currentTarget.name){case this.attr.themeInputName:$(document).trigger("uiToggleTheme");break;case this.attr.columnWidthInputName:TD.settings.setColumnWidth(t);break;case this.attr.fontSizeInputName:TD.settings.setFontSize(t)}},this.initialRender=function(){var e=o.default.render(this.attr.template,{version:this.attr.version,wrapperVersion:this.attr.wrapperVersion});this.$node.html(e)},this.render=function(){var e=this.state,t=e.streamTweets,i=e.showStartupNotifications,n=e.displaySensitiveMedia,s=e.autoplayGifs,r=e.theme,o=e.columnWidth,a=e.fontSize;this.$streamTweets.removeClass(t?"icon-toggle-off":"icon-toggle-on").addClass(t?"icon-toggle-on":"icon-toggle-off"),this.$showNotifications.removeClass(i?"icon-toggle-off":"icon-toggle-on").addClass(i?"icon-toggle-on":"icon-toggle-off"),this.$displaySensitiveContent.removeClass(n?"icon-toggle-off":"icon-toggle-on").addClass(n?"icon-toggle-on":"icon-toggle-off"),this.$autoplayGifs.removeClass(s?"icon-toggle-off":"icon-toggle-on").addClass(s?"icon-toggle-on":"icon-toggle-off"),this.$theme.find("[value="+r+"]").prop("checked",!0),this.$columnWidth.find("[value="+o+"]").prop("checked",!0),this.$fontSize.find("[value="+a+"]").prop("checked",!0)}}var r=i(3),o=n(r),a=i(4),c=n(a);e.exports=c.default.mixin(s)},function(e,t,i){"use strict";function n(){this.attributes({id:"grid",focusId:null,chirpScrollOffset:20,columnScrollOffset:20,isSelectedClass:"is-selected-tweet",chirpSelector:".js-stream-item",autoFocus:!0,pagingEasingFunction:"easeOutQuad",actionsMenuButtonSelector:'[rel="actionsMenu"]'}),this.after("initialize",function(){this.selectedColumn=null,this.$selectedChirp=$(),this.columnIndex=null,this.chirpCenter=null,this.scrollDirection=this.attr.down,this.chirpOffsetTop=null,this.on(document,"uiKeyLeft",this.moveSelection("left")),this.on(document,"uiKeyUp",this.moveSelection("up")),this.on(document,"uiKeyRight",this.moveSelection("right")),this.on(document,"uiKeyDown",this.moveSelection("down")),this.on(document,"uiGridBack",this.handleBack),this.on(document,"uiGridClearSelection",this.handleClearSelection),this.on(document,"uiColumnFocus",this.handleColumnFocus),this.on(document,"uiGridPageDown",this.handlePagingFactory("down")),this.on(document,"uiGridPageUp",this.handlePagingFactory("up")),this.on(document,"uiGridHome",this.handleGridHome),this.on(document,"uiGridEnd",this.handleGridEnd),this.on(document,"uiKeyEnter",this.tweetActionFactory("viewDetails")),this.on(document,"uiGridReply",this.tweetActionFactory("reply")),this.on(document,"uiGridFavorite",this.tweetActionFactory("favorite")),this.on(document,"uiGridFavoriteFromAccounts",this.tweetActionFactory("favoriteFromAccounts")),this.on(document,"uiGridRetweet",this.tweetActionFactory("retweet")),this.on(document,"uiGridDirectMessage",this.tweetActionFactory("dm")),this.on(document,"uiGridProfile",this.tweetActionFactory("profile")),this.on(document,"uiGridCustomTimeline",this.tweetActionFactory("customTimeline")),this.on(document,"uiGridContextMenu",this.tweetActionFactory("actionsMenu")),this.on(document,"uiDetailViewActive",this.handleDetailViewActive),this.on(document,"uiShowSocialProof",this.handleDetailViewActive),this.on(document,"uiDetailViewClosed",this.handleDetailClosed),this.on(document,"uiSkipToReplies",this.handleSkipToReplies),this.on(document,"dataColumns",this.handleDataColumns),this.trigger("uiNeedsColumns")}),this.handleSkipToReplies=function(e,t){var i=this.$selectedChirp.hasClass(this.attr.isSelectedClass);this.selectColumnByKey(t.columnKey),this.selectFirstChirpInSelectedColumn(),this.scrollDirection="up",this.selectNextChirp({forceScroll:!0}),i||this.$selectedChirp.removeClass(this.attr.isSelectedClass)},this.handleDataColumns=function(e,t){t.columns&&(this.columns=t.columns,this.columnIndex=this.columns.indexOf(this.selectedColumn),-1===this.columnIndex&&(this.selectedColumn=null,this.$selectedChirp=$(),this.offset=null))},this.setSelectedColumn=function(e){var t=this.columns.length;e<0?e=0:e>=t&&(e=t-1),this.columns[e]!==this.selectedColumn&&(clearTimeout(this.chirpCenterTimeout),this.chirpCenter=this.calculateChirpCenterRelativeToColumn(this.selectedColumn,this.$selectedChirp),this.chirpCenterTimeout=setTimeout(function(){this.chirpCenter=null}.bind(this),1e3),this.selectedColumn=this.columns[e],this.columnIndex=e,null===this.chirpCenter?this.selectFirstChirpInSelectedColumn():this.selectClosestChirpToOffsetCenter(this.selectedColumn,this.chirpCenter,!0))},this.selectClosestChirpToOffsetCenter=function(e,t,i){var n=this.selectedColumn.model.getKey(),s=this.getColumnScrollContainerByKey(n),r=s.innerHeight(),o=s.find(this.attr.chirpSelector),a=$(),c=null,l=Number.MAX_VALUE;o.each(function(){var e=$(this),i=e.position().top,n=i+e.outerHeight();n>=0&&i<=r&&i<=t&&n>=t&&(a=$().add(e))}),0===a.length?c=o.last():1===a.length?c=a:a.each(function(i,n){var s=this.calculateChirpCenterRelativeToColumn(e,$(n)),r=Math.abs(t-s);l=Math.min(r,l),r===l&&(c=$(n))}.bind(this)),this.setSelectedChirp(c,{doScrollToChirp:i})},this.calculateChirpCenterRelativeToColumn=function(e,t){if(0===t.length||null!==this.chirpCenter)return this.chirpCenter;var i,n,s,r=e.model.getKey(),o=this.getColumnScrollContainerByKey(r).innerHeight();return i=t.position().top,n=t.outerHeight(),s=i+n/2,s>o?s=o:s<0&&(s=0),s},this.selectAndScrollToFirstChirpInSelectedColumn=function(){this.selectFirstChirpInSelectedColumn(),this.scrollToChirp({direction:"up"})},this.selectFirstChirpInSelectedColumn=function(){var e;if(this.isInDetailView())this.$selectedChirp=this.selectedColumn.detailViewComponent.getMostInteresting$Chirp();else if(!this.isInDetailViewLevel2()){e=this.selectedColumn.model.getKey();var t=this.getColumnElementByKey(e).find(this.attr.chirpSelector);this.$selectedChirp.removeClass(this.attr.isSelectedClass),this.$selectedChirp=$(),t.each(function(e,t){var i=$(t);if(i.position().top+i.outerHeight()/2>0)return this.$selectedChirp=i,!1}.bind(this)),0===this.$selectedChirp.length&&(this.$selectedChirp=t.first())}this.$selectedChirp.addClass(this.attr.isSelectedClass)},this.setSelectedChirp=function(e,t){this.$selectedChirp.length>0&&this.$selectedChirp.removeClass(this.attr.isSelectedClass),this.$selectedChirp=e,this.$selectedChirp.addClass(this.attr.isSelectedClass),t.doScrollToChirp&&this.$selectedChirp.length>0&&this.scrollToChirp({direction:this.scrollDirection,forceScroll:t.forceScroll})},this.selectPrevChirp=function(){var e,t,i;this.chirpCenter=null,this.isInDetailView()?(t=this.selectedColumn.detailViewComponent.$find(this.attr.chirpSelector),i=t.index(this.$selectedChirp),e=t.eq(Math.max(0,i-1))):e=this.$selectedChirp.prev(this.attr.chirpSelector),0===e.length?this.selectAndScrollToFirstChirpInSelectedColumn():this.setSelectedChirp(e,{doScrollToChirp:!0})},this.selectNextChirp=function(e){var t,i,n;e=e||{},this.chirpCenter=null,this.isInDetailView()?(i=this.selectedColumn.detailViewComponent.$find(this.attr.chirpSelector),n=i.index(this.$selectedChirp),t=i.eq(Math.min(i.length-1,n+1))):t=this.$selectedChirp.next(this.attr.chirpSelector).length>0?this.$selectedChirp.next(this.attr.chirpSelector):this.$selectedChirp,0===t.length?this.selectAndScrollToFirstChirpInSelectedColumn():this.setSelectedChirp(t,{doScrollToChirp:!0,forceScroll:e.forceScroll})},this.moveSelection=function(e){var t=function(){var t;if(this.hasFocus)if(null===this.selectedColumn)this.setSelectedColumn(0);else{switch(this.scrollDirection=e,e){case"left":t=null===this.columnIndex?0:this.columnIndex-1,this.setSelectedColumn(t);break;case"right":t=null===this.columnIndex?0:this.columnIndex+1,this.setSelectedColumn(t);break;case"up":this.selectPrevChirp();break;case"down":this.selectNextChirp()}this.trigger("uiColumnsScrollToColumn",{columnKey:this.selectedColumn.model.getKey(),source:this.attr.id,offset:this.attr.columnScrollOffset,direction:this.scrollDirection})}};return _.throttle(t.bind(this),100)},this.selectColumnByKey=function(e){if(this.selectedColumn&&this.selectedColumn.model.getKey()===e)return!1;for(var t=0;t<this.columns.length;t+=1)if(this.columns[t].model.getKey()===e)return this.columnIndex=t,this.selectedColumn=this.columns[t],!0;return!1},this.selectColumnByIndex=function(e){return this.selectedColumn!==this.columns[e]&&(this.columnIndex=e,this.selectedColumn=this.columns[e],!0)},this.selectLastColumn=function(){return this.selectColumnByIndex(this.columns.length-1)},this.handleColumnFocus=function(e,t){if(this.hasFocus){var i=!1;this.$selectedChirp.removeClass(this.attr.isSelectedClass),void 0!==t.columnKey?i=this.selectColumnByKey(t.columnKey):void 0!==t.index?i=this.selectColumnByIndex(t.index):!0===t.last&&(i=this.selectLastColumn()),i?(this.$selectedChirp=$(),this.chirpIndex=null,this.offset=null):this.selectedColumn&&(this.$selectedChirp.addClass(this.attr.isSelectedClass),1===this.selectedColumn.visibility.visibleFraction&&this.trigger("uiGridHome"))}},this.clearSelection=function(){this.$selectedChirp.removeClass(this.attr.isSelectedClass),this.$selectedChirp=$(),this.selectedColumn=null,this.chirpIndex=null,this.columnIndex=null,this.offset=null},this.scrollToChirp=function(e){this.trigger("uiColumnsScrollToChirp",{columnKey:this.selectedColumn.model.getKey(),$chirp:this.$selectedChirp,direction:e.direction,forceScroll:e.forceScroll,offset:this.attr.chirpScrollOffset})},this.handleBack=function(e,t){var i,n,s;this.hasFocus&&(s=this.getColumnElementByKey(this.selectedColumn.model.getKey()),this.isInDetailView()?(i=this.selectedColumn.detailViewComponent.parentChirp,n=this.selectedColumn.ui.getChirpById(i.id),s.trigger("uiCloseDetailView"),n.addClass(this.attr.isSelectedClass),this.$selectedChirp=n,this.scrollToChirp({direction:"down"})):this.isInDetailViewLevel2()&&s.trigger("uiCloseSocialProof"))},this.handleClearSelection=function(){this.hasFocus&&this.clearSelection()},this.isInDetailView=function(){return this.getColumnElementByKey(this.selectedColumn.model.getKey()).hasClass(this.attr.columnStateDetailViewClass)},this.isInDetailViewLevel2=function(){return this.getColumnElementByKey(this.selectedColumn.model.getKey()).hasClass(this.attr.columnStateSocialProofClass)},this.tweetActionFactory=function(e){return function(){var t,i,n,s;if(this.hasFocus&&this.$selectedChirp.length>0&&!this.isInDetailViewLevel2()){if(i=this.$selectedChirp.attr("data-key"),!(t=this.selectedColumn.findMostInterestingChirp(i)))return;switch(e){case"profile":t.getMainUser?n=t.getMainUser():t.getRelatedUser&&(n=t.getRelatedUser()),n&&this.trigger("uiShowProfile",{id:n.screenName});break;case"favoriteFromAccounts":t instanceof TD.services.TwitterStatus&&this.trigger("uiShowFavoriteFromOptions",{tweet:t});break;case"actionsMenu":this.trigger(this.$selectedChirp.find(this.attr.actionsMenuButtonSelector),"uiShowActionsMenu");break;case"viewDetails":if(t instanceof TD.services.TwitterConversationMessageEvent)return;default:if(t instanceof TD.services.TwitterAction)return;var r=t instanceof TD.services.TwitterConversation||t instanceof TD.services.TwitterConversationMessageEvent;s="reply"===e&&r?"dm":e,this.parentChirp=this.selectedColumn.findChirp(i),$.publish("chirp/action",[s,t,this.parentChirp,this.selectedColumn,{element:this.$selectedChirp}])}}else switch(e){case"dm":this.trigger("uiComposeTweet",{type:"message"})}}.bind(this)},this.handleDetailViewActive=function(e,t){var i=t.$chirp.closest(this.attr.columnSelector);this.selectColumnByKey(i.attr("data-column")),this.$selectedChirp.removeClass(this.attr.isSelectedClass),this.$selectedChirp=t.$chirp,this.parentChirp===t.parentChirp&&this.$selectedChirp.addClass(this.attr.isSelectedClass)},this.handleDetailClosed=function(e,t){var i;t&&t.column&&(i=t.column.model.getKey(),this.$selectedChirp.removeClass(this.attr.isSelectedClass),this.selectColumnByKey(i),this.$selectedChirp=$())},this.handlePagingFactory=function(e){return function(){if(this.hasFocus&&this.selectedColumn){var t,i,n,s,r,o,a,c=this.selectedColumn.model.getKey(),l=this.getColumnScrollContainerByKey(c),u=l.scrollTop(),d=l.innerHeight();if(0===this.$selectedChirp.length&&this.selectAndScrollToFirstChirpInSelectedColumn(),null!==this.chirpOffsetTop?t=this.chirpOffsetTop:(t=this.$selectedChirp.position().top,this.targetChirpOffsetTop=null),this.chirpOffsetTop=t,this.$selectedChirp.removeClass(this.attr.isSelectedClass),"down"===e){this.targetChirpOffsetTop=null===this.targetChirpOffsetTop?t+d:this.targetChirpOffsetTop+d;do{o=this.$selectedChirp.next(this.attr.chirpSelector),o.length>0&&(this.$selectedChirp=o)}while(o.length>0&&o.position().top<this.targetChirpOffsetTop);i=u+(this.$selectedChirp.position().top-t),i+d+50>l.get(0).scrollHeight&&(i+=50),n=i-u}else{this.targetChirpOffsetTop=null===this.targetChirpOffsetTop?t-d:this.targetChirpOffsetTop-d;do{r=this.$selectedChirp.prev(this.attr.chirpSelector),r.length>0&&(this.$selectedChirp=r)}while(r.length>0&&r.position().top>this.targetChirpOffsetTop);i=u-(t+Math.abs(this.$selectedChirp.position().top)),n=u-i}this.$selectedChirp.addClass(this.attr.isSelectedClass),a=function(){this.chirpOffsetTop=null,this.targetChirpOffsetTop=null}.bind(this),s=TD.ui.columns.calculateScrollDuration(n,50,750),l.stop().animate({scrollTop:i},s,this.attr.pagingEasingFunction,a)}}.bind(this)},this.handleGridHome=function(){if(this.hasFocus&&this.selectedColumn){this.chirpOffsetTop=null,this.targetChirpOffsetTop=null;var e=this.selectedColumn.model.getKey(),t=this.getColumnScrollContainerByKey(e),i=t.scrollTop(),n=TD.ui.columns.calculateScrollDuration(i,20,300);this.$selectedChirp.removeClass(this.attr.isSelectedClass),this.$selectedChirp=this.$selectedChirp.parent().find(".js-stream-item:first"),this.$selectedChirp.addClass(this.attr.isSelectedClass),t.stop().animate({scrollTop:0},n,this.attr.pagingEasingFunction)}},this.handleGridEnd=function(){if(this.hasFocus&&this.selectedColumn){this.chirpOffsetTop=null,this.targetChirpOffsetTop=null;var e=this.selectedColumn.model.getKey(),t=this.getColumnScrollContainerByKey(e),i=t.scrollTop(),n=t.get(0).scrollHeight-t.innerHeight()+50,s=n-i,r=TD.ui.columns.calculateScrollDuration(s,20,300);this.$selectedChirp.removeClass(this.attr.isSelectedClass),this.$selectedChirp=this.$selectedChirp.parent().find(".js-stream-item:last"),this.$selectedChirp.addClass(this.attr.isSelectedClass),t.stop().animate({scrollTop:n},r,this.attr.pagingEasingFunction)}}}var s=i(2).component,r=i(145),o=i(144);e.exports=s(n,r,o)},function(e,t,i){"use strict";function n(){this.attributes({columnsLeftMargin:10,columnSlideMinDuration:200,columnSlideMaxDuration:500,columnExtraSlideTimePer100Px:20,chirpSlideMinDuration:100,chirpSlideMaxDuration:500,chirpExtraSlideTimePer100Px:100,columnGlowDuration:500}),this.after("initialize",function(){this.on(document,"uiColumnFocus",this.handleColumnFocus),this.on(document,"uiColumnsScrollToColumn",this.handleScrollToColumn),this.on(document,"uiColumnsScrollColumnToCenter",this.handleScrollColumnToCenter),this.on(document,"uiColumnsScrollToChirp",this.handleScrollToChirp)}),this.handleColumnFocus=function(e,t){var i;void 0!==t.index?i=this.getKeyForColumnAtIndex(t.index):t.last?i=this.getKeyForLastColumn():t.columnKey&&(i=t.columnKey),i&&this.trigger("uiColumnsScrollColumnToCenter",{columnKey:i})},this.handleScrollToColumn=function(e,t){var i,n=this.getColumnElementByKey(t.columnKey),s=this.select("appColumnsContainerSelector"),r=this.select("columnsContainerSelector"),o=n.outerWidth(),a=r.width(),c=s.scrollLeft(),l=n.position().left,u=l+o;l>=0&&u<=a||(i="left"===t.direction?c+l-t.offset:c+u+t.offset-a,this.scrollColumnToOffset(t.columnKey,i,!1))},this.handleScrollColumnToCenter=function(e,t){var i,n,s,r,o,a,c=this.getColumnElementByKey(t.columnKey),l=this.select("appColumnsContainerSelector"),u=this.select("columnsContainerSelector"),d=l.innerWidth()/c.outerWidth(!0),h=l.scrollLeft(),p=!0;d<=3.05?(a=parseInt(u.css("padding-left"),10),i=h+c.position().left-a):(n=c.outerWidth(),s=l.get(0).scrollWidth-this.attr.columnsLeftMargin,r=u.width(),o=c.offset().left,i=h+o-(r-n)/2,i=Math.min(i,s-r),i=Math.max(i,0)),d<2&&(p=!1),this.scrollColumnToOffset(t.columnKey,i,p)},this.calculateScrollDuration=function(e){var t=Math.abs(e.target-e.current),i=e.minTime+t/100*e.extraSlideTimePer100Px;return i=Math.min(i,e.maxTime)},this.scrollColumnToOffset=function(e,t,i){var n,s=this.select("appColumnsContainerSelector"),r=s.scrollLeft();t!==r?(s.stop(),n=this.calculateScrollDuration({target:t,current:r,minTime:this.attr.columnSlideMinDuration,maxTime:this.attr.columnSlideMaxDuration,extraSlideTimePer100Px:this.attr.columnExtraSlideTimePer100Px}),s.animate({scrollLeft:t},n,"easeInOutQuad",function(){i&&TD.ui.columns.focusColumn(e,this.attr.columnGlowDuration),this.getColumnElementByKey(e).trigger("uiColumnScrolled",{columnKey:e})}.bind(this))):(i&&TD.ui.columns.focusColumn(e,this.attr.columnGlowDuration),this.getColumnElementByKey(e).trigger("uiColumnScrolled",{columnKey:e}))},this.handleScrollToChirp=function(e,t){if(t.$chirp&&t.columnKey&&0!==t.$chirp.length){var i,n,s,r=this.getColumnScrollContainerByKey(t.columnKey),o=r.scrollTop(),a=t.$chirp.position().top+o,c=r.innerHeight(),l=!1;"up"===t.direction?(i=a-t.offset,(t.forceScroll||i<o)&&(l=!0)):(n=a+t.$chirp.outerHeight()+t.offset,(t.forceScroll||n>o+c)&&(i=n-c,l=!0)),l&&(s=this.calculateScrollDuration({target:i,current:o,minTime:this.attr.chirpSlideMinDuration,maxTime:this.attr.chirpSlideMaxDuration,extraSlideTimePer100Px:this.attr.chirpExtraSlideTimePer100Px}),r.stop().animate({scrollTop:i},s,"easeInOutQuad"))}}}var s=i(2).component,r=i(144);e.exports=s(n,r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({list:null,addUsersTemplate:"lists/member_import",addUsersButtonTemplate:"lists/add_users_to_list_button",membersTextareaSelector:".js-multiple-users-input",addButtonContainerSelector:".js-add-users-to-list-btn",addButtonSelector:".js-add-multiple",backButtonSelector:".js-dismiss-top-modal",maxUsers:100,placeholderText:"@username \n@username \n@username \n..."}),this.initialState({canAddMembers:!1}),this.after("initialize",function(){this.$membersTextarea=this.select("membersTextareaSelector"),this.on("keyup keydown keypress paste",{membersTextareaSelector:this.handleTextAreaChange}),this.on("click",{addButtonSelector:this.handleAddMembers,backButtonSelector:this.openEditListModal})}),this.componentDidInitialize=function(){this.initialRender(),this.$addUsersButtonContainer=this.select("addButtonContainerSelector")},this.handleTextAreaChange=(0,a.makeDOMMutator)(function(){var e=this.$membersTextarea.first().val().trim(),t=new RegExp("[^A-Za-z0-9_@]"),i=e.split(t).map(function(e){return e=e.trim(),(0,c.isLinkToTwitterItem)(e)&&(e=(0,c.extractScreenNameFromPermalink)(e)),(0,c.deMentionify)(e)}).filter(Boolean).map(function(e){return{screenName:e}});this.validUsers=(0,o.default)(i,function(e){return e.screenName});var n=Boolean(this.validUsers.length)&&this.validUsers.length<=this.attr.maxUsers;this.mergeState({canAddMembers:n})}),this.handleAddMembers=function(){this.state.canAddMembers&&this.trigger("uiShowEditListMembers",{list:this.attr.list,autoAddUsers:this.validUsers})},this.openEditListModal=function(){this.trigger("uiShowEditListMembers",{list:this.attr.list})},this.initialRender=function(){var e=u.default.render(this.attr.addUsersTemplate,{canAddMembers:this.state.canAddMembers,placeholderText:this.attr.placeholderText});this.$node.html(e)},this.render=function(){var e=u.default.render(this.attr.addUsersButtonTemplate,{canAddMembers:this.state.canAddMembers});this.$addUsersButtonContainer.first().html(e)}}var r=i(161),o=n(r),a=i(174),c=i(13),l=i(3),u=n(l),d=i(4),h=n(d);e.exports=h.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"inline_confirmation",confirmationText:null,primaryButtonText:null,secondaryButtonText:null,backgroundColorClass:"bg-twitter-faint-gray",textColorClass:"txt-twitter-black",buttonPrimarySelector:".js-btn-primary",buttonSecondarySelector:".js-btn-secondary",buttonPrimaryAction:null,buttonSecondaryAction:function(){return function(){}},buttonPrimaryIsNegative:!1,buttonPrimaryClickShouldCauseTeardown:!1,buttonSecondaryClickShouldCauseTeardown:!1}),this.componentDidInitialize=function(){this.on("click",{buttonPrimarySelector:this.handlePrimaryButtonClick,buttonSecondarySelector:this.handleSecondaryButtonClick})},this.handlePrimaryButtonClick=function(){var e=this.attr,t=e.buttonPrimaryAction,i=e.buttonPrimaryClickShouldCauseTeardown;t&&t(),i&&this.teardown()},this.handleSecondaryButtonClick=function(){var e=this.attr,t=e.buttonSecondaryAction,i=e.buttonSecondaryClickShouldCauseTeardown;t&&t(),i&&this.teardown()},this.render=function(){var e=this.attr,t=e.confirmationText,i=e.primaryButtonText,n=e.secondaryButtonText,s=e.buttonPrimaryIsNegative,r=e.backgroundColorClass,a=e.textColorClass,c=o.default.render(this.attr.template,{confirmationText:t,primaryButtonText:i,secondaryButtonText:n,buttonPrimaryIsNegative:s,backgroundColorClass:r,textColorClass:a});this.$node.html(c)},this.componentWillTeardown=function(){this.$node.html("")}}var r=i(3),o=n(r),a=i(4),c=n(a);e.exports=c.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"insights/demographics",title:null}),this.shouldComponentUpdate=function(e){return!1===(0,h.default)(this.props,e)},this.getPrettyAgeName=function(e){return{Age13To17:TD.i("13 to 17"),Age18To24:TD.i("18 to 24"),Age25To34:TD.i("25 to 34"),Age35To44:TD.i("35 to 44"),Age45To54:TD.i("45 to 54"),Age55To64:TD.i("55 to 64"),AgeOver65:TD.i("Over 65")}[e]||""},this.getAgeInsights=function(){var e=this;return(0,u.default)(this.props,"age",[]).map(function(t,i){return{name:e.getPrettyAgeName((0,c.default)(t)[0]),percentage:(0,o.default)(t)[0],ordinal:i+1}})},this.render=function(){var e=this.getAgeInsights();if(!e.length)return void this.$node.empty();var t=this.attr.title,i=f.default.render(this.attr.template,{ageInsights:e,title:t});this.$node.html(i)}}var r=i(519),o=n(r),a=i(27),c=n(a),l=i(17),u=n(l),d=i(97),h=n(d),p=i(3),f=n(p),m=i(4),g=n(m);e.exports=g.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"insights/entry_point",sparklineSelector:".js-entry-point-sparkline"}),this.initialState({isFetching:!1,chartData:null,volume:null,trendPercentage:0,positiveTrend:!1,negativeTrend:!1,neutralTrend:!1,theme:function(){return TD.settings.getTheme()}}),this.componentDidInitialize=function(){var e=this;this.on("click",this.handleClick),this.on(document,"uiToggleTheme",function(){return e.mergeState({theme:TD.settings.getTheme()})})},this.componentWillReceiveProps=function(e){if(e){var t=(0,c.default)(e,"matching");if(!t||!(0,y.searchQuerySupportedByInsights)(t))return void this.mergeState({chartData:null});t!==(0,c.default)(this.props,"matching")&&(this.mergeState({isFetching:!0}),this.fetchData(t))}},this.render=function(){var e=(0,c.default)(this.state,"chartData[0].data",[]);if(this.state.isFetching||!e.length)return void this.$node.empty();var t=TD.util.pluralise(TD.i("Tweet"),TD.i("Tweets"),this.state.volume),i=TD.util.truncateNumber(this.state.volume)+" "+t,n=f.default.render(this.attr.template,{humanReadableVolume:i,trendPercentage:this.state.trendPercentage,positiveTrend:this.state.positiveTrend,negativeTrend:this.state.negativeTrend,neutralTrend:this.state.neutralTrend});this.$node.html(n);var s=this.connect(g.default,{mapStateToProps:function(e){return{chartData:e.chartData}}});this.attachChild(s,this.select("sparklineSelector"),{chartOptions:(0,T.makeSparklineDefaults)({backgroundColor:(0,T.getBackgroundColor)(this.state.theme),seriesColor:T.getSeriesGray,tooltipOptions:null,focusMode:u.default.focusModes.OFF}),displayLegend:!1,chartHeight:"30px"}),this.scribe({action:"render"})},this.fetchData=function(e){var t=this,i=_.insights+"/timeseries.json",n={search_term:e,start_time:(0,v.convertDateToSeconds)()-(0,v.daysAgoInSeconds)(1),end_time:(0,v.convertDateToSeconds)(),granularity:"hours",include_trend:!0};return b.default.promised(i,{params:n}).then(function(e){var i=e.data,n=!1,s=!1,r=!1;switch(i.trend){case null:case void 0:break;case"0.0":case"0":case 0:r=!0;break;default:n=i.trend>0,s=i.trend<0}var o=Math.abs(parseFloat(i.trend));t.mergeState({isFetching:!1,chartData:[{data:i.data}],volume:i.total_tweet_volume,trendPercentage:t.formatTrendPercentage(o),positiveTrend:n,negativeTrend:s,neutralTrend:r})}).catch(function(e){$(document).trigger("metric",{key:"entry-point:sparkline-failure:"+e.name})})},this.formatTrendPercentage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e=Math.round(10*e)/10,e<20?e%1==0?e.toFixed(0):e.toFixed(1):TD.util.prettyNumber(e)},this.handleClick=function(e){this.trigger("uiShowDataDrawer",{insightTerm:this.props.matching});var t=$(e.target);t.is("canvas")?this.scribe({element:"sparkline"}):t.hasClass("js-insights-entry-cta")?this.scribe({element:"cta"}):this.scribe({element:"other"})},this.scribe=function(e){return(0,D.generic)((0,o.default)({page:"column",section:"insights_entry",action:"click"},e))}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(15),o=n(r),a=i(17),c=n(a),l=i(279),u=n(l),d=i(4),h=n(d),p=i(3),f=n(p),m=i(285),g=n(m),v=i(176),T=i(219),_=i(478),y=i(1077),w=i(119),b=n(w),D=i(143);t.default=h.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"insights/insights_panel",noDataTemplate:"insights/no_data",mainChartSelector:".js-insights-main-chart",demographicsAgeSelector:".js-demographics-age",topRelatedSelector:".js-top-related",insightTerm:null,noDataSelector:".js-no-data"}),this.initialState({demographics:null,relatedWords:null,mainChartData:[],terms:[],endTime:new Date,startTime:new Date(new Date-(0,I.daysAgoInMilliseconds)(1))}),this.addChartDataForTerm=function(e){var t=this,i=e.term,n=e.startTime,s=e.endTime,r=(0,I.convertDateToSeconds)(n),o=(0,I.convertDateToSeconds)(s);return this.getTimeseries({search_term:i,start_time:r,end_time:o,granularity:this.getGranularity(r,o)}).then(function(e){t.state.mainChartData.some(function(e){return e.label===i})?t.replaceData((0,u.default)({term:i,startTimeInSeconds:r,endTimeInSeconds:o},{data:e.data})):t.addData(e.data)}).catch(function(e){$(document).trigger("metric",{key:"insights-panel:timeseries-failure:"+e.message})})},this.getGranularity=function(e,t){var i=(t-e)/60/60;return i<=12?"minutes":i<=48?"hours":"days"},this.addData=function(e){this.mergeState({mainChartData:[].concat((0,c.default)(this.state.mainChartData),[e])})},this.replaceData=function(e){var t=e.term,i=e.startTime,n=e.endTime,s=e.data,r=this.state.mainChartData.map(function(e){return e.label===t?s:e});this.mergeState({mainChartData:r,startTime:i,endTime:n})},this.removeChartDataForTerm=function(e){var t=this.state.mainChartData.filter(function(t){return t.label!==e});return this.mergeState({mainChartData:t}),t},this.updateChartTerms=function(e){if(e.length>this.state.terms.length){var t=(0,f.default)(e,this.state.terms)[0];this.addChartDataForTerm({term:t,startTime:this.state.startTime,endTime:this.state.endTime}),this.trigger("scribeEvent",{terms:{page:"insights_panel",section:"input",element:"token",action:"add"}})}else{var i=(0,f.default)(this.state.terms,e)[0];this.removeChartDataForTerm(i),this.trigger("scribeEvent",{terms:{page:"insights_panel",section:"input",element:"token",action:"remove"}})}this.mergeState({terms:e})},this.updateChartDateRange=function(e){var t=this,i=e.startDate,n=e.endDate;this.state.terms.forEach(function(e){t.addChartDataForTerm({term:e,startTime:i,endTime:n})})},this.componentDidInitialize=function(){this.initialRender(),this.fetchRelatedWordsData(this.attr.insightTerm),this.fetchDemographics({term:this.attr.insightTerm}),this.setupChildComponents(),this.updateChartTerms([this.attr.insightTerm]),this.trigger("scribeEvent",{terms:{page:"insights_panel",action:"impression"}})},this.setupChildComponents=function(){this.setupChartWithControls(),this.setupDemographics(),this.setupRelatedWords()},this.setupChartWithControls=function(){var e=this,t=this.connect(C.default,{mapStateToProps:function(t){return{chartData:t.mainChartData,updateChartTerms:function(t){e.updateChartTerms(t)},updateChartDateRange:function(t){e.updateChartDateRange(t)}}}});this.attachChild(t,this.select("mainChartSelector"),{title:TD.i("Tweet volume for")+" "+this.attr.insightTerm,initialTerms:[this.attr.insightTerm],minDate:new Date(this.state.startTime-(0,I.daysAgoInMilliseconds)(30)),maxDate:this.state.endTime})},this.setupDemographics=function(){var e=this.connect(b.default,{mapStateToProps:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).demographics}});this.attachChild(e,this.select("demographicsAgeSelector"),{title:TD.i("Age")})},this.setupRelatedWords=function(){var e=this.connect(E.default,{mapStateToProps:function(e){return e.relatedWords||{}}});this.attachChild(e,this.select("topRelatedSelector"))},this.getTimeseries=function(e){if(!e)return o.default.reject(new Error("getTimeseries requires params"));var t=A.insights+"/timeseries.json";return y.default.promised(t,{params:e})},this.fetchRelatedWordsData=function(e){var t=this;y.default.request(A.insights+"/related_keywords.json",{params:{seed_keyword:e,num_related_keywords:5}}).addCallbacks(function(e){t.mergeState({relatedWords:e.data})},function(e){t.mergeState({relatedWords:{}})})},this.fetchDemographics=function(e){var t=this,i=e.term;e.startTime,e.endTime;y.default.request(A.insights+"/demographics.json",{params:{search_term:i}}).addCallbacks(function(e){t.mergeState({demographics:e.data})},function(e){t.mergeState({demographics:{}})})},this.initialRender=function(){var e=g.default.render(this.attr.template);this.$node.html(e)},this.render=function(){if(this.state.demographics&&this.state.relatedWords){if(0===(0,h.default)(this.state.demographics,"age.length",0)&&0===(0,h.default)(this.state.relatedWords,"keywords.length",0)){var e=g.default.render(this.attr.noDataTemplate,{insightTerm:this.attr.insightTerm});this.select("noDataSelector").html(e)}else this.select("noDataSelector").empty()}}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(104),o=n(r),a=i(39),c=n(a),l=i(15),u=n(l),d=i(17),h=n(d),p=i(261),f=n(p),m=i(3),g=n(m),v=i(4),T=n(v),_=i(119),y=n(_),w=i(977),b=n(w),D=i(925),C=n(D),S=i(980),E=n(S),I=i(176),A=i(478);t.default=T.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"insights/related_words",limit:12}),this.shouldComponentUpdate=function(e){return!1===_.isEqual(this.props,e)},this.render=function(){var e=_.get(this.props,"keywords",[]);if(!e.length)return void this.$node.empty();var t=this.buildRows(e),i=c.default.render(this.attr.template,{rows:t});this.$node.html(i),this.attachSparklines(t)},this.buildRows=function(e){return e.slice(0,this.attr.limit).map(function(e,t){return{key:"sparkline-related-"+t,word:e.label,ordinal:t+1,volume:TD.util.truncateNumber(e.total_tweet_volume),chartData:{label:e.label,data:e.data}}})},this.attachSparklines=function(e){var t=this;e.forEach(function(e,i){var n="sparkline-related-"+i,s="#js-sparkline-"+n,r=t.connect(u.default,{mapStateToProps:function(){return{chartData:[e.chartData]}}});t.attachChild(r,t.$node.find(s),{chartOptions:(0,d.makeSparklineDefaults)(),displayLegend:!1,chartHeight:"32px"})})}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(4),o=n(r),a=i(3),c=n(a),l=i(285),u=n(l),d=i(219);t.default=o.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({commandPaletteFeatureFlag:"tweetdeck_dogfood"}),this.initialState({isMac:function(){return"osx"===TD.util.getOSName()},withCommandPalette:!1}),this.componentDidInitialize=function(){this.watchFeatureFlags()},this.render=function(){this.$node.html(l.default.render("keyboard_shortcut_list",this.state))},this.watchFeatureFlags=function(){var e=this;this.observe((0,a.getStreamForFeatureFlag)(this.attr.commandPaletteFeatureFlag)).subscribe(function(t){return e.mergeState({withCommandPalette:t})})}}var r=i(7),o=n(r),a=i(63),c=i(3),l=n(c),u=i(4),d=n(u);e.exports=d.default.mixin(s,o.default)},function(e,t,i){"use strict";function n(){this.attributes({shortcuts:{";":[{event:"uiShowCommandPalette"}],esc:[{event:"uiKeyEscape"},{event:"uiInputEscape",selector:".js-escapable-input"},{event:"uiInputBlur",selector:"input:not(.js-non-escapable-input),                                 textarea:not(.js-non-escapable-input),                                 select:not(.js-non-escapable-input)"},{event:"uiCloseModal"},{event:"uiCloseDropdown"},{event:"uiGridClearSelection"},{event:"uiComposeClose"}],"CMD+ret":[{event:"uiSendRetweetAction"},{event:"uiComposeSendTweet",selector:".js-compose-text"}],"CTRL+ret":[{event:"uiSendRetweetAction"},{event:"uiComposeSendTweet",selector:".js-compose-text"}],bksp:[{event:"uiGridBack"}],ret:[{event:"uiKeyEnter"},{event:"uiInputSubmit",selector:".js-submittable-input"}],space:[{event:"uiKeySpace",throttle:!0},{event:"uiGridPageDown",throttle:!0}],n:[{label:TD.i("Compose — New Tweet"),shortcut:{key:"n"},event:"uiComposeTweet"}],"/":[{event:"uiAppSearchFocus"}],s:[{event:"uiAppSearchFocus"}],a:[{event:"uiShowAddColumn"}],x:[{event:"uiToggleNavbarWidth"}],"?":[{event:"uiShowKeyboardShortcutList"}],left:[{event:"uiKeyLeft",throttle:!0}],h:[{event:"uiKeyLeft",throttle:!0}],right:[{event:"uiKeyRight",throttle:!0}],l:[{event:"uiKeyRight",throttle:!0}],up:[{event:"uiKeyUp",throttle:!0}],k:[{event:"uiKeyUp",throttle:!0}],down:[{event:"uiKeyDown",throttle:!0}],j:[{event:"uiKeyDown",throttle:!0}],r:[{event:"uiGridReply"}],f:[{event:"uiGridFavorite"}],"SHIFT+f":[{event:"uiGridFavoriteFromAccounts"}],t:[{event:"uiGridRetweet"}],d:[{label:TD.i("Compose — New Direct Message"),shortcut:{key:"d"},event:"uiGridDirectMessage"}],m:[{event:"uiGridDirectMessage"}],p:[{event:"uiGridProfile"}],c:[{event:"uiGridCustomTimeline"}],"SHIFT+ ":[{event:"uiGridPageUp",throttle:!0}],pageup:[{event:"uiGridPageUp",throttle:!0}],pagedown:[{event:"uiGridPageDown",throttle:!0}],home:[{event:"uiGridHome",throttle:!0}],end:[{event:"uiGridEnd",throttle:!0}],",":[{event:"uiShowGlobalSettings"}],".":[{event:"uiGridContextMenu"}]}}),this.blurInput=function(e,t){$(e.target).blur()},this.shortcutEventHandlerFactory=function(e){var t=function(t){t.preventDefault(),t.stopPropagation(),this.trigger(t.target,e.event,{keyboardShortcut:!0})}.bind(this);return e.throttle?_.throttle(t,100):_.debounce(t,200,!0)},this.columnFocusFactory=function(e){return function(t){t.preventDefault(),t.stopPropagation(),0===e?this.trigger("uiColumnFocus",{last:!0}):this.trigger("uiColumnFocus",{index:e-1})}.bind(this)},this.after("initialize",function(){var e=this;this.on(document,"uiInputBlur",this.blurInput);for(var t=0;t<10;t++)this.addShortcut(t+"",this.columnFocusFactory(t));_.each(this.attr.shortcuts,function(t,i){t.forEach(function(t){var n=e.shortcutEventHandlerFactory(t);e.addShortcut(i,n,t.selector),e.addCommands([{label:t.label,shortcut:t.shortcut,apply:function(){return e.trigger(t.event,{keyboardShortcut:!0})}}])})})})}var s=i(87),r=i(2).component,o=i(1030);e.exports=r(n,o,s.flightWithCommands)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"settings/global_setting_link_shortening",bitlyAccountFormTemplate:"settings/link_shortening_bitly_form",linkShorteningSelector:".js-link-shortening",bitlyFormSelector:".js-bitly-form",bitlyUsernameSelector:".js-bitly-email",bitlyApiKeySelector:".js-bitly-key"}),this.initialState({selectedShortener:null,bitlyAccount:null}),this.componentDidInitialize=function(){this.on("change",{linkShorteningSelector:this.handleLinkShortenerChange}),this.on(document,"dataSettingsValues",this.getCurrentSettings),this.getCurrentSettings(),this.initialRender()},this.handleLinkShortenerChange=function(e){var t=e.currentTarget.value;TD.settings.setLinkShortener(t)},this.getCurrentSettings=function(){var e=TD.settings.getLinkShortener(),t="bitly"===e?TD.services.bitly.getAccount():null;this.mergeState({selectedShortener:e,bitlyAccount:t})},this.saveBitlyAccount=function(){if(TD.util.metric("settings:services:save"),"bitly"===this.state.selectedShortener)return TD.services.bitly.updateAccount({login:this.select("bitlyUsernameSelector").val(),apiKey:this.select("bitlyApiKeySelector").val()})},this.initialRender=function(){var e=o.default.render(this.attr.template);this.$node.html(e)},this.render=function(){var e="bitly"===this.state.selectedShortener,t=e?o.default.render(this.attr.bitlyAccountFormTemplate,{bitlyAccount:this.state.bitlyAccount}):"";this.select("linkShorteningSelector").val(this.state.selectedShortener),this.select("bitlyFormSelector").html(t)},this.before("teardown",function(){this.saveBitlyAccount()})}var r=i(3),o=n(r),a=i(4),c=n(a);e.exports=c.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({liveVideoTimelinesSelector:".js-live-video-timelines",liveVideoTimelinesListSelector:".js-live-video-timelines-list",liveVideoTimelinesLabel:".js-live-video-timelines-label",id:null,template:"live_video",timelines:null,hasMultipleTimelines:!1,isTemporaryColumn:!0}),this.after("initialize",function(){var e=$(this.node).find(".js-live-video-container"),t=e[0],i={suppressScribing:!1,squareCorners:!0,hideControls:!1,addTwitterBranding:!1,scribeContext:{client:p.SCRIBE_CLIENT,element:"live_video_player"}};if(u.default.createPlayerForLiveVideo(t,this.attr.id,i).on("ready",function(){this.playPreview()}),!this.attr.isTemporaryColumn&&this.attr.hasMultipleTimelines){this.dropdown=new h.default({el:this.select("liveVideoTimelinesListSelector")[0]});var n=$(this.dropdown.el);$(n.find("input")[0]).prop("checked",!0),this.dropdown.openOnClick(this.select("liveVideoTimelinesSelector")[0]),this.dropdown.on("change",function(e){var t=$(e.target).val();this.handleChange(t)}.bind(this))}}),this.handleChange=function(e){this.dropdown.hide(),this.trigger("uiUpdateLiveVideoTimeline",{timelineId:e});var t=_.findWhere(this.attr.timelines,{timeline_id:e}).title;this.select("liveVideoTimelinesLabel").html(t)},this.render=function(){var e=o.default.render(this.attr.template,{liveVideoId:this.attr.id,timelines:this.attr.timelines,hasMultipleTimelines:this.attr.hasMultipleTimelines,isTemporaryColumn:this.attr.isTemporaryColumn,primaryTimeline:this.attr.timelines[0]});this.$node.html(e)},this.before("teardown",function(){this.dropdown&&this.dropdown.remove()})}var r=i(3),o=n(r),a=i(4),c=n(a),l=i(434),u=n(l),d=i(116),h=n(d),p=i(143);e.exports=c.default.mixin(s)},function(e,t,i){"use strict";function n(){this.attributes({formIsRendered:!1,errorMsg:"",layoutTemplate:"login/login_form",loginContainerSelector:".js-signin-ui",teardownEvent:"uiGeneralLoginTeardown"}),this.after("initialize",function(){this.renderLayout(),this.initialRender()}),this.initialRender=function(){this.attr.formIsRendered||(this.attr.formIsRendered=!0,this.displayLoginForm())},this.renderLayout=function(){var e=r.default.render(this.attr.layoutTemplate,{screenshot:TD.assets.get("td_screenshot",{resolution:TD.util.isRetina()?"2x":"1x"})});this.$node.html(e)},this.displayLoginForm=function(){this.attr.formIsRendered=!0,this.trigger(this.attr.teardownEvent),this.select("loginContainerSelector").empty().html(r.default.render("login/twitter_account_login_form",{twitterLoginUrl:c.getLoginUrl(),message:this.attr.errorMsg})),this.trigger("uiLoginFormImpression")},this.after("teardown",function(){this.trigger(this.attr.teardownEvent)})}var s=i(3),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component,a=i(30),c=i(473);e.exports=o(n,a)},function(e,t,i){"use strict";function n(){this.attributes({chromeTemplate:"startflow_wrapper",startflowContentSelector:".js-startflow-content",startflowChromeSelector:".js-startflow-chrome",externalLinkSelector:'a[target="_blank"]'}),this.after("initialize",function(){this.on(document,"uiLoginShowLoginForm",this.handleStartflow),this.on("click",{externalLinkSelector:this.openExternalLink})}),this.before("teardown",function(){this.$node.empty().hide()}),this.handleStartflow=function(e,t){this.prepareStartflowUi(),this.resetStartflowUi(),this.attachChild(c,this.attr.startflowContentSelector,{errorMsg:t.errorMsg})},this.prepareStartflowUi=_.once(function(){var e=r.default.render(this.attr.chromeTemplate,{version:TD.util.getFullVersionString(),withLoading:!0});this.$node.html(e)}),this.resetStartflowUi=function(){this.select("startflowChromeSelector").removeClass("is-hidden"),this.trigger(this.childTeardownEvent),this.select("startflowContentSelector").empty()},this.openExternalLink=function(e,t){e.preventDefault(),TD.util.openURL(t.el.href)}}var s=i(3),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component,a=i(30),c=i(985);e.exports=o(n,a,a.withBoundLifecycle)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({IMAGE_TYPES:["jpg","jpeg","gif","png"],VIDEO_TYPES:["mp4"],template:"media/media_upload",uploadInputSelector:".js-media-upload"}),this.initialState({files:[],handlingDragEvents:!1,dragStatus:null}),this.getDragStatuses=function(){return{WAITING:"waiting",DRAG_OK:"drag_ok",DRAG_ERROR:"drag_error"}},this.getErrorMessages=function(){return{TOO_MANY_FILES_ERROR:TD.i("You can't attach more than {{max}} images.",{max:(0,T.getMaxAllowedFiles)()}),MAX_FILES_ALREADY_ADDED_ERROR:TD.i("You can't attach more than {{max}} images.",{max:(0,T.getMaxAllowedFiles)()}),INCORRECT_FILETYPE_ERROR:TD.i("One selected file is not an image."),INVALID_FILESIZE_ERROR:TD.i("One selected file is greater than the {{max}}MB limit.",{max:(0,T.getMaxAllowedSize)()}),INVALID_GIF_FILESIZE_ERROR:TD.i("One selected GIF is greater than the {{max}}MB limit.",{max:(0,T.getMaxAllowedGifSize)()}),INVALID_VIDEO_FILESIZE_ERROR:TD.i("One selected video is greater than the {{max}}MB limit.",{max:(0,T.getMaxAllowedVideoSize)()}),GIF_ERROR:TD.i("You can't upload a GIF with other images."),VIDEO_ERROR:TD.i("You can only include one video in a Tweet."),MULTIPLE_VIDEO_ERROR:TD.i("You can't Tweet videos and images at the same time.")}},this.validateFile=function(e){var t=this.getErrorMessages(),i=(0,T.getMaxAllowedFiles)(),n=(0,T.getFileType)(e),s=e.size,r={success:!0};return this.state.files.length>=i?r.error=t.MAX_FILES_ALREADY_ADDED_ERROR:(0,h.default)(this.ALLOWED_MEDIA_TYPES,n)?(0,T.isGif)(e)&&s>(0,T.getMaxAllowedGifSize)({bytes:!0})?r.error=t.INVALID_GIF_FILESIZE_ERROR:(0,T.isVideo)(e)&&s>(0,T.getMaxAllowedVideoSize)({bytes:!0})?r.error=t.INVALID_VIDEO_FILESIZE_ERROR:!(0,T.isGif)(e)&&!(0,T.isVideo)(e)&&s>(0,T.getMaxAllowedSize)({bytes:!0})?r.error=t.INVALID_FILESIZE_ERROR:(0,T.isVideo)(e)&&("message"===this.tweetType||this.scheduledDate)&&(r.error=t.INCORRECT_FILETYPE_ERROR):r.error=t.INCORRECT_FILETYPE_ERROR,r.error&&(r.success=!1),r},this.validateFiles=function(e){var t=this,i=this.validateStandAloneGIF(e),n=this.validateStandAloneVideo(e),s=this.validateFileCount(e.length);if(!i.success)return i;if(!n.success)return n;if(!s.success)return s;var r=null;return(0,u.default)(e,function(e){var i=t.validateFile(e);i.success||(r=i)}),r||{success:!0}},this.validateFileCount=function(e){var t=this.getErrorMessages(),i=(0,T.getMaxAllowedFiles)(),n={success:!0},s=this.state.files.length;return e>i?n.error=t.TOO_MANY_FILES_ERROR:s>0&&s+e>i&&(n.error=t.MAX_FILES_ALREADY_ADDED_ERROR),n.error&&(n.success=!1),n},this.validateStandAloneVideo=function(e){var t=(0,c.default)(this.state.files).concat((0,c.default)(e)),i=this.getErrorMessages();if(t.length>1){if(t.every(T.isVideo))return{success:!1,error:i.MULTIPLE_VIDEO_ERROR};if(t.some(T.isVideo))return{success:!1,error:i.VIDEO_ERROR}}return{success:!0}},this.validateStandAloneGIF=function(e){var t=(0,c.default)(this.state.files).concat((0,c.default)(e)),i=this.getErrorMessages();return t.length>1&&t.some(T.isGif)?{success:!1,error:i.GIF_ERROR}:{success:!0}},this.handleResetImageUpload=function(e){this.mergeState({files:[]})},this.addFilesToUpload=function(e){if(e){var t=this.validateFiles(e);if(!t.success)return void(0,v.showErrorNotification)({message:t.error});this.trigger("uiFilesAdded",{files:e}),this.mergeState({files:e})}},this.updateFilesOncePreviewed=function(e,t){t&&t.files&&this.mergeState({files:t.files})},this.handleDragEnterEvent=function(e){var t=this,i=this.getDragStatuses();if(this.currentDragElement)return void(this.currentDragElement=e.target);if(this.currentDragElement=e.target,this.mergeState({dragStatus:i.DRAG_OK}),e.originalEvent.dataTransfer.items){e.preventDefault();var n=e.originalEvent.dataTransfer.items,s=this.validateFileCount(n.length);s.success?(0,u.default)(n,function(e){if("file"===e.kind&&"application/x-moz-file"!==e.type){var n=t.validateFile(e);if(!n.success)return t.mergeState({dragStatus:i.DRAG_ERROR}),void(0,v.showErrorNotification)({message:n.error})}}):(this.mergeState({dragStatus:i.DRAG_ERROR}),(0,v.showErrorNotification)({message:s.error}))}},this.handleDragLeaveEvent=function(e){var t=this.getDragStatuses();this.currentDragElement===e.target&&(this.currentDragElement=null,this.mergeState({dragStatus:t.WAITING}))},this.handleDropEvent=function(e){var t=this.getDragStatuses();if(e.preventDefault(),this.state.dragStatus===t.DRAG_OK){var i=e.originalEvent.dataTransfer.files;this.addFilesToUpload(i)}this.mergeState({dragStatus:t.WAITING}),this.currentDragElement=null},this.cancel=function(e){return e.preventDefault(),!1},this.handleComposeUpdatedTweetType=function(e,t){this.tweetType=t.type},this.handleComposeUpdatedScheduledDate=function(e,t){this.scheduledDate=t.scheduledDate},this.handleComposeAddImageClick=function(){this.$uploadInputSelector.click()},this.handleFileUploadChange=function(e){this.addFilesToUpload(e.target.files),this.$uploadInputSelector.val("")},this.whenEnabled=function(e){return function(){if(!this.state.handlingDragEvents)return e.apply(this,[].slice.call(arguments))}},this.onDragStart=function(){this.mergeState({handlingDragEvents:!0})},this.onDragEnd=function(){this.mergeState({handlingDragEvents:!1})},this.getAcceptedMediaForInput=function(){var e=this.attr,t=e.IMAGE_TYPES,i=e.VIDEO_TYPES;return t.concat(i).map(function(e){return"."+e}).join(",")},this.initialRender=function(){var e={acceptedMedia:this.getAcceptedMediaForInput()},t=g.default.render(this.attr.template,e);this.$node.html(t)},this.componentDidInitialize=function(){this.ALLOWED_MEDIA_TYPES=[].concat((0,o.default)(this.attr.IMAGE_TYPES),(0,o.default)(this.attr.VIDEO_TYPES)),this.initialRender(),this.$uploadInputSelector=this.select("uploadInputSelector"),this.on(document,"uiResetImageUpload",this.handleResetImageUpload),this.on(document,"uiComposeAddImageClick",this.handleComposeAddImageClick),this.on(document,"uiComposeUpdatedTweetType",this.handleComposeUpdatedTweetType),this.on(document,"uiComposeUpdatedScheduledDate",this.handleComposeUpdatedScheduledDate),this.on(document,"dragstart",this.onDragStart),this.on(document,"dragend",this.onDragEnd),this.on(document,"dragenter",this.whenEnabled(this.handleDragEnterEvent)),this.on(document,"dragleave",this.whenEnabled(this.handleDragLeaveEvent)),this.on(document,"drop",this.whenEnabled(this.handleDropEvent)),this.on(document,"dragover",this.whenEnabled(this.cancel)),this.on(document,"uiComposeImageAdded",this.updateFilesOncePreviewed),this.$uploadInputSelector.on("change",this.handleFileUploadChange.bind(this))}}var r=i(39),o=n(r),a=i(112),c=n(a),l=i(111),u=n(l),d=i(625),h=n(d),p=i(4),f=n(p),m=i(3),g=n(m),v=i(6),T=i(289);e.exports=f.default.mixin(s)},function(e,t,i){"use strict";function n(){this.attributes({dismissButton:".js-dismiss",actions:{triggerEvent:"trigger-event",dismiss:"dismiss",openUrl:"url-ext"},buttonClasses:{"trigger-event":"btn-positive","url-ext":"btn-positive",dismiss:"btn-alt"}}),this.eventHandlerFactory=function(e){return function(){switch(e.action){case"trigger-event":this.trigger(e.event.type,e.event.data)}this.trigger("uiClickMessageButtonAction",{messageId:this.message.id,actionId:e.id}),this.message.isUndismissable||this.hide()}.bind(this)},this.dismiss=function(){this.message&&(this.trigger("uiDismissMessageAction",this.message),this.hide())},this.revokeMessage=function(e,t){this.message&&this.message.id===t.id&&this.hide()},this.hide=function(){window.clearInterval(this.resizeBannerCheckInterval),this.trigger("uiHidingMessageBanner",this.message),this.message=null},this.handleMessageData=function(e,t){this.message&&this.message.id===t.message.id||(this.message=t.message,this.showMessage())},this.handleMessageContainerHidden=function(){this.$node.addClass("is-hidden")},this.showMessage=function(){this.trigger("uiShowMessageBanner",this.message);var e,t,i,n={text:this.message.text,actions:[],isUndismissable:this.message.isUndismissable};for(t=0;this.message.actions&&t<this.message.actions.length;t++)switch(e=this.message.actions[t],i=e.class,e.action){case this.attr.actions.openUrl:n.actions.push({label:e.label,action:e.action,actionId:e.id,url:e.url,isExternalUrl:!0,boundEventHandler:this.eventHandlerFactory(e),buttonClass:i||this.attr.buttonClasses[e.action]});break;case this.attr.actions.triggerEvent:case this.attr.actions.dismiss:n.actions.push({label:e.label,action:e.action,actionId:e.id,boundEventHandler:this.eventHandlerFactory(e),buttonClass:i||this.attr.buttonClasses[e.action]})}var s=r.default.render("topbar/message_banner",n);this.$node.html(s),this.message.colors&&this.$node.css({"background-color":this.message.colors.background,color:this.message.colors.foreground}),this.on(this.select("dismissButton"),"click",this.dismiss),n.actions.forEach(function(e){this.on('[data-action-id="'+e.actionId+'"]',"click",e.boundEventHandler)}.bind(this)),this.resizeBannerCheckInterval=window.setInterval(function(){this.currentBannerHeight&&this.currentBannerHeight!==this.$node.outerHeight()&&this.trigger("uiMessageBannerResized"),this.currentBannerHeight=this.$node.outerHeight()}.bind(this),200),this.$node.removeClass("is-hidden"),this.trigger("uiMessageBannerShown",this.message)},this.after("initialize",function(){this.on(document,"dataMessage",this.handleMessageData),this.on(document,"uiMessageBannerContainerHidden",this.handleMessageContainerHidden),this.on(document,"dataMessageRemove",this.revokeMessage),this.trigger("uiMessageBannerReady")})}var s=i(3),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component;e.exports=o(n)},function(e,t,i){"use strict";var n=function(){function e(e){return{type:"uiShowAccountSettings"}}this.getReauthorizeAccountMessageData=function(t){return{id:"expired-token-error",text:TD.i("You can no longer access the @{{1}} account.",{1:t.account.getUsername()}),colors:{background:"#ea596e",foreground:"white"},actions:[{id:"no-button",action:"trigger-event",label:TD.i("Remove columns"),class:"btn-negative",event:{type:"uiAccountAction",data:{action:"remove",accountKey:t.account.getKey()}}},{id:"keep-columns",action:"trigger-event",label:TD.i("Keep columns"),class:"btn-positive"+(TD.decider.get("enable_rewrite_columns")?"":" is-hidden"),event:{type:"uiAccountAction",data:{action:"rewriteColumns",accountKey:t.account.getKey()}}},{id:"yes-button",action:"trigger-event",label:TD.i("Enter account password"),class:"btn-positive",event:e(t.account)}]}}};e.exports=n},function(e,t,i){"use strict";var n=function(){this.getAccountSuspendedMessageId=function(){return"expired-token-error"},this.getAccountSuspendedMessageData=function(e){return{id:this.getAccountSuspendedMessageId(),text:TD.i("Your account @{{1}} is currently suspended.",{1:e.account.getUsername()}),colors:{background:"#b2d5ed",foreground:"#555"},actions:[{id:"yes-button",action:"url-ext",label:TD.i("Visit Suspended Accounts Help page"),url:"https://twitter.com/account/suspended_help"}]}}};e.exports=n},function(e,t,i){"use strict";function n(){this.attributes({messageSelector:".js-message-banner",applicationSelector:".js-app",isAnimatingClass:"is-application-animating"}),this._onHidden=function(){this.trigger("uiMessageBannerContainerHidden")},this.showAccessDeniedMessage=function(e,t){var i;i=t.isLoginAccount?this.getLoginAccountAccessDeniedMessageData(t):this.getReauthorizeAccountMessageData(t),$(document).trigger("dataMessage",{message:i})},this.removeAccessDeniedMessage=function(){$(document).trigger("dataMessageRemove",{id:this.getAccountSuspendedMessageId()}),$(document).trigger("dataMessageRemove",{id:this.getLoginAccountAccessDeniedMessageId()})},this.showAccountSuspendedMessage=function(e,t){var i=this.getAccountSuspendedMessageData(t);$(document).trigger("dataMessage",{message:i})},this.handleMessageBannerResize=function(){this.transitionTop(this.$application,this.attr.isAnimatingClass,this.$message.outerHeight())},this.handleHideMessageBannerContainer=function(){this.transitionTop(this.$application,this.attr.isAnimatingClass,0,this._boundOnHiddenFn)},this.after("initialize",function(){this.$application=this.select("applicationSelector"),this.$message=this.select("messageSelector"),this._boundOnHiddenFn=this._onHidden.bind(this),this.on(document,"uiHidingMessageBanner",this.handleHideMessageBannerContainer),this.on(document,"uiMessageBannerShown",this.handleMessageBannerResize),this.on(document,"uiMessageBannerResized",this.handleMessageBannerResize),this.on(document,"uiShowAccountAccessDeniedBanner",this.showAccessDeniedMessage),this.on(document,"uiHideAccountAccessDeniedBanner",this.removeAccessDeniedMessage),this.on(document,"dataTwitterAccountSuspended",this.showAccountSuspendedMessage)})}var s=i(2).component,r=i(88),o=i(989),a=i(461),c=i(990);e.exports=s(n,r,o,a,c)},function(e,t,i){"use strict";function n(){this.attributes({modalContextTemplate:"modal/modal_context",modalContextSelector:".js-modal-context",modalInnerSelector:".js-modal-inner",modalContentSelector:".js-modal-content",modalClickTrapSelector:".js-click-trap",modalDismissSelector:".js-dismiss",modalDragHandleSelector:".js-drag-handle",modalNonDismissibleSelector:".js-non-dismissible",modalOptions:{title:"",withNonDismissible:!1,withCenteredFooter:!1,withClickTrap:!0,withDismissButton:!0,withDoneButton:!1,withDraggable:!0,withDragHandle:!0,withFooter:!0,withHeader:!0,withHeaderDivider:!1,withBorder:!0,withClasses:[],withContentClasses:[],withOverlayClasses:[],withTitleClasses:[]}}),this.after("initialize",function(){this.on(document,"uiNeedsModalContext",this.handleCreateModalContext),this.on("uiModalShowing",{modalContextSelector:this.handleModalShowing}),this.on("uiModalHiding",{modalContextSelector:this.handleModalHiding}),this.on("click",{modalDismissSelector:this.handleModalDismiss,modalClickTrapSelector:this.handleModalContextClick})}),this.handleCreateModalContext=function(e,t){var i=_.defaults(t||{},this.attr.modalOptions);if(!i.withNonDismissible&&this.select("modalNonDismissibleSelector").length>0)return void this.trigger("uiModalContext",{id:i.id,$node:null});if(i.withNonDismissible&&i.withDismissButton)throw new Error("non-dismissible modals may not have dismiss button");if(i.withNonDismissible&&i.withClickTrap)throw new Error("non-dismissible modals may not have click trap");var n=this.createModalContext(i),s=n.find(this.attr.modalInnerSelector),r=s.find("header"),o=r.find("h3"),a=s.find(this.attr.modalContentSelector);n.addClass("is-hidden").addClass(i.withOverlayClasses.join(" ")),s.addClass(i.withClasses.join(" ")),a.addClass(i.withContentClasses.join(" ")),o.addClass(i.withTitleClasses.join(" ")),this.$node.append(n),this.trigger("uiModalContext",{id:i.id,$node:n.find(this.attr.modalContentSelector)}),i.withDraggable&&this.setupDragHandle({draggable:s,handle:s.find(this.attr.modalDragHandleSelector),boundary:n})},this.setupDragHandle=function(e){["draggable","handle","boundary"].forEach(function(t){if(!e[t])throw new Error("Required parameter "+t+" omitted")}),e.draggable.draggable({handle:e.handle,boundary:e.boundary}).on("start.draggable",function(){e.draggable.css({position:"absolute",top:e.draggable.offset().top,left:e.draggable.offset().left}),e.boundary.addClass("is-dragging")}).on("drop.draggable",function(){e.boundary.removeClass("is-dragging")})},this.createModalContext=function(e){return $(o.default.render(this.attr.modalContextTemplate,e))},this.handleModalShowing=function(e,t){this.select("modalContextSelector").addClass("is-hidden"),$(t.el).removeClass("is-hidden")},this.handleModalHiding=function(e,t){$(t.el).remove()},this.handleModalDismiss=function(e,t){this.closeModals()},this.closeModals=function(){this.trigger("uiCloseModal")},this.handleModalContextClick=function(e,t){var i=$(t.el);$(e.target).closest(this.attr.modalInnerSelector,i).length||this.closeModals()}}var s=i(2),r=i(3),o=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=(0,s.component)(n)},function(e,t,i){"use strict";function n(){this.attributes({isNonDismissible:!1}),this.after("initialize",function(){this.trigger("uiModalShowing"),this.trigger("uiCloseModal"),this.on(document,"uiModalShowing",this.teardown),this.attr.isNonDismissible||(this.on(document,"uiCloseModal",this.teardown),this.on(document,"uiCloseTopModal",this.teardown))}),this.before("teardown",function(){this.trigger("uiModalHiding")})}e.exports=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({mode:null,buttonTemplate:"new_custom_timeline_button"}),this.componentDidInitialize=function(){this.on("click",this.handleNewCustomTimelineClick)},this.scribeNewListClick=function(){TD.controller.stats.newListClick()},this.scribeNewCustomtimelineClick=function(){TD.controller.stats.newCustomtimelineClick()},this.handleNewCustomTimelineClick=function(){switch(this.trigger(TD.components.BaseModal.CLOSE_EVENT),this.attr.mode){case"lists":$(document).trigger("uiShowEditListMembers"),this.scribeNewListClick();break;case"customtimelines":$(document).trigger("uiShowEditCustomTimeline"),this.scribeNewCustomtimelineClick()}},this.getButtonText=function(e){switch(e){case"lists":return TD.i("Create list");case"customtimelines":return TD.i("Create collection");default:return""}},this.render=function(){var e=o.default.render(this.attr.buttonTemplate,{buttonText:this.getButtonText(this.attr.mode)});this.$node.html(e)}}var r=i(3),o=n(r),a=i(4),c=n(a);e.exports=c.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({tickerInner:".js-ticker-inner",tickerValues:".js-ticker-value",animateClass:"ticker-animate",transitionTimeout:1e3}),this.initialState({animating:!1}),this.componentDidInitialize=function(){this.after("render",this.animate)},this.shouldComponentUpdate=function(e,t){if(t.animating)return!1;var i=this.getCurrentValues(),n=this.getNextValues(e,i);return(0,f.default)(i)!==(0,f.default)(n)},this.render=function(){var e={values:this.getNextValues().map(function(e){return{value:e}})},t=w.default.render("number_ticker",e);this.$node.html(t)},this.animate=function(){var e=this;if(!this.state.animating){this.mergeState({animating:!0});(0,g.default)(this.needsAnimation(),function(){return e.doCSSTransition()},function(){return e.waitForFrames(1)}).subscribe(function(){return e.mergeState({animating:!1})})}},this.needsAnimation=function(){var e=this.getCurrentValues();return(0,h.default)(e)!==(0,f.default)(e)},this.getNextValues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentValues();return[].concat((0,o.default)(t),[e.value]).filter(function(e){return!(0,u.default)(e)&&!(0,c.default)(e)}).slice(-2).map(String)},this.getCurrentValues=function(){return this.select("tickerValues").toArray().map(function(e){return $(e).text()})},this.doCSSTransition=function(){var e=this,t=this.select("tickerInner"),i=T.default.Observable.merge(T.default.Observable.fromEvent(t,_.TRANSITION_END),T.default.Observable.timer(this.attr.transitionTimeout)).take(1);return this.waitForFrames(2).do(function(){return t.addClass(e.attr.animateClass)}).exhaustMap(function(){return i}).exhaustMap(function(){return e.waitForFrames(1)}).take(1)},this.waitForFrames=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return C.skip(e-1).take(1)}}var r=i(39),o=n(r),a=i(1745),c=n(a),l=i(401),u=n(l),d=i(1673),h=n(d),p=i(623),f=n(p),m=i(62),g=n(m),v=i(18),T=n(v),_=i(173),y=i(3),w=n(y),b=i(4),D=n(b),C=T.default.Observable.of(0,T.default.Scheduler.animationFrame).repeat();e.exports=D.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({column:null,template:"column/preferences",actionButton:"[data-action]",summarySelector:".js-preferences-summary",summaryClass:"js-preferences-summary",thumbSizeSelectSelector:".js-thumb-size",thumbSizeSelectTemplate:"column/thumb_size_select",selectItemSelector:".js-toggle-item",selectedMediaSelector:".js-selected-media",unselectedMediaSelector:".js-unselected-media"}),this.initialState({hasSound:function(){return this.attr.column.model.getHasSound()},hasNotifications:function(){return this.attr.column.model.getHasNotification()},thumbSize:function(){return this.attr.column.getMediaPreviewSize()}}),this.componentDidInitialize=function(){this.column=this.attr.column,this.initialRender(),this.on(this.$preferences,"click",{actionButton:this.toggleColumnSetting}),this.on(this.$node,"click",{selectItemSelector:this.handleThumbSizeSelectClick})},this.getMediaPreviewSizeText=function(){var e=this.column.getMediaPreviewSize(),t={off:"Media hidden",small:"Small media",medium:"Medium media",large:"Large media"};return this.isColumnWithTweets()?TD.i(t[e]):""},this.getNotificationsText=function(){var e=this.state,t=e.hasNotifications,i=e.hasSound;return t&&i?TD.i("Sounds and desktop notifications"):t?TD.i("Desktop notifications"):i?TD.i("Sounds"):""},this.renderSummary=function(){var e=this.getMediaPreviewSizeText(),t=this.getNotificationsText(),i=t.length&&this.isColumnWithTweets()?"·":"";this.$summarySelector.text(e+" "+i+" "+t)},this.render=function(){this.renderSummary(),this.renderThumbSizeSelector()},this.toggleColumnSetting=function(e){var t=$(e.target).closest(this.attr.actionButton),i=t.data("action"),n=this.column.model;switch(i){case"popups":var s=!n.getHasNotification();n.setHasNotification(s),this.trigger(document,"uiCheckNotificationPermission"),this.mergeState({hasNotifications:s});break;case"sound":var r=!n.getHasSound();n.setHasSound(r),this.mergeState({hasSound:r})}},this.renderThumbSizeSelector=function(){var e=this.state,t=e.thumbSize,i=e.thumbSizeEl,n=this.attr,s=n.selectedMediaSelector,r=n.unselectedMediaSelector,o='[data-value="'+t+'"]';if(i)this.$selectedMedia.addClass("is-hidden"),this.$unselectedMedia.removeClass("is-hidden"),i.find(s).removeClass("is-hidden"),i.find(r).addClass("is-hidden");else{var a=this.$thumbSizeSelectOptions.filter(o);a.find(s).removeClass("is-hidden"),a.find(r).addClass("is-hidden")}},this.handleThumbSizeSelectClick=function(e,t){var i=$(t.el),n=i.data("value");n&&(this.trigger("uiColumnUpdateMediaPreview",{value:n}),this.mergeState({thumbSizeEl:i}))},this.getNotificationOptions=function(){var e=TD.controller.notifications.hasNotifications(),t=e?{action:"popups",option:TD.i("Enable desktop notifications"),on:this.state.hasNotifications}:null;return[{action:"sound",option:TD.i("Enable sound"),on:this.state.hasSound},t].filter(Boolean)},this.getMediaPreviewSizeOptions=function(){var e="/web/assets/global/backgrounds";return[{dataValue:"off",text:TD.i("Hidden"),selectedSrc:TD.assets.get(e+"/hidden-selected.png"),unselectedSrc:TD.assets.get(e+"/hidden-unselected.png")},{dataValue:"small",text:TD.i("Small"),selectedSrc:TD.assets.get(e+"/small-selected.png"),unselectedSrc:TD.assets.get(e+"/small-unselected.png")},{dataValue:"medium",text:TD.i("Medium"),selectedSrc:TD.assets.get(e+"/medium-selected.png"),unselectedSrc:TD.assets.get(e+"/medium-unselected.png")},{dataValue:"large",text:TD.i("Large"),selectedSrc:TD.assets.get(e+"/large-selected.png"),unselectedSrc:TD.assets.get(e+"/large-unselected.png")}]},this.isColumnWithTweets=function(){return-1!==u.default.mediaPreviewableColumnTypes.indexOf(this.column.getColumnType())},this.initialRender=function(){var e=this.isColumnWithTweets(),t={summaryText:"",iconClass:"icon-settings",title:TD.i("Preferences"),jsClass:this.attr.summaryClass,notificationOptions:this.getNotificationOptions(),mediaPreviewSizeOptions:this.getMediaPreviewSizeOptions(),columnWithTweets:e};this.$preferences=$(c.default.render(this.attr.template,t)),this.$node.append(this.$preferences),this.$thumbSizeSelectOptions=this.select("selectItemSelector"),this.$summarySelector=this.select("summarySelector"),this.$selectedMedia=this.select("selectedMediaSelector"),this.$unselectedMedia=this.select("unselectedMediaSelector"),this.renderSummary(),this.renderThumbSizeSelector()}}var r=i(4),o=n(r),a=i(3),c=n(a),l=i(20),u=n(l);e.exports=o.default.mixin(s)},function(e,t,i){"use strict";function n(){this.attributes({account:null,twitterUser:null,tweetId:"",isMedia:!1}),this.after("initialize",function(){var e=r.render("report_flow",{url:o.getReportUrl({reportedUserId:this.attr.twitterUser.id,reportedTweetId:this.attr.tweetId,isMedia:this.attr.isMedia})});this.$node.html(e),this.on(window,"message",this.handlePostMessage)}),this.handlePostMessage=function(e){var t=a.get(e,["originalEvent","data","type"]),i=a.get(e,["originalEvent","data","action"]);"ReportAction"===t&&this.triggerAction(i)},this.triggerAction=function(e){var t={account:this.attr.account,twitterUser:this.attr.twitterUser};switch(e){case"mute":return this.trigger(document,"uiMuteAction",t);case"block":return this.trigger(document,"uiBlockAction",t);case"unfollow":return this.trigger(document,"uiUnfollowAction",t)}}}var s=i(89),r=i(3),o=i(1037),a=i(54);e.exports=s.mixin(n)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({twitterUser:null,account:null,tweetId:void 0,conversationId:void 0,isGroupConversation:void 0,closeEvent:"uiReportMessageActionClose",spamButtonSelector:".js-report-spam",abuseButtonSelector:".js-mark-abusive"}),this.initialState({reportSource:function(){return this.attr.tweetId?TD.i("message"):TD.i("conversation")},isFinished:!1}),this.after("initialize",function(){this.on("click",{spamButtonSelector:this.handleActionFactory("spam"),abuseButtonSelector:this.handleActionFactory("abuse")}),this.on(document,"dMReportError",this.handleReportError)}),this.handleManualDismiss=function(){this.trigger("uiShowReportMessageCancel")},this.handleActionFactory=function(e){return function(t){t.preventDefault(),this.trigger("uiNeedsDMReport",{account:this.attr.account,dmId:this.attr.tweetId,conversationId:this.attr.conversationId,reportType:e,blockUser:!1}),this.mergeState({isFinished:!0})}.bind(this)},this.handleReportError=function(e,t){t.error&&(this.trigger("uiShowReportMessageError"),(0,l.showErrorNotification)({message:TD.i("Error: Unable to report {{reportSource}}",{reportSource:this.state.reportSource})}),this.mergeState({isFinished:!1}))},this.render=function(){var e=o.default.render("report_message_options",{reportSource:this.state.reportSource,isFinished:this.state.isFinished,screenName:this.attr.twitterUser.screenName,isGroupConversation:this.attr.isGroupConversation});this.$node.html(e)}}var r=i(3),o=n(r),a=i(4),c=n(a),l=i(6);e.exports=c.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"scheduled_hint"}),this.shouldComponentUpdate=function(e){return this.props.scheduledDate!==e.scheduledDate},this.render=function(){var e=Boolean(this.props.scheduledDate),t=c.default.render(this.attr.template,{showHint:e});this.$node.html(t)}}var r=i(4),o=n(r),a=i(3),c=n(a);e.exports=o.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({filterType:"action",columnType:null,template:"menus/search_action_form",searchFilter:null,showFavoritesSelector:".js-show-favorites",showRetweetsSelector:".js-show-retweets",showListsSelector:".js-show-lists",showFollowersSelector:".js-show-followers",showMentionsSelector:".js-show-mentions",showActionsOnRetweetsSelector:".js-show-actions-on-retweets",showQuotedSelector:".js-show-quoted",showInteractionsOnMentioned:".js-show-interactions-on-mentioned",showInteractionsOnTagged:".js-show-interactions-on-tagged",errorMessageSelector:".js-action-filter-error",isHiddenClass:"is-hidden"}),this.after("initialize",function(){var e={available:this.attr.searchFilter.action.getAvailableFacets(this.attr.columnType),checked:this.attr.searchFilter.action.toJSONObject(),showError:this.attr.searchFilter.action.hasFilterError(this.attr.columnType)},t=f.render(this.attr.template,e);this.$node.html(t),this.$showRetweets=this.select("showRetweetsSelector"),this.$showFavorites=this.select("showFavoritesSelector"),this.$showFollowers=this.select("showFollowersSelector"),this.$showLists=this.select("showListsSelector"),this.$showMentions=this.select("showMentionsSelector"),this.$showActionsOnRetweets=this.select("showActionsOnRetweetsSelector"),this.$showQuoted=this.select("showQuotedSelector"),this.$showInteractionsOnMentioned=this.select("showInteractionsOnMentioned"),this.$showInteractionsOnTagged=this.select("showInteractionsOnTagged"),this.on("change",this.handleChange)}),this.isInActivityColumn=function(){return this.attr.columnType===h.default.columnMetaTypes.ACTIVITY},this.handleChange=function(e){var t,i={showFollowers:this.$showFollowers.prop("checked"),showLists:this.$showLists.prop("checked"),showMentions:this.$showMentions.prop("checked"),showRetweets:this.$showRetweets.prop("checked"),showFavorites:this.$showFavorites.prop("checked"),showActionsOnRetweets:this.$showActionsOnRetweets.prop("checked"),showQuoted:this.$showQuoted.prop("checked"),showInteractionsOnMentioned:this.$showInteractionsOnMentioned.prop("checked"),showInteractionsOnTagged:this.$showInteractionsOnTagged.prop("checked")},n=(0,u.default)(i).reduce(function(e,t){return"boolean"!=typeof i[t]?e:(0,c.default)({},e,(0,o.default)({},t,i[t]))},{});t=new TD.vo.ActionFilter(n),this.select("errorMessageSelector").toggleClass(this.attr.isHiddenClass,!t.hasFilterError(this.attr.columnType)),this.trigger("uiAccordionUpdatePanelHeights"),this.trigger("uiSearchFilterUpdateAction",{type:this.attr.filterType,filter:t,filterName:$(e.target).data("title"),value:[e.target.value,e.target.checked?"show":"hide"].join(":")}),t.hasFilterError(this.attr.columnType)&&this.trigger("uiActionFilterError")}}var r=i(152),o=n(r),a=i(15),c=n(a),l=i(27),u=n(l),d=i(20),h=n(d),p=i(2).component,f=i(3);e.exports=p(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({filterType:"content",template:"menus/search_content_form",matchingSelector:".js-matching",excludingSelector:".js-excluding",containingSelector:".js-containing",writtenInSelector:".js-written-in",dateTimeFilterSelector:".js-datetime-filter",retweetsSelector:".js-retweets",searchFilter:null,renderOptions:{withContentType:!0,withPeriscopeFilter:!0,withMatching:!0,withExcluding:!0,withLanguage:!0,withDateTime:!1,withRetweetsToggle:!0}}),this.initialState({sinceTimeInSec:function(){return(0,h.default)(this.attr,"searchFilter.content.sinceTimeInSec")},untilTimeInSec:function(){return(0,h.default)(this.attr,"searchFilter.content.untilTimeInSec")},matching:function(){return(0,h.default)(this.attr,"searchFilter.content.matching")},containing:function(){return(0,h.default)(this.attr,"searchFilter.content.type")},excluding:function(){return(0,h.default)(this.attr,"searchFilter.content.excluding")},written_in:function(){return(0,h.default)(this.attr,"searchFilter.content.lang")},retweets:function(){return(0,h.default)(this.attr,"searchFilter.content.includeRTs")?"included":"excluded"}}),this.getContainingOptions=function(){var e=this.state.containing;return[{value:TD.vo.ContentFilter.TYPE_ANYTHING,title:TD.i("all Tweets")},{value:TD.vo.ContentFilter.TYPE_IMG,title:TD.i("Tweets with images")},{value:TD.vo.ContentFilter.TYPE_VID,title:TD.i("Tweets with videos")},{value:TD.vo.ContentFilter.TYPE_GIF,title:TD.i("Tweets with GIFs")},{value:TD.vo.ContentFilter.TYPE_VINE,title:TD.i("Tweets with Vines")},{value:TD.vo.ContentFilter.TYPE_PERISCOPE,title:TD.i("Tweets with Broadcasts"),hidden:!this.attr.renderOptions.withPeriscopeFilter},{value:TD.vo.ContentFilter.TYPE_IMG_AND_VID,title:TD.i("Tweets with any media")},{value:TD.vo.ContentFilter.TYPE_LINKS,title:TD.i("Tweets with links")}].filter(function(t){return t.value!==TD.vo.ContentFilter.TYPE_VINE||e===t.value})},this.getRetweetOptions=function(){return[{value:"included",title:TD.i("included"),isIncluded:!0},{value:"excluded",title:TD.i("excluded"),isIncluded:!1}]},this.shouldIncludeRetweets=function(){var e=this;return!this.state.retweets||this.retweetOptions.find(function(t){return t.value===e.state.retweets}).isIncluded},this.handleStateChange=function(){var e=this.shouldIncludeRetweets(),t=new TD.vo.ContentFilter({type:this.state.containing,matching:this.state.matching,excluding:this.state.excluding,lang:this.state.written_in,sinceTimeInSec:this.state.sinceTimeInSec,untilTimeInSec:this.state.untilTimeInSec,includeRTs:e});this.trigger("uiSearchFilterUpdateAction",{type:"content",filter:t})},this.componentDidInitialize=function(){var e=this;this.containingOptions=this.getContainingOptions(),this.retweetOptions=this.getRetweetOptions(),this.on("uiDateTimeFilterChange",function(t,i){var n=i.filterName,s=i.filterValue,r={since_datetime:"sinceTimeInSec",until_datetime:"untilTimeInSec"};e.mergeState((0,c.default)({},r[n],s))}),this.initialRender(),this.$containing=this.select("containingSelector"),this.$writtenIn=this.select("writtenInSelector"),this.$matching=this.select("matchingSelector"),this.$excluding=this.select("excludingSelector"),this.$retweets=this.select("retweetsSelector"),this.after("stateChanged",this.handleStateChange.bind(this)),this.on("uiContentFilterUpdateTitle",function(t,i){e.mergeState({matching:i.title})}),this.on("change",function(t,i){e.mergeState((0,c.default)({},$(t.target).data("title"),t.target.value))}),this.on("uiDestroyContentFilterForm",this.teardown)},this.connectAndAttachDateTimeFilter=function(){var e=this.connect(T.default,{mapStateToProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{sinceTimeInSec:e.sinceTimeInSec,untilTimeInSec:e.untilTimeInSec}}});this.attachChild(e,this.select("dateTimeFilterSelector"))},this.initialRender=function(){var e=TD.languages.getSystemLanguageCode(!0),t=TD.languages.getLanguageFromISOCode(e),i=(0,u.default)(TD.languages.getAllLanguages(),"localized_name");this.$node.html(g.default.render(this.attr.template,(0,o.default)({},this.attr.renderOptions,{containingOptions:this.containingOptions,retweetOptions:this.retweetOptions,userLanguage:t,allLanguages:i}))),this.connectAndAttachDateTimeFilter()},this.render=function(){this.$containing.val(this.state.containing),this.$writtenIn.val(this.state.written_in),this.$matching.val(this.state.matching),this.$excluding.val(this.state.excluding),this.shouldIncludeRetweets()?this.$retweets.val("included"):this.$retweets.val("excluded")}}var r=i(15),o=n(r),a=i(152),c=n(a),l=i(381),u=n(l),d=i(17),h=n(d),p=i(4),f=n(p),m=i(3),g=n(m),v=i(1002),T=n(v);e.exports=f.default.mixin(s)},function(e,t,i){"use strict";function n(){this.attributes({template:"menus/search_datetime_form",fromDatePickerHolderSelector:".js-from-datepicker-holder",toDatePickerHolderSelector:".js-to-datepicker-holder",clearDatetimeSelector:".js-clear-date",dateTimeInputSelector:".js-datetime-input",sinceDatetimeFilterName:"since_datetime",untilDatetimeFilterName:"until_datetime",dateUnselectedClass:"date-unselected",timePickerDropdownClass:"TimePickerDropdown",timePickerSelector:".TimePicker"}),this.componentDidInitialize=function(){var e=this;this.$node.html(c.render(this.attr.template)),this.fromDatePickerDropdown=this.createDatePickerDropdown("fromDatePickerHolderSelector","select date"),this.toDatePickerDropdown=this.createDatePickerDropdown("toDatePickerHolderSelector","now"),this.fromDatePickerDropdown.datePicker.on(r.events.CHANGE,this.handleFromChange.bind(this)),this.toDatePickerDropdown.datePicker.on(r.events.CHANGE,this.handleToChange.bind(this)),this.on(this.attr.fromDatePickerHolderSelector,"click",{clearDatetimeSelector:this.handleFromClear}),this.on(this.attr.toDatePickerHolderSelector,"click",{clearDatetimeSelector:this.handleToClear}),this.on(this.fromDatePickerDropdown.dropdown.$el,"click",{clearDatetimeSelector:this.handleFromClear}),this.on(this.toDatePickerDropdown.dropdown.$el,"click",{clearDatetimeSelector:this.handleToClear}),this.on(o.events.SHOW,function(t){var i=$(t.target);i&&i.hasClass(e.attr.timePickerDropdownClass)&&e.repositionDropdown({$dropdownMenu:i,$target:i.siblings(e.attr.timePickerSelector).first()})})},this.handleFromClear=function(){this.trigger("uiDateTimeFilterChange",{filterName:this.attr.sinceDatetimeFilterName,filterValue:""})},this.handleToClear=function(){this.trigger("uiDateTimeFilterChange",{filterName:this.attr.untilDatetimeFilterName,filterValue:""})},this.handleFromChange=function(e){var t=this.fromDatePickerDropdown.datePicker.date().getTime()/1e3;this.trigger("uiDateTimeFilterChange",{filterName:this.attr.sinceDatetimeFilterName,filterValue:t})},this.handleToChange=function(e){var t=this.toDatePickerDropdown.datePicker.date().getTime()/1e3;this.trigger("uiDateTimeFilterChange",{filterName:this.attr.untilDatetimeFilterName,filterValue:t})},this.createDatePickerDropdown=function(e,t){var i=c.render("menus/datetime_input",{placeHolderText:t}),n=c.render("menus/datetime_footer",{}),s=new a({$target:$(i),$footer:$(n),datePickerOptions:{showTime:!0,preserveTimeOnDaySelect:!0}});return s.$el.prependTo(this.select(e)),s},this.repositionDropdown=function(e){var t=e.$dropdownMenu,i=e.$target,n=$(window).height(),s=t.outerHeight(!0),r=i.position().top;i.offset().top+s>n&&t.css("top",r-s)},this.render=function(){this.fromDatePickerDropdown.dropdown.hide(),this.toDatePickerDropdown.dropdown.hide(),this.setMaxDate(this.fromDatePickerDropdown,this.props.untilTimeInSec),this.setMinDate(this.toDatePickerDropdown,this.props.sinceTimeInSec);var e=l(this.fromDatePickerDropdown.datePicker.options.maxDate||new Date).startOf("day").toDate(),t=l(this.toDatePickerDropdown.datePicker.options.minDate||new Date).endOf("day").toDate();this.setDateTimeOrDefault({dropdown:this.fromDatePickerDropdown,timeInSec:this.props.sinceTimeInSec,defaultText:TD.i("select date"),defaultTime:e}),this.setDateTimeOrDefault({dropdown:this.toDatePickerDropdown,timeInSec:this.props.untilTimeInSec,defaultText:TD.i("now"),defaultTime:t})},this.setDateTimeOrDefault=function(e){var t=e.dropdown,i=e.timeInSec,n=(e.defaultText,e.defaultTime);i&&l.unix(i).isValid()?(t.datePicker.$el.removeClass(this.attr.dateUnselectedClass),t.datePicker.date(l(i,"X").toDate()),t.$el.find(this.attr.dateTimeInputSelector).val(l(i,"X").format("D MMM YYYY")),t.$el.addClass("has-value")):(t.datePicker.$el.addClass(this.attr.dateUnselectedClass),t.datePicker.date(n),t.$el.find(this.attr.dateTimeInputSelector).val(""),t.$el.removeClass("has-value"))},this.setMinDate=function(e,t){var i=t&&l.unix(t).isValid();e.datePicker.options.minDate=i?l(t,"X").toDate():null},this.setMaxDate=function(e,t){var i=t&&l.unix(t).isValid();e.datePicker.options.maxDate=i?l(t,"X").toDate():null},this.after("teardown",function(){this.fromDatePickerDropdown.remove(),delete this.fromDatePickerDropdown,this.toDatePickerDropdown.remove(),delete this.toDatePickerDropdown,this.$node.empty()})}var s=i(4),r=i(278),o=i(116),a=i(718),c=i(3),l=i(60);e.exports=s.mixin(n)},function(e,t,i){"use strict";function n(){this.attributes({filterType:"engagement",template:"menus/search_engagement_form",searchFilter:null,minRetweetsSelector:".js-min-retweets",minRepliesSelector:".js-min-replies",minFavoritesSelector:".js-min-favorites",zeroClass:"txt-mute"}),this.after("initialize",function(){var e=this.attr.searchFilter.engagement,t=r.default.render(this.attr.template,e);this.$node.html(t),this.$minFavorites=this.select("minFavoritesSelector"),this.$minRetweets=this.select("minRetweetsSelector"),this.$minReplies=this.select("minRepliesSelector"),this.on("change blur",this.handleChange),this.validateInput(this.attr.searchFilter.engagement)}),this.validateInput=function(){var e=parseInt(this.$minFavorites.val(),10),t=parseInt(this.$minRetweets.val(),10),i=parseInt(this.$minReplies.val(),10);e=isNaN(e)?0:e,t=isNaN(t)?0:t,i=isNaN(i)?0:i,this.$minFavorites.val(e).toggleClass(this.attr.zeroClass,0===e),this.$minRetweets.val(t).toggleClass(this.attr.zeroClass,0===t),this.$minReplies.val(i).toggleClass(this.attr.zeroClass,0===i)},this.handleChange=function(e){var t,i=$(e.target).data("title"),n=$(e.target).val();this.validateInput(),t=new TD.vo.EngagementFilter({minFavorites:this.$minFavorites.val(),minRetweets:this.$minRetweets.val(),minReplies:this.$minReplies.val()}),this.trigger("uiSearchFilterUpdateAction",{type:this.attr.filterType,filter:t,filterName:i,value:n})}}var s=i(3),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(2).component;e.exports=o(n)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({inputSelector:".js-geo-search",radiusSelector:".js-radius",clearMapSelector:".js-clear-map",prettyLatLngSelector:".js-pretty-lat-lng",filterType:"location",template:"menus/search_location_form",isHiddenClass:"is-hidden",searchFilter:null,metersInKm:1e3,identity:function(){return(0,c.default)("mapbox")},defaultCoordinates:{lat:"51.514451",lng:"-0.122300"},filterCircleColour:"#2B7BB9"}),this.initialState({isCircleMoving:function(){var e=this.attr.searchFilter.location,t=e.lat,i=e.lng,n=e.radius;return!(t&&i&&n)},lat:function(){var e=this.attr.searchFilter.location.lat;return e&&e.length?e:this.attr.defaultCoordinates.lat},lng:function(){var e=this.attr.searchFilter.location.lng;return e&&e.length?e:this.attr.defaultCoordinates.lng},radius:function(){return this.attr.searchFilter.location.radius},zoom:function(){return this.attr.searchFilter.location.zoom||8},radiusInMeters:function(){var e=this.attr.searchFilter.location.radius,t=this.attr.metersInKm;return e?parseInt(e,10)*t:20*t},name:function(){return this.attr.searchFilter.location.name||""},prettyLatLng:function(){var e=this.attr.searchFilter.location,t=e.name,i=e.lat,n=e.lng,s=e.radius;return!t&&i&&i.length&&n&&n.length&&s?(0,_.getPrettyCoordinates)(i,n,s):""}}),this.componentDidInitialize=function(){var e=(0,o.default)(this.onMapMouseMove.bind(this),10);this.initialRender(),this.mapBoxMap=this.setupMap(),this.filterCircle=this.setupFilterCircle(this.mapBoxMap),this.$radius=this.select("radiusSelector"),this.$clearMap=this.select("clearMapSelector"),this.$input=this.select("inputSelector"),this.$prettyLatLng=this.select("prettyLatLngSelector"),this.$clearMap.on("click",this.onClearMapClick.bind(this)),this.mapBoxMap.on("mousemove",e),this.mapBoxMap.on("click",this.onMapMouseClick.bind(this)),this.mapBoxMap.on("error",this.onMapError),this.$radius.on("change",this.handleFormChange.bind(this)),this.on("uiDestroyLocationFilterForm",this.teardown),this.after("stateChanged",this.handleStateChange.bind(this)),this.on(document,"uiAccordionDidExpand",this.invalidateMapSize),this.on(document,"uiTypeaheadItemSelected",this.handleTypeaheadItemSelect),this.attachChild(f.default,this.$node,{inputSelector:this.attr.inputSelector}),this.attachChild(h.default,this.$node,{alwaysOpen:!1,autoSelect:!0,blockLinkActions:!0,datasources:["locations"],datasourcesRecentOnly:[],hideAfterSelect:!0,inputSelector:this.attr.inputSelector,withClickTrap:!0,delayOnInputInMs:250})},this.before("teardown",function(){this.mapBoxMap.remove()}),this.handleTypeaheadItemSelect=function(e,t){var i=this.state.radiusInMeters/this.attr.metersInKm,n=this.mapBoxMap.getZoom(),s=t.item,r=s.lat,o=s.lng,a=s.name;this.mergeState({isCircleMoving:!1,lat:r,lng:o,name:a,target:e.target,radius:i+"km",zoom:n,prettyLatLng:""})},this.toggleClearMap=function(){this.state.isCircleMoving?this.$clearMap.addClass(this.attr.isHiddenClass):this.$clearMap.removeClass(this.attr.isHiddenClass)},this.handleStateChange=function(){this.state.isCircleMoving?this.locationFilter=new TD.vo.LocationFilter({}):this.state.zoom&&this.state.radius&&this.state.lat&&this.state.lng?this.locationFilter=new TD.vo.LocationFilter({radius:this.state.radius,lat:this.state.lat,lng:this.state.lng,zoom:this.state.zoom,name:this.state.name}):this.locationFilter=new TD.vo.LocationFilter({radius:this.state.radius}),this.trigger("uiSearchFilterUpdateAction",{type:this.attr.filterType,filter:this.locationFilter,filterName:$(this.state.target).attr("data-title"),value:this.state.target.value})},this.handleFormChange=function(e){var t=this.$radius.val();this.mergeState({radius:parseInt(t,10)/this.attr.metersInKm+"km",radiusInMeters:parseInt(t,10),target:e.target})},this.invalidateMapSize=function(){this.mapBoxMap.invalidateSize()},this.onMapMouseMove=function(e){this.state.isCircleMoving&&this.filterCircle.setLatLng(e.latlng)},this.onClearMapClick=function(e){this.mergeState({isCircleMoving:!0,lat:"",lng:"",radius:"",name:"",target:e.target,prettyLatLng:""})},this.onMapMouseClick=function(e){var t=e.latlng,i=t.lat,n=t.lng,s=this.state.radiusInMeters/this.attr.metersInKm,r=s+"km",o=this.mapBoxMap.getZoom();this.mergeState({isCircleMoving:!1,lat:i.toString(),lng:n.toString(),radius:r,zoom:o,target:e.target,prettyLatLng:(0,_.getPrettyCoordinates)(i,n,r),name:""})},this.onMapError=function(e){(0,y.metric)("mapbox:map:error:"+e.code)},this.getFillOpacity=function(){return this.state.isCircleMoving?.2:.6},this.getRadiusOptions=function(){return[.1,.5,1,3,5,10,20,50,100,200].map(function(e){var t=e*this.attr.metersInKm;return{value:t,title:t<=500?t+"m":e+"km",selected:this.state.radiusInMeters===t}},this)},this.render=function(){this.filterCircle.setRadius(this.state.radiusInMeters),this.filterCircle.setStyle({fillOpacity:this.getFillOpacity()}),this.toggleClearMap(),this.state.zoom&&this.state.radius&&this.state.lat&&this.state.lng&&(this.mapBoxMap.setView([this.state.lat,this.state.lng],this.mapBoxMap.getZoom()),this.filterCircle.setLatLng(T.default.latLng(this.state.lat,this.state.lng))),this.$input.val(this.state.name),this.$prettyLatLng.text(this.state.prettyLatLng)},this.initialRender=function(){var e={radiusOptions:this.getRadiusOptions(),identity:this.attr.identity,hideMapClear:this.state.isCircleMoving,name:this.state.name,prettyLatLng:this.state.prettyLatLng},t=g.default.render(this.attr.template,e);this.$node.html(t)},this.setupFilterCircle=function(e){var t=[this.state.lat,this.state.lng];return T.default.circle(t,this.state.radiusInMeters,{opacity:1,weight:1,fillOpacity:this.getFillOpacity(),fillColor:this.attr.filterCircleColour,color:this.attr.filterCircleColour}).addTo(e)},this.setupMap=function(){var e=[this.state.lat,this.state.lng],t=T.default.mapbox.map("mapbox-map-"+this.attr.identity,null,{maxBounds:[[90,180],[-90,-180]],minZoom:1}).setView(e,this.state.zoom);return T.default.mapbox.styleLayer("mapbox://styles/twittergeo44abc7b/cir6fgdl50003nhn9o4xxqtic").addTo(t),t}}var r=i(382),o=n(r),a=i(403),c=n(a),l=i(4),u=n(l),d=i(286),h=n(d),p=i(463),f=n(p),m=i(3),g=n(m),v=i(1078),T=n(v),_=i(480),y=i(13);e.exports=u.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({columnType:null,columnAccounts:[],displayOrder:["filter_not_following","filter_not_followed_by","filter_default_profile_image","filter_no_confirmed_email","filter_no_confirmed_phone","filter_new_users"],personalTemplate:"menus/notifications_info",genericTemplate:"menus/filter_info_generic"}),this.initialState({fetched:!1,settings:null}),this.componentDidInitialize=function(){var e=this;return TD.decider.get("abuse_emergency_filter_info")&&r.notificationColumnTypes.has(this.attr.columnType)?void(1===this.attr.columnAccounts.length&&this.observe(this.getAccountSettingsObservable(this.attr.columnAccounts[0])).subscribe(function(t){e.mergeState({fetched:!0,settings:t})})):this.teardown()},this.before("teardown",function(){this.$node.remove()}),this.getAccountSettingsObservable=function(e){return this.requestResource("advanced_filters",{account:e})},this.getText=function(e){switch(e){case"filter_default_profile_image":return TD.i("Who have a default profile photo");case"filter_new_users":return TD.i("Who have a new account");case"filter_no_confirmed_email":return TD.i("Who haven't confirmed their email");case"filter_no_confirmed_phone":return TD.i("Who haven't confirmed their phone");case"filter_not_following":return TD.i("You don't follow");case"filter_not_followed_by":return TD.i("Who don't follow you")}},this.getFilterInfo=function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.filter(function(e){return i[e]}).map(function(e){return{text:t.getText(e)}})},this.render=function(){var e=this.state.fetched?a.default.render(this.attr.personalTemplate,{filters:this.getFilterInfo(this.attr.displayOrder,this.state.settings)}):a.default.render(this.attr.genericTemplate);this.$node.html(e),this.trigger("uiAccordionUpdatePanelHeights")}}var r=i(20),o=i(3),a=n(o),c=i(4),l=n(c),u=i(7),d=n(u),h=i(19),p=n(h);e.exports=l.default.mixin(s,d.default,p.default)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({columnType:null,columnAccounts:[],personalTemplate:"menus/quality_filter_info",genericTemplate:"menus/filter_info_generic"}),this.initialState({fetched:!1,settings:null}),this.componentDidInitialize=function(){var e=this,t=r.notificationColumnTypes.has(this.attr.columnType),i=TD.decider.get("abuse_emergency_filter_info");if(!t||!i)return this.teardown();1===this.attr.columnAccounts.length&&this.observe(this.getAccountSettingsObservable(this.attr.columnAccounts[0])).subscribe(function(t){e.mergeState({fetched:!0,settings:t})})},this.before("teardown",function(){this.$node.remove()}),this.getAccountSettingsObservable=function(e){return this.requestResource("account.settings",{account:e})},this.getText=function(){return this.state.settings.universal_quality_filtering_enabled},this.render=function(){var e=this.state.fetched?a.default.render(this.attr.personalTemplate,{qualityFilterText:this.getText()}):a.default.render(this.attr.genericTemplate);this.$node.html(e),this.trigger("uiAccordionUpdatePanelHeights")}}var r=i(20),o=i(3),a=n(o),c=i(4),l=n(c),u=i(7),d=n(u),h=i(19),p=n(h);e.exports=l.default.mixin(s,d.default,p.default)},function(e,t,i){"use strict";function n(){this.attributes({searchInputClassName:"js-app-search-input",searchInPopoverTemplate:"search/search_in_popover",isHiddenClass:null,appSearchSourceId:null,searchPopoverSourceId:null,typeaheadContainer:".js-typeahead-dropdown",searchResultsContainer:".js-search-results-container"}),this.after("initialize",function(){this.renderInPopover(this.attr.searchInPopoverTemplate,{searchInputClassName:this.attr.searchInputClassName,searchInputTitle:TD.i("Search"),searchInputPlaceholder:TD.i("Search"),isTouchColumnOptions:Boolean(TD.util.isTouchDevice()&&TD.decider.get("touchdeck_column_options_v2"))},{defaultHeight:"auto"}),this.$searchResultsContainer=this.select("searchResultsContainer"),this.$typeaheadContainer=this.select("typeaheadContainer"),this.searchData=null,this.on("uiTypeaheadItemSelected",this.handleTypeaheadItemSelect),this.on("uiTypeaheadNoItemSelected",this.handleTypeaheadNoItemSelected),this.on("uiTypeaheadSubmitQuery",this.handleTypeaheadSubmitQuery),this.on("uiTypeaheadSuggestions",this.handleTypeaheadSuggestions),this.on("uiTypeaheadNoSuggestions",this.handleTypeaheadNoSuggestions),this.on("uiTypeaheadRenderResults",this.handleTypeaheadRenderResults);var e=this.searchInputHandlerFactory.bind(this);this.on(document,"uiSearchInputSubmit",this.handleSearchInputSubmit),this.on(document,"uiSearchInputEscaped",this.handleSearchInputEscaped),this.on(document,"uiSearchInputFocus",this.handleSearchInputFocus),this.on(document,"uiSearchInputChanged",this.handleSearchInputChanged),this.on(document,"uiSearchInputTab",e("uiTypeaheadInputTab")),this.on(document,"uiSearchInputLeft",e("uiTypeaheadInputLeft")),this.on(document,"uiSearchInputRight",e("uiTypeaheadInputRight")),this.on(document,"uiSearchInputMoveUp",e("uiTypeaheadInputMoveUp")),this.on(document,"uiSearchInputMoveDown",e("uiTypeaheadInputMoveDown")),this.on("uiPopoverShown",this.handlePopoverShown),this.on("uiPopoverHiding",this.handlePopoverHiding),this.on("uiPopoverHidden",this.handlePopoverHidden),this.hasTypeaheadResults=!0,this.around("hidePopover",function(e,t){!1!==t&&this.$input&&this.$input.blur(),this.trigger("uiSearchResultsHidden"),e.apply(this)})}),this.handlePopoverShown=function(e,t){this.$input.addClass("is-focused"),this.trigger("uiSearchInPopoverShown")},this.handlePopoverHiding=function(e,t){this.defaultHeight="auto",this.$searchResultsContainer.addClass("is-hidden"),this.$typeaheadContainer.removeClass("is-hidden")},this.handlePopoverHidden=function(e,t){this.$input.removeClass("is-focused"),this.trigger("uiSearchInPopoverHidden")},this.handleSearchInputFocus=function(e,t){this.isCorrectSource(t.source)&&(this.$input=$(e.target),this.isPopoverVisible()||TD.controller.stats.searchboxFocus(),this.isPopoverEmpty()||this.showPopover(),this.trigger("uiFixedHeaderChangedPosition"),this.$typeaheadContainer.hasClass(this.attr.isHiddenClass)||(this.trigger("uiTypeaheadInputFocus",t),this.defaultHeight="auto"))},this.searchInputHandlerFactory=function(e){return function(t,i){this.isCorrectSource(i.source)&&!this.$typeaheadContainer.hasClass(this.attr.isHiddenClass)&&this.trigger(e,i)}.bind(this)},this.handleSearchInputChanged=function(e,t){this.isCorrectSource(t.source)&&(this.$input=$(e.target),this.isPopoverVisible()||this.showPopover(),this.defaultHeight="auto",this.$searchResultsContainer.addClass("is-hidden"),this.$typeaheadContainer.removeClass("is-hidden"),this.trigger("uiTypeaheadInputChanged",t))},this.isCorrectSource=function(e){return e===this.attr.appSearchSourceId||e===this.attr.searchPopoverSourceId},this.handleSearchInputEscaped=function(e,t){this.isCorrectSource(t.source)&&(this.trigger("uiTypeaheadInputBlur"),this.hidePopover())},this.handleSearchInputSubmit=function(e,t){var i;this.isCorrectSource(t.source)&&(this.searchData=t,twttrTxt.isValidList(t.query)?(i=t.query.split("/"),TD.ui.openColumn.showList(i[0].substr(1),i[1]),this.hidePopover()):(this.trigger("uiTypeaheadInputSubmit",t),TD.controller.stats.searchboxPerformSearch(t.query)))},this.handleTypeaheadNoItemSelected=function(){this.searchData&&this.performSearch(this.searchData)},this.handleTypeaheadSubmitQuery=function(e,t){var i;if(twttrTxt.isValidList(t.query))return i=t.query.split("/"),TD.ui.openColumn.showList(i[0].substr(1),i[1]),void this.hidePopover()},this.performSearch=function(e){if(e.query){if("users"!==e.searchScope){this.hidePopover();var t=TD.controller.columnManager.makeColumnFor({type:"search",service:"twitter",metaString:e.query,accountKey:(0,a.getDefaultAccount)().accountKey});if(e.columnKey){var i=TD.storage.clientController.client.getColumnOrder(),n=i.indexOf(e.columnKey),s=t.model.getKey();i.splice(n+1,0,s),TD.storage.clientController.client.setColumnOrder(i)}TD.controller.columnManager.addColumnToUI(t),this.trigger("uiSearchNoTemporaryColumn",e)}else this.trigger("uiNewSearchQuery",{query:e.query}),this.defaultHeight="max",this.$typeaheadContainer.addClass("is-hidden"),this.$searchResultsContainer.removeClass("is-hidden"),this.trigger("uiSearch",e),this.showPopover(),this.searchData=null}},this.handleTypeaheadItemSelect=function(e,t){var i;switch(t.searchType){case"user":this.hidePopover(),this.trigger("uiShowProfile",{id:t.query});break;case"topic":case"saved-search":case"recent-search":t.removeItem?this.trigger("uiRecentSearchClearItem",{query:t.query}):this.performSearch(t);break;case"recent-search-clear":this.trigger("uiRecentSearchClearAction");break;case"list":i=t.query.split("/"),TD.ui.openColumn.showList(i[0],i[1])}this.searchData=null},this.handleTypeaheadNoSuggestions=function(e,t){this.hasTypeaheadResults=!1,this.isPopoverEmpty()&&this.hidePopover(!1),this.trigger("uiAppSearchSetPreventDefault",{preventDefault:!1,key:9})},this.handleTypeaheadSuggestions=function(e,t){this.trigger("uiAppSearchSetPreventDefault",{preventDefault:!0,key:9})},this.handleTypeaheadRenderResults=function(){this.hasTypeaheadResults=!0},this.isPopoverEmpty=function(){return!this.hasTypeaheadResults&&!$.contains(this.$popover[0],this.$input[0])}}var s=i(2),r=i(1031),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=i(90);e.exports=(0,s.component)(n,o.default)},function(e,t,i){"use strict";function n(){this.attributes({userResultsSelector:".js-user-results"}),this.after("initialize",function(){this.on(document,"uiSearch",this.showUsers),this.$userResults=this.select("userResultsSelector"),r.attachTo(this.$userResults),TD.util.isTouchDevice()&&window.navigator.standalone&&this.on(this.$userResults,"touchmove",function(e){e.stopPropagation()})}),this.showUsers=function(){this.trigger("scribeEvent",{terms:{page:"main",section:"search_results",element:"show_user_results",action:"click"}})},this.before("teardown",function(){this.trigger(this.$userResults,"uiUserResultsDestroy")})}var s=i(2).component,r=i(1026);e.exports=s(n)},function(e,t,i){"use strict";function n(){this.attributes({appSearchSelector:".js-search",appSearchInputSelector:".js-search-form .js-app-search-input",isTouchSearchClass:"is-touch-search",searchPopoverInputSelector:".js-search-in-popover .js-app-search-input"}),this.after("initialize",function(){TD.util.isTouchDevice()&&TD.decider.get("touchdeck_search_v2")?this.select("appSearchSelector").addClass(this.attr.isTouchSearchClass):this.select("appSearchSelector").removeClass(this.attr.isTouchSearchClass),this.on(document,"uiPerformSearch",this.handlePerformSearch),this.on(document,"uiAppSearchFocus uiShowSearchButtonClick",this.focusSearchInput),this.on(document,"dataSettings",this.handleDataSettings),this.trigger("uiNeedsSettings")}),this.handleDataSettings=function(e,t){"condensed"===t.navbarWidth?this.$input=this.select("searchPopoverInputSelector"):this.$input=this.select("appSearchInputSelector")},this.focusSearchInput=function(){this.$input.triggerHandler("focus"),this.$input.is(":focus")||this.$input.focus()},this.handlePerformSearch=function(e,t){e.target===document&&_.defer(function(){this.trigger(this.$input,"uiAppSearchSubmit",t)}.bind(this))}}var s=i(2).component;e.exports=s(n)},function(e,t,i){"use strict";var n=i(3),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(2).component,o=function(){this.attributes({FROM_ME:"from_me",MENTIONING_USER:"mentioning_user",MENTIONING_ME:"mentioning_me",filterType:"user",template:"menus/search_user_form",tweetsFromSelector:".js-tweets-from",tweetsFromUserSelector:".js-tweets-from-user",tweetsFromUserClass:"js-tweets-from-user",tweetsFromUserInputSelector:'.js-tweets-from-user input[type="text"]',tweetsFromListSelector:".js-tweets-from-list",tweetsFromListClass:"js-tweets-from-list",tweetsFromListInputSelector:'.js-tweets-from-list input[type="text"]',tweetsFromMeSelector:".js-tweets-from-me",mentioningSelector:".js-mentioning",mentioningUserSelector:".js-mentioning-user",mentioningUserInputSelector:'.js-mentioning-user input[type="text"]',mentioningUserClass:"js-mentioning-user",mentioningMeSelector:".js-mentioning-me",isHiddenClass:"is-hidden",renderOptions:{withFromList:!1,withUsersIFollow:!1},searchFilter:null}),this.getTweetsFromOptions=function(e,t){var i=[{value:TD.vo.UserFilter.FROM_ALL,title:TD.i("all users")},{value:TD.vo.UserFilter.FROM_USER,title:TD.i("specific user…")},{value:this.attr.FROM_ME,title:TD.i("me…")},{value:TD.vo.UserFilter.FROM_VERIFIED,title:TD.i("verified users")}];return e&&i.push({value:TD.vo.UserFilter.FROM_LIST,title:TD.i("members of list…")}),t&&i.splice(1,0,{value:TD.vo.UserFilter.FROM_FOLLOWING,title:TD.i("users I follow")}),i},this.getMentioningOptions=function(){return[{value:"",title:TD.i("-")},{value:this.attr.MENTIONING_USER,title:TD.i("specific user…")},{value:this.attr.MENTIONING_ME,title:TD.i("me…")}]},this.getMyAccounts=function(){var e=TD.storage.accountController.getPreferredAccount("twitter"),t=TD.storage.accountController.getAccountsForService("twitter");return t=t.map(function(t){return{value:t.getUsername().toLowerCase(),title:"@"+t.getUsername(),isDefault:t===e}}),t=t.sort(function(e,t){return e.value.toLowerCase().localeCompare(t.value.toLowerCase())})},this.updateFormState=function(e,t){switch(e){case TD.vo.UserFilter.FROM_USER:this.$tweetsFromUser.removeClass(this.attr.isHiddenClass),this.$tweetsFromList.addClass(this.attr.isHiddenClass),this.$tweetsFromMe.addClass(this.attr.isHiddenClass);break;case TD.vo.UserFilter.FROM_LIST:this.$tweetsFromList.removeClass(this.attr.isHiddenClass),this.$tweetsFromUser.addClass(this.attr.isHiddenClass),this.$tweetsFromMe.addClass(this.attr.isHiddenClass);break;case this.attr.FROM_ME:this.$tweetsFromMe.removeClass(this.attr.isHiddenClass),this.$tweetsFromUser.addClass(this.attr.isHiddenClass),this.$tweetsFromList.addClass(this.attr.isHiddenClass),this.$tweetsFromUserInput.val("");break;default:this.$tweetsFromMe.addClass(this.attr.isHiddenClass),this.$tweetsFromUser.addClass(this.attr.isHiddenClass),this.$tweetsFromList.addClass(this.attr.isHiddenClass),this.$tweetsFromUserInput.val("")}switch(t){case this.attr.MENTIONING_USER:this.$mentioningUser.removeClass(this.attr.isHiddenClass),this.$mentioningMe.addClass(this.attr.isHiddenClass);break;case this.attr.MENTIONING_ME:this.$mentioningMe.removeClass(this.attr.isHiddenClass),this.$mentioningUser.addClass(this.attr.isHiddenClass),this.$mentioningUserInput.val("");break;default:this.$mentioningMe.addClass(this.attr.isHiddenClass),this.$mentioningUser.addClass(this.attr.isHiddenClass),this.$mentioningUserInput.val("")}},this.handleChange=function(e){var t="",i="",n=this.$tweetsFrom.val(),s=this.$mentioning.val(),r=$(e.target).data("title");switch(this.updateFormState(n,s),n){case this.attr.FROM_ME:t=this.$tweetsFromMe.val(),n=TD.vo.UserFilter.FROM_USER;break;case TD.vo.UserFilter.FROM_USER:t=this.$tweetsFromUserInput.val();break;case TD.vo.UserFilter.FROM_LIST:t=this.$tweetsFromListInput.val()}i=s===this.attr.MENTIONING_ME?this.$mentioningMe.val():this.$mentioningUserInput.val(),t||n!==TD.vo.UserFilter.FROM_USER&&n!==TD.vo.UserFilter.FROM_LIST||(n=TD.vo.UserFilter.FROM_ALL);var o=new TD.vo.UserFilter({from_type:n,from_name:t,mention_name:i});this.trigger("uiSearchFilterUpdateAction",{type:"user",filter:o,filterName:r,value:e.target.value})},this.after("initialize",function(){var e,t,i;this.tweetsFromOptions=this.getTweetsFromOptions(this.attr.renderOptions.withFromList,this.attr.renderOptions.withUsersIFollow),this.mentioningOptions=this.getMentioningOptions(),this.myAccounts=this.getMyAccounts();var n=this.attr.searchFilter,r=n.user&&null!==n.user.from_type?n.user.from_name:"",o=n.user?n.user.mention_name:"";e={tweetsFromOptions:this.tweetsFromOptions,tweetsFromUser:{searchInputControlClass:this.attr.tweetsFromUserClass+" margin-txs",searchInputPlaceholder:TD.i("user name"),searchInputTitle:"from_user_or_list",searchInputValue:r},tweetsFromList:{searchInputControlClass:this.attr.tweetsFromListClass+" margin-txs",searchInputPlaceholder:TD.i("@username/list-name"),searchInputTitle:"from_user_or_list",searchInputValue:r},mentioningUser:{searchInputControlClass:this.attr.mentioningUserClass+" margin-txs",searchInputPlaceholder:TD.i("user name"),searchInputTitle:"mentioning_user",searchInputValue:o},mentioningOptions:this.mentioningOptions,myAccounts:this.myAccounts};var a=s.default.render(this.attr.template,e);if(this.$node.html(a),this.$tweetsFrom=this.select("tweetsFromSelector"),this.$tweetsFromUser=this.select("tweetsFromUserSelector"),this.$tweetsFromUserInput=this.select("tweetsFromUserInputSelector"),this.$tweetsFromList=this.select("tweetsFromListSelector"),this.$tweetsFromListInput=this.select("tweetsFromListInputSelector"),this.$tweetsFromMe=this.select("tweetsFromMeSelector"),this.$mentioning=this.select("mentioningSelector"),this.$mentioningUser=this.select("mentioningUserSelector"),this.$mentioningUserInput=this.select("mentioningUserInputSelector"),this.$mentioningMe=this.select("mentioningMeSelector"),this.attr.searchFilter&&this.attr.searchFilter.user){if(t=this.attr.searchFilter.user.from_name&&TD.storage.accountController.getAccountFromUsername(this.attr.searchFilter.user.from_name).length>0,i=this.attr.searchFilter.user.mention_name&&TD.storage.accountController.getAccountFromUsername(this.attr.searchFilter.user.mention_name).length>0,t)this.$tweetsFrom.val(this.attr.FROM_ME),this.$tweetsFromMe.val(this.attr.searchFilter.user.from_name);else switch(this.$tweetsFrom.val(this.attr.searchFilter.user.from_type),this.attr.searchFilter.user.from_type){case TD.vo.UserFilter.FROM_USER:this.$tweetsFromUserInput.val(this.attr.searchFilter.user.from_name);break;case TD.vo.UserFilter.FROM_LIST:this.$tweetsFromListInput.val(this.attr.searchFilter.user.from_name)}i?(this.$mentioning.val(this.attr.MENTIONING_ME),this.$mentioningMe.val(this.attr.searchFilter.user.mention_name)):this.attr.searchFilter.user.mention_name&&(this.$mentioning.val(this.attr.MENTIONING_USER),this.$mentioningUserInput.val(this.attr.searchFilter.user.mention_name))}this.updateFormState(this.$tweetsFrom.val(),this.$mentioning.val()),this.on("change",this.handleChange),this.on("uiDestroyUserFilterForm",this.teardown)})};e.exports=r(o)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.initialState({showSearchFilterCallout:function(){return TD.settings.getShowSearchFilterCallout()}}),this.attributes({template:"column/search_filter_callout",content:TD.i("Filter your search for better results")}),this.after("initialize",function(){this.on("click",this.handleSearchFilterCalloutClick),this.on("uiRemoveSearchCallout",this.teardown)}),this.handleSearchFilterCalloutClick=function(){this.trigger("uiEnterSettings"),$(document).trigger("scribeEvent",{terms:{page:"column",section:"twitter",component:"search",element:"filter_callout",action:"click"}})},this.render=function(){if(this.state.showSearchFilterCallout){var e=o.default.render(this.attr.template,{content:this.attr.content});this.$node.html(e),TD.settings.setShowSearchFilterCallout(!1)}},this.after("teardown",function(){this.$node.remove()})}var r=i(3),o=n(r),a=i(4),c=n(a);e.exports=c.default.mixin(s)},function(e,t,i){"use strict";var n=i(2).component,s=function(){this.attributes({clearButtonSelector:".js-clear-search",textInputSelector:'input[type="text"]',hasValueClass:"has-value",isWaitingForResponseClass:"is-waiting-for-response"}),this.handleClearAction=function(){this.$textInput.val(""),this.$node.removeClass(this.attr.hasValueClass),this.$textInput.trigger("change")},this.handleAsyncFormReceivedResponse=function(){var e=this.$textInput.val();this.$node.removeClass(this.attr.isWaitingForResponseClass),""!==e?this.$node.addClass(this.attr.hasValueClass):this.$node.removeClass(this.attr.hasValueClass),this.value=e},this.handleAsyncFormWaitingForResponse=function(){var e=this.$textInput.val();void 0!==this.value&&this.value!==e&&this.$node.addClass(this.attr.isWaitingForResponseClass),this.value=e},this.after("initialize",function(){this.$textInput=this.select("textInputSelector"),this.value=this.$textInput.val().trim(),""!==this.value&&this.$node.addClass(this.attr.hasValueClass),this.on("click",{clearButtonSelector:this.handleClearAction}),this.on("uiAsyncFormWaitingForResponse",this.handleAsyncFormWaitingForResponse),this.on("uiAsyncFormReceivedResponse",this.handleAsyncFormReceivedResponse),this.on("uiSearchInputDestroy",this.teardown)})};e.exports=n(s)},function(e,t,i){"use strict";function n(){this.attributes({tblLeftItemClass:"padding-l--28 padding-v--10",tblRightItemClass:"padding-h--28 padding-v--10",sectionHeaderClass:"padding-h--28 padding-t--25 padding-b--10 txt-size--10 txt-uppercase txt-bold",advancedSearchContentClass:"padding-h--28 padding-v--5 txt-size--12",tryButtonSelector:".js-try-query",searchOperators:[{sectionTitle:TD.i("Tweet content"),sectionOperators:[{query:"watching now",description:TD.i('containing both "watching" and "now"')},{query:'"happy hour"',description:TD.i('containing the exact phrase "happy hour"')},{query:"love OR hate",description:TD.i('containing either "love" or "hate" (or both)')},{query:"beer -root",description:TD.i('containing “beer” but not "root"')},{query:"#haiku",description:TD.i('containing the hashtag "haiku"')},{query:"$twtr",description:TD.i("containing a cashtag, useful for following stock information")},{query:"politics filter:safe",description:TD.i('containing "politics" with Tweets marked as potentially sensitive removed')},{query:"puppy url:twitter",description:TD.i('containing "puppy" and a URL with the word "twitter" anywhere within it')},{query:"traffic ?",description:TD.i('containing "traffic" and asking a question')}]},{sectionTitle:TD.i("Tweet information"),sectionOperators:[{query:"near:london within:15mi",description:TD.i("geotagged in a place, within a radius (can use km or mi)")},{query:"superhero since:2015-12-21",description:TD.i("containing “superhero” and sent since “2015-12-21” (year-month-day)")},{query:"#brexit until:2016-06-23",description:TD.i('containing "#brexit" and sent before the date "2016-06-23" (year-month-day)')},{query:"puppy source:tweetdeck",description:TD.i('containing "puppy" and sent from "tweetdeck" (common sources are "tweetdeck", "twitter_for_iphone", "twitter_for_android" and "twitter_web_client")')},{query:"puppy min_retweets:5",description:TD.i('containing "puppy" with a minimum of 5 Retweets')},{query:"puppy min_faves:10",description:TD.i('containing "puppy" with a minimum of 10 likes')},{query:"puppy min_replies:100",description:TD.i('containing "puppy" with a minimum of 100 replies')},{query:"puppy filter:nativeretweets",description:TD.i('Retweets containing "puppy"')},{query:"puppy filter:retweets",description:TD.i('old style Retweets ("RT") and quoted Tweets containing "puppy"')}]},{sectionTitle:TD.i("Tweet media"),sectionOperators:[{query:"kitten filter:media",description:TD.i('containing "kitten" and an image or video')},{query:"kitten filter:native_video",description:TD.i('containing "kitten" and an uploaded video, Amplify video or Periscope')},{query:"kitten filter:periscope",description:TD.i('containing "kitten" and a Periscope video URL')},{query:"kitten filter:images",description:TD.i('containing "kitten" and links identified as photos')},{query:"kitten filter:twimg",description:TD.i('containing "kitten" and a pic.twitter.com link representing one or more photos')},{query:"kitten filter:links",description:TD.i('containing "kitten" and linking to URL')}]},{sectionTitle:TD.i("Users"),sectionOperators:[{query:"from:jack",description:TD.i("sent from Twitter account @jack")},{query:"list:NASA/space-tweets",description:TD.i("sent from a Twitter account in the NASA list space-tweets")},{query:"to:NASA",description:TD.i("replying to Twitter account @NASA")},{query:"@NASA",description:TD.i("mentioning Twitter account @NASA")},{query:"breaking filter:verified",description:TD.i('containing the word "breaking" from verified users only')}]}],advancedSearches:[{sectionTitle:TD.i("Negation of filters"),sectionExplanation:TD.i('Any "filter:type" can also be negated using the "-" symbol.'),sectionExamples:[{example:TD.i("Example: I want Tweets from @Nasa with all types of media except images"),query:"from:NASA filter:media -filter:images"}]},{sectionTitle:TD.i("Combining filters and boolean queries"),sectionExplanation:TD.i("Combine complex queries together with booleans and parentheses to refine your results."),sectionExamples:[{example:TD.i('Example 1: I want mentions of either "puppy" or "kitten", with mentions of either "sweet" or "cute", excluding Retweets, with at least 10 likes.'),query:"(puppy OR kitten) AND (sweet OR cute) -filter:nativeretweets min_faves:10"},{example:TD.i('Example 2: I want mentions of "space" and either "big" or "large" by members of the NASA astronauts list, sent from an iPhone or twitter.com, with images, excluding mentions of #asteroid, since 2011.'),query:"space (big OR large) list:nasa/astronauts (source:twitter_for_iphone OR source:twitter_web_client) filter:images since:2011-01-01 -#asteroid"}]}]}),this.after("initialize",function(){var e=o.default.render("search_operator_list",this.attr);this.$node.html(e),this.on("click",{tryButtonSelector:this.handleTryClick})}),this.handleTryClick=function(){$(document).trigger("uiCloseModal"),$(document).trigger("uiPerformSearch",{query:event.target.dataset.query}),$(document).trigger("scribeEvent",{terms:{page:"main",section:"search_tips",element:"try",action:"click"}})}}var s=i(2),r=i(3),o=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=(0,s.component)(n)},function(e,t,i){"use strict";function n(){this.attributes({columnBackSelector:".js-tweet-social-proof-back",headerLinkClass:"js-tweet-social-proof-back",templateName:"status/social_proof_for_tweet",tweetSummary:null,type:null}),this.after("initialize",function(){var e,t,i;this.on("uiSocialProofForTweetClose",this.close),this.on("click",{columnBackSelector:this.close}),this.on(document,"dataTwitterUsers",this.handleTwitterUsers),this.userIds=this.attr.tweetSummary[this.attr.type],"retweeters"===this.attr.type?(t="Retweeted",i=this.attr.tweetSummary.retweeters_count):"repliers"===this.attr.type?(t="Replied",i=this.attr.tweetSummary.repliers_count):(t="Liked",i=this.attr.tweetSummary.favoriters_count),e=parseInt(i,10)>1?TD.i("{{action}} {{n}} times",{n:TD.util.prettyNumber(i,{noNegativeNumbers:!0}),action:t}):TD.i("{{action}} once",{action:t}),this.renderParams={title:e,columntitle:TD.i("Tweet"),headerLinkClass:this.attr.headerLinkClass,withUserMenu:!0};var n=o.default.render(this.attr.templateName,this.renderParams);this.$node.html(n),this.requestId=_.uniqueId("twitterUsers"),this.trigger("uiNeedsTwitterUsers",{requestId:this.requestId,userIds:this.userIds})}),this.handleTwitterUsers=function(e,t){if(t.requestId===this.requestId){this.renderParams.users=t.users;var i=o.default.render(this.attr.templateName,this.renderParams);this.$node.html(i)}},this.close=function(){this.trigger("uiSocialProofForTweetClosed"),this.teardown()}}var s=i(2),r=i(3),o=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=(0,s.component)(n)},function(e,t,i){"use strict";function n(){this.attributes({menuItemSelector:"js-suggest-refresh--item",dismissButtonSelector:".js-suggest-refresh--dismiss",updateAvailableInactiveClass:"update-available--inactive"}),this.initialState({isShowing:!1,version:function(){return{isOutOfDate:!1}}}),this.after("initialize",function(){this.observe(this.requestResource("version")).subscribe(this.toState("version").bind(this)),this.on("uiAppHeaderUpdateAvailableClick",this.onRefresh)}),this.render=function(){var e=this.state,t=e.version;t=void 0===t?{}:t;var i=t.isOutOfDate,n=void 0!==i&&i,s=e.isShowing,r=void 0!==s&&s,o=n&&TD.decider.get("suggest_refresh");o!==r&&(o&&!r&&TD.util.metric("suggest-refresh:show"),this.trigger("uiSuggestRefreshToggle",{shouldShow:o}),this.mergeState({isShowing:o}))},this.onRefresh=function(){TD.util.metric("suggest-refresh:refresh:click"),window.location.reload()}}var s=i(7),r=function(e){return e&&e.__esModule?e:{default:e}}(s),o=i(4);e.exports=o.mixin(n,r.default)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"team_invitations",buttonSelector:".js-team-invitation-btn"}),this.render=function(){var e=o.default.render(this.attr.template,{invitations:this.props.invitations});this.$node.html(e)}}var r=i(3),o=n(r),a=i(4),c=n(a);e.exports=c.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({tweetId:null,userId:null,userScreenName:null,accountKey:null,isOwnChirp:!1,initialLikeCount:null,initialReplyCount:null,initialRetweetCount:null,analyticsLinkSelector:".js-open-analytics"}),this.initialState({like_count:function(){return this.attr.initialLikeCount},reply_count:function(){return this.attr.initialReplyCount},retweet_count:function(){return this.attr.initialRetweetCount}}),this.componentDidInitialize=function(){var e=this,t=this.getAnalyticsUpsell();this.initialRender(t),this.connectLivePipeline(),this.on("click",{analyticsLinkSelector:function(){return e.scribeAnalytics(t,"click",e.attr.userId)}}),this.scribeAnalytics(t,"impression",this.attr.userId)},this.connectLivePipeline=function(){var e=this,t=TD.storage.accountController.get(this.attr.accountKey),i=(0,b.getAccountPipeline)(t),n=p.livePipelineEnabled$.switchMap(function(t){return(0,u.default)(t,function(){return i.subscribeToTweetEngagement(e.attr.tweetId)},function(){return h.default.Observable.empty()})}).map(function(e){return(0,c.default)(e,"payload.tweet_engagement")}).filter(Boolean);this.observe(n).subscribe(function(t){return e.mergeState(t)})},this.initialRender=function(e){var t={analytics:e,stats:[{type:"repliers",label:"",noLink:!0},{type:"retweeters",label:""},{type:"favoriters",label:""}]},i=TD.ui.template.render("status/tweet_detail_socialstats",t);this.$node.html(i),this.attachTicker("reply_count",this.$node.find('[data-type="repliers"] .js-value')),this.attachTicker("retweet_count",this.$node.find('[data-type="retweeters"] .js-value')),this.attachTicker("like_count",this.$node.find('[data-type="favoriters"] .js-value'))},this.attachTicker=function(e,t){var i=this,n=this.connect(v.default,{mapStateToProps:function(t){return{value:i.mapCountToTickerValue(t[e])}}});this.attachChild(n,t)},this.mapCountToTickerValue=function(e){return e&&"0"!==e?TD.util.prettyNumber(e,{noNegativeNumbers:!0}):void 0},this.render=function(){var e=this.$node.find('[data-type="repliers"]'),t=(0,o.default)(this.mapCountToTickerValue(this.state.reply_count));e.toggleClass("is-hidden",t),e.find(".js-label").text(TD.util.pluralise(TD.i("Reply"),TD.i("Replies"),this.state.reply_count));var i=this.$node.find('[data-type="retweeters"]'),n=(0,o.default)(this.mapCountToTickerValue(this.state.retweet_count));i.toggleClass("is-hidden",n),i.find(".js-label").text(TD.util.pluralise(TD.i("Retweet"),TD.i("Retweets"),this.state.retweet_count));var s=this.$node.find('[data-type="favoriters"]'),r=(0,o.default)(this.mapCountToTickerValue(this.state.like_count));s.toggleClass("is-hidden",r),s.find(".js-label").text(TD.util.pluralise(TD.i("Like"),TD.i("Likes"),this.state.like_count));var a=t&&n&&r;this.$node.find(".js-stats-list").toggleClass("is-hidden",a)},this.getAnalyticsUpsell=function(){return this.attr.isOwnChirp?m.default.getTwitterCookieUserId()===this.attr.userId?{type:"tweet",text:TD.i("View Tweet Activity"),url:"https://analytics.twitter.com/user/"+this.attr.userScreenName+"/tweet/"+this.attr.tweetId}:{type:"generic",text:TD.i("Open Twitter Analytics"),url:"http://analytics.twitter.com"}:null},this.scribeAnalytics=function(e,t,i){if(e&&e.type){var n="generic"===e.type?"general_analytics_button":"tweet_analytics_button";TD.controller.stats.checkNamespace(t,["impression","click"]),TD.controller.stats.generic({page:"main",section:"detail",element:n,action:t},{user_id:i})}}}var r=i(401),o=n(r),a=i(17),c=n(a),l=i(62),u=n(l),d=i(18),h=n(d),p=i(117),f=i(13),m=n(f),g=i(995),v=n(g),T=i(4),_=n(T),y=i(7),w=n(y),b=i(447);e.exports=_.default.mixin(s,w.default)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({screenName:null,dataAction:"[data-action]",socialProofSelector:".js-social-proof",followFromSelector:".js-action-follow",followStateSelector:".prf-follow-status",closeEvent:"uiTwitterProfileClosing",numUsersInSocialProof:3,isSocialProofAnimatingClass:"social-proof-animating"}),this.handleTwitterAccount=function(e,t){if(t&&t.account&&t.screenName&&t.screenName.toLowerCase()===this.screenName.toLowerCase()){this.twitterUser=t;var i=p.default.render("twitter_profile",{twitterProfile:{preferredAccount:this.account.getUsername(),profile:this.twitterUser,displayOrderProfile:TD.controller.columnManager.DISPLAY_ORDER_PROFILE,account:this.account,showAccountMenu:!0,hideFromAccountName:!0,isSingleAccount:this.isSingleAccount}});this.$node.html(i),this.on(this.attr.dataAction,"click",this.handleActionClick),this.twitterUser.isMe()||this.trigger(document,"uiNeedsUserProfileSocialProof",{screenName:this.screenName});var n={account:this.account,twitterUser:this.twitterUser,closeEvent:this.attr.closeEvent};l.default.attachTo(this.select("followFromSelector"),n),a.default.attachTo(this.select("followStateSelector"),n)}},this.handleTwitterUserError=function(e,t){t.screenName.toLowerCase()===this.screenName.toLowerCase()&&this.teardown()},this.handleSocialProofData=function(e,t){var i,n,s,r=this.select("socialProofSelector"),o=[],a=0,c=[];if(t.users&&t.users.length){if(t.users.length>this.attr.numUsersInSocialProof)for(a=t.users.length-this.attr.numUsersInSocialProof;o.length<this.attr.numUsersInSocialProof;)s=Math.floor(Math.random()*t.users.length),o.push(t.users.splice(s,1)[0]);else o=t.users;o.forEach(function(e){c.push(p.default.render("text/social_proof_link",{screenName:e.screen_name,emojifiedName:v.default.cleanWithEmoji(e.name)}))}),a>0&&c.push(p.default.render("text/followers_you_follow_link",{screenName:this.screenName})),c.length>1&&(n=c.splice(c.length-1,1)),i=c.join(", "),r.removeClass("is-hidden"),r.html(p.default.render("twitter_profile_social_proof",{followedByString:i,others:n})),this.transitionExpand(r,this.attr.isSocialProofAnimatingClass)}},this.handleActionClick=function(e){var t=$(e.currentTarget),i=t.data("type"),n=TD.components.OpenColumnHome.URL_BASE+"/"+i;TD.util.maybeOpenClickExternally(e)||(this.screenName&&(n+="?screenName="+this.screenName),d.default.publishToQueue(TD.components.OpenColumn.GO_EVENT,{data:n,history:{type:"uiShowProfile",target:document,data:{id:this.screenName}}}),e.preventDefault(),e.stopPropagation())},this.destroy=function(e){e.stopPropagation(),this.teardown()},this.before("teardown",function(){this.trigger(this.select("followStateSelector"),this.attr.closeEvent),this.trigger(this.select("followFromSelector"),this.attr.closeEvent)}),this.after("teardown",function(){this.$node.html("")}),this.handleSingleAccountStatus=function(e,t){this.isSingleAccount=t.isSingleAccount},this.handlePreferredAccount=function(e,t){this.account=t.account},this.after("initialize",function(){this.screenName=""+this.attr.screenName,0===this.screenName.indexOf("@")&&(this.screenName=this.screenName.substring(1)),this.on(document,"dataSingleAccountStatus",this.handleSingleAccountStatus),this.on(document,"dataPreferredAccount",this.handlePreferredAccount),this.trigger(document,"uiNeedsSingleAccountStatus"),this.on(document,"dataTwitterUser",this.handleTwitterAccount),this.on(document,"dataTwitterUserError",this.handleTwitterUserError),this.on(document,"dataUserProfileSocialProof",this.handleSocialProofData);var e=p.default.render("twitter_profile",{loading:!0});this.$node.html(e),this.trigger(document,"uiNeedsPreferredAccount"),this.trigger(document,"uiNeedsTwitterUser",{screenName:this.screenName})})}var r=i(2),o=i(460),a=n(o),c=i(462),l=n(c),u=i(1036),d=n(u),h=i(3),p=n(h),f=i(88),m=n(f),g=i(13),v=n(g);e.exports=(0,r.component)(s,m.default)},function(e,t,i){"use strict";e.exports=function(){this.attributes({conversationListSelector:".js-typeahead-conversation-list",conversationItemSelector:".js-typeahead-conversation-item",conversationTemplate:"typeahead/typeahead_conversations"}),this.after("initialize",function(){this.$conversationList=this.select("conversationListSelector"),this.on("uiTypeaheadRenderResults",this.renderConversations)}),this.renderConversations=function(e,t){this.$conversationList.find(this.attr.conversationItemSelector).remove();var i=t.suggestions.conversations||[];if(!i.length)return void this.clearConversations();var n=i.map(function(e){return e.render({templateName:this.attr.conversationTemplate})},this).join("");this.$conversationList.toggleClass("has-results",i.length>0).toggleClass("is-hidden",0===i.length).html(n)},this.clearConversations=function(){this.$conversationList.removeClass("has-results"),this.$conversationList.addClass("is-hidden")}}},function(e,t,i){"use strict";var n=i(3),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(220);e.exports=function(){this.attributes({listsListSelector:".js-typeahead-lists-list",listItemSelector:".js-typeahead-list-item",listTemplate:"typeahead/typeahead_lists"}),this.renderLists=function(e,t){if(this.currentData=t,!(t.datasources&&t.datasources.some(function(e){return"lists"===e})))return void this.$listsList.removeClass("has-results").addClass("is-hidden").empty();var i,n=t.suggestions&&t.suggestions.lists&&t.suggestions.lists.length;if(n){var o=[];t.suggestions.lists.forEach(function(e){o.push({query:e.fullName,fullName:(0,r.highlightSubstring)(e.fullName,t.query),name:e.name,screenName:e.user.screenName})},this),i=s.default.render(this.attr.listTemplate,{lists:o})}else i="";this.$listsList.toggleClass("has-results",n).toggleClass("is-hidden",!n).html(i)},this.after("initialize",function(){this.$listsList=this.select("listsListSelector"),this.on("uiTypeaheadRenderResults",this.renderLists)})}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(17),r=n(s),o=i(3),a=n(o);e.exports=function(){this.attributes({locationsListSelector:".js-typeahead-location-list",locationsItemSelector:".js-typeahead-location-item",locationsTemplate:"typeahead/typeahead_locations"}),this.renderLocations=function(e,t){this.$locationsList.find(this.attr.locationsItemSelector).remove();var i=(0,r.default)(t,"suggestions.locations",[]);if(!i.length)return void this.clearLocations();var n=a.default.render(this.attr.locationsTemplate,{locations:i});this.$locationsList.toggleClass("has-results",i.length>0).toggleClass("is-hidden",0===i.length).html(n)},this.clearLocations=function(){this.$locationsList.removeClass("has-results").addClass("is-hidden")},this.after("initialize",function(){this.$locationsList=this.select("locationsListSelector"),this.on("uiTypeaheadRenderResults",this.renderLocations)})}},function(e,t,i){"use strict";var n=i(3),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(220);e.exports=function(){this.attributes({recentSearchesListSelector:".js-typeahead-recent-search-list",recentSearchesItemSelector:".js-typeahead-recent-search-item",recentSearchesClearSelector:".js-typeahead-recent-search-clear",recentSearchesTemplate:"typeahead/typeahead_recent_searches",recentSearchesFixedClass:"recent-searches-fixed-list"}),this.renderRecentSearches=function(e,t){this.currentData=t;var i=t.datasources&&t.datasources.some(function(e){return"recentSearches"===e});if(!i)return this.$recentSearchesList.removeClass("has-results").addClass("is-hidden").empty(),void this.$clearRecentSearches.addClass("is-hidden").removeClass("is-invisible");var n,o=i&&1===t.datasources.length,a=t.suggestions&&t.suggestions.recentSearches&&t.suggestions.recentSearches.length,c=o&&!a;if(o&&a){var l=[];t.suggestions.recentSearches.forEach(function(e){l.push({query:e,name:(0,r.highlightSubstringAndAddHashflag)(e,t.query)})},this),n=s.default.render(this.attr.recentSearchesTemplate,{recentSearches:l})}else n="";this.$recentSearchesList.toggleClass(this.attr.recentSearchesFixedClass,o),this.$recentSearchesList.toggleClass("has-results",a).toggleClass("is-hidden",!o).html(n),this.$clearRecentSearches.toggleClass("is-hidden",!o).toggleClass("is-invisible",c)},this.clearRecentSearches=function(e){delete this.currentData.suggestions.recentSearches,this.renderRecentSearches(null,this.currentData)},this.clearRecentSearchItem=function(e,t){var i=this.currentData.suggestions.recentSearches.filter(function(e){return t.query!==e});this.currentData.suggestions.recentSearches=i,this.renderRecentSearches(null,this.currentData)},this.after("initialize",function(){this.$recentSearchesList=this.select("recentSearchesListSelector"),this.$clearRecentSearches=this.select("recentSearchesClearSelector"),this.on("uiRecentSearchClearAction",this.clearRecentSearches),this.on("uiTypeaheadRenderResults",this.renderRecentSearches),this.on("uiRecentSearchClearItem",this.clearRecentSearchItem)})}},function(e,t,i){"use strict";var n=i(3),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(220);e.exports=function(){this.attributes({savedSearchesListSelector:".js-typeahead-saved-search-list",savedSearchesItemSelector:".js-typeahead-saved-search-item",savedSearchesTemplate:"typeahead/typeahead_saved_searches"}),this.renderSavedSearches=function(e,t){var i,n=[];this.$savedSearchesList.empty(),t.suggestions&&t.suggestions.savedSearches&&(t.suggestions.savedSearches.forEach(function(e){n.push({query:e.query,name:(0,r.highlightSubstringAndAddHashflag)(e.name,t.query)})},this),i=s.default.render(this.attr.savedSearchesTemplate,{savedSearches:n}),this.$savedSearchesList.toggleClass("has-results",n.length>0).toggleClass("is-hidden",0===n.length).html(i))},this.after("initialize",function(){this.$savedSearchesList=this.select("savedSearchesListSelector"),this.on("uiTypeaheadRenderResults",this.renderSavedSearches)})}},function(e,t,i){"use strict";var n=i(3),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(220);e.exports=function(){this.attributes({topicsListSelector:".js-typeahead-topic-list",topicsItemSelector:".js-typeahead-topic-item",topicsTemplate:"typeahead/typeahead_topics"}),this.renderTopics=function(e,t){this.$topicsList.empty();var i=t.suggestions.topics||[];if(!i.length)return void this.clearTopics();var n=i.map(function(e){return{topic:e.topic,name:(0,r.highlightSubstringAndAddHashflag)(e.topic,t.query)}},this),o=s.default.render(this.attr.topicsTemplate,{topics:n});this.$topicsList.toggleClass("has-results",i.length>0).toggleClass("is-hidden",0===i.length).html(o)},this.clearTopics=function(e){this.$topicsList.removeClass("has-results"),this.$topicsList.addClass("is-hidden")},this.resetTopics=function(){this.clearTopics(),this.$topicsList.find(this.attr.topicsItemSelector).remove()},this.after("initialize",function(){this.$topicsList=this.select("topicsListSelector"),this.on("uiTypeaheadRenderResults",this.renderTopics)})}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({usersListSelector:".js-typeahead-user-list",usersItemSelector:".js-typeahead-user-item",usersTemplate:"typeahead/typeahead_users"}),this.renderUsers=function(e,t){this.$usersList.find(this.attr.usersItemSelector).remove();var i=t.suggestions.users||[];if(i.forEach(function(e){e.emojifiedName=c.default.cleanWithEmoji(e.name)}),!i.length)return void this.clearUsers();var n=o.default.render(this.attr.usersTemplate,{users:i,query:t.query});this.$usersList.toggleClass("has-results",i.length>0).toggleClass("is-hidden",0===i.length).html(n)},this.getAvatar=function(e){return e.profile_image_url_https.replace(/_normal(\..*)?$/i,"_mini$1")},this.clearUsers=function(){this.$usersList.removeClass("has-results"),this.$usersList.addClass("is-hidden")},this.after("initialize",function(){this.$usersList=this.select("usersListSelector"),this.on("uiTypeaheadRenderResults",this.renderUsers)})}var r=i(3),o=n(r),a=i(13),c=n(a);e.exports=s},function(e,t,i){"use strict";function n(){this.after("initialize",function(){this.query=null,this.on(document,"uiSearch",this.handleSearch),this.on(document,"dataUserSearch",this.handleResults),this.on("uiUserResultsDestroy",this.teardown)}),this.handleSearch=function(e,t){this.query=t.query,this.$node.empty(),this.trigger(document,"uiNeedsUserSearch",{query:this.query})},this.handleResults=function(e,t){if(t.request.query===this.query){var i=t.result;if(0===i.length){var n=o.default.render("search_no_users_placeholder");this.$node.html(n)}else{var s=o.default.render("menus/user_results",{users:i,withUserMenu:!0,userMenuPositon:"pos-r",withUserBio:!0});this.$node.html(s)}}}}var s=i(2),r=i(3),o=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=(0,s.component)(n)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){this.attributes({template:"video_preview",data:null,maxVideoDurationInSeconds:140,videoSelector:"video",videoContainerSelector:".js-video-container",videoControlsSelector:".js-custom-video-controls",playPauseSelector:".js-play-pause",muteUnmuteSelector:".js-mute-unmute",timeDurationSelector:".js-video-time-duration",progressBarSelector:".js-video-progress",processingVideoSelector:".js-processing-video"}),this.initialState({videoSrc:"",duration:0,currentTime:0,playState:"ended",muted:!1}),this.componentDidInitialize=function(){var e=this;this.initialRender(),this.$video=this.select("videoSelector"),this.videoEl=this.$video.get(0),this.on(this.$video,"loadedmetadata",function(){e.videoEl.duration>e.attr.maxVideoDurationInSeconds?e.trigger("uiComposeVideoTooLarge"):e.mergeState({duration:e.videoEl.duration})}),this.on(this.$video,"timeupdate",function(){return e.mergeState({currentTime:e.videoEl.currentTime})}),this.on(this.$video,"playing",function(){return e.mergeState({playState:"playing"})}),this.on(this.$video,"pause",function(){return e.mergeState({playState:"paused"})}),this.on(this.$video,"ended",function(){return e.mergeState({playState:"ended"})}),this.on(this.$video,"volumechange",function(){return e.mergeState({muted:e.videoEl.muted})}),this.on("click",{playPauseSelector:function(){return"playing"===e.state.playState?e.videoEl.pause():e.videoEl.play()},muteUnmuteSelector:function(){return e.videoEl.muted=!e.state.muted},progressBarSelector:this.handleProgressBarClick}),this.mergeState({videoSrc:URL.createObjectURL(this.attr.data.files[0])})},this.componentWillTeardown=function(){this.$video.attr("src","")},this.initialRender=function(){var e=o.default.render(this.attr.template);this.$node.html(e),this.select("videoControlsSelector").html(o.default.render("compose/custom_video_controls"))},this.render=function(){this.renderProcessorOrPreview(),this.renderVideoSrc(),this.renderPlayPauseButton(),this.renderMuteUnmuteButton(),this.renderTimeDurationText(),this.renderProgressBar()},this.renderProcessorOrPreview=function(){var e=Boolean(this.state.duration);this.select("videoContainerSelector").toggleClass("is-hidden",!e),this.select("processingVideoSelector").toggleClass("is-hidden",e)},this.renderVideoSrc=function(){var e=this.$video.attr("src");this.state.videoSrc&&this.state.videoSrc!==e&&this.$video.attr("src",this.state.videoSrc)},this.renderPlayPauseButton=function(){var e=this.select("playPauseSelector");switch(e.removeClass("icon-pause icon-play"),this.state.playState){case"playing":e.addClass("icon-pause");break;case"paused":case"ended":e.addClass("icon-play")}},this.renderMuteUnmuteButton=function(){var e=this.select("muteUnmuteSelector");this.state.muted?e.removeClass("icon-sound").addClass("icon-sound-off"):e.removeClass("icon-sound-off").addClass("icon-sound")},this.renderTimeDurationText=function(){var e=this.select("timeDurationSelector"),t=this.getCurrentTimeAndDuration(this.state.currentTime,this.state.duration);e.text(t)},this.renderProgressBar=function(){var e=this.select("progressBarSelector");e.attr("max",this.state.duration).attr("aria-valuemax",this.state.duration),e.get(0).value=this.state.currentTime},this.handleProgressBarClick=function(e){var t=this.select("progressBarSelector"),i=e.pageX,n=t.offset().left,s=t.get(0).offsetWidth,r=this.state.duration,o=(i-n)/s*r;this.videoEl.currentTime=o},this.formatSeconds=function(e){if(e>=3600||e<0)throw new RangeError("Cannot format seconds greater than 3600 or less than 0");var t=Math.floor(e/60),i=Math.floor(e%60);return i<10?t+":0"+i:t+":"+i},this.getCurrentTimeAndDuration=function(e,t){try{return TD.i("{{videoCurrentTime}} / {{videoDuration}}",{videoCurrentTime:this.formatSeconds(e),videoDuration:this.formatSeconds(t)})}catch(e){return""}}}var r=i(3),o=n(r),a=i(4),c=n(a);e.exports=c.default.mixin(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(18),r=n(s),o=i(7),a=n(o),c=i(87),l=i(63),u=i(933),d=n(u),h=i(952),p=n(h),f=i(962),m=n(f),g=i(963),v=n(g),T=i(13),_=n(T),y=i(2).compose,w=i(965),b=i(981),D=i(1013),C=i(1018),S=i(998),E=i(997),I=i(971),A=i(967),x=i(214),k=i(975),M=i(966);e.exports=function(){y.mixin(this,[a.default,x,c.flightWithCommands]),this.showCommandPalette=function(){this.showModal(d.default,{},{withClickTrap:!0,withDismissButton:!1,withDraggable:!1,withFooter:!1,withHeader:!1,withBorder:!1,withClasses:["mdl-fixed-top"]})},this.showAddColumn=function(){TD.ui.openColumn.showOpenColumn()},this.showProfile=function(e,t){this.showModal(C,{screenName:t.id},{withHeader:!1,withFooter:!1,withDismissButton:!1,withClasses:["prf","s-tall-fixed","s-profile","is-inverted-dark"],withBorder:!1})},this.showEmbedTweet=function(e,t){var i={title:TD.i("Embed this Tweet"),withHeader:!0,withFooter:!1,withDismissButton:!0,withBorder:!1,withClasses:["s-wide","embed-modal"]};this.showModal(w,{tweet:t.tweet},i)},this.showKeyboardShortcutList=function(e,t){var i={title:TD.i("Keyboard shortcuts"),withHeader:!0,withFooter:!1,withDismissButton:!0,withBorder:!1,withClasses:["s-wide","keyboard-shortcut-list-modal"]};this.showModal(b,{},i)},this.showSearchOperatorList=function(e,t){var i={title:TD.i("Search tips"),withHeader:!0,withHeaderDivider:!0,withFooter:!1,withDismissButton:!0,withBorder:!1,withClasses:["s-wide"],withContentClasses:["scroll-v","max-height--600"]};this.showModal(D,{},i),this.trigger("scribeEvent",{terms:{page:"main",section:"navbar",element:"search_tips",action:"click"}})},this.showReportOptions=function(e,t){if(!t.isMessage&&!t.conversationId&&TD.decider.get("report_flow_iframe")&&TD.storage.accountController.getCookieAccount())return this.showReportFlow(t);var i={withClasses:["mdl","s-narrow","is-inverted-dark"],withContentClasses:["mdl-report-spam-options"],withFooter:!1,withBorder:!1,withHeaderDivider:!0,title:t.isMessage?TD.i("Flag message"):TD.i("Flag conversation")};this.showModal(S,t,i)},this.showReportUserOptions=function(e,t){return TD.decider.get("report_flow_iframe")&&TD.storage.accountController.getCookieAccount()||this.trigger("uiReportSpamAction",{account:t.account,twitterUser:t.twitterUser,block:!0}),this.showReportFlow(t)},this.showReportFlow=function(e){var t={account:e.account,twitterUser:e.twitterUser,tweetId:e.tweetId,isMedia:e.isMedia},i={title:TD.i("Report an issue"),withFooter:!0,withDoneButton:!0,withCenteredFooter:!0};this.showModal(E,t,i)},this.showFollowFromOptions=function(e,t){var i=t.userToFollow,n=TD.i("Follow {{>text/user_link_screenname}} from your accounts",i),s={title:n,withBorder:!1,withHeaderDivider:!1,withContentClasses:["margin-hxl"],withFooter:!1,withDoneButton:!1,withClasses:["s-narrow","s-fluid-height","padding-b--12"]};this.showModal(I,{userToFollow:i},s)},this.showFavoriteFromOptions=function(e,t){var i=t.tweet,n={title:TD.i("Like this Tweet from"),withBorder:!1,withHeaderDivider:!1,withContentClasses:["margin-hxl"],withFooter:!1,withDoneButton:!1,withClasses:["s-narrow","s-fluid-height","padding-b--12"]};this.showModal(A,{tweet:i},n)},this.showImportColumn=function(e,t){var i;try{i=TD.core.base64.decode(t.columnState)}catch(e){console.warn("Column state deserialization failed:",e)}i&&TD.ui.openColumn.showImportSharedColumn(i)},this.showGlobalSettings=function(){new TD.components.GlobalSettings},this.showEditListMembers=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.list,n=t.autoAddUsers;i?new TD.components.ListMembers(i,n):this.showEditListDetails(e,t)},this.showEditListDetails=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.list,n=t.autoAddUser,s={title:i?TD.i("Edit list details"):TD.i("Create a new list"),withFooter:!1,withBorder:!1,withHeaderDivider:!0};i?this.showModal(v.default,{listId:i.id,accountKey:i.account.getKey(),name:i.name,description:i.description,isPrivate:i.isPrivate,autoAddUser:n},s):n?this.showModal(v.default,{autoAddUser:n},s):this.showModal(v.default,{},s)},this.showEditCustomTimeline=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.timelineId,n=t.accountKey,s=t.name,r=t.description,o=t.columnKey,a=t.focus,c={timelineId:i,accountKey:n,name:s,description:r,columnKey:o,focus:a},l={title:i?TD.i("Edit collection"):TD.i("Create a new collection"),withFooter:!1,withBorder:!1,withHeaderDivider:!0};this.showModal(m.default,c,l)},this.showCopyTweetLink=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.url,n={value:i,readonly:!0,title:TD.i("Copy link to Tweet"),explanatoryText:TD.i("The URL of this Tweet is below.  Copy to easily share with colleagues and friends."),buttonText:TD.i("Copy link"),placeholderText:TD.i("URL"),successText:TD.i("Link copied to clipboard"),errorText:TD.i("That didn't work. Try copying the link from the field.")};this.showCopyTextModal(n)},this.showCopySearchQuery=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.query,n={value:i,readonly:!1,title:TD.i("Copy search query"),buttonText:TD.i("Copy query"),placeholderText:TD.i("Search query"),explanatoryText:TD.i('Here\'s your full search query.  Copy it to share with colleagues or to use in your app with Twitter Kit.  <a href="https://fabric.io/kits/ios/twitterkit" target="_blank" rel="noopener noreferrer">Learn More.</a>'),successText:TD.i("Query copied to clipboard"),errorText:TD.i("That didn't work. Try copying the query from the field.")};this.showCopyTextModal(n)},this.showCopyTextModal=function(e){this.showModal(p.default,e,{title:e.title,withFooter:!1,withBorder:!1,withHeaderDivider:!0})},this.showImportListModal=function(e,t){var i={list:t.list},n={title:TD.i("Add multiple users to {{{listName}}}",{listName:_.default.cleanWithEmoji(t.list.name)}),withBorder:!1,withHeaderDivider:!0,withClasses:["s-narrow"]};this.showModal(k,i,n)},this.showExportListModal=function(e,t){var i={list:t.list,members:t.members},n={title:TD.i("Copy users in this list"),withBorder:!1,withHeaderDivider:!0,withClasses:["s-narrow"]};this.showModal(M,i,n)},this.after("initialize",function(){var e=this;this.on(document,"uiShowProfile",this.showProfile),this.on(document,"uiShowImportColumnDialog",this.showImportColumn),this.on(document,"uiShowReportOptions",this.showReportOptions),this.on(document,"uiShowReportUserOptions",this.showReportUserOptions),this.on(document,"uiShowKeyboardShortcutList",this.showKeyboardShortcutList),this.on(document,"uiShowSearchOperatorList",this.showSearchOperatorList),this.on(document,"uiShowEditCustomTimeline",this.showEditCustomTimeline),this.on(document,"uiShowEditListMembers",this.showEditListMembers),this.on(document,"uiShowEditListDetails",this.showEditListDetails),this.on(document,"uiShowCopyTweetLink",this.showCopyTweetLink),this.on(document,"uiShowCopySearchQuery",this.showCopySearchQuery),this.on(document,"uiShowImportListModal",this.showImportListModal),this.on(document,"uiShowExportListModal",this.showExportListModal),this.on(document,"uiShowEmbedTweet",this.showEmbedTweet),this.on(document,"uiShowAddColumn",this.showAddColumn),this.on(document,"uiShowGlobalSettings",this.showGlobalSettings),this.on(document,"uiShowFollowFromOptions",this.showFollowFromOptions),this.on(document,"uiShowFavoriteFromOptions",this.showFavoriteFromOptions);var t=r.default.Observable.fromEvent($(document),"uiShowCommandPalette").withLatestFrom((0,l.getStreamForFeatureFlag)("tweetdeck_dogfood"),function(e,t){return{enabled:t}}).filter(function(e){return e.enabled});this.observe(t).subscribe(function(){return e.showCommandPalette()}),this.addCommands([{label:TD.i("Create a new List"),apply:function(){return e.showEditListDetails()}},{label:TD.i("Create a new Collection"),apply:function(){return e.showEditCustomTimeline()}}])})}},function(e,t,i){"use strict";e.exports=function(){this.attributes({showDrawerButtonSelector:".js-show-drawer",hideDrawerButtonSelector:".js-hide-drawer"}),this.after("initialize",function(){this.on("click",{showDrawerButtonSelector:this.handleShowDrawerClick,hideDrawerButtonSelector:this.handleHideDrawerClick}),this.on(document,"uiDockedComposeTweet",this.handleDockedComposeTweet),this.on(document,"uiDrawerActive",this.handleDrawerActive)}),this.handleDockedComposeTweet=function(e,t){var i=t.type||"tweet";this.select("hideDrawerButtonSelector").filter(".tweet-button").find("i").addClass("is-hidden").filter('[data-tweet-type~="'+i+'"]').removeClass("is-hidden")},this.handleShowDrawerClick=function(e,t){switch($(t.el).attr("data-drawer")){case"compose":this.trigger("uiComposeTweet"),TD.controller.stats.navbarComposeClick();break;case"accountSettings":this.trigger("uiShowAccountSettings")}},this.handleHideDrawerClick=function(e,t){var i=$(t.el).attr("data-drawer");this.trigger("uiDrawerHideDrawer"),"compose"===i&&TD.controller.stats.navbarComposeClick()},this.handleDrawerActive=function(e,t){if(this.select("hideDrawerButtonSelector").addClass("is-hidden"),this.select("showDrawerButtonSelector").removeClass("is-hidden"),t.activeDrawer){var i=function(){return $(this).attr("data-drawer")===t.activeDrawer};this.select("showDrawerButtonSelector").filter(i).addClass("is-hidden"),this.select("hideDrawerButtonSelector").filter(i).removeClass("is-hidden")}}}},function(e,t,i){"use strict";function n(){this.activeSequences={},this.sequenceStarters={},this.singleKeys={},this.combos={},this.attributes({charCodes:{bksp:8,ret:13,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40},defaultKeyEvent:"keypress",keySequenceTimeoutDelay:1e3,modifiers:{ctrl:"ctrlKey",alt:"altKey",cmd:"metaKey",shift:"shiftKey"}}),this.getShortcutForEvent=function(e){var t,i=e.which;return this.eventHasModifier(e)&&(t=this.combos[i]),t||this.eventHasFunctionModifier(e)||(t=this.activeSequences[i]||this.singleKeys[i]||this.sequenceStarters[i]),t},this.clearActiveSequences=function(){this.activeSequences={}},this.eventHasModifier=function(e){return e.ctrlKey||e.altKey||e.metaKey||e.shiftKey},this.eventHasFunctionModifier=function(e){return e.ctrlKey||e.metaKey},this.eventHasTextModifier=function(e){return e.altKey||e.shiftKey},this.getModifiedKeyEvent=function(e,t){var i;return this.eventHasModifier(e)&&t.modifiers&&_.each(t.modifiers,function(t,n){e[n]&&(i=t)},this),i},this.handleKeyPress=function(e){if(!$(".DrawerModal").hasClass("is-visible")||e.which===this.attr.charCodes.esc){var t,i=[];e.which>=65&&e.which<=90&&(e.which+=32),t=this.getShortcutForEvent(e),t?t.sequences?(_.each(t.sequences,function(e,t){this.addSequenceEnd(t,e)},this),setTimeout(function(){this.clearActiveSequences()}.bind(this),this.attr.keySequenceTimeoutDelay)):(i=t.shortcuts||[t],i=i.map(function(t){return t.modifiers&&(t=this.getModifiedKeyEvent(e,t)),t},this),i=i.filter(function(e){return void 0!==e}),i.forEach(function(t){var i=t.selector||":not(input):not(textarea):not(select)",n=$(e.target);(n.is(i)||n.is(":radio,:checkbox"))&&t.callback(e,t.data)}),this.clearActiveSequences()):this.clearActiveSequences()}},this.getCharCodeForKey=function(e){var t,i=!1,n=[[32,64],[91,126]];if("string"!=typeof e)throw new Error("Key must be a string");return e=e.toLowerCase(),1===e.length?(t=e.charCodeAt(0),n.forEach(function(e){if(t>=e[0]&&t<=e[1])return i=!0,!1}),i||(t=void 0)):t=this.attr.charCodes[e],t},this.addSingleKey=function(e,t,i,n){var s;if("function"!=typeof t)throw new Error("addSingleKey: no callback");if(void 0===(s=this.getCharCodeForKey(e)))throw new Error("addSingleKey: invalid key string");if(this.singleKeys[s]){if(!this.singleKeys[s].shortcuts.every(function(e){return t!==e.callback||i!==e.selector},this))throw new Error("addSingleKey: attempted to add identical shortcut")}else this.singleKeys[s]={shortcuts:[]};this.singleKeys[s].shortcuts.push({shortcut:e,callback:t,selector:i,data:n})},this.addSequence=function(e,t,i,n){var s,r;if("function"!=typeof t)throw new Error("addSequence: no callback");if("string"!=typeof e)throw new Error("addSequence: sequence must be a string");if(s=e.split(" "),2!==s.length)throw new Error('addSequence: sequence should be in format "g a"');if(void 0===(r=this.getCharCodeForKey(s[0])))throw new Error('addSequence: sequence should be in format "g a"');if(void 0===this.getCharCodeForKey(s[1]))throw new Error('addSequence: sequence should be in format "g a"');this.sequenceStarters[r]||(this.sequenceStarters[r]={sequences:{}}),this.sequenceStarters[r].sequences[s[1]]={shortcut:e,callback:t,selector:i,data:n}},this.addSequenceEnd=function(e,t){var i;if("function"!=typeof t.callback)throw new Error("addSequenceEnd: no callback");if("string"!=typeof e)throw new Error("addSequenceEnd: invalid shortcut key");if(void 0===(i=this.getCharCodeForKey(e)))throw new Error("addSequenceEnd: invalid shortcut key");this.activeSequences[i]={shortcut:t.shortcut,callback:t.callback,selector:t.selector,data:t.data}},this.addCombo=function(e,t,i,n){var s,r,o;if("function"!=typeof t)throw new Error("addCombo: no callback");if("string"!=typeof e)throw new Error("addCombo: invalid combo string");if(s=e.split("+"),2!==s.length)throw new Error('addCombo: invalid combo "'+e+'"');if(void 0===(r=this.attr.modifiers[s[0].toLowerCase()]))throw new Error("addCombo: invalid modifier");if(void 0===(o=this.getCharCodeForKey(s[1])))throw new Error("addCombo: invalid shortcut key");var a={modifiers:{}};a.modifiers[r]={shortcut:e,callback:t,selector:i,data:n},this.combos[o]||(this.combos[o]={shortcuts:[]}),this.combos[o].shortcuts.push(a)},this.isSequence=function(e){return"string"==typeof e&&e.indexOf(" ")>0},this.isCombo=function(e){return"string"==typeof e&&e.indexOf("+")>0},this.addShortcut=function(e,t,i,n){3===arguments.length&&"string"!=typeof i&&(n=i,i=void 0),this.isCombo(e)?this.addCombo(e,t,i,n):this.isSequence(e)?this.addSequence(e,t,i,n):this.addSingleKey(e,t,i,n)},this.removeSingleKey=function(e){var t=this.getCharCodeForKey(e);this.singleKeys[t]&&delete this.singleKeys[t]},this.removeCombo=function(e){var t=this.getCharCodeForKey(e.split("+")[1]);this.combos[t]&&delete this.combos[t]},this.removeSequence=function(e){var t=this.getCharCodeForKey(e.split(" ")[0]);this.sequenceStarters[t]&&delete this.sequenceStarters[t]},this.removeShortcut=function(e){this.isCombo(e)?this.removeCombo(e):this.isSequence(e)?this.removeSequence(e):this.removeSingleKey(e)},this.handleKeyDown=function(e){[this.attr.charCodes.bksp,this.attr.charCodes.esc,this.attr.charCodes.ret,this.attr.charCodes.left,this.attr.charCodes.right,this.attr.charCodes.up,this.attr.charCodes.down,this.attr.charCodes.pagedown,this.attr.charCodes.pageup,this.attr.charCodes.home,this.attr.charCodes.end].some(function(t){return t===e.which})&&this.handleKeyPress(e)},this.after("initialize",function(){this.on(window,"keypress",this.handleKeyPress),this.on(window,"keydown",this.handleKeyDown)})}e.exports=n},function(e,t,i){"use strict";function n(){this.attributes({popoverSelector:".js-popover",popoverContentSelector:".js-popover-content",isHiddenClass:"is-hidden",hasOverlayClass:"has-overlay",noScrollClass:"scroll-none",defaultHeight:2e3,defaultWidth:350,bottomPadding:30,withClickTrap:!0,withOverlay:!1,closeModals:!1,positionalClasses:{rt:"popover-position-rt"},popoverPosition:"rt"}),this.after("initialize",function(){this.trigger("uiPopoverCreated",{id:this.attr.id}),this.on(document,"uiCloseModal",this.handleCloseModal),this.boundClickTrap=this.popoverClickTrap.bind(this)}),this.handleCloseModal=function(e){e.target!==this.node&&this.hidePopover()},this.popoverClickTrap=function(e){e!==this.lastSeenEvent&&(this.lastSeenEvent=e,this.$node&&0===this.$node.find(e.currentTarget).length&&this.hidePopover())},this.isPopoverVisible=function(){return!this.$popover.hasClass(this.attr.isHiddenClass)},this.showPopover=function(e){this.$popover.hasClass(this.attr.isHiddenClass)&&(this.$popover.removeClass(this.attr.isHiddenClass),this.withOverlay&&(this.$overlay.removeClass(this.attr.isHiddenClass),this.$overlayControlNode.addClass(this.attr.hasOverlayClass)),this.attr.closeModals&&this.trigger("uiCloseModal"),this.withClickTrap&&_.defer(function(){$("body").on("click","*",this.boundClickTrap)}.bind(this)),this.trigger("uiPopoverShown",{id:this.attr.id}))},this.hidePopover=function(e){this.$popover.hasClass(this.attr.isHiddenClass)||($("body").off("click","*",this.boundClickTrap),this.trigger("uiPopoverHiding",{id:this.attr.id}),this.$popover.addClass(this.attr.isHiddenClass),this.$overlay.addClass(this.attr.isHiddenClass),this.$overlayControlNode.removeClass(this.attr.hasOverlayClass),clearInterval(this.repositionInterval),this.repositionInterval=null,this.trigger("uiPopoverHidden",{id:this.attr.id}))},this.setPopoverSize=function(e){this.width=e.width,this.height=e.height,this.$popover.css({width:this.width,height:this.height})},this.getPopoverPositionClass=function(){return this.attr.positionalClasses[this.attr.popoverPosition]},this.renderInPopover=function(e,t,i){i&&(this.defaultHeight=i.defaultHeight||this.attr.defaultHeight,this.withOverlay=i.withOverlay||this.attr.withOverlay,this.withClickTrap=i.withClickTrap||this.attr.withClickTrap),this.$overlay=$(r.default.render("overlay")),this.$overlayControlNode=this.$node.closest(".js-overlay"),this.$overlay.insertBefore(this.$overlayControlNode),this.$node.html(r.default.render("popover")),this.$popover=this.select("popoverSelector"),this.$popover.addClass(this.getPopoverPositionClass()),this.setPopoverSize({width:this.attr.defaultWidth}),this.$popoverContent=this.select("popoverContentSelector");var n=r.default.render(e,t);this.$popoverContent.append(n)}}var s=i(3),r=function(e){return e&&e.__esModule?e:{default:e}}(s);e.exports=n},function(e,t,i){"use strict";var n={isSelectedAccountSafeguarded:function(e){return _.intersection(e.settings.safeguarded_account_list,e.selectedAccountKeys).length>0},isSafeguardingOk:function(e){return!n.isSelectedAccountSafeguarded(e)||e.accountSafeguardChecked}};e.exports=n},function(e,t,i){"use strict";function n(e){return e.files.some(function(e){return"image/gif"===e.type})}function s(e){return 1===c.default.getMaxAllowedImages(e)||c.default.getMaxAllowedImages(e)>1&&!n(e)}function r(e){return e.files.some(function(e){return"video/mp4"===e.type})}function o(e){return 1===c.default.getMaxAllowedImages(e)||c.default.getMaxAllowedImages(e)>1&&!r(e)}var a=i(216),c=function(e){return e&&e.__esModule?e:{default:e}}(a),l={buttonText:{single:TD.i("Add image"),singleWithVideo:TD.i("Add image or video"),another:TD.i("Add another image"),multiple:TD.i("Add images"),multipleWithVideo:TD.i("Add images or video")},tooltipText:{oneGIF:TD.i("You cannot upload a GIF with other images"),oneVideo:TD.i("You cannot upload a Video with other images"),isScheduling:TD.i("You cannot add more than 1 image to a scheduled Tweet"),isSchedulingWithVideo:TD.i("You cannot add more than 1 image or video to a scheduled Tweet"),isMessaging:TD.i("You cannot add more than 1 image to a message"),reachedLimit:"You cannot add more than {{max}} images",quotedTweet:TD.i("Quoted Tweets cannot contain images")},getButtonText:function(e){var t=l.isTweetTypeMessage(e),i=!t&&!e.scheduledDate;return 1===c.default.getMaxAllowedImages(e)?l.buttonText.single:e.files.length>0?l.buttonText.another:i?l.buttonText.multipleWithVideo:l.buttonText.multiple},isTweetTypeMessage:function(e){return"message"===e.tweetType},getTooltipText:function(e){if(4===c.default.getMaxAllowedImages(e)){if(n(e))return l.tooltipText.oneGIF;if(r(e))return l.tooltipText.oneVideo}return e.files.length>=c.default.getMaxAllowedImages(e)?e.scheduledDate?l.tooltipText.isScheduling:l.isTweetTypeMessage(e)?l.tooltipText.isMessaging:TD.i("You cannot add more than {{max}} images",{max:c.default.getMaxAllowedImages(e)}):e.quotedTweet?l.tooltipText.quotedTweet:void 0},canAddImage:function(e){return e.files.length<c.default.getMaxAllowedImages(e)&&s(e)&&o(e)&&!e.quotedTweet}};e.exports=l},function(e,t,i){"use strict";var n,s;n=[i(2),i(881),i(887),i(871),i(849),i(850),i(851),i(852),i(854),i(855),i(856),i(857),i(863),i(858),i(864),i(870),i(872),i(874),i(865),i(883),i(888),i(897),i(878),i(880),i(882),i(899),i(873),i(890),i(898),i(889),i(868),i(885),i(876),i(861),i(886),i(860),i(884),i(859),i(879),i(862),i(877),i(875),i(866),i(853),i(869),i(900),i(867),i(901),i(906),i(907),i(908),i(909),i(911),i(912),i(910),i(917),i(916),i(914),i(913),i(915)],void 0!==(s=function(e){var t=Array.prototype.slice.call(arguments,1);return e.component(function(){this.after("initialize",function(){_.invoke(t,"attachTo",this.$node)})})}.apply(t,n))&&(e.exports=s)},function(e,t,i){"use strict";e.exports={upload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.file)throw new Error("Missing file to upload.");if(!e.accountKey)throw new Error("Missing account key to upload with.");var t=TD.controller.clients.getClient(e.accountKey),i=t.oauth.account;return TD.net.ajax.upload(e.file,e.ttl||"ephemeral",i)}}},function(e,t,i){"use strict";var n={};n.publishToQueue=function(e,t){TD.storage.notification.notify(e,t)},n.publish=function(e,t){$.publish(e,t)},n.subscribe=function(e,t){return $.subscribe(e,t)},n.unsubscribe=function(e){$.unsubscribe(e)},e.exports=n},function(e,t,i){"use strict";var n=i(55),s={baseUrl:"https://twitter.com/i/safety/report_story",completeUrl:"https://twitter.com/i/safety/report_story_complete",getReportUrl:function(e){return e.reportedTweetId?s.getReportTweetUrl(e):s.getReportUserUrl(e)},getReportUserUrl:function(e){var t=new n(s.baseUrl);return t.setQuery({source:"reportprofile",initiated_in_app:!0,reported_user_id:e.reportedUserId}),t.href()},getReportTweetUrl:function(e){var t=new n(s.baseUrl);return t.setQuery({source:"reporttweet",initiated_in_app:!0,reported_user_id:e.reportedUserId,reported_tweet_id:e.reportedTweetId,is_media:!!e.isMedia}),t.href()}};e.exports=s},function(e,t,i){"use strict";function n(e){return!c.default.combinedColumnTypes[e.getColumnType()]}function s(e){return e.model.getKey()}function r(e){return function(t){return t.getAccountKey()===e}}function o(e,t){var i=TD.storage.accountController.get(e),o=TD.controller.columnManager.getAllOrdered().filter(n).map(s),a=TD.storage.feedController.getAll().filter(r(e)),c={initialCount:a.length,newFeeds:[],lostFeeds:[]};return a.reduce(function(e,n){var s=n.getType();if(!l.shouldRewrite[s])return e.lostFeeds.push(n),e;var r=s,a=n.getMetadata(),c=t;void 0!==l.type[s]&&(r=l.type[s]),l.toDefault[s]&&(c=TD.storage.accountController.getDefault().getKey()),l.metadata.id[s]&&void 0===a.id&&(a=_.extend({},a,{id:i.getUserID()}));var u=TD.storage.feedController.getOrCreateFeed(r,n.getService(),c,a);return TD.controller.feedManager.replaceFeed(n,u,o),e.newFeeds.push(u),e},c)}var a=i(20),c=function(e){return e&&e.__esModule?e:{default:e}}(a),l={};l.shouldRewrite={home:!0,search:!0,list:!0,customtimeline:!0,usertimeline:!0,favorites:!0,usertweets:!0},l.type={},l.type={home:"usertimeline"},l.toDefault={},l.toDefault={search:!0},l.metadata={},l.metadata.id={home:!0,usertimeline:!0,favorites:!0,usertweets:!0},e.exports=o},function(e,t,i){"use strict";var n=i(117),s=i(176),r=i(469),o=!1;n.scheduleVideoEnabled$.distinctUntilChanged().subscribe(function(e){o=e});var a={buttonText:{scheduleTweet:TD.i("Schedule Tweet")},tooltipText:{noMessages:TD.i("Direct messages cannot be scheduled"),noVideo:TD.i("Scheduled Tweets cannot contain video"),noMultipleImages:TD.i("Scheduled Tweets cannot contain multiple images")},getButtonText:function(e){return e.scheduledDate?(0,s.getFormattedDateTime)({time:e.scheduledDate,fullMonth:!1}):a.buttonText.scheduleTweet},getTooltipText:function(e){return"message"===e.tweetType?a.tooltipText.noMessages:(0,r.hasVideo)(e)&&!this.hasScheduleVideoAccess()?a.tooltipText.noVideo:2===e.files.length?a.tooltipText.noMultipleImages:""},hasScheduleVideoAccess:function(){return o},canSchedule:function(e){return"message"!==e.tweetType&&e.files.length<2&&(!(0,r.hasVideo)(e)||this.hasScheduleVideoAccess())}};e.exports=a},function(e,t,i){"use strict";var n=i(475),s={buttonText:{tweet:TD.i("Tweet"),reply:TD.i("Tweet"),message:TD.i("Send message")},tooltipText:{ready:TD.i("Tweet"),tooLong:TD.i("Your Tweet is too long"),noAccount:TD.i("You have to select at least one account to Tweet from"),noRecipients:TD.i("You have to select a recipient for your message"),scheduledDatePassed:TD.i("Scheduled time has passed"),accountSafeguardNotChecked:TD.i("You have to check the confirmation step to Tweet"),uploading:TD.i("Uploading media"),processing:TD.i("Processing media")},getButtonText:function(e){return e.scheduledDate&&!e.tweetSentWhileVideoUploadInProgress?TD.i("Tweet at {{time}}",{time:TD.util.prettyTimeOfDayOrDateString(e.scheduledDate)}):e.tweetSentWhileVideoUploadInProgress&&(0,n.isSending)(e)&&(0,n.isUploading)(e)?TD.i("{{progress}}%",{progress:(0,n.getMinimumProgress)(e)}):e.tweetSentWhileVideoUploadInProgress&&(0,n.isSending)(e)&&(0,n.isProcessing)(e)?TD.i("Processing"):s.buttonText[e.tweetType]},getDefaultTooltipText:function(){return[s.tooltipText.ready," (","osx"===TD.util.getOSName()?"&#8984;"+TD.i("Return"):TD.i("Ctrl+Enter"),")"].join("")},getTooltipText:function(e){return 0===e.selectedAccountKeys.length?s.tooltipText.noAccount:e.remainingCharCount<0?s.tooltipText.tooLong:"message"!==e.tweetType||e.hasMessageRecipients?e.schedulingOk?e.safeguardingOk?e.tweetSentWhileVideoUploadInProgress&&(0,n.isSending)(e)&&(0,n.isUploading)(e)?s.tooltipText.uploading:e.tweetSentWhileVideoUploadInProgress&&(0,n.isSending)(e)&&(0,n.isProcessing)(e)?s.tooltipText.processing:s.getDefaultTooltipText():s.tooltipText.accountSafeguardNotChecked:s.tooltipText.scheduledDatePassed:s.tooltipText.noRecipients}};e.exports=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(236),r=n(s),o=i(79),a=n(o),c=i(80),l=n(c),u=function(){function e(t){(0,a.default)(this,e),this.ns=t,this.t=e.now()}return(0,l.default)(e,[{key:"mark",value:function(t){var i=this.ns,n=this.t;return[i+":"+t,Math.floor(e.now()-n)]}},{key:"metric",value:function(e){var t=this.mark(e),i=(0,r.default)(t,2);return[i[0],[i[1]],"metric"]}}]),e}();u.now=function(){var e=window.performance||{};return e.now=function(){return e.now||e.webkitNow||e.msNow||e.oNow||e.mozNow||function(){return Date.now()}}(),e.now()},t.Timer=u},function(e,t,i){"use strict";var n=i(469),s={tooltipText:{messageCannotBeScheduled:TD.i("Direct messages cannot be scheduled"),noMultipleImages:TD.i("Direct messages cannot contain multiple images"),noVideo:TD.i("Direct messages cannot contain video")},getTooltipText:function(e){return e.scheduledDate?s.tooltipText.messageCannotBeScheduled:e.files.length>1?s.tooltipText.noMultipleImages:(0,n.hasVideo)(e)?s.tooltipText.noVideo:""},canSwitchTweetType:function(e){return!e.scheduledDate&&e.files.length<=1&&!(0,n.hasVideo)(e)}};e.exports=s},function(e,t,i){"use strict";function n(e){var t=TD.version,i=e.split(" ");return _.all(i,function(e){var i=e.match(/[<=>]*/)[0],n=e.substr(i.length),s=[];_.contains(i,">")?s.push(1):_.contains(i,"<")&&s.push(-1),(_.contains(i,"=")||0===i.length)&&s.push(0);var r=TD.util.versionComparator(t,n);return _.contains(s,r)})}Object.defineProperty(t,"__esModule",{value:!0}),t.appSatisfiesVersionRequirements=n},function(e,t,i){"use strict";i(775),i(1047),i(446),i(1048),i(843),i(1054),i(782),i(781),i(786),i(814),i(793),i(783),i(801),i(802),i(803),i(819),i(810),i(812),i(805),i(806),i(809),i(811),i(808),i(797),i(807),i(789),i(804),i(796),i(794),i(795),i(785),i(817),i(800),i(799),i(818),i(813),i(822),i(824),i(820),i(821),i(816),i(788),i(823),i(784),i(787),i(815),i(798),i(779),i(780),i(777),i(778),i(792),i(776),i(1082),i(1083),i(1088),i(1084),i(1085),i(1087),i(1086),i(1089),i(772),i(445),i(773),i(774),i(829),i(841),i(835),i(834),i(833),i(840),i(143),i(836),TD.decider=i(832),TD.storage=i(477),i(1072),i(1071),i(1064),i(1068),i(1065),i(1067),i(1062),i(1060),i(1056),i(1058),i(1061),i(1059),i(1055),i(1057),i(1066),i(1070),TD.ui.template=i(3),i(1050),i(1051),TD.controller.init=i(837),i(842),i(830),i(828),i(726),i(728),i(171),i(441),i(761),i(750),i(749),i(748),i(751),i(752),i(747),i(753),i(754),i(746),i(757),i(765),i(764),i(763),i(762),i(756),i(755),i(760),i(442),i(734),i(742),i(744),i(740),i(738),i(739),i(741),i(735),i(736),i(737),i(745),i(743),i(758),i(759),i(732),i(727),i(733),i(769),i(770),i(771),i(768),i(766),TD.net.ajax=i(119),i(436),i(848),i(1049)},function(e,t,i){"use strict";var n=i(479),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(117),o=/[^A-Za-z0-9_]/g,a={},c="en-US";r.locale$.distinctUntilChanged().subscribe(function(e){c=e||"en-US"}),e.exports=function(e,t,i){var n,r,l,h=TD.config.i18n_test_length_ratio||.2,p=TD.config.i18n_test_padding_char||"d";return"string"==typeof e&&(e={text:e}),"en-x-psaccent"===c?r=d(e.text,u):(n=a[e.text],void 0===n&&(n=e.text.replace(o,""),a[e.text]=n),r=s.default.getMessage(n)||e.text),i||(r=TD.ui.template.toHtml(r,t)),TD.config.i18n_test&&(l=Math.round(r.length*h),r+=Array(l+1).join(p)),r};var l=/[a-zA-Z]/g,u="ȦƁƇḒḖƑƓĦĪĴĶĿḾȠǾƤɊŘŞŦŬṼẆẊẎẐ[\\]^_`ȧƀƈḓḗƒɠħīĵķŀḿƞǿƥɋřşŧŭṽẇẋẏẑ",d=function(e,t){return e.replace(l,function(e){return t.charAt(e.charCodeAt(0)-65)})}},function(e,t,i){"use strict";TD.languages={_index:null,_initialiseIndex:function(){var e=TD.languages.getAllLanguages();TD.languages._index={},e.forEach(function(e){TD.languages._index[e.code]=e,e.actual_code&&(TD.languages._index[e.actual_code]=e)})},getLanguageFromISOCode:function(e){TD.languages._index||TD.languages._initialiseIndex();var t=TD.languages._index[e];return _.clone(t)},getSystemLanguageCode:function(e){var t=navigator.language||navigator.userLanguage||"";return e&&(t=t.replace(/-[a-z]+$/i,"")),t},isSupportedTranslationSourceLanguage:function(e){return-1!==TD.languages.getSupportedTranslationSourceLanguages().indexOf(e.toLowerCase())},isSystemLangSupportedDestinationLanguage:function(){var e=TD.languages.getSupportedTranslationDestinationLanguages();return-1!==e.indexOf(TD.languages.getSystemLanguageCode(!0).toLowerCase())||-1!==e.indexOf(TD.languages.getSystemLanguageCode(!1).toLowerCase())},getSupportedDestinationSystemLanguage:function(){return-1!==TD.languages.getSupportedTranslationDestinationLanguages().indexOf(TD.languages.getSystemLanguageCode(!0).toLowerCase())?TD.languages.getSystemLanguageCode(!0):TD.languages.getSystemLanguageCode(!1)},getAllLanguages:function(){return[{code:"am",localized_name:TD.i("Amharic"),name:"አማርኛ"},{code:"ar",localized_name:TD.i("Arabic"),name:"العربية"},{code:"bg",localized_name:TD.i("Bulgarian"),name:"Български"},{code:"bn",localized_name:TD.i("Bengali"),name:"বাংলা"},{code:"bo",localized_name:TD.i("Tibetan"),name:"བོད་སྐད"},{code:"ca",localized_name:TD.i("Catalan"),name:"Català"},{code:"chr",localized_name:TD.i("Cherokee"),name:"ᏣᎳᎩ"},{code:"cs",localized_name:TD.i("Czech"),name:"čeština"},{code:"da",localized_name:TD.i("Danish"),name:"Dansk"},{code:"de",localized_name:TD.i("German"),name:"Deutsch"},{code:"dv",localized_name:TD.i("Maldivian"),name:"ދިވެހި"},{code:"el",localized_name:TD.i("Greek"),name:"Ελληνικά"},{code:"en",localized_name:TD.i("English"),name:"English"},{code:"es",localized_name:TD.i("Spanish"),name:"Español"},{code:"et",localized_name:TD.i("Estonian"),name:"eesti"},{code:"fa",localized_name:TD.i("Persian"),name:"فارسی"},{code:"fi",localized_name:TD.i("Finnish"),name:"Suomi"},{code:"fr",localized_name:TD.i("French"),name:"Français"},{code:"gu",localized_name:TD.i("Gujarati"),name:"ગુજરાતી"},{code:"iw",actual_code:"he",localized_name:TD.i("Hebrew"),name:"עברית"},{code:"hi",localized_name:TD.i("Hindi"),name:"हिंदी"},{code:"ht",localized_name:TD.i("Haitian Creole"),name:"Kreyòl ayisyen"},{code:"hu",localized_name:TD.i("Hungarian"),name:"Magyar"},{code:"hy",localized_name:TD.i("Armenian"),name:"Հայերեն"},{code:"in",actual_code:"id",localized_name:TD.i("Indonesian"),name:"Bahasa Indonesia"},{code:"is",localized_name:TD.i("Icelandic"),name:"Íslenska"},{code:"it",localized_name:TD.i("Italian"),name:"Italiano"},{code:"iu",localized_name:TD.i("Inuktitut"),name:"ᐃᓄᒃᑎᑐᑦ"},{code:"ja",localized_name:TD.i("Japanese"),name:"日本語"},{code:"ka",localized_name:TD.i("Georgian"),name:"ქართული"},{code:"km",localized_name:TD.i("Khmer"),name:"ខ្មែរ"},{code:"kn",localized_name:TD.i("Kannada"),name:"ಕನ್ನಡ"},{code:"ko",localized_name:TD.i("Korean"),name:"한국어"},{code:"lo",localized_name:TD.i("Lao"),name:"ລາວ"},{code:"lt",localized_name:TD.i("Lithuanian"),name:"Lietuvių"},{code:"lv",localized_name:TD.i("Latvian"),name:"latviešu valoda"},{code:"ml",localized_name:TD.i("Malayalam"),name:"മലയാളം"},{code:"my",localized_name:TD.i("Myanmar"),name:"မြန်မာဘာသာ"},{code:"ne",localized_name:TD.i("Nepali"),name:"नेपाली"},{code:"nl",localized_name:TD.i("Dutch"),name:"Nederlands"},{code:"no",localized_name:TD.i("Norwegian"),name:"Norsk"},{code:"or",localized_name:TD.i("Oriya"),name:"ଓଡ଼ିଆ"},{code:"pa",localized_name:TD.i("Panjabi"),name:"ਪੰਜਾਬੀ"},{code:"pl",localized_name:TD.i("Polish"),name:"Polski"},{code:"pt",localized_name:TD.i("Portuguese"),name:"Português"},{code:"ro",localized_name:TD.i("Romanian"),name:"limba română"},{code:"ru",localized_name:TD.i("Russian"),name:"Русский"},{code:"si",localized_name:TD.i("Sinhala"),name:"සිංහල"},{code:"sk",localized_name:TD.i("Slovak"),name:"slovenčina"},{code:"sl",localized_name:TD.i("Slovene"),name:"slovenski jezik"},{code:"sv",localized_name:TD.i("Swedish"),name:"Svenska"},{code:"ta",localized_name:TD.i("Tamil"),name:"தமிழ்"},{code:"te",localized_name:TD.i("Telugu"),name:"తెలుగు"},{code:"th",localized_name:TD.i("Thai"),name:"ไทย"},{code:"tl",localized_name:TD.i("Tagalog"),name:"Tagalog"},{code:"tr",localized_name:TD.i("Turkish"),name:"Türkçe"},{code:"uk",localized_name:TD.i("Ukrainian"),name:"українська мова"},{code:"ur",localized_name:TD.i("Urdu"),name:"ﺍﺭﺩﻭ"},{code:"vi",localized_name:TD.i("Vietnamese"),name:"Tiếng Việt"},{code:"zh",localized_name:TD.i("Chinese"),name:"中文"}]},getSupportedTranslationSourceLanguages:function(){return["bg","ca","zh","cs","da","nl","en","et","fi","fr","de","el","ht","hi","hu","id","in","it","iw","ja","ko","lv","lt","no","pl","pt","ro","ru","sk","sl","es","sv","th","tr","uk","vi","ar","fa","he"]},getSupportedTranslationDestinationLanguages:function(){return["bg","ca","zh-cn","zh-tw","cs","da","nl","en","et","fi","fr","de","el","ht","hi","hu","id","in","it","iw","ja","ko","lv","lt","no","pl","pt","ro","ru","sk","sl","es","sv","th","tr","uk","vi","ar","fa","he"]}}},function(e,t,i){"use strict";window.TD={storage:{},core:{},net:{},mustaches:"undefined"==typeof TD_mustaches?{}:TD_mustaches,assetsOverlay:"undefined"==typeof TD_assetsOverlay?{}:TD_assetsOverlay,templates:{},components:{},services:{},controller:{auth:{}},vo:{},ui:{},sync:{},cache:{}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(43),r=n(s),o=i(27),a=n(o);window.TD=window.TD||{},window.TD.config=window.TD.config||{},window.TD.metrics=function(){function e(e){return"[object Array]"===Object.prototype.toString.call(e)}function t(e,t){return e.concat(t)}var i={};return i.DEBUG=TD.config.debug_level>=4,i.throttle=8e3,i.flush=!0,i.restoreFromFlush=!0,i.flushKey="metrics.realtimeData",i.types={counter:{key:"counters",empty:0,append:function(e,t){return e+t},hasValue:function(e){return!!e},defaultValue:1,isValidValue:function(e){return"number"==typeof e&&!isNaN(e)&&e>0}},metric:{key:"metrics",empty:[],append:function(e,t){return e.concat(t)},hasValue:function(e){return!(!e||!e.length)},defaultValue:[],isValidValue:function(t){return e(t)&&t.length}}},i.env=function(){return TD.util&&TD.util.getAppEnv?TD.util.getAppEnv():"unknown"},i.namespaces={raw:function(){return""},by_id:function(){return[TD.version,TD.buildIDShort,i.env()].join("-")}},i.inflateMetricTriple=function(e){var t=e[0],n=e[1],s=e[2],r=i.makeKey(n).split(":"),o=r[0],c=r.slice(1);return(0,a.default)(i.namespaces).map(function(e){var n=i.namespaces[e](),r=[o,e,n].filter(Boolean),a=i.makeKey.apply(null,r.concat(c));return[t,a,s]})},i.inflate=function(e){return(0,a.default)(e).map(function(n){return(0,a.default)(e[n]).map(function(t){return[n,t,e[n][t]]}).map(i.inflateMetricTriple).reduce(t,[])}).reduce(t,[]).reduce(function(e,t){var i=t[0],n=t[1],s=t[2];return e[i]=e[i]||{},e[i][n]=s,e},{})},i.log=function(){function e(){i.send(i.inflate(o)),o={},s=null}function t(){i.throttle?s||(s=setTimeout(e,i.throttle)):e()}function n(e){e.key=i.makeKey(e.key),e.type=e.type||"counter";var n=i.types[e.type],s=o[n.key]||(o[n.key]={}),r=void 0!==e.value?e.value:n.defaultValue;n.isValidValue(r)&&(n.hasValue(s[e.key])||(s[e.key]=n.empty),s[e.key]=n.append(s[e.key],r),t())}var s,o={};try{var a=localStorage.getItem(i.flushKey);localStorage.removeItem(i.flushKey),a&&(o=JSON.parse(a),t())}catch(e){}return $(window).on("beforeunload",function(){if(i.flush)try{localStorage.setItem(i.flushKey,(0,r.default)(o))}catch(e){}}),$(window).on("metricsFlush",function(){e()}),n}(),i.send=function(e){var t=new XMLHttpRequest;t.open("post",TD.config.api_root+"/metrics",!0),t.setRequestHeader("Content-Type","application/json");try{t.send((0,r.default)(e)+"\n")}catch(e){}return t},i.makeKey=function(){return["blackbird"].concat([].slice.call(arguments)).join(":").toLowerCase().replace(/^((?:blackbird:){2,})/,"blackbird:")},i}(),TD.metrics.error=function(){var e={};return e.preventCallThrough=!1,e.original=function(){},e.handler=function(t,i,n,s,r){var o={action:"error",data:{}};return r?(o.data.type=r.constructor.name,o.data.message=r.message,o.data.stack=r.stack):(o.data.type=(t.match(/([a-z]+error)/i)||[])[1],o.data.message=(t.match(/:(.*)$/)||[])[1],o.data.message=(o.message||"").toString().trim()),o.data.file=i,o.data.line=n,o.data.column=s,o.key=TD.metrics.makeKey(o.action,o.data.type),TD.metrics.log(o),!0===e.preventCallThrough||e.original.apply(null,arguments)},e.attach=function(){e.attached||(e.attached=!0,e.original=window.onerror||e.original,window.onerror=e.handler)},e}(),TD.metrics.event=function(){var e={};e.handler=function(t,i){e.attached&&i&&i.key&&TD.metrics.log(i)},e.attach=function(){e.attached||(e.attached=!0)};try{$(window).on("metric",e.handler)}catch(e){console.error("Could not attach metric event listener.")}return e}(),TD&&TD.config&&(TD.config.disable_metrics_error||TD.metrics.error.attach(),TD.config.disable_metrics_event||TD.metrics.event.attach())},function(e,t,i){"use strict";TD.minWrapperVersionMac="2.8.0",TD.minWrapperVersionWin="2.8.0"},function(e,t,i){"use strict";TD.net.StreamRequest=function(e,t){var i=function(){console.log((new Date).toUTCString(),">",t.getUsername(),">",arguments)};this.receivedChars=0,this.readChars=0;var n,s,r,o,a,c=this,l=!1,u=function(e,t){var i=new XMLHttpRequest;return"withCredentials"in i?i.open(e,t,!0):i=null,i},d=function(e){i("Signer HTTP status:",e.xhr.status),200===e.xhr.status&&(r=e.data.headers.Authorization,h())},h=function(){if(!(a=u("GET",e)))return void g("CORS not supported",0);if(TD.storage.accountController.getCookieAccount()){if(!TD.decider.get("cookie_streaming"))return void g("Cookie streaming disabled",0);a.withCredentials=!0,a.setRequestHeader("Authorization",TD.util.getBearerTokenAuthHeader()),a.setRequestHeader("X-Twitter-Auth-Type","OAuth2Session")}else a.setRequestHeader("Authorization",r);a.setRequestHeader("X-User-Agent","TweetDeck Chrome "+TD.version),t.isContributor()&&a.setRequestHeader("X-Act-As-User-Id",t.getUserID()),a.send(),p()},p=function e(){f(),a.readyState!==XMLHttpRequest.DONE&&setTimeout(e,100)},f=function(){switch(a.readyState){case XMLHttpRequest.LOADING:var e,t=a.responseText.lastIndexOf("\r");if(l||(TD.util.metric("api:stream:connect"),i("Stream HTTP status:",a.status),l=!0),c.receivedChars=a.responseText.length,t>=c.readChars){e=a.responseText.substring(c.readChars,t+1),c.readChars+=e.length;try{m(e)}catch(e){console.log("Callback error:",e)}}break;case XMLHttpRequest.DONE:TD.util.metric("api:stream:disconnect"),g("Stream interrupted",a.status)}},m=function(e){n&&n(e)},g=function(e,t){s&&s(e,t)};this.onStreaming={connect:function(e){n=e},disconnect:function(e){n===e&&(n=null)}},this.onFailure={connect:function(e){s=e},disconnect:function(e){s===e&&(s=null)}},this.goStreaming=function(){if(t.isContributor()&&TD.decider.get("disable_contributed_streaming"))return g("Cannot stream contributor accounts",0);if(TD.storage.accountController.getCookieAccount())return h();var i=TD.net.ajax.signRequest(t,e,"GET");i.addCallback(d),i.addErrback(function(e){g("Failed to sign request",0)})},this.deleteLater=function(){i("Closing stream connection"),o&&(o.onreadystatechange=null),a&&(a.onreadystatechange=null,a.abort()),m=null,g=null}}},function(e,t,i){"use strict";var n=i(425),s=i(54);TD.net.util=function(){var e={},t=encodeURIComponent,i=/[!'()]/g,r=/\*/g;return window.encodeURIComponent=function(e){return t(e).replace(i,escape).replace(r,"%2A")},e.addURLParam=function(t,i,n){var s={};return s[i]=n,e.addURLParameters(t,s)},e.addURLParameters=function(t,i){var n=e.buildQueryString(i),s=t;return n?(-1===t.indexOf("?")?s+="?":s+="&",s+n):t},e.buildQueryString=function(e){var t,i=[];if(e)for(var n in e)void 0!==e[n]&&(t=n+"="+encodeURIComponent(e[n]),i.push(t));return i.join("&")},e.formDecode=function(e){var t,i,n,s=e.split("#",1)[0].split("&"),r={};return s.forEach(function(e){if((n=e.indexOf("="))>0){t=e.slice(0,n),i=e.slice(n+1);try{t=decodeURIComponent(t)}catch(e){}try{i=decodeURIComponent(i)}catch(e){}r[t]=i}}),r},e.decodeURL=function(t){var i=t.split("?");return i.length>1?e.formDecode(i[1]):{}},e.formEncode=function(e){var t=[];for(var i in e)t.push(i+"="+encodeURIComponent(e[i]));return t.join("&")},e.getQueryStringParams=function(){var e=window.location.href.split("?");if(e.length>=2){var t=e.slice(1).join("?");return this.formDecode(t)}return{}},e.getFailureScribePayload=function(e){return{request:{hadBody:!!s.get(e,["requestSettings","data"]),headers:s.get(e,["requestSettings","tweetdeck","headers"]),settings:s.get(e,["requestSettings","tweetdeck","settings"]),type:s.get(e,["requestSettings","type"]),url:s.get(e,["requestSettings","url"])},response:{errors:s.get(e,["req","responseJSON","errors"],[]),headers:n(e.req.getAllResponseHeaders()),message:e.message,statusCode:e.number}}},e}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){this.scribeContext={},this.scribeData={},this.scribe=function(t,i){var n=e||window.scribeTransport;if(!n)throw new Error("You must create a global scribeTransport variable or pass one into this constructor.");if(!t||"object"!=(void 0===t?"undefined":(0,c.default)(t))||i&&"object"!=(void 0===i?"undefined":(0,c.default)(i)))throw new Error("Invalid terms or data hash argument when calling ClientEvent.scribe().");if(this.scribeContext){var s="function"==typeof this.scribeContext?this.scribeContext():this.scribeContext;t=$.extend({},s,t)}for(var r in t)t[r]=t[r]&&(""+t[r]).toLowerCase().replace(/_?[^a-z0-9_]+_?/g,"_");if(n.options.debug&&$.each(["client","action"],function(e,i){if(!t[i])throw new Error("You must specify a "+i+" term in your client_event.")}),i=$.extend({},i),this.scribeData){var a="function"==typeof this.scribeData?this.scribeData():this.scribeData;i=$.extend({},a,i)}i.event_namespace=t,i.triggered_on=i.triggered_on||+new Date,i.format_version=i.format_version||2,void 0!==i.custom_json_payload&&(i.custom_json_payload=(0,o.default)(i.custom_json_payload)),n.send(i,"client_event")}}var r=i(43),o=n(r),a=i(105),c=n(a);e.exports=s},function(e,t,i){"use strict";function n(e){this.SESSION_BUFFER_KEY="ScribeTransport",this.SCRIBE_API_ENDPOINT="/i/jot",this.options={},e&&(this.updateOptions(e),this.registerEventHandlers(e))}var s=i(43),r=function(e){return e&&e.__esModule?e:{default:e}}(s);e.exports=n,n.prototype={flush:function(e,t){if(e&&e.length){if(void 0===t&&(t=!!this.options.sync),this.options.useAjax){var i={url:this.options.url,data:$.extend(this.ajaxParams(e),this.options.requestParameters),type:"POST",dataType:"json",async:!t,headers:{"X-Twitter-Polling":!0}};this.options.debug&&(this.options.debugHandler&&(i.success=this.options.debugHandler),i.data.debug="1"),$.ajax(i)}else{var n=this.options.debug?"&debug=1":"";(new Image).src=this.options.url+"?q="+(+new Date).toString().slice(-4)+n+"&"+this.imageParams(e)}this.reset()}},ajaxParams:function(e){if("string"==typeof e)return{log:"["+e+"]"};var t=this.options.encodeParameters;return t&&"function"==typeof t?t.apply(this,arguments):{log:(0,r.default)(e)}},imageParams:function(e){if("string"==typeof e)return"log=%5B"+e+"%5D";var t=this.options.encodeParameters;return t&&"function"==typeof t?t.apply(this,arguments):"log="+encodeURIComponent((0,r.default)(e))},reset:function(){this.options.bufferEvents&&(this.skipUnloadFlush=!1,sessionStorage.removeItem(this.options.bufferKey))},getBuffer:function(){return sessionStorage.getItem(this.options.bufferKey)||""},logWithStorageException:function(e,t){var i={category:"client_scribe_storage_error",error:e.message,url:document.location.href,product_name:"swift",event_name:"storage_quota_exceeded",type:"js_error"};this.addCategoryField(i,i.category),this.flush(this.appendData(t,this.encodeEventData(i)))},storeData:function(e,t){try{sessionStorage.setItem(e,t)}catch(e){if("QuotaExceededError"!==e.name&&"QuotaExceededError"!==e.message&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name&&"QUOTA_EXCEEDED_ERR"!==e.name&&-2147024882!==e.number)throw e;this.logWithStorageException(e,t)}},encodeEventData:function(e){var t=(0,r.default)(e);return this.options.useAjax||(t=encodeURIComponent(t)),t},appendData:function(e,t){return e+(e?this.SEPARATOR+t:t)},addToBuffer:function(e){var t=this.getBuffer(),i=this.encodeEventData(e),n=this.appendData(t,i);this.options.bufferSize&&this.fullBuffer(n)?this.options.useAjax?this.flush(n):(this.flush(t),this.storeData(this.options.bufferKey,i)):this.storeData(this.options.bufferKey,n)},addCategoryField:function(e,t){e._category_=t},send:function(e,t,i){!t||!e||this.options.bufferSize<0||(this.addCategoryField(e,t),!i&&this.options.bufferEvents&&this.options.bufferSize?this.addToBuffer(e):this.flush([e],i),this.options.debug&&$(document).trigger("scribedata."+this.options.bufferKey,e),this.options.metrics&&"debug"!=e.event_info&&$(document).trigger("debugscribe",e))},fullBuffer:function(e){return e.length>=(this.options.useAjax?2083*this.options.bufferSize:2050-this.options.url.length)},updateOptions:function(e){if(this.options=$.extend({},this.options,e),this.options.requestParameters||(this.options.requestParameters={}),void 0===this.options.flushOnUnload&&(this.options.flushOnUnload=!0),this.options.bufferKey||(this.options.bufferKey=this.SESSION_BUFFER_KEY),0===this.options.bufferSize&&(this.options.bufferEvents=!1),void 0===this.options.useAjax&&(this.options.useAjax=!0),this.options.bufferEvents||void 0==this.options.bufferEvents)try{sessionStorage.setItem(this.SESSION_BUFFER_KEY+".init","test");var t="test"==sessionStorage.getItem(this.SESSION_BUFFER_KEY+".init");sessionStorage.removeItem(this.SESSION_BUFFER_KEY+".init"),this.options.bufferEvents=t}catch(e){this.options.bufferEvents=!1}if(this.options.debug&&!this.options.debugHandler){var i=this;this.options.debugHandler=e.debugHandler||function(e){$(document).trigger("handlescribe."+i.options.bufferKey,e)}}var n="https:"===window.location.protocol?"https:":"http:";void 0===this.options.url?this.options.useAjax?this.options.url=this.SCRIBE_API_ENDPOINT:this.options.url="https://twitter.com"+this.SCRIBE_API_ENDPOINT:this.options.url=this.options.url.replace(/^[a-z]+:/g,n).replace(/\/$/,""),this.options.bufferEvents&&void 0===this.options.bufferSize&&(this.options.bufferSize=20)},appHost:function(){return window.location.host},registerEventHandlers:function(){var e=this,t=$(document);if(this.options.bufferEvents&&(t.on("flushscribe."+e.options.bufferKey,function(t){e.flush(e.getBuffer(),!0)}),this.options.flushOnUnload)){var i=function(t){e.skipUnloadFlush=!t||!t.match(/http/)||!!t.match(new RegExp("^https?://"+e.appHost(),"gi")),e.skipUnloadFlush&&window.setTimeout(function(){e.skipUnloadFlush=!1},3e3)};t.on("mouseup."+this.options.bufferKey,"a",function(e){this.getAttribute("target")||e.button||e.metaKey||e.shiftKey||e.altKey||e.ctrlKey||i(this.getAttribute("href"))}),t.on("submit."+this.options.bufferKey,"form",function(e){i(this.getAttribute("action"))}),t.on("uiNavigate."+this.options.bufferKey,function(e,t){i(t.url)}),$(window).on("unload."+this.options.bufferKey,function(){e.skipUnloadFlush||e.flush(e.getBuffer(),!0),e.skipUnloadFlush=!1})}this.SEPARATOR=this.options.useAjax?",":encodeURIComponent(",")},destroy:function(){this.flush(this.getBuffer()),$(document).off("flushscribe."+this.options.bufferKey),$(window).off("unload."+this.options.bufferKey),$(document).off("mouseup."+this.options.bufferKey),$(document).off("submit."+this.options.bufferKey),$(document).off("uiNavigate."+this.options.bufferKey)}}},function(e,t,i){"use strict";TD.services.bitly=function(){var e={},t=function(t,i){var n="https://api-ssl.bitly.com/v3/"+t;i.login="tweetdeckapi",i.apiKey="R_b8032856b71a14fabfe64f6845689ddf",i.format="json";var s=e.getAccount();return s&&(i.x_login=s.login,i.x_apiKey=s.apiKey),TD.net.ajax.jsonp(n,i)};return e.shorten=function(e){var i,n=e;return _.startsWith(e,"http://")||_.startsWith(e,"https://")||(n="http://"+e),i=t("shorten",{longUrl:n}),i.addCallback(function(t){var i=t.data;if(!i||!i.data||!i.data.url)throw new Error("Bit.ly shortening failed");return i.data&&(i.data.long_url=e),i.data}),i},e.shortenTextLinks=function(e){var t=twttrTxt.extractUrls(e),i=t.map(function(e){return TD.util.isLinkToTwitterItem(e)?TD.core.defer.succeed(e):TD.services.bitly.shorten(e)}),n=new TD.core.defer.DeferredList(i);return n.addCallback(function(t){return t.forEach(function(t){var i=t[0],n=t[1];i&&(e=e.replace(n.long_url,n.url))}),e}),n},e.getAccount=function(){var t=TD.settings.getBitlyAccount();return t||_.first(e.getAccountsFromAccountController())},e.updateAccount=function(e){return TD.util.metric("settings:services:bitly:update"),TD.settings.setBitlyAccount(e)},e.getAccountsFromAccountController=function(){return TD.storage.accountController.getAccountsForService("bitly").map(function(e){return{login:e.getUserID(),apiKey:e.getOAuthToken(),accountKey:e.getKey()}})},e}()},function(e,t,i){"use strict";var n=i(476),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=i(118),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(r);TD.storage.Account=function(e,t,i,n,r){var a=function(e,t){e?(this.state=_.clone(e),this.privateState={}):(this.state={},this.privateState={}),this.triggerPush=function(){return o.succeed()},t&&t.contributor&&this.makeContributor()};a.prototype=new e.StoredObj(e.accountController),a.prototype.eventname="/storage/account",a.generateKeyFor=s.default.generateAccountKey,a.getIdentifiersForKey=function(e){var t=e.split(":");return{service:t[0],id:t[1]}},a.generateRemoteDataForTwitterUser=function(e){return{key:a.CONTRIBUTOR_OAUTH_TOKEN,token:"",secret:"",screen_name:e.screen_name,service:"twitter",uid:e.id_str,avatar:e.profile_image_url_https,name:e.name}},a.generateRemoteDataForId=function(e){return{key:a.CONTRIBUTOR_OAUTH_TOKEN,token:"",secret:"",screen_name:a.UNKNOWN_SCREEN_NAME,service:"twitter",uid:e,avatar:s.default.generateEggAvatarForId(e),name:"Unknown "+e}},a.OAUTH2_AUTH_TOKEN="COOKIE",a.CONTRIBUTOR_OAUTH_TOKEN="CONTRIBUTOR",a.UNKNOWN_SCREEN_NAME="???",a.prototype.computeKey=function(){if(!this.getType()||!this.getUserID())throw{name:"NotReadyError",message:"cannot computeKey on account; insufficient data"};this.setKey(a.generateKeyFor(this.getType(),this.getUserID()))},a.prototype.set=function(e,t){return this.state[e]=t,i.notify(this.eventname+"/change",this),this.triggerPush()},a.prototype.checkInvariants=function(){t.assert(_.isEmpty(this.deltaQ),"Accounts must not have Δs"),t.assert(null===this.stateCache,"Accounts do not use stateCache")},a.prototype.setIsVerified=function(e){return this.setPrivate("verified",e)},a.prototype.getIsVerified=function(){return this.getPrivate("verified")},a.prototype.getUsername=function(){return this.get("username")},a.prototype.setUsername=function(e){return this.set("username",e)},a.prototype.getName=function(){return this.get("name")},a.prototype.setName=function(e){return this.set("name",e)},a.prototype.getUserID=function(){return this.get("userId")},a.prototype.setUserID=function(e){return this.set("userId",e)},a.prototype.getType=function(){return this.get("type")},a.prototype.setType=function(e){return this.set("type",e)},a.prototype.getOAuthToken=function(){return this.get("oauth_token")},a.prototype.setOAuthToken=function(e){return this.set("oauth_token",e)},a.prototype.getTokenSecret=function(){return this.get("token_secret")},a.prototype.setTokenSecret=function(e){return this.set("token_secret",e)},a.prototype.getProfileImageURL=function(){var e=this.get("profileImageURL");return e&&TD.util.isRetina()&&(e=e.replace(TD.services.TwitterUser.NORMAL_SUFFIX_REGEXP,TD.services.TwitterUser.BIGGER_SUFFIX)),e},a.prototype.setProfileImageURL=function(e){return this.set("profileImageURL",e)},a.prototype.getIsPrivate=function(){return this.getPrivate("isPrivate")},a.prototype.setIsPrivate=function(e){return this.setPrivate("isPrivate",e)},a.prototype.getUpdated=function(){return this.getPrivate("updated")},a.prototype.setUpdated=function(e){return this.setPrivate("updated",e)},a.prototype.isCookieUser=function(){return this.getOAuthToken()===a.OAUTH2_AUTH_TOKEN},a.prototype.makeOAuth2=function(){return this.setOAuthToken(a.OAUTH2_AUTH_TOKEN)},a.prototype.isContributor=function(){return this.getOAuthToken()===a.CONTRIBUTOR_OAUTH_TOKEN},a.prototype.makeContributor=function(){return this.setOAuthToken(a.CONTRIBUTOR_OAUTH_TOKEN)},a.prototype.isMissingUserData=function(){return this.getUsername()===a.UNKNOWN_SCREEN_NAME},a.prototype.getIsAdmin=function(){return!(this.isContributor()&&!this.getPrivate("isAdmin"))},a.prototype.setIsAdmin=function(e){return this.setPrivate("isAdmin",!!e)},a.prototype.getStateForBackend=function(e){e=e||{};var t={secret:this.getTokenSecret(),screen_name:this.getUsername(),name:this.getName(),avatar:this.getProfileImageURL(),key:this.getOAuthToken()};return e.withIdentifiers&&(t.uid=this.getUserID(),t.service=this.getType()),t};var c={key:"oauth_token",token:"oauth_token",secret:"token_secret",screen_name:"username",service:"type",uid:"userId",avatar:"profileImageURL",name:"name"};return a.prototype.newRemoteState=function(e){var i=this;t.stateLog(this,".updateFromBackend(",e,")"),_.each(c,function(t,n){e[n]&&i.set(t,e[n])})},a.newFromBackendState=function(e){var t=new a;return t.newRemoteState(e),t.computeKey(),t},a.prototype.isSameUser=function(e){return this.getUsername().toLowerCase()===e.toLowerCase()},a}(TD.storage,TD.sync.util,TD.storage.notification,TD.util,TD.core.base64)},function(e,t,i){"use strict";var n=i(104),s=function(e){return e&&e.__esModule?e:{default:e}}(n);TD.storage.AccountController=function(e,t,i,n,r){var o=function(){var i=this;this._moduleName="accounts",this.reqsinflight=[],i.ACCEPTED_ACCOUNT_TYPES={twitter:!0,bitly:!0},this._objects={},this._cookieAccountPromise=null,this._unverified={},i.blacklistAccount=function(s){t.stateLog("blacklisting",s);var r=s.getKey();e.clientController.client.addToAccountBlacklist(r),this._objects[r]&&i.remove(r),e.clientController.client.delFromAccountWhitelist(r),n.notify("/storage/account/blacklisted",s)},i.whitelistAccounts=function(i){t.stateLog("whitelisting",i),e.clientController.client?_.each(i,function(t){e.clientController.client.addToAccountWhitelist(t.getKey()),e.clientController.client.delFromAccountBlacklist(t.getKey())}):t.warn("Can't update whitelist: client not initialised")},i.isEmpty=function(){return _.isEmpty(this._objects)},i.isSingleUser=function(){return 1===this.getAll().length},i.getDefault=function(){if(e.clientController.client){var t=e.clientController.client.getDefaultAccount(),n=this._objects[t];return t&&n&&i.isPostingAccount(n)?n:i.isEmpty()?null:(i.setDefault(i.getPostingAccounts()[0].getKey()),this._objects[e.clientController.client.getDefaultAccount()])}},i.getUserIdentifier=function(){var t=i.getAccountFromId(e.store.getTwitterLoginAccountID());return t?t.state.username:""},i.setDefault=function(t){e.clientController.client.setDefaultAccount(t)},i.getAccountsForService=function(e){return i.getAll().filter(function(t){return t.getType()===e})},i.getAccountFromUsername=function(e){var t=i.getAccountsForService("twitter");return e=e.toLowerCase(),_.select(t,function(t){return t.getUsername().toLowerCase()===e})},i.getAccountFromId=function(e){var t=i.getAccountsForService("twitter");return _.find(t,function(t){return""+t.getUserID()===e})},i.getPreferredAccount=function(e){var t=i.getDefault();return!t||e&&t.getType()!=e?i.getAccountsForService(e)[0]:t},this.init=function(){t.trace("accountController init"),jQuery.subscribe("/storage/client/change",function(e){_.each(e.getAccountBlacklist(),function(e){i._objects[e]&&i.remove(e)})})},this.reset=function(){this._objects={},this._cookieAccountPromise=null},this.triggerPush=function(){t.assert(!1,"triggerPush() should not be called on account controller")},this.updateFromBackend=function(i,n){t.stateLog("accountController.updateFromBackend:",i);var s=t.list_to_set(n.settings.account_whitelist||[]);i=i||[],i=i.filter(function(t){var i=e.Account.generateKeyFor(t.service,t.uid),n=s[i];return!!this.ACCEPTED_ACCOUNT_TYPES[t.service]&&(n||(this._unverified[i]=e.Account.newFromBackendState(t)),n)}.bind(this));var r=this;_.each(i,function(i){var n=e.Account.generateKeyFor(i.service,i.uid),s=r._objects[n];s?(t.stateLog("updating existing",s,"with",i),s.newRemoteState(i)):(t.stateLog("creating new Account with",i),s=e.Account.newFromBackendState(i),r.manage(s))})},this.get=function(e){return"tweetdeck"===e?{getKey:function(){return"tweetdeck"},getUserID:function(){return"tweetdeck"},getType:function(){return"tweetdeck"}}:this._objects[e]},this.manage=function(t){if(!t.getKey())throw $(document).trigger("metric",{key:"account:manage:fail"}),new TypeError("account must have its .key set");return t.managed=!0,this._objects[t.getKey()]||n.notify("/storage/account/new",t),this._objects[t.getKey()]=t,this.whitelistAccounts([t]),e.store.setLastVerifiedTimestamp(t),$(document).trigger("metric",{key:"account:manage:success"}),this.pushAccount(t)},this.manageContributee=function(e){var t=TD.storage.Account.generateKeyFor("twitter",e.id),i=this.get(t);return i?this.updateAccountFromContributee(i,e):this.createAccountFromContributee(e)},this.createAccountFromContributee=function(e){var t=new TD.storage.Account(null,{contributor:!0});return t.setType("twitter"),t.setUserID(e.id),t.setIsAdmin(e.isAdmin),t.computeKey(),this._verifyAndManageAccount(t)},this.updateAccountFromContributee=function(e,t){var i=TD.core.defer.succeed();return e.getPrivate("isAccessDenied")&&(e.setPrivate("isAccessDenied",!1),$(document).trigger("dataTwitterAccountAccessEnabled",{accountKey:e.getKey()}),i.addCallback(e.makeContributor.bind(e))),i.addCallback(e.setIsAdmin.bind(e,t.isAdmin)),i},this.isContributeeManaged=function(e){var t=TD.storage.Account.generateKeyFor("twitter",e.id);return!!this.get(t)},i.remove=function(t){var i=this._objects[t];i.managed=!1,delete this._objects[t],n.notify("/storage/account/removed",i),e.store.removeLastVerifiedTimestamp(i),i.isContributor()&&!i.getPrivate("isAccessDenied")&&$(document).trigger("uiRemoveContributee",{accountKey:TD.storage.store.getTwitterLoginAccount().getKey(),userId:i.getUserID()})},i.getAll=function(){var e=_.values(this._objects);return e.sort(i.accountComparator),e},i.getPostingAccounts=function(){return _.filter(i.getAll(),i.isPostingAccount)},i.isPostingAccount=function(e){return"bitly"!==e.getType()},i.accountComparator=function(e,t){var n=e.getType(),s=t.getType(),r="twitter"===n,o="twitter"===s,a=TD.storage.store.getTwitterLoginAccount(),c=a?a.getKey():i.getDefault().getKey();if(e.getKey()===c)return-1;if(t.getKey()===c)return 1;if(r&&o){var l=e.getUsername().toLowerCase(),u=t.getUsername().toLowerCase();return(l>u)-(l<u)}return r?-1:o?1:(n>s)-(n<s)},i.getDefaults=function(){var e=i.getAll(),t=i.getDefault(),n=[],s={};t&&(s[t.getType()]=!0,n.push(t));for(var r=0;r<e.length;r++)s[e[r].getType()]||(s[e[r].getType()]=!0,n.push(e[r]));return n},i.pushAccount=function(e){},i.authFromAccount=function(e){return TD.controller.auth.create(e.getType(),e)},i.getTemporaryCookieAccount=function(){var e=new TD.storage.Account;return e.setType("twitter"),e.makeOAuth2(),e},i.getCookieAccount=function(){var e=TD.storage.store.getTwitterLoginAccount();if(e&&e.isCookieUser())return e},i._verifyAndManageAccount=function(e,t){var n=i.authFromAccount(e),s=new r.Deferred;return n.verifyAccount(s.callback.bind(s),s.errback.bind(s)),t&&s.addErrback(function(){}),s.addCallback(function(){return TD.storage.accountController.manage(e)}),s},i.verifyAndManageCookieAccount=function(e){return i.authFromAccount(e).verifyCookieAccount().addCallback(function(){return TD.storage.accountController.manage(e)})},i.verifyTwitterCookieAccount=function(){var e=this;this._cookieAccountPromise||(this._cookieAccountPromise=new s.default(function(t,i){var n=e.getTemporaryCookieAccount();e.verifyAndManageCookieAccount(n).addCallback(_.constant(n)).addCallbacks(t,i)}));var t=new TD.core.defer.Deferred;return this._cookieAccountPromise.then(t.callback.bind(t),t.errback.bind(t)),t},i.verifyNewTwoginAccount=function(){t.stateLog("verifyNewTwoginAccount");var i=e.Account.generateKeyFor("twitter",TD.storage.store.getTwitterLoginAccountID()),n=this._unverified[i];if(n)var s=this._verifyAndManageAccount(n,!0);return this._unverified={},s||TD.core.defer.succeed()}};return o.prototype=new e.SobjController,e.accountController=new o,o}(TD.storage,TD.sync.util,TD.sync.tdapi,TD.storage.notification,TD.core.defer)},function(e,t,i){"use strict";TD.storage.Client=function(e,t,i,n,s,r,o){var a=function(e){t.trace("Client constructor:"),t.stateLog("Client constructor: ",e);var i=e&&e.column_order;i&&!_.isEqual(i,_.union(i))&&(t.warn("WARNING! removing duplicates in column_order",_.clone(i)),e.column_order=_.union(i)),t.assert(!e||!e.columns,'"columns" should not be in local client state'),this._init(e),this.managed=!0,TD.config.debug_checks&&this.checkInvariants()};a.prototype=new e.StoredObj(e.clientController),a.prototype.eventname="/storage/client",a.prototype.recent_searches_limit=5,a.prototype.getName=function(){return this.get("name")},a.prototype.getApiid=function(){return this.get("name")},a.prototype.hasApiid=function(){return!0},a.prototype.getColumnOrder=function(){return _.clone(this.get("column_order")||[])},a.prototype.setColumnOrder=function(e){if(_.each(e,function(e){t.precondition("string"==typeof e,"must provide string column keys")}),!_.isEqual(e,_.union(e)))throw t.warn("ERROR: column_order contains duplicates:",e),new Error("column_order must not contain duplicates");return s.notify("/storage/client/column_order_changed"),this.setListPermutation("column_order",e)},a.prototype.removeColumn=function(e){return s.notify("/storage/client/column_order_changed"),this.listRemove("column_order",e)},a.prototype.appendColumn=function(e){return s.notify("/storage/client/column_order_changed"),this.listAdd("column_order",e)},a.prototype.getAccountBlacklist=function(){return _.clone(this.get("account_blacklist")||[])},a.prototype.addToAccountBlacklist=function(t){var i=this.get("account_blacklist")||[];if(_.include(i,t))return r.succeed(null);var n=this.listAdd("account_blacklist",t);return s.notify("/storage/client/account_blacklist_changed",i,this.get("account_blacklist"),this),e.accountController.remove(t),n},a.prototype.delFromAccountWhitelist=function(e){var t=this.get("account_whitelist")||[];if(!_.include(t,e))return r.succeed(null);var i=this.listRemove("account_whitelist",e),n=this.get("account_whitelist");return s.notify("/storage/client/account_whitelist_changed",t,n,this),$(document).trigger("dataAccountWhitelist",{accountKeys:n}),i},a.prototype.addToAccountWhitelist=function(e){var t=this.get("account_whitelist")||[];if(_.include(t,e))return r.succeed(null);var i=this.listAdd("account_whitelist",e),n=this.get("account_whitelist");return s.notify("/storage/client/account_whitelist_changed",t,n,this),$(document).trigger("dataAccountWhitelist",{accountKeys:n}),i},a.prototype.delFromAccountBlacklist=function(e){var t=this.get("account_blacklist")||[];if(!_.include(t,e))return r.succeed(null);var i=this.listRemove("account_blacklist",e);return s.notify("/storage/client/account_blacklist_changed",t,this.get("account_blacklist"),this),i},a.prototype.getAccountWhitelist=function(){return _.clone(this.get("account_whitelist"))},a.prototype.getDefaultAccount=function(){return this.get("default_account")},a.prototype.addRecentSearch=function(e){return r.gatherResults([this.listRemove("recent_searches",e),this.listPrepend("recent_searches",e),this.listTruncate("recent_searches",this.recent_searches_limit)])},a.prototype.getRecentSearches=function(){return this.get("recent_searches")||[]},a.prototype.removeRecentSearch=function(e){this.listRemove("recent_searches",e)},a.prototype.clearRecentSearches=function(){this.set("recent_searches",[])},a.prototype.postProcessNewRemoteState=function(){var e=this.getColumnOrder(),i=_.union(e);_.isEqual(i,e)||(t.warn("WARNING! found duplicates in column order, collapsing",e),this.state.column_order=i)},a.prototype.setDefaultAccount=function(e){return t.assert(!_.isUndefined(e),"huh? you wanted to do what now?"),this.setValueIffDifferent("default_account",e,"/storage/client/default_account_changed")};var c=["account_blacklist","account_whitelist","default_account","settings","recent_searches"];return a.prototype.transformForRemote=function(i,n){t.stateLog("Client.transformToLocal L",i);var s={};_.each(c,function(e){i[e]&&(s[e]=i[e])});var r={settings:s,name:i.name};return r.columns=_.map(i.column_order||[],function(i){var n=e.columnController.get(i);return t.assert(n.hasApiid(),"Column "+i+" does not have apiid",n),n.getApiid()}),i.mtime&&(r.mtime=i.mtime),t.stateLog("Client.transformToLocal R",r),r},a.prototype.transformToLocal=function(i){t.stateLog("Client.transformToLocal R",i);var n={},s=!1;n.column_order=_.filter(_.map(i.columns,function(n){if(!n)return t.warn("WARNING: bogus data in rstate.columns!",t.pformat(i.columns)),null;var r=e.columnController.getByApiid(n);return r||(t.stateLog("allocating new empty local sColumn for",n),r=new e.Column,r.setApiid(n),e.columnController.manage(r),s=!0),r.getKey()}),Boolean),s&&TD.sync.controller.ueberpull();var r=i.settings||{};return _.each(c,function(e){r[e]&&(n[e]=r[e])}),n.mtime=i.mtime,n.name=i.name,t.stateLog("Client.transformToLocal L",n),n},a.prototype.setApiid=function(e){t.assert(!1,"no-one should ever set apiid on Client")},a.newFromBackendState=function(e){var t=new a;return t.newRemoteState(e),t},a}(TD.storage,TD.sync.util,TD.sync.tdapi,TD.util,TD.storage.notification,TD.core.defer,TD.sync.trace)},function(e,t,i){"use strict";var n=i(43),s=function(e){return e&&e.__esModule?e:{default:e}}(n);TD.storage.ClientController=function(e,t,i,n,r,o,a){var c=function(){var i=this;this.apiEndpoint="/clients",_.defer(function(){var n=t.makeThingScheduler,s=e.store.getTwitterLoginAccountID.bind(e.store);i.triggerPush=n(_.bind(i.pushIfDirty,i),null,"clisync",s)}),this._moduleName="clients",this.reqsinflight=[],this._objects={},this._objectsByApiid=this._objects,this.client=null,this.toString=function(){return"<ClientController>"},this.init=function(){t.stateLog("client controller init start",this.client),t.trace("clientController init"),TD.config.sync_name in this._objects?(this.client=this._objects[TD.config.sync_name],t.assert(this.client.getName(),"need name!"),t.stateLog("client controller new client:",this.client)):t.stateLog("no initial client state; deferring client creation"),t.stateLog("clientController.init: client: ",this.client)},this.reset=function(){this.client=null},this.createNewClient=function(){t.stateLog("clientController.createNewClient()");var i=this,s={name:TD.config.sync_name,columns:[],settings:{}},r={},o=n.requestWithBody("/clients","POST",s,r);return o.addCallback(function(){t.stateLog("createNewClient resp headers; ",r);var n=r["x-td-mtime"];return t.assert(n,"require x-td-mtime header in client POST"),s.mtime=n,i.client=e.Client.newFromBackendState(s),t.assert(i.client.getName(),"Client should have name at this point"),i._objects[i.client.getName()]=i.client,t.stateLog("clientController.createNewClient with",i.client.state),i.triggerPush()}),o},this.createNewBackendState=function(){var i={name:"blackbird",columns:[],settings:{settings:{version:TD.controller.upgrade.CURRENT_VERSION}}},n=TD.net.ajax.request(TD.config.twitter_api_base+"/1.1/tweetdeck/clients",{method:"POST",params:(0,s.default)(i)});return n.addCallbackWith(this,function(n){var s=n.xhr.getResponseHeader("x-td-mtime");return t.assert(s,"require x-td-mtime header in client POST"),i.mtime=s,this.client=e.Client.newFromBackendState(i),this._objects[this.client.getName()]=this.client,t.stateLog("clientController.createNewClient with",this.client.state),this.triggerPush()}),n},this.updateFromBackend=function(i){null===this.client?(this.client=e.Client.newFromBackendState(i),this._objects[this.client.getName()]=this.client,t.stateLog("client controller (ufb) new client:",this.client)):this.client.newRemoteState(i)},this.pushIfDirty=function(){if(TD.config.debug_checks&&this.checkInvariants(),a.push(this,"dirty",null),this.client.isDirty()){a.push(this,"dirty",this.client);var i=this,n=e.columnController.triggerPush();return n.addCallback(function(){return t.assert(i.client.isDirty(),"?!? push dirty, but not dirty"),i.pushObject(i.client,"/clients/"+i.client.getName())}),n.addCallback(function(){return i.pushIfDirty()}),n}return a.push(this,"not dirty",null),o.succeed()}};return c.prototype=new e.SobjController,e.clientController=new c,c}(TD.storage,TD.sync.util,TD.util,TD.sync.tdapi,TD.storage.notification,TD.core.defer,TD.sync.trace)},function(e,t,i){"use strict";TD.storage.Column=function(e,t,i,n,s){var r=function(e){this._init(e),this.privateState.key||(this.privateState.key="c"+(new Date).getTime()+_.uniqueId("s"))};r.prototype=new e.StoredObj(e.columnController),r.prototype.eventname="/storage/column",r.prototype.getTitle=function(){var e=this.get("title");return _.isUndefined(e)?"loading…":e},r.prototype.setTitle=function(e){return this.set("title",e)},r.prototype.getDescription=function(){return this.get("description")},r.prototype.setDescription=function(e){return this.set("description",e)},r.prototype.getType=function(){return this.get("type")},r.prototype.setType=function(e){return this.set("type",e)},r.prototype.getFilters=function(){return this.get("filters")},r.prototype.setFilters=function(e){return this.setValueIffDifferent("filters",e)},r.prototype.getHasSound=function(){var e=this.get("settings");return Boolean(e&&e.has_sound)},r.prototype.setHasSound=function(e){return e=Boolean(e),s.notify("/storage/column/column_flags_changed","has_sound",e,this),this.dictSet("settings","has_sound",e)},r.prototype.getHasNotification=function(){var e=this.get("settings");return Boolean(e&&e.has_notification)},r.prototype.setHasNotification=function(e){return e=Boolean(e),s.notify("/storage/column/column_flags_changed","has_notification",e,this),this.dictSet("settings","has_notification",e)},r.prototype.getMediaPreviewSize=function(){var e=this.get("settings");return e?e.media_preview_size:null},r.prototype.setMediaPreviewSize=function(e){return $(document).trigger("dataColumnSettings",{columnKey:this.getKey(),mediaPreviewSize:e}),this.dictSet("settings","media_preview_size",e)},r.prototype.getClearedTimestamp=function(){var e=this.get("settings");return e&&e.cleared_timestamp?e.cleared_timestamp:0},r.prototype.setClearedTimestamp=function(e){return s.notify("/storage/column/column_marks_changed","cleared_timestamp",e,this),this.dictSet("settings","cleared_timestamp",e)},r.prototype.getFeedKeys=function(){return this.get("feedkeys")},r.prototype.setFeedKeys=function(e){return this.setValueIffDifferent("feedkeys",_.isArray(e)?_.uniq(e.sort(),!0):e,"/storage/column/feeds_changed")};var o=["mtime","type","title","description","settings","position","bookmarks","filters"];return r.prototype.transformForRemote=function(i,n){var s=function(i){var n=e.feedController.get(i);return t.assert(n&&n.hasApiid(),"feeds must have apiid when transforming column for remote"),n.getApiid()},r={};return _.each(o,function(e){r[e]=i[e]}),r.feeds=_.map(i.feedkeys,s),i.mtime&&(r.mtime=i.mtime),n.apiid&&(r.id=n.apiid),r},r.prototype.transformToLocal=function(i){TD.config.debug_checks&&_.each(i.feeds,function(n){t.assert(e.feedController.getByApiid(n),"feed not found by apiid in "+t.pformat(i.feeds))});var n={};return _.each(o,function(e){n[e]=i[e]}),n.feedkeys=_.map(i.feeds,function(t){return e.feedController.getByApiid(t).getKey()}),n.apiid=i.id,n},r.newFromBackendState=function(e){var t=new r;return t.newRemoteState(e),t},r}(TD.storage,TD.sync.util,TD.sync.tdapi,TD.util,TD.storage.notification)},function(e,t,i){"use strict";var n=i(20),s=function(e){return e&&e.__esModule?e:{default:e}}(n);TD.storage.ColumnController=function(e,t,i,n,r){var o=function(){var i=this;this.apiEndpoint="/columns",this._moduleName="columns",this.reqsinflight=[],this.bindTrigger("colctr"),$.subscribe("/storage/account/new",function(e){i.addToCombinedColumns(e)}),$.subscribe("/storage/client/account_whitelist_changed",function(){i.rebuildScheduledColumns()}),$(document).one("TD.ready",function(){i.rebuildScheduledColumns()}),this._objects={},this._objectsByApiid={},this.toString=function(){return"<ColumnController>"},this.init=function(){t.trace("columnController init"),TD.config.debug_checks&&this.checkInvariants()},this.reset=function(){this._objects={},this._objectsByApiid={}},this.updateFromBackend=function(i){var s=this;t.stateLog("columnController.updateFromBackend:",i),_.each(i,function(t,i){var r=s._objectsByApiid[i];r?r.newRemoteState(t):(r=e.Column.newFromBackendState(t),r.setApiid(i),s.manage(r),n.notify("/storage/column/new",r))})},this.get=function(e){return this._objects[e]},this.getColumnsContainingFeed=function(e){var t=[];return _.each(this._objects,function(i){_.each(i.getFeedKeys(),function(n){n==e&&t.push(i)})}),t},this.getColumnsByType=function(e){return _.filter(this._objects,function(t){return t.getType()===e})},this.manage=function(e){return e.managed=!0,t.assert(e.getKey(),"columns must have valid keys to be managed!"),this._objects[e.getKey()]=e,e.hasApiid()&&(this._objectsByApiid[e.getApiid()]=e),this.triggerPush()},this.remove=function(e){var t=this._objects[e];t&&(t.managed=!1),delete this._objects[e]},this.getAll=function(){return _.values(this._objects)},this.getByApiid=function(e){t.assert(e,"must provide apiid; "+t.repr(e)),t.assert("undefined"!==e,"huh? where did that come from?");var i=this._objectsByApiid[e];return i||(t.warn("WARNING: col ",e," not found in cols_by_apiid ",_.keys(this._objectsByApiid)),t.stateLog("this._objects, apiids; ",t.pformat(_.map(this._objects,function(e,t){return[t,e.getApiid()]})))),i},this.isEmpty=function(){return _.isEmpty(this._objects)},this._selfcheckapiids=function(){for(var e in this._objects){var t=this._objects[e];t.hasApiid()&&_assert(t==this.getByApiid(t.getApiid()),"lookup failed")}},this.addToCombinedColumns=function(i){if(t.stateLog("ADDING ACCOUNT TO COMBINED COLS",i),e.clientController.client)for(var n,s,r,o,a=e.clientController.client.getColumnOrder(),c={home:!0,me:!0,privateMe:!0},l=function(e){return e.getKey()},u=0;u<a.length;u++)if(n=this.get(a[u])){if(s=n.getType(),c[s]){switch(r=null,s){case"me":r=this.getMeFeeds([i]);break;case"privateMe":r=this.getInboxFeeds([i])}r&&(o=r.map(l),n.setFeedKeys(n.getFeedKeys().concat(o)),n.managed&&e.feedController.manageFeeds(r))}}else t.warn("Warning: Column not found!"),t._break()},this.rebuildScheduledColumns=function(){var t=this.getScheduledFeeds(),i=t.map(function(e){return e.getKey()});this.getColumnsByType("scheduled").forEach(function(n){n.setFeedKeys(i),n.managed&&e.feedController.manageFeeds(t),setTimeout(function(){TD.controller.feedScheduler.refreshColumn(n.getKey())},200)})};var r=function(t,i){return e.feedController.getOrCreateFeed(t,i.getType(),i.getKey(),{})};this.getMeFeeds=function(e){for(var t=[],i=0;i<e.length;i++)"twitter"===e[i].getType()&&t.push(r("mentions",e[i]));return t},this.getInboxFeeds=function(e){for(var t=[],i=0;i<e.length;i++)"twitter"===e[i].getType()&&t.push(r("direct",e[i]));return t},this.getScheduledFeeds=function(){return TD.storage.accountController.getAccountsForService("twitter").map(r.bind(this,s.default.feedTypes.SCHEDULED))},this.prePushCheckInvariants=function(i){_.each(i,function(i){_.each(i.getFeedKeys(),function(i){t.assert(e.feedController.get(i),"feeds must exist + be managed in columns push; "+i),t.assert(e.feedController.get(i).hasApiid(),"feeds must all have apiid in columns push; "+i)})})}};return o.prototype=new e.SobjController,o.prototype.pushPreflight=function(){return e.feedController.triggerPush(.05)},e.columnController=new o,o}(TD.storage,TD.sync.util,TD.sync.tdapi,TD.storage.notification,TD.core.defer)},function(e,t,i){"use strict";var n=i(43),s=function(e){return e&&e.__esModule?e:{default:e}}(n);TD.storage.Feed=function(e,t,i,n){var r=function e(t,i){this._init(t),_.isUndefined(i)||(this.state=this.transformToLocal(i)),this.setKey(e.generateKeyFor(this.getAccountKey(),this.getType(),this.getMetadata()))};return r.prototype=new e.StoredObj(e.feedController),r.prototype.eventname="/storage/feed",r.generateKeyFor=function(e,i,n){n=n||{};var s=TD.util.deterministicObjectHash(n),r=[e,i,s];return t.assert(e,"accountkey not set in Feed.generateKey"),t.assert(i,"type not set in Feed.generateKey"),encodeURI(r.join(":"))},r.prototype.getType=function(){return this.get("type")},r.prototype.setType=function(e){return this.immutableSet("type",e)},r.prototype.getService=function(){return this.get("service")},r.prototype.setService=function(e){return this.immutableSet("service",e)},r.prototype.getAccountKey=function(){return this.get("accountkey")},r.prototype.setAccountKey=function(e){return this.immutableSet("accountkey",e)},r.prototype.getTopSortIndex=function(){var e=this.get("marks");return e?e.top_sort_index?e.top_sort_index||null:{value:this.getLatestTime(),type:"milliseconds"}:null},r.prototype.setTopSortIndex=function(e){var t=this.get("marks")||{};return Array.isArray(t)&&(t=_.extend({},t)),t[0]=t[0]||{},t.top_sort_index=e,this.set("marks",t)},r.prototype.getLatestTime=function(){var e=this.get("marks");return!e||_.isEmpty(e)?0:e[0].last_notification||0},r.prototype.setLatestTime=function(e){var t=this.get("marks");return!t||_.isEmpty(t)?this.set("marks",[{last_notification:e}]):(t[0].last_notification=e,this.set("marks",t))},r.prototype.getMetadata=function(){return _.clone(this.get("metadata"))},r.prototype.setMetadata=function(e){return this.immutableSet("metadata",e)},r.prototype.transformForRemote=function(i,n){var r=e.accountController.get(i.accountkey);t.assert(r&&r.getUserID(),"must have acct + uid for feed transform");var o=r.getUserID(),a={type:i.type,service:i.service,account:{userid:o.toString()},metadata:(0,s.default)(i.metadata),marks:i.marks};return i.mtime&&(a.mtime=i.mtime),n.apiid&&(a.id=n.apiid),a},r.prototype.reprocessNotificationMarks=function(e,t){var i=null,n=null;if(t&&t.marks&&!_.isEmpty(t.marks)&&(i=t.marks[0].last_notification,n=t.marks),e.marks&&!_.isEmpty(e.marks)){n=e.marks;var s=e.marks[0].last_notification;i&&s?i=Math.max(i,s):s&&(i=s)}return n?n[0].last_notification=i:n=i?[{last_notification:i}]:[],n},r.prototype.transformToLocal=function(t){return{type:t.type,service:t.service,accountkey:e.Account.generateKeyFor(t.service,t.account.userid),metadata:JSON.parse(t.metadata),mtime:t.mtime,marks:t.marks}},r.newFromBackendState=function(e){return new r(null,e)},r}(TD.storage,TD.sync.util,TD.sync.tdapi,TD.util)},function(e,t,i){"use strict";TD.storage.FeedController=function(e,t,i,n,s){var r=function(){var i=this;this.apiEndpoint="/feeds",this._moduleName="feeds",this.reqsinflight=[],this.bindTrigger("feedctr"),i._objects={},i._objectsByApiid={},this.toString=function(){return"<FeedController>"},this.init=function(){t.trace("feedController init"),TD.config.debug_checks&&this.checkInvariants()},this.reset=function(){this._objects={},this._objectsByApiid={}},this.updateFromBackend=function(i){var s=this;t.stateLog("feedController.updateFromBackend:",i),_.each(i,function(t,i){var r=s._objectsByApiid[i];r?(r.newRemoteState(t),n.notify("/storage/feed/updated",r)):(r=e.Feed.newFromBackendState(t),r.setApiid(i),s.manage(r),n.notify("/storage/feed/new",r))})},this.get=function(e){return this._objects[e]},this.manage=function(e){e.managed=!0;var n=this._objects[e.getKey()];return n&&e===n?i.triggerPush():(n&&(t.warn("WARNING replacing feed",n,"with",e,"please use feedController.getOrCreateFeed",[t.getStack().split("\n")]),n.getLatestTime()>e.getLatestTime()&&t.warn("Warning: latestTime weirdness:",n.getLatestTime(),e.getLatestTime()),n.hasApiid()&&e.setApiid(n.getApiid()),n.isDirty()&&(_.isEmpty(n.deltaQ)||"init"!=n.deltaQ[0].type)&&t.assert(!n.isDirty(),"houston, we have a problem")),this._objects[e.getKey()]=e,e.hasApiid()&&(this._objectsByApiid[e.getApiid()]=e),i.triggerPush())},this.manageFeeds=function(e){for(var t=0;t<e.length;t++)i.manage(e[t])},this._selfcheckapiids=function(){for(var e in this._objects){var t=this._objects[e];t.apiid&&_assert(t==i.getByApiid(t.apiid),"lookup failed")}},i.isEmpty=function(){return _.isEmpty(this._objects)},i.getOrCreateFeed=function(t,i,n,s,r){var o,a,c;if("search"!==t||s.term||s.baseQuery&&s.searchFilterData&&(o=new TD.vo.SearchFilter(s.searchFilterData),s.term=[s.baseQuery,o.getQueryString()].join(" ")),c=e.Feed.generateKeyFor(n,t,s),!(a=this._objects[c])){var l={type:t,service:i,accountkey:n,metadata:s,apiid:r};a=new e.Feed(l)}return r&&(a.apiid=r,this._objectsByApiid[r]=a),a}};return r.prototype=new e.SobjController,e.feedController=new r,r}(TD.storage,TD.sync.util,TD.sync.tdapi,TD.storage.notification,TD.core.defer)},function(e,t,i){"use strict";function n(){this.data={},this.length=0}n.prototype.clear=function(){this.data={},this.length=0},n.prototype.getItem=function(e){var t=this.data[e];return void 0!==t?t:null},n.prototype.key=function(e){throw new Error("MemoryStore.key not implemented.")},n.prototype.removeItem=function(e){null!==this.getItem(e)&&(delete this.data[e],this.length--)},n.prototype.setItem=function(e,t){null===this.getItem(e)&&this.length++,this.data[e]=""+t},e.exports=n},function(e,t,i){"use strict";var n=i(118),s=function(e){return e&&e.__esModule?e:{default:e}}(n);TD.storage.notification=function(){var e={},t=[],i=function(){var e=t.splice(0,t.length);_.each(e,function(e){if(e.topic)try{jQuery.publish(e.topic,e.args)}catch(t){console.log("FAILURE publishing event",e,t)}else e.d&&e.d.callback()})};return e.notify=function(e){var n=Array.prototype.slice.call(arguments,1);t.push({topic:e,args:n}),_.defer(i)},e.flush=function(){var e=new s.default.Deferred;return t.push({d:e}),_.defer(i),e},e}()},function(e,t,i){"use strict";var n=i(43),s=function(e){return e&&e.__esModule?e:{default:e}}(n);TD.storage.StoredDelta=function(e,t,i,n,r){function o(t){this.type=t,e.assert(l[t]&&a,"unknown type "+t),this.args=_.toArray(arguments).slice(1),this.id="Δ"+(new Date).getTime()+_.uniqueId(":"),c(t,this.args),"init"===t&&(e.verboseLog("initialisation delta",this.id,this.args[0]),"mtime"in this.args[0]&&(e.warn("WARNING init Δ contains mtime!",e.clone(this.args[0])),e._break()))}var a={init:1,set:2,del:1,lmove:3,ldel:2,linsert:3,ladd:3,ltrunc:2,ldedupe:1,hset:3,other:0},c=function(t,i){var n=a[t];switch(e.assert(i.length===n,"wrong no. args for "+t+", expected "+n+" got "+i.length),t){case"ltrunc":e.assert("number"==typeof i[1],"ltrunc: length must be number");break;case"linsert":case"ladd":case"ldel":case"lmove":e.assert("string"==typeof i[1],"list elements must be strings")}};o.prototype.toString=function(){return"StoredDelta["+this.id+"]("+this.type+": "+(0,s.default)(this.args)+")"},o.prototype.serialise=function(){return[this.type].concat(this.args)};var l={init:function(t,i){if(!_.isEqual(t,{})){var n=e.clone(t),s=e.clone(i);return delete n.mtime,(delete s.mtime,_.isEqual(n,s))?(e.warn("WARNING Δ init_state === state",e.clone(t),"init:",i.mtime,"state:",t.mtime),t):void e.warn("WARNING discarding init_state",e.clone(i),"in favour of",e.clone(t))}return _.clone(i)},set:function(e,t,i){return e[t]=i,e},del:function(e,t){return delete e[t],e},lmove:function(e,t,i,n){var s=_.clone(e[t]),r=s.indexOf(i);if(-1!=r)return s.splice(r,1),s.splice(r+n,0,i),e[t]=s,e},ldel:function(e,t,i){var n;return n=_.isUndefined(e[t])?[]:_.without(e[t],i),e[t]=n,e},linsert:function(e,t,i,n){var s;return s=_.isUndefined(e[t])?[]:_.clone(e[t]),s.splice(n,0,i),e[t]=s,e},ladd:function(e,t,i,n){if(_.include(e[t],i))return e;var s;return s=_.isUndefined(e[t])?[]:_.clone(e[t]),s.splice(n,0,i),e[t]=s,e},ltrunc:function(e,t,i){var n;return n=_.isUndefined(e[t])?[]:e[t],n.length>i&&n.splice(i,n.length-i),e[t]=n,e},ldedupe:function(e,t){var i;return i=_.isUndefined(e[t])?[]:e[t],e[t]=_.uniq(i),e},hset:function(e,t,i,n){var s=_.clone(e[t]);return s||(s={}),s[i]=n,e[t]=s,e}};o.prototype.apply=function(t){var i=_.clone(t),n=l[this.type],s=n.apply(this,[i].concat(this.args));return s||(e.warn("WARNING: unable to apply Δ",this.toString(),"to",e.clone(t)),_.clone(t))},o.prototype.applyToValue=function(e,t){var i={};return i[e]=t,this.apply(i)[e]},o.listPermutator=function(t,i,n){var s=[],r=_.clone(i);if(e.verboseLog("StoredDelta.listPermutator",i,"→",n),i.length!=_.union(i).length||n.length!=_.union(n).length)throw e.stateLog("Duplicate error in listPermutator",{original:i,original_:_.union(i),target:n,targetu:_.union(n)}),new TypeError("lists must not contain duplicates");_.each(_.difference(i,n),function(e){s.push(new o("ldel",t,e)),r.splice(r.indexOf(e),1)});for(var a=0;a<n.length;a++)if(r[a]!=n[a]){var c=n[a],l=r.indexOf(c);-1===l?(s.push(new o("ladd",t,c,a)),r.splice(a,0,c)):(s.push(new o("lmove",t,c,a-l)),r.splice(l,1),r.splice(a,0,c))}return s},o.applyMultiple=function(e,t){return _.reduce(e,function(e,t){return t.apply(e)},t)};var u=function(e,t){function i(){return e.apply(this,t)}return i.prototype=e.prototype,new i};return o.deserialiseDeltas=function(e){return _.map(e,function(e){return u(o,e)})},o.checkStateCache=function(t,i,n){if(null===n&&0===i.length)return!0;var s=_.clone(n);delete s.mtime;var r=o.applyMultiple(i,_.clone(t));return delete r.mtime,!!_.isEqual(s,r)||(e.stateLog("cache",n,"!= goal",r,"for",t,"+",i),!1)},o}(TD.sync.util,TD.sync.tdapi,TD.util,TD.core.defer,TD.storage.notification)},function(e,t,i){"use strict";var n=i(87),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(n);TD.settings=function(e,t){function i(e){var t,i;if(!r)throw new Error("Settings client hasn't been initialized. Call settings.init() first.");return t=r.get("settings"),i=void 0,t&&(i=t[e]),_.isUndefined(i)&&(i=c[e]),(_.isArray(i)||_.isObject(i))&&(i=TD.sync.util.clone(i)),i}function n(){o.add([{label:TD.i("Increase column width"),apply:function(){var e=a.getColumnWidth(),t=Math.min(u.length-1,u.indexOf(e)+1);a.setColumnWidth(u[t])},canApply:function(){return a.getColumnWidth()!==_.last(u)}},{label:TD.i("Decrease column width"),apply:function(){var e=a.getColumnWidth(),t=Math.max(0,u.indexOf(e)-1);a.setColumnWidth(u[t])},canApply:function(){return a.getColumnWidth()!==_.first(u)}},{label:TD.i("Increase font size"),apply:function(){var e=a.getFontSize(),t=Math.min(d.length-1,d.indexOf(e)+1);a.setFontSize(d[t])},canApply:function(){return a.getFontSize()!==_.last(d)}},{label:TD.i("Decrease font size"),apply:function(){var e=a.getFontSize(),t=Math.max(0,d.indexOf(e)-1);a.setFontSize(d[t])},canApply:function(){return a.getFontSize()!==_.first(d)}},{label:"Use dark theme",apply:function(){return $(document).trigger("uiToggleTheme")},canApply:function(){return"dark"!==a.getTheme()}},{label:"Use light theme",apply:function(){return $(document).trigger("uiToggleTheme")},canApply:function(){return"light"!==a.getTheme()}}])}var r,o=s.makeCommandBag(),a={},c={},l=["previous_splash_version","dataminr_auth_token"],u=["narrow","medium","wide"],d=["smallest","small","medium","large","largest"],h={smallest:12,small:13,medium:14,large:15,largest:16};return a.linkShorteners=[{id:"twitter",title:"Twitter"},{id:"bitly",title:"Bit.ly"}],a.init=function(){r=e.clientController.client,r?$(document).trigger("dataSettingsValues",TD.sync.util.clone(r.get("settings"))):console.warn("Initialized settings before storage.clientController.init() was called."),n()},a.set=function(e,n){var s={};return t.notify("/storage/client/settings/"+e,n),_.isEqual(n,i(e))?TD.core.defer.succeed():(-1===l.indexOf(e)&&(_.isString(n)||_.isBoolean(n)||_.isNumber(n))&&TD.controller.stats.setting(e,n),_.defer(function(){s[e]=n,$(document).trigger("dataSettingsValues",s)}),r.dictSet("settings",e,n))},c.use_stream=!0,a.getUseStream=function(){return Boolean(i("use_stream"))},a.setUseStream=function(e){return a.set("use_stream",Boolean(e))},c.use_notification_sound=!0,a.getUseNotificationSound=function(){return Boolean(i("use_notification_sound"))},a.setUseNotificationSound=function(e){return a.set("use_notification_sound",Boolean(e))},a.getLanguage=function(){return String(i("language"))},a.setLanguage=function(e){return a.set("language",String(e))},c.check_for_updates=!0,a.getCheckForUpdates=function(){return Boolean(i("check_for_updates"))},a.setCheckForUpdates=function(e){return a.set("check_for_updates",Boolean(e))},c.use_narrow_columns=!1,c.column_width="medium",a.getColumnWidth=function(){var e=i("use_narrow_columns");return _.isBoolean(e)&&(a.set("use_narrow_columns",null),e)?(a.setColumnWidth("narrow"),"narrow"):i("column_width")},a.setColumnWidth=function(e){return a.set("column_width",e)},c.font_size="medium",a.getFontSize=function(){return i("font_size")},a.setFontSize=function(e){return a.set("font_size",e)},a.getFontSizePixels=function(e){return h[e]},c.theme="light",a.getTheme=function(){return i("theme")},a.setTheme=function(e){return a.set("theme",String(e))},c.link_shortener="twitter",a.getLinkShortener=function(){return String(i("link_shortener"))},a.setLinkShortener=function(e){return a.set("link_shortener",String(e))},c.use_jmp=!1,a.getUseJmp=function(){return Boolean(i("use_jmp"))},a.setUseJmp=function(e){return a.set("use_jmp",Boolean(e))},a.getGlobalFilter=function(){return i("global_filter")},a.setGlobalFilter=function(e){return a.set("global_filter",e)},c.show_startup_notifications=!0,a.getShowStartupNotifications=function(){return Boolean(i("show_startup_notifications"))},a.setShowStartupNotifications=function(e){return a.set("show_startup_notifications",Boolean(e))},c.show_search_filter_callout=!0,a.getShowSearchFilterCallout=function(){return i("show_search_filter_callout")},a.setShowSearchFilterCallout=function(e){return a.set("show_search_filter_callout",Boolean(e))},c.auto_play_gifs=!0,a.getAutoPlayGifs=function(){return i("auto_play_gifs")},a.setAutoPlayGifs=function(e){return a.set("auto_play_gifs",Boolean(e))},c.display_sensitive_media=!1,a.getDisplaySensitiveMedia=function(){return Boolean(i("display_sensitive_media"))},a.setDisplaySensitiveMedia=function(e){return a.set("display_sensitive_media",Boolean(e))},c.scheduled_col_autoadded=!1,a.getScheduledColAdded=function(){return Boolean(i("scheduled_col_autoadded"))},a.setScheduledColAdded=function(e){return a.set("scheduled_col_autoadded",Boolean(e))},c.previous_splash_version="0",a.getPreviousSplashVersion=function(){return i("previous_splash_version")},a.setPreviousSplashVersion=function(e){return a.set("previous_splash_version",String(e))},c.name_cache={},a.getNameCache=function(){return i("name_cache")},a.setNameCache=function(e){return a.set("name_cache",e)},c.seen_message_ids=[],a.getIdsForSeenMessages=function(){return i("seen_message_ids")},a.setIdsForSeenMessages=function(e){return a.set("seen_message_ids",e)},c.navbar_width="condensed",a.getNavbarWidth=function(){return i("navbar_width")},a.setNavbarWidth=function(e){return a.set("navbar_width",e)},c.compose_stay_open=!1,a.getComposeStayOpen=function(){return Boolean(i("compose_stay_open"))},a.setComposeStayOpen=function(e){return a.set("compose_stay_open",Boolean(e))},c.dataminr_auth_token=null,a.getDataminrAuthToken=function(){return i("dataminr_auth_token")},a.setDataminrAuthToken=function(e){return a.set("dataminr_auth_token",e)},c.account_selector_grid_mode="grid",a.getAccountSelectorGridMode=function(){return i("account_selector_grid_mode")},a.setAccountSelectorGridMode=function(e){return a.set("account_selector_grid_mode",e)},c.safeguarded_account_list=[],a.getSafeguardedAccountList=function(){return i("safeguarded_account_list")},a.setSafeguardedAccountList=function(e){return a.set("safeguarded_account_list",e)},a.removeSafeguardedAccount=function(e){return a.set("safeguarded_account_list",a.getSafeguardedAccountList().filter(function(t){return e!==t}))},a.addSafeguardedAccount=function(e){return a.set("safeguarded_account_list",a.getSafeguardedAccountList().filter(function(t){return e!==t}).concat([e]))},a.getBitlyAccount=function(){var e=i("bitly_login"),t=i("bitly_api_key");if(e&&t)return{apiKey:t,login:e}},a.setBitlyAccount=function(e){return a.set("bitly_login",e.login).addCallback(function(){return a.set("bitly_api_key",e.apiKey)}).addCallback(function(){return a.getBitlyAccount()})},a}(TD.storage,TD.storage.notification)},function(e,t,i){"use strict";TD.storage.SobjController=function(e,t,i,n,s,r){var o=function(){this._objects=null,this._objectsByApiid=null,this.reqsinflight=null,this.apiEndpoint=null,this._moduleName=null};return o.prototype.toString=function(){return"<SobjController["+(this._moduleName||"unknown")+"]>"},o.prototype.triggerPush=function(){throw t.printStacktrace(),new Error("NotImplemented")},o.prototype.bindTrigger=function(i){var n=t.makeThingScheduler,s=e.store.getTwitterLoginAccountID.bind(e.store);this.triggerPush=n(_.bind(this.pushDirty,this),null,i,s)},o.prototype.remove=function(e){var t=this._objects[e];t&&(t.managed=!1,t.hasApiid()&&delete this._objectsByApiid[t.getApiid()]),delete this._objects[e]},o.prototype.getAll=function(){return _.values(this._objects)},o.prototype.getByApiid=function(e){return t.assert(e,"must provide apiid; "+t.repr(e)),t.assert("undefined"!=e,"huh? where did that come from?"),this._objectsByApiid[e]},o.prototype.pushPreflight=function(){return s.succeed(null)},o.prototype.pushDirty=function(){TD.config.debug_checks&&this.checkInvariants();var e=_.uniqueId("pD:");r.push(this,"pushDirty",null,e);var t=this,i=this.pushPreflight();return i.addCallback(function(){var i=_.filter(t._objects,function(e){return e.isDirty()});if(_.isEmpty(i))return r.push(t,"(not dirty)",null,e),s.succeed();var n=t.pushObjects(i,e);return n.addCallback(function(){return t.pushDirty()}),n}),i},o.prototype.prePushCheckInvariants=function(e){},o.prototype.pushObjects=function(e,i){if(t.verboseLog(this.toString()+".pushObjects()",this,e),i||(i=_.uniqueId("pO:")),r.push(this,"pushObjects",e,i),t.assert(this.apiEndpoint,"api endpoint must be set"),_.isEmpty(e))return r.push(this,"(empty)",e,i),s.succeed([]);TD.config.debug_checks&&this.prePushCheckInvariants(e);var n=_.map(e,function(e){return e.getStateForBackend()}),o=_.pluck(n,"Δid"),a=_.pluck(n,"state");r.push(this,"objs+Δs",e,o,i),TD.config.debug_checks&&(_.each(a,function(e){t.assert(e.mtime||!e.id,"for a test and set request, we expect (require) either mtime (modify) or absence of id (create) for every object")}),_.isEmpty(this.reqsinflight)||(t.warn("WARNING! called pushObjects",e,"when already have requests in flight",t.clone(this.reqsinflight)),t._break()));var c=this.pushObjectsRequest(a,e,o,i);return c.addCallbackWith(this,function(e){return this._processTSResults(e.responses,e.objects,e.deltaIds,e.respHeaders,e.pushid)}),c.addErrback(function(e){return TD.util.metric("sync:sobj_controller:push_objects:error"),e}),c},o.prototype.pushObjectsRequest=function(e,t,i,n){var s=this;return TD.storage.store.getOrCreateTwitterLoginAccount().addCallback(function(t){return TD.net.ajax.request(TD.config.twitter_api_base+"/1.1/tweetdeck"+s.apiEndpoint,{method:"POST",params:e,headers:{"x-td-mtime-check":"partial","content-type":"application/json"},account:t})}).addCallback(function(e){return{responses:e.data,objects:t,deltaIds:i,respHeaders:{"x-td-mtime":e.xhr.getResponseHeader("x-td-mtime")},pushid:n}})},o.prototype._processTSResults=function(e,n,s,o,a){r.tsResults(this,e,n,s,o,a),e instanceof i.Conflict&&(r.conflicts(this,e.body,n,o,a),e=e.body),t.assert(e.length==n.length,"wrong number of responses/objects!"),t.assert(e.length==s.length,"wrong number of responses/deltas!"),t.verboseLog("objects",n,"deltas",s),_.each(s,function(e){t.assert(null!==e,"Δid must not be null")});var c=o["x-td-mtime"];t.assert(c,"require x-td-mtime header in object PUT");for(var l,u=this,d=0;d<e.length;d++)l=e[d],_.isString(l)?(t.verboseLog("_processTSResults",n[d],e[d]),function(e,i){t.verboseLog("_processTSResults:check_set_apiid",e,i),e.hasApiid()?t.assert(e.getApiid()==i,"apiid mismatch"):(u._objectsByApiid[i]=e,e.setApiid(i))}(n[d],e[d]),n[d].commit(s[d],c)):(r.conflict(this,l,n[d],o,a),t.verboseLog("_processTSResults: not an apiid:",l),n[d].newRemoteState(e[d]))},o.prototype.pushObject=function(e,i){t.verboseLog(this.toString()+".pushObject()",this,e,i),r.push(this,"object",e);var n=e.getStateForBackend(),s=n["Δid"],o=n.state;t.assert(o.mtime,"for a test and set request, we expect (require) mtime");var a=this.pushObjectRequest(i,o,e,s);return a.addCallbackWith(this,function(e){return this._processTSResult(e.response,e.object,e.deltaId,e.respHeaders)}),a.addErrback(function(e){return TD.util.metric("sync:sobj_controller:push_object:error"),e}),a},o.prototype.pushObjectRequest=function(e,t,i,n){return TD.storage.store.getOrCreateTwitterLoginAccount().addCallback(function(i){return TD.net.ajax.request(TD.config.twitter_api_base+"/1.1/tweetdeck"+e,{method:"POST",params:t,headers:{"x-td-iff-mtime":t.mtime,"content-type":"application/json"},account:i})}).addCallback(function(e){return{response:e.data||"",object:i,deltaId:n,respHeaders:{"x-td-mtime":e.xhr.getResponseHeader("x-td-mtime")}}})},o.prototype._processTSResult=function(e,n,s,o){r.tsResult(this,e,n,s,o),t.verboseLog("object",n,"delta",s),t.assert(null!==s,"Δid must not be null");var a;if(e instanceof i.Conflict)t.verboseLog("_processTSResult: got a conflict:",e),a=n.newRemoteState(e.body);else{t.assert(_.isString(e),"don't know how to handle response");var c=o["x-td-mtime"];t.assert(c,"require x-td-mtime header in object PUT"),t.verboseLog("_processTSResult",n,e),a=n.commit(s,c)}return a},o.prototype.checkInvariants=function(){var e=this;_.each(this._objects,function(i){var n=i.checkInvariants;n&&n.call(i),i.hasApiid()&&t.assert(e._objectsByApiid[i.getApiid()],"all managed objects with apiid must be in _objectsByApiid")})},o}(TD.storage,TD.sync.util,TD.sync.tdapi,TD.storage.notification,TD.core.defer,TD.sync.trace)},function(e,t,i){"use strict";TD.storage.StoredObj=function(e,t,i,n,s,r,o){function a(e){this.controller=e}return a.prototype.controller=null,a.prototype.managed=!1,a.prototype.stateCache=null,a.prototype.state=null,a.prototype.privateState=null,a.prototype.eventname="/storage/object",a.prototype._init=function(i){i||(i={}),o.objInit(this,i),this.state={},this.privateState={},_.isEmpty(i)?(this.deltaQ=[],this.stateCache=null):(this.deltaQ=[new e.StoredDelta("init",i)],this.stateCache=_.clone(i)),t.verboseLog("StoredObj.init",this,i,this.deltaQ)},a.prototype.getApiid=function(){var e=this.getPrivate("apiid");return t.assert(e,"missing apiid",this),e},a.prototype.hasApiid=function(){return Boolean(this.getPrivate("apiid"))},a.prototype.setApiid=function(e){return o.update("set apiid",this,[e]),this.setPrivate("apiid",e)},a.prototype.getKey=function(){return this.getPrivate("key")},a.prototype.setKey=function(e){return this.setPrivate("key",e)},a.prototype._prepCache=function(){return null===this.stateCache&&(t.assert(0===this.deltaQ.length,"empty stateCache must coincide with empty ΔQ"),this.stateCache=_.clone(this.state)),this.stateCache},a.prototype.set=function(i,n){return o.update("set",this,[i,n]),t.assert("columns"!==i,"you should be setting column_order, not columns"),this._prepCache(),this.deltaQ.push(new e.StoredDelta("set",i,n)),this.stateCache[i]=n,r.notify(this.eventname+"/change",this),this.controller.triggerPush()},a.prototype.setListPermutation=function(i,n){TD.config.debug_checks&&this.checkCache();var a=this.get(i);if(_.isEqual(n,a))return o.update("set null list permutation",this,[i,a,n]),t.stateLog("ignoring request to change list at",i),s.succeed();o.update("set list permutation",this,[i,a,n]);var c=e.StoredDelta.listPermutator(i,a,n);return t.verboseLog("set list permutation",a,"→",n,"Δs:",c),this.deltaQ=this.deltaQ.concat(c),this.stateCache=e.StoredDelta.applyMultiple(this.deltaQ,this.state),TD.config.debug_checks&&this.checkCache(),r.notify(this.eventname+"/change",this),this.controller.triggerPush()},a.prototype.listPrepend=function(t,i){o.update("list prepend",this,[t,i]);var n=this.get(t);return n||(n=[]),this._prepCache(),this.deltaQ.push(new e.StoredDelta("linsert",t,i,0)),this.stateCache[t]=[i].concat(n),r.notify(this.eventname+"/change",this),this.controller.triggerPush()},a.prototype.listAppend=function(t,i){o.update("list append",this,[t,i]);var n=this.get(t);return n||(n=[]),this._prepCache(),this.deltaQ.push(new e.StoredDelta("linsert",t,i,n.length)),this.stateCache[t]=n.concat([i]),r.notify(this.eventname+"/change",this),this.controller.triggerPush()},a.prototype.listAdd=function(i,n){var a=this.get(i);a||(a=[]);var c=new e.StoredDelta("ladd",i,n,a.length),l=c.applyToValue(i,a);return _.isEqual(l,a)?(o.update("set null list add",this,[i,a,l]),t.stateLog("ignoring request to add to list at",i),s.succeed()):(o.update("list add",this,[i,n]),this._prepCache(),this.deltaQ.push(c),this.stateCache[i]=l,r.notify(this.eventname+"/change",this),this.controller.triggerPush())},a.prototype.listTruncate=function(t,i){o.update("list truncate",this,[t,i]);var n=this.get(t);return n||(n=[]),this._prepCache(),this.deltaQ.push(new e.StoredDelta("ltrunc",t,i)),n.length>i&&n.splice(i,n.length-i),this.stateCache[t]=n,r.notify(this.eventname+"/change",this),this.controller.triggerPush()},a.prototype.listRemove=function(t,i){o.update("list remove",this,[t,i]);var n=this.get(t)||[];return this._prepCache(),this.deltaQ.push(new e.StoredDelta("ldel",t,i)),this.stateCache[t]=_.without(n,i),r.notify(this.eventname+"/change",this),this.controller.triggerPush()},a.prototype.listDedupe=function(t){o.update("list dedupe",this,[t]);var i=this.get(t)||[];this._prepCache();var n=new e.StoredDelta("ldedupe",t);return this.deltaQ.push(n),this.stateCache[t]=n.applyToValue(t,i),r.notify(this.eventname+"/change",this),this.controller.triggerPush()},a.prototype.dictSet=function(t,i,n){o.update("dict set",this,[t,i,n]),this._prepCache();var s=_.clone(this.get(t));return this.deltaQ.push(new e.StoredDelta("hset",t,i,n)),s||(s={}),s[i]=n,this.stateCache[t]=s,r.notify(this.eventname+"/change",this),this.controller.triggerPush()},a.prototype.setPrivate=function(e,t){var i=this.privateState[e];return this.privateState[e]=t,i!==t&&r.notify(this.eventname+"/change",this),s.succeed()},a.prototype.getPrivate=function(e){return this.privateState[e]},a.prototype.immutableSet=function(e,i){var n=this.state[e];if(i!=n)throw t.warn("ERROR: attempt to change",e,"of",this,"from",n,"to",i),new Error("attempt to modify immutable field "+e);return s.succeed()},a.prototype.setValueIffDifferent=function(e,i,n,o){var a=this.get(e);return _.isEqual(a,i)?s.succeed(null):(t.verboseLog(this,"setValueIffDifferent",e,"from",a,"to",i),n&&r.notify(n,i,a,this),o&&o(i,a),r.notify(this.eventname+"/change",this),this.set(e,i))},a.prototype.get=function(e){return null===this.stateCache?this.state[e]:this.stateCache[e]},a.prototype.latestDelta=function(){return _.isEmpty(this.deltaQ)?null:this.deltaQ[this.deltaQ.length-1].id},a.prototype.getStateForBackend=function(){TD.config.debug_checks&&(t.precondition(this.isDirty(),"don't call getStateForBackend unless isDirty"),this.checkCache());var e=_.clone(null!==this.stateCache?this.stateCache:this.state);return!e.mtime&&this.state.mtime&&(e.mtime=this.state.mtime),{"Δid":this.latestDelta(),state:this.transformForRemote(e,this.privateState)}},a.prototype.postProcessNewRemoteState=function(){},a.prototype.newRemoteState=function(i){o.update("new remote state",this,i),TD.config.debug_checks&&(t.stateLog("checking cache"),this.checkCache()),t.verboseLog("transforming to local:",this,t.clone(i)),this.state=this.transformToLocal(i),0!==this.deltaQ.length?(t.assert(null!==this.stateCache,"if we have Δs, we should have cache"),t.verboseLog("applying pending deltas",this,t.clone(this.deltaQ)),this.stateCache=e.StoredDelta.applyMultiple(this.deltaQ,this.state)):t.assert(null===this.stateCache,"if no Δs, should have no cache"),this.postProcessNewRemoteState(),TD.config.debug_checks&&(t.stateLog("checking cache"),this.checkCache()),r.notify(this.eventname+"/change",this)},a.prototype.commit=function(i,n){o.update("commit",this,[i+" : "+n]);var s=_.pluck(this.deltaQ,"id").indexOf(i);if(-1===s)throw t.stateLog("asked to commit "+i+" but it doesn't exist in "+_.map(this.deltaQ,function(e){return e.toString()})),new Error("invalid deltaId supplied");if(TD.config.debug_checks&&this.checkCache(),s===this.deltaQ.length-1)this.deltaQ=[],this.state=_.clone(this.stateCache),this.state.mtime=n,this.stateCache=null,TD.config.debug_checks&&this.checkCache();else{var r=this.deltaQ.splice(0,s+1),a=e.StoredDelta.applyMultiple(r,this.state);this.state=a,this.state.mtime=n,this.stateCache.mtime=n,TD.config.debug_checks&&this.checkCache(),this.controller.triggerPush()}},a.prototype.checkCache=function(){var i=e.StoredDelta.checkStateCache(this.state,this.deltaQ,this.stateCache);t.assert(i,"cache != state+Δs")},a.prototype.checkInvariants=function(){this.hasApiid()||t.assert(_.isEmpty(this.state),'must have no "state" if no apiid'),t.assert(this.state&&_.isUndefined(this.state.apiid),"apiid in non-priv state, bad"),this.isDirty()?(t.assert(!_.isEmpty(this.deltaQ),"deltaQ must be non-empty if dirty"),t.assert(null!==this.stateCache,"cache must be present if dirty"),this.checkCache(),this.hasApiid()&&t.assert(null!==this.latestDelta(),"latestDelta() must not return null for Δid for dirty object")):(t.assert(_.isEmpty(this.deltaQ),"deltaQ must be empty if not dirty"),t.assert(null===this.stateCache,"cache must be absent if not dirty"))},a.prototype.isDirty=function(){return this.hasApiid()?0!==this.deltaQ.length:(t.assert(0!==this.deltaQ.length,"should be dirty if no apiid"),!0)},a}(TD.storage,TD.sync.util,TD.sync.tdapi,TD.util,TD.core.defer,TD.storage.notification,TD.sync.trace)},function(e,t,i){"use strict";var n={};n.CURRENT_VERSION=5,n.getVersion=function(e){var t=e.getItem("__version__");return null===t?n.guessVersion(e):Number(t)},n.guessVersion=function(e){var t=e.getItem("settings"),i=e.getItem("clients"),n=e.getItem("columns");if(i&&!t&&(i=JSON.parse(i),!_.isEmpty(i))){if("ΔQ"in _.values(i)[0])return 2}return!i&&t&&n?0:4},n.doUpgrade=function(e){var t=n.getVersion(e._backend);(!t||t<4)&&n._upgradeAllToV4(e),t=n.getVersion(e._backend),t<5&&n._upgradeV4ToV5(e),e.setVersion(this.CURRENT_VERSION)},n._upgradeAllToV4=function(e){console.log("Upgrading store to v4"),e.constructor.flushDataFromStore(e._backend,e.constructor.PERSISTENT_SESSION_ITEMS),e.setVersion(4)},n._upgradeV4ToV5=function(e){window.sessionStorage&&sessionStorage.removeItem("migrate");var t=e._backend;"tweetdeck"===t.getItem("currentAuthType")&&(t.removeItem("currentAuthType"),t.removeItem("tweetdeckAccount"),t.removeItem("_session")),e.setVersion(5)},e.exports=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(1301),r=n(s),o=i(39),a=n(o),c=i(15),l=n(c),u=i(236),d=n(u),h=i(62),p=n(h),f=i(450),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(f);TD.sync.controller=function(e,t,i){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columns,i=void 0===t?{}:t,n=e.client;n=void 0===n?{}:n;var s=n.columns,o=void 0===s?[]:s,a=(0,r.default)(n,["columns"]),c=o.filter(function(e){return i[e]});return c.length!==o.length&&TD.util.metric("sync:controller:fix-missing-columns:columns-missing"),(0,l.default)({},e,{client:(0,l.default)({},a,{columns:c})})}var s={};return s.flushSyncDataAndReload=function(){TD.storage.Store.flushWebstorage(TD.storage.Store.PERSISTENT_SESSION_ITEMS),TD.util.isWrapperApp()&&deck.tearDown(),window.location.reload()},s.updateFromBackendData=function(e){TD.storage.accountController.updateFromBackend(e.accounts,e.client),TD.storage.feedController.updateFromBackend(e.feeds),TD.storage.columnController.updateFromBackend(e.columns),TD.storage.clientController.updateFromBackend(e.client),TD.decider.get("disable_decider_using_dedicated_endpoint")&&TD.decider.updateFromBackend(e.decider)},s.ueberpull=function(){e.trace("überpull");var t=i.succeed();return t.addCallback(function(){return TD.storage.columnController.triggerPush(.05)}),t.addErrback(e.errmark,"d.Eb:triggerPush"),t.addCallback(s.sync),t.addCallback(function(e){$(document).trigger("dataMessages",{messages:e.messages})}),t.addErrback(e.errmark,"d.Eb:sync.controller.updateFromBackend"),t},s.init=function(){var e=i.succeed();return e.addCallback(function(){TD.storage.feedController.init(),TD.storage.columnController.init(),TD.storage.accountController.init(),TD.storage.clientController.init();var e=TD.config.sync_period;_.isUndefined(e)&&(e=600),s.loop=setInterval(s.ueberpull,1e3*e)}),e.addCallback(s.sync),e},s.sync=function(){return TD.util.metric("sync:controller:sync-with-cookie"),s.fetchSyncData().addCallbackWith(s,s.applySyncData)},s.fetchSyncData=function(){var t=TD.storage.store.getOrCreateTwitterLoginAccount(),i=s.fetchAccountsForTwitterAccount(),n=s.fetchAllForTwitterAccount();return n.addErrback(s.maybeCreateNewBackendState),n.addCallback(function(e){return delete e.decider,e}),TD.core.defer.gatherResults([t,i,n]).addErrback(TD.util.effect(function(){return e.warn("WARNING! sync with twitter account failed")}))},s.applySyncData=function(t){var i=TD.core.defer.succeed(t);return i.addCallback(function(e){var t=(0,d.default)(e,3),i=t[0],n=t[1],s=t[2];return(0,l.default)({},s,{loginAccount:i,accounts:[i.getStateForBackend({withIdentifiers:!0})].concat((0,a.default)(n.map(function(e){return TD.storage.Account.generateRemoteDataForTwitterUser(e.user)})))})}),i.addCallback(n),i.addCallback(TD.util.dEffect(s.updateFromBackendData)),i.addCallback(TD.util.dEffect(function(t){return TD.decider.updateFromBackendForID(t.loginAccount.getUserID()).addErrback(TD.util.effect(function(){return e.warn("WARNING! decider poll failed")}))})),i},s.maybeCreateNewBackendState=function(e){if(404!==e.number)return e;var t=TD.storage.clientController.createNewBackendState();return t.addCallbackWith(s,s.fetchAllForTwitterAccount),t},s.fetchAccounts=function(){return t.drequest("/accounts")},s.fetchAccountsForTwitterAccount=function(){return(0,p.default)(TD.decider.get("graphql_login"),m.getContributees,function(){return TD.net.ajax.request(TD.config.twitter_api_base+"/1.1/users/contributees.json").addCallback(function(e){return e.data})})},s.fetchAllForTwitterAccount=function(){return TD.net.ajax.request(TD.config.twitter_api_base+"/1.1/tweetdeck/clients/blackbird/all").addCallback(function(e){return e.data})},s.checkInvariants=function(){var e=[TD.storage.feedController,TD.storage.columnController,TD.storage.accountController,TD.storage.clientController];_.each(e,function(e){var t=e.checkInvariants;t&&t.call(e)})},s.reset=function(){s.loop&&(clearInterval(s.loop),delete s.loop),TD.storage.columnController.reset(),TD.storage.feedController.reset(),TD.storage.accountController.reset(),TD.storage.clientController.reset()},s}(TD.sync.util,TD.sync.tdapi,TD.core.defer)},function(e,t,i){"use strict";var n=i(43),s=function(e){return e&&e.__esModule?e:{default:e}}(n);TD.sync.tdapi=function(e,t,i,n){var r={},o=null;r.getDecider=function(e){var t="/decider?identifier="+e,i={type:"GET"};return r.drequest(t,i,{})},r.importSetup=function(e,t){return r.requestWithBody("/import","POST",{from_username:e,passhash:t})},r.importPreview=function(e,t){return r.drequest("/import/preview",{type:"POST",headers:{},data:(0,s.default)({from_username:e,passhash:t}),contentType:"application/json"})},r.onAuthFail=function(e,t){o=e},r.Conflict=function(e){this.body=e};var a=new RegExp("^([^:]*): (.*)$"),c=function(e,t){_.isUndefined(t)&&(t={});var i=e.getAllResponseHeaders(),n=i.split("\r\n");return 1==n.length&&(n=i.split("\n")),_.each(n,function(e){var i=e.match(a);i&&(t[i[1].toLowerCase()]=i[2])}),t};return r.drequest=function(n,s,a,l){var u=_.uniqueId(s&&s.reqid?"["+s.reqid+"]rq:":"rq:");if(e.stateLog("drequest",u,n,s),(null===s||_.isUndefined(s))&&(s=r.getReq()),i.request(u,n,s),"/"==n.charAt(0)&&(n=TD.config.api_root+n),!_.startsWith(n,"http://")&&!_.startsWith(n,"https://"))return t.fail(new Error("Malformed url"));s.headers=_.defaults(s.headers||{},{"X-Twitter-Client-Version":TD.util.getTweetDeckUserAgentString()});var d=function(i,n){var s=jQuery.ajax(i,n),r=new t.Deferred;return s.done(function(e,t,i){r.callback(i)}),s.fail(function(i,n,s){409===i.status?(e.assert("Conflict"===s,"409 should be Conflict"),r.callback(i)):r.errback(new t.XMLHttpRequestError(i,s))}),r}(n,s);d.reqid=u;var h=function(e){var t,i=e.req;if(401!==i.status||l)throw e;if(t=c(i),"X-TD-Session"!==t["www-authenticate"])throw e;throw o&&o(),e};d.addErrback(h);var p=function(t,o){var l,d=function(t){if(""===t)return t;try{return JSON.parse(t)}catch(i){return _.isEmpty(t)||e.warn(["failed to json parse drequest response;",t,"for request",n,s]),t}};return l=409===t.status?new r.Conflict(d(t.responseText)):d(t.responseText),a&&c(t,a),a&&a.date&&TD.storage.notification.notify("/date",a.date),e.stateLog("drequest ret",u,n,l,t.getAllResponseHeaders().split("\n")),i.response(u,n,l,a),l};return d.addCallback(p,u),d},r.requestWithBody=function(e,t,i,n,o,a,c){var l=r.getReq({type:t,reqid:a,headers:o||{},data:(0,s.default)(i),contentType:"application/json"});return r.drequest(e,l,n,c)},r.getReq=function(e){var t={type:"GET",headers:{}};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return e&&e.method&&(t.type=e.method),t},r}(TD.sync.util,TD.core.defer,TD.sync.trace,TD.core.base64)},function(e,t,i){"use strict";TD.sync.trace=function(e){var t={},i=[];return t.record=function(){var t=(new Date).toLocaleTimeString();i.push([t].concat(_.toArray(arguments))),TD.config.debug_trace&&e.stateLog.apply(null,["-------- TRACE: "+t].concat(_.toArray(arguments))),TD.config.debug_menu||i.length>200&&i.splice(0,100)},t.request=function(e,i,n){t.record("request",e,n.type,i,_.clone(n))},t.response=function(e,i,n,s){t.record("response",e,i,_.clone(n),_.clone(s))},t.objInit=function(e,i,n){t.record("obj init",e,_.clone(i),_.clone(n))},t.manage=function(i,n){t.record("manage",i,n,e.clone(n.getStateForLocalstorage()))},t.update=function(e,i,n){t.record("update",e,i,_.clone(n))},t.push=function(i,n,s,r){t.record("push",i,n,_.clone(s),e.clone(r))},t.tsResults=function(e,i,n,s,r,o){t.record("t+s results",e,_.clone(i),_.clone(n),_.clone(s),_.clone(r),o)},t.tsResult=function(e,i,n,s,r,o){t.record("t+s result",e,_.clone(i),_.clone(n),s,_.clone(r),o)},t.conflicts=function(e,i,n,s,r){t.record("conflicts",e,_.clone(i),_.clone(n),_.clone(s),r)},t.conflict=function(e,i,n,s,r){t.record("conflict",e,_.clone(i),_.clone(n),_.clone(s),r)},t.assert=function(i,n){t.record("ASSERT",i,n,e.getStack())},t.clear=function(){i=[]},t.logDump=function(){var e="-------------------------------------------------------------";console.log(e+" TRACE dump "+e),_.each(i,function(e){console.log(e)}),console.log(e+"  END dump  "+e)},t.logSummarise=function(){var t="-------------------------------------------------------------";console.log(t+" TRACE dump "+t);var n=e.list_to_set(["obj init","update"]);_.each(i,function(e){n[e[1]]||console.log(e)}),console.log(t+"  END dump  "+t)},t}(TD.sync.util)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var i=y[t];return"string"!=typeof e?e:"string"!=typeof i?e:o(r(e),i)}function r(e){return e.replace(w,".")}function o(e,t){return e.replace(b,t+"$1")}Object.defineProperty(t,"__esModule",{value:!0}),t.x400=t.x200=t.x128=t.x96=t.x73=t.x48=t.x24=t.ORIGINAL=void 0;var a,c=i(27),l=n(c),u=i(152),d=n(u);t.getAvatarUrlBySize=s;var h=t.ORIGINAL="original",p=t.x24="24x24",f=t.x48="48x48",m=t.x73="73x73",g=t.x96="96x96",v=t.x128="128x128",T=t.x200="200x200",_=t.x400="400x400",y=(a={},(0,d.default)(a,h,""),(0,d.default)(a,p,"_mini"),(0,d.default)(a,f,"_normal"),(0,d.default)(a,m,"_bigger"),(0,d.default)(a,g,"_x96"),(0,d.default)(a,v,"_reasonably_small"),(0,d.default)(a,T,"_200x200"),(0,d.default)(a,_,"_400x400"),a),w=function(e){var t=(0,l.default)(e).map(function(t){return e[t]}).filter(Boolean),i="("+t.join("|")+")\\.";return new RegExp(i+"(?!.*"+i+")")}(y),b=/(\.[^\.\/]*$)/},function(e,t,i){"use strict";e.exports={browserNeedsWillAnimateFix:_.memoize(function(){var e=window.navigator.userAgent,t=e.match(/Chrome\/([\d]+)\./),i=e.match(/AppleWebKit\/([\d]+)\./);return!!(t&&parseInt(t[1],10)>=35)||!!("mac"===TD.util.getAppEnv()&&i&&parseInt(i[1],10)>=537)})}},function(e,t,i){"use strict";function n(e){var t=/[!'%&'*+,\-.\/:;<=>?\[\]^_{|}~"]/g,i=/\bOR\b/g,n=null===e.match(i),s=null===e.match(t);return n&&s}Object.defineProperty(t,"__esModule",{value:!0}),t.trackQuerySupportedByContent=n},function(e,t,i){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s[e.code]||e.message||s.unknown}Object.defineProperty(t,"__esModule",{value:!0}),t.getApiErrorMessage=n;var s=t.apiErrors={0:TD.i("Something went wrong. Please check your connection and try again."),32:TD.i("The username and password you entered did not match our records. Please double-check and try again."),63:TD.i("This user has been suspended."),64:TD.i("Your account has been suspended."),130:TD.i("Twitter is temporarily over capacity. Please try again later."),131:TD.i("There's something wrong. Please try again later."),135:TD.i("Could not authenticate you."),108:TD.i("There is no user by that name."),150:TD.i("This user doesn't follow you. You can only send messages to people who do."),151:TD.i("Something went wrong, but don't fret. It's not your fault."),185:TD.i("You reached your daily tweet limit. Please try again tomorrow."),187:TD.i("You already tweeted that."),195:TD.i("Invalid search query."),215:TD.i("Could not authenticate you."),226:TD.i("This action was flagged as suspicious."),231:TD.i("You need to generate a temporary password on twitter.com to log in."),235:TD.i("Your login verification request has expired. Please log in again."),236:TD.i("That is not the correct code. Please re-enter the code sent to your phone."),241:TD.i("The login verification request sent to your phone was rejected."),242:TD.i("Your account is deactivated. Please log in on twitter.com to reactivate."),243:TD.i("You have too many failed login attempts. Please try again in an hour."),244:TD.i("You must reset the password on this account. Please log in on twitter.com to do this."),245:TD.i("You have initiated too many login requests. Please try logging in again in an hour."),246:TD.i("You have entered too many incorrect codes. Please try logging in again."),276:TD.i("Scheduled tweet was rejected. Please try again."),297:TD.i("You cannot have both media and tweet."),278:TD.i("You are not a member of this group"),280:TD.i("You cannot add more people to this conversation. Try starting a new one."),311:TD.i("You have already sent this message."),429:TD.i("You have initiated too many login requests. Please try logging in again later."),unknown:TD.i("Unknown error. Please try again.")}},function(e,t,i){"use strict";function n(e){var t=/[!'%&*+,\-.\/:;<=>?\[\]^_{|}~"()]/g,i=/\bOR\b/g,n=!e.match(i),s=!e.match(t);return n&&s}Object.defineProperty(t,"__esModule",{value:!0}),t.searchQuerySupportedByInsights=n},function(e,t,i){"use strict";var n=i(430);n.mapbox.accessToken=TD.config.mapbox_access_token,i(2052),e.exports=n},function(e,t,i){"use strict";var n=i(13),s=i(54);t.getPollDataFromCard=function(e){var i=t.parsePollCardResponse(e),r=s(i.choices).pluck("count").sum(),o=t.insertPercentages(i.choices);i.countsAreFinal&&r>0&&(o=t.insertWinner(i.choices)),o=o.map(function(e){return e.label=n.cleanWithEmoji(e.label),e});var a=i.endDatetimeUTC&&TD.util.timeLeft(new Date(i.endDatetimeUTC),{longForm:!0,adjustSystemTime:!0});return{choices:o,hasCount:r>0,hasTimeLeft:a&&"now"!==a,prettyCount:n.prettyNumber(r)+" vote"+(1===r?"":"s"),prettyTimeLeft:a}},t.parsePollCardResponse=function(e){var t=e.binding_values,i=[];return s.range(1,5).forEach(function(e){var n=s.get(t,"choice"+e+"_label.string_value"),r=s.get(t,"choice"+e+"_count.string_value","0"),o=s.get(t,"selected_choice.string_value");n&&i.push({label:n,count:Number(r),isSelectedChoice:Number(o)===e})}),{countsAreFinal:s.get(t,"counts_are_final.boolean_value"),endDatetimeUTC:s.get(t,"end_datetime_utc.string_value"),choices:i}},t.insertPercentages=function(e){var t=s(e).pluck("count").sum(),i=e.map(function(e){return 0===t?e.percentage=0:e.count>=t?e.percentage=100:e.percentage=Math.round(e.count/t*100),e}),n=s(i).pluck("percentage").sum(),r=s.findLast(i,function(e){return e.count>0});return t>0&&100!==n&&(r.percentage+=100-n),i},t.insertWinner=function(e){var t=s(e).pluck("count").max();return e.map(function(e){return e.isWinner=e.count===t,e})}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(20),r=n(s),o=i(171),a=n(o);t.isCacheHit=function(e){return e.chirps.length||e.remainderCursor.interval.empty},t.getRefreshCursor=function(e,i){var n=r.default.reorderableFeedTypes[e.getType()];return{bounds:{lower:n?void 0:t.calculateLowerBound(e.getKey(),i,{isGapless:r.default.gaplessFeedTypes[e.getType()]})},interval:t.getRefreshCursorInterval(i,{isReorderable:n})}},t.getRefreshCursorInterval=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.isReorderable,n=void 0!==i&&i,s=n?void 0:e.find(function(e){return"rest"===e.apiSource});return new a.default(s?a.default.excEnd(s):a.default.negInf,a.default.posInf)},t.getBottomChirp=function(e){return e[e.length-1]},t.getTopChirp=function(e){return e[0]},t.makeChirpInterval=function(e){return 0===e.length?a.default.empty:new a.default(a.default.incEnd(t.getBottomChirp(e)),a.default.incEnd(t.getTopChirp(e)))},t.makeRequestResultInterval=function(e,i){return 0===e.length?a.default.empty:new a.default(a.default.incEnd(t.getBottomChirp(e)),i.to)},t.getBoundsForChirp=function(e,i){return{lower:t.getLowerBoundForChirp(e,i),upper:t.getUpperBoundForChirp(e,i)}},t.annotateChirpsWithApiBounds=function(e,t){return t.map(function(t){var i=TD.util.poller.getBoundsForChirp(e.getType(),t);return t.setApiBounds(e.getKey(),i)})},t.calculateUpperBound=function(e,t){for(var i,n=t.length-1;n>=0&&(void 0===i||null===i);)i=t[n].getApiBounds(e).upper,n-=1;return i},t.getUpperBoundForChirp=function(e,t){var i,n=TD.controller.FeedPoller.CURSORED_ON_TWEET_TIMESTAMP[e],s=e===TD.controller.FeedPoller.FEED_TYPES.search,r=TD.controller.FeedPoller.CURSORED_FEED_TYPES[e],o=TD.controller.FeedPoller.SCHEDULED_FEED_TYPES[e],a=e===TD.controller.FeedPoller.FEED_TYPES.dataminr,c=e===TD.controller.FeedPoller.FEED_TYPES.direct,l=t.id,u=TD.decider.get("universal_search_timelines"),d=function(e,t,i){return t>e.length-1?e:e.substr(0,t)+i+e.substr(t+1)};if(o)l=t.created.getTime()/1e3;else if(s&&u)l=u&&TD.decider.get("universal_search_timelines_by_id")?t.id:t.created.getTime()/1e3;else if(n)l=t.minPosition||t.created.getTime(),l-=1;else if(r)l=t.cursor;else if(a)l=t.dataminr.created.getTime();else if(c)l=t.minEntryId;else if("string"==typeof l)for(var h=l.length-1;h>=0;h--){if("0"!==(i=l.charAt(h))){i=String(Number(i)-1),l=d(l,h,i);break}l=d(l,h,9)}else l--;return l},t.calculateLowerBound=function(e,t,i){i=_.defaults({},i,{isGapless:!1});for(var n,s=i.isGapless?0:1;s<t.length&&void 0===n;)"rest"===t[s].apiSource&&(n=t[s].getApiBounds(e).lower),s+=1;return n},t.getLowerBoundForChirp=function(e,t){var i=TD.controller.FeedPoller.CURSORED_ON_TWEET_TIMESTAMP[e],n=e===TD.controller.FeedPoller.FEED_TYPES.search,s=TD.controller.FeedPoller.CURSORED_FEED_TYPES[e],r=TD.controller.FeedPoller.SCHEDULED_FEED_TYPES[e],o=e===TD.controller.FeedPoller.FEED_TYPES.dataminr,a=e===TD.controller.FeedPoller.FEED_TYPES.direct,c=TD.decider.get("universal_search_timelines");return r?t.created.getTime()/1e3:n&&c?c&&TD.decider.get("universal_search_timelines_by_id")?t.id:t.created.getTime()/1e3:i?t.maxPosition||t.created.getTime().toString():s?t.cursor:o?t.dataminr.created.getTime():a?t.cursor:t.getSinceId()}},function(e,t,i){"use strict";var n={};n.chirpPasses=function(e,t){return t instanceof TD.services.TwitterStatus?n.tweetPasses(e,t):!(t instanceof TD.services.TwitterAction)||n.actionPasses(e,t)},n.userPasses=function(e,t){return!t||!e[t.id]},n.tweetPasses=function(e,t){return!t||n.userPasses(e,t.user)&&n.tweetPasses(e,t.retweetedStatus)&&n.tweetPasses(e,t.quotedTweet)},n.actionPasses=function(e,t){return!t||n.userPasses(e,t.getCreator())&&t.getTargetUsers().every(n.userPasses.bind(n,e))},e.exports=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(263),r=n(s),o=i(398),a=n(o),c=i(625),l=n(c),u=i(97),d=n(u),h=i(202),p=n(h),f=i(111),m=n(f),g=i(380),v=n(g),T=i(379),_=n(T),y=i(112),w=n(y),b=i(401),D=n(b),C=i(261),S=n(C),E=i(200),I=n(E),A=i(383),x=n(A),k=i(170),M=n(k),O=i(441),R=n(O),L=i(171),F=n(L),N=i(20),P=n(N),j=i(6);TD.vo.Column=function(e,t){var i=this;TD.sync.util.assert(e,"must provide sColumn to create aColumn"),this.model=e,TD.sync.util.assert(this.model.getKey(),"vo.Column will most likely fail if your column has no key"),this.ui=new TD.ui.Column(this.model.getKey()),this._feeds=[],this.filters=[],this.description="",this.reset(),this.scribedImpressionIDs=new M.default(200),this._isUpdating=!0,this.feedSubscriptions={},this.deleteSubscriptions={},this.visible=!0,this.visibility={columnWidth:0,visibleWidth:0,visibleHeight:0,visibleFraction:0},this.temporary=!1,this.detailViewComponent=null,this.UPWARD_SCROLL_CHIRP_BLOCK_SIZE=40,this.INFINITE_SCROLL_CHIRP_BLOCK_SIZE=20,this.TARGET_COLUMN_CHIRP_LIMIT=40,this.RETRY_FILL_TIMEOUT=1e3,this.loadFeeds(),this.loadFilters(),t&&this.setFeeds(t),this.isFilterable()||this.updateSearchFilter(new TD.vo.SearchFilter),this.COLUMN_MINIMALIST_TWEET_TPM_THRESHOLD=750,this.CARDS_TPM_THRESHOLD=10,this.streamRate=0,this.streamRateEvent="dataStreamRate."+this.model.getKey(),$(document).on(this.streamRateEvent,this.updateStreamRate.bind(this)),this.tpm=0,this.tpmUpdateEvent="dataColumn"+this.model.getKey()+"Tpm",$(document).on(this.tpmUpdateEvent,this.updateTpm.bind(this)),this.tpmCounter=new TD.util.TpmCounter(500,5e3,this.tpmUpdateEvent),this.tpmIncrementEvent="incrementTpmCounter."+this.model.getKey(),$(document).on(this.tpmIncrementEvent,function(e,t){t.columnKey===i.model.getKey()&&i.tpmCounter.incrementCounter(1)}),this.STREAM_ITEM_CONTENT_SELECTOR=".js-stream-item-content",this.STREAM_ITEM_SELECTOR=".js-stream-item",this.miscSubscriptions=[$.subscribe("/storage/client/settings/display_sensitive_media",function(){return i.reloadTweets()}),$.subscribe("/storage/client/settings/font_size",function(){return i.reloadTweets()}),$.subscribe("/storage/client/settings/theme",function(){return i.reloadTweets()})],this.throttledUpdateUnreadIndicators=(0,x.default)(this.updateUnreadIndicators.bind(this),100),this.pausePlayGifs=(0,x.default)(this.pausePlayGifs.bind(this),500),this.chirpsWithPlayingGifs=[],this.visibleChirpsEvent="uiVisibleChirps."+this.model.getKey(),$(document).on(this.visibleChirpsEvent,function(e,t){t.columnKey===i.model.getKey()&&i.handleVisibleChirps(t)})},TD.vo.Column.MEDIA_PREVIEW_OFF="off",TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL="small",TD.vo.Column.MEDIA_PREVIEW_SIZE_MEDIUM="medium",TD.vo.Column.MEDIA_PREVIEW_SIZE_LARGE="large",TD.vo.Column.prototype.handleVisibleChirps=function(e){var t=e.chirpsData.map(function(e){return e.chirp}).filter(function(e){return e&&!e.showMore&&!e.topCursor}),i=TD.util.getTopChirp([this.highWaterMarkSeenChirp].concat(t));if(i!==this.highWaterMarkSeenChirp&&(this.highWaterMarkSeenChirp=i),this.throttledUpdateUnreadIndicators(),this.pausePlayGifs(t),this.loadCardsForVisibleChirps(t),TD.config.debug_highlight_visible_chirps){var n=this.ui.getChirpContainer(),s=(0,I.default)(t,"id");n.find(".js-stream-item").each(function(){var e=$(this),t=e.attr("data-key"),i=s.indexOf(t)>-1?"#ffb699":"transparent";e.css("background-color",i)})}},TD.vo.Column.prototype.loadCardsForVisibleChirps=function(e){var t=this,i=this.getMediaPreviewSize()===TD.vo.Column.MEDIA_PREVIEW_OFF,n=this.tpm>this.CARDS_TPM_THRESHOLD,s=TD.ui.columns.isScrolledToTop(this.model.getKey()),r=s&&n,o=e.filter(Boolean).filter(function(e){return e.hasCard()});i||r||o.filter(function(e){return!e.hasMedia()}).forEach(function(e){t.ui.loadCard(e,t.getColumnType())}),this.ui.teardownAllCards({preserveChirpIds:o.map(function(e){return e.id})})},TD.vo.Column.prototype.pausePlayGifs=function(e){var t=this,i=e.filter(Boolean).filter(function(e){var t=e.quotedTweet&&e.quotedTweet.hasAnimatedGif();return e.hasAnimatedGif()||t});(0,S.default)(this.chirpsWithPlayingGifs,i).forEach(function(e){t.ui.unloadGif(e,t.getRenderOptions())},this.ui),i.forEach(function(e){t.ui.loadGif(e,t.getRenderOptions()),TD.settings.getAutoPlayGifs()?t.ui.playGifIfNotManuallyPaused(e):t.ui.pauseGif(e),e.quotedTweet&&(t.ui.loadGif(e.quotedTweet,t.getRenderOptions()),TD.settings.getAutoPlayGifs()?t.ui.playGifIfNotManuallyPaused(e.quotedTweet):t.ui.pauseGif(e.quotedTweet))}),this.chirpsWithPlayingGifs=i},TD.vo.Column.prototype.reset=function(){this.state="awaiting_backfill",this.updateArray=[],this.updateIndex={},this.highWaterMarkChirp=null,this.highWaterMarkSeenChirp=null,this.isTrackingRealtime=!0,this.isFetchingUpwardUpdates=!1,this.isFetchingOlderUpdates=!1,this.doUpwardScrollDeferreds=[],TD.ui.columns.unlockColumnFromElement(this.model.getKey()),this.resetUnreadIndicators()},TD.vo.Column.prototype.updateHighWaterMarkChirp=function(e){e&&(this.highWaterMarkChirp=TD.util.getTopChirp([this.highWaterMarkChirp,e]))},TD.vo.Column.prototype.backfill=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.firstLoad;if("awaiting_backfill"===this.state){this.state="backfill_loading";var n=P.default.getColumnType(this),s=this.calculateInfiniteScrollCursor([]),r=TD.controller.columnManager.getAllOrdered().indexOf(this),o=i&&r>2?500*r:0,a=TD.core.defer.timeout(o);a.addCallback(function(){return e.fillAggregateCursor(s)}),a.addCallbacks(function(t){e.mergeAndRenderChirps(t.chirps),t.chirps.length?(e.state="polling",TD.util.metric("column:backfill:result:chirps:"+n)):(e.state="awaiting_backfill",TD.util.metric("column:backfill:result:no-chirps:"+n))},function(){e.state="awaiting_backfill",TD.util.metric("column:backfill:error:fill:"+n)}),a.addErrback(function(e){TD.util.metric("column:backfill:error:final:"+n)})}},TD.vo.Column.prototype.clone=function(){return TD.controller.columnManager.makeColumn(this.model.getType(),this.getFeeds(),this.model.getFilters())},TD.vo.Column.prototype.updateStreamRate=function(e,t){this.streamRate=t.itemsPerMinute},TD.vo.Column.prototype.updateTpm=function(e,t){this.tpm=t.itemsPerMinute},TD.vo.Column.prototype.loadFeeds=function(){if(this.model.managed){var e=this.model.getFeedKeys();if((0,D.default)(e))return void TD.sync.util.stateLog("loadFeeds() not loading feeds for",this,"given",this.model.state);this._feeds=[];for(var t=0;t<e.length;t++){var i=TD.storage.feedController.get(e[t]);this._feeds.push(i)}this.refreshSubscriptions()}},TD.vo.Column.prototype.getFeeds=function(){return this._feeds.concat()},TD.vo.Column.prototype.getFeedCount=function(){return this._feeds.length},TD.vo.Column.prototype.getFeedsByType=function(e){return this.getFeeds().filter(function(t){return t.getType()===e})},TD.vo.Column.prototype.setFeeds=function(e){this._feeds=e;for(var t=[],i=0;i<this._feeds.length;i++)t.push(this._feeds[i].getKey());this.model.setFeedKeys(t),this.refreshSubscriptions(),this.model.managed&&TD.storage.feedController.manageFeeds(this._feeds)},TD.vo.Column.prototype.addFeed=function(e){for(var t,i=[],n=0;n<this._feeds.length;n++){if((t=this._feeds[n].getKey())===e.getKey())return;i.push(t)}this._feeds.push(e),i.push(e.getKey()),this.model.setFeedKeys(i),this.refreshSubscriptions(),this.model.managed&&TD.storage.feedController.manageFeeds(this._feeds)},TD.vo.Column.prototype.addFeeds=function(e){if(e&&0!==e.length){var t,i=[],n={};for(e=this._feeds.concat(e),t=0;t<e.length;t++)n[e[t].getKey()]||(n[e[t].getKey()]=!0,i.push(e[t]));this.setFeeds(i)}},TD.vo.Column.prototype.removeFeed=function(e){for(var t,i=[],n=0,s=this._feeds.length-1;s>=0;s--)t=this._feeds[s].getKey(),t===e.getKey()?(this._feeds.splice(s,1),n++):i.push(t);return n>0&&(this.model.setFeedKeys(i),this.refreshSubscriptions(),this.checkChirpIndex()),n},TD.vo.Column.prototype.filterAllowedChirps=function(e){var t=this.model.getClearedTimestamp();return e.filter(function(e){return e.created.getTime()>t&&e.passFilters(this.filters)},this)},TD.vo.Column.prototype.findChirp=function(e){var t=void 0;if(!(t=this.detailViewComponent?this.detailViewComponent.findChirp(e):this.updateIndex[e]))for(var i=0;i<this.updateArray.length;i++)if(this.updateArray[i].getRelatedTweet()&&this.updateArray[i].getRelatedTweet().id===e){t=this.updateArray[i].getRelatedTweet();break}return t},TD.vo.Column.prototype.findMostInterestingChirp=function(e){var t=this.findChirp(e);return t&&t instanceof TD.services.TwitterAction&&(t=t.getRelatedTweet()||t),t},TD.vo.Column.prototype.checkChirpIndex=function(){var e=this.model.getFeedKeys(),t=(0,w.default)(e,TD.controller.feedManager.getPoller),i=(0,_.default)(this.updateArray,function(e){return!(0,v.default)(t,function(t){return t.chirpIndex[e.id]})});this.removeFromIndex(null,i,!0),0===this.updateArray.length&&this.reset()},TD.vo.Column.prototype.refreshSubscriptions=function(){var e,t={},i=this.model.getFeedKeys();if("me"===this.model.getType()){var n=!1,s=[];(0,m.default)(i,function(e){var t=TD.storage.feedController.get(e);t&&("interactions"===t.getType()&&(n=!0),"mentions"!==t.getType()&&s.push(e))}),n&&(i=s)}for(var r=0;r<i.length;r++)e=i[r],t[e]=!0,this.feedSubscriptions[e]||(this.feedSubscriptions[e]=$.subscribe("/feed/"+e,this.handlePushChirps.bind(this))),this.deleteSubscriptions[e]||(this.deleteSubscriptions[e]=$.subscribe("/delete/"+e,this.handlePushDelete.bind(this)));for(e in this.feedSubscriptions)this.feedSubscriptions.hasOwnProperty(e)&&(t[e]||($.unsubscribe(this.feedSubscriptions[e]),delete this.feedSubscriptions[e]));for(e in this.deleteSubscriptions)this.deleteSubscriptions.hasOwnProperty(e)&&(t[e]||($.unsubscribe(this.deleteSubscriptions[e]),delete this.deleteSubscriptions[e]))},TD.vo.Column.prototype.handlePushChirps=function(e){if("polling"!==this.state)return void this.backfill();var t=TD.core.defer.succeed(e);return t.addCallbackWith(this,this.preprocessPollerData),t.addCallbackWith(this,this.mergeMissingChirps),this.isTrackingRealtime&&(t.addCallbackWith(this,this.doUpwardScroll),t.addCallback(function(){return e})),t.addCallbackWith(this,this.processPushData),t},TD.vo.Column.prototype.preprocessPollerData=function(e){return e.chirps=this.filterAllowedChirps(e.chirps),e.chirps.sort(TD.util.chirpColumnSort),e},TD.vo.Column.prototype.mergeMissingChirps=function(e){var t=F.default.empty;this.updateArray.length&&(t=new F.default(F.default.incEnd(this.updateArray[this.updateArray.length-1]),F.default.incEnd(this.updateArray[0])));var i=e.chirps.filter(t.contains,t);return this.mergeAndRenderChirps(i),e},TD.vo.Column.prototype.processPushData=function(e){if(!!e.poller.feed.managed&&e.notifyAfterSortIndex){var t=new TD.services.ChirpBase;t.sortIndex=e.notifyAfterSortIndex;var i=[].concat.apply([],e.chirps.map(function(e){return e.getUnreadChirps(t)}));$.publish("/notifications/new",[{column:this,items:i}])}var n=new F.default(this.highWaterMarkChirp?F.default.excEnd(this.highWaterMarkChirp):F.default.negInf,F.default.posInf),s=e.chirps.filter(n.contains,n);this.updateHighWaterMarkChirp(e.chirps[0]),this.numNewPushedChirps+=s.length,this.wasPushedGap=this.wasPushedGap||e.gap,this.throttledUpdateUnreadIndicators()},TD.vo.Column.prototype.handlePushDelete=function(e,t){this.removeFromIndex(e,t,!0)},TD.vo.Column.prototype.resetUnreadIndicators=function(){this.numNewPushedChirps=0,this.wasPushedGap=!1,this.updateUnreadIndicators()},TD.vo.Column.prototype.updateUnreadIndicators=function(){this.temporary||this.ui.updateUnreadIndicators({numUnseenChirps:this.getNumUnseenChirps(),gappy:this.wasPushedGap})},TD.vo.Column.prototype.getNumUnseenChirps=function(){var e=0;if(!this.isTrackingRealtime){var t=new F.default(this.highWaterMarkSeenChirp?F.default.excEnd(this.highWaterMarkSeenChirp):F.default.negInf,F.default.posInf);e=this.updateArray.filter(t.contains,t).reduce(function(e,t){return e+(t instanceof TD.services.GapChirp?t.gapSize:1)},0)}return e+this.numNewPushedChirps},TD.vo.Column.prototype.removeSubscriptions=function(){var e;for(e in this.feedSubscriptions)this.feedSubscriptions.hasOwnProperty(e)&&($.unsubscribe(this.feedSubscriptions[e]),delete this.feedSubscriptions[e]);for(e in this.deleteSubscriptions)this.deleteSubscriptions.hasOwnProperty(e)&&($.unsubscribe(this.deleteSubscriptions[e]),delete this.deleteSubscriptions[e]);this.miscSubscriptions.forEach(function(e){return $.unsubscribe(e)}),$(document).off(this.streamRateEvent),$(document).off(this.tpmUpdateEvent),$(document).off(this.tpmIncrementEvent),$(document).off(this.visibleChirpsEvent),this.tpmCounter.stop()},TD.vo.Column.prototype.doUpwardScroll=function(){var e=this;if("polling"!==this.state)return TD.core.defer.succeed();var t=new TD.core.defer.Deferred;if(this.doUpwardScrollDeferreds=this.doUpwardScrollDeferreds||[],this.doUpwardScrollDeferreds.push(t),this.isFetchingUpwardUpdates)return t;this.isFetchingUpwardUpdates=!0;var i=this.fillAggregateCursor(this.calculateUpwardScrollCursor(this.updateArray),{emptyPageRetriesAllowed:0});return i.addCallbackWith(this,function(e){return e.possibleGapSize=this.numNewPushedChirps-e.chirps.length,e}),i.addCallbackWith(this,this.extractChirpsWithGap),i.addCallbackWith(this,this.mergeAndRenderChirps),i.addBoth(this.removeOffscreen.bind(this,"up")),i.addBothWith(this,TD.util.effect(function(){this.isFetchingUpwardUpdates=!1,this.resetUnreadIndicators()})),i.addBothWith(this,this.throttledUpdateUnreadIndicators),i.addCallbacks(function(){var t=e.doUpwardScrollDeferreds;e.doUpwardScrollDeferreds=[],t.forEach(function(e){return e.callback()})},function(t){var i=e.doUpwardScrollDeferreds;e.doUpwardScrollDeferreds=[],i.forEach(function(e){return e.errback(t)})}),t},TD.vo.Column.prototype.extractChirpsWithGap=function(e){if(e.remainderCursor.interval.empty)return e.chirps;var t=new TD.services.GapChirp(e.remainderCursor,{sortIndex:e.chirps[e.chirps.length-1].sortIndex,gapSize:e.possibleGapSize});return e.chirps.concat([t])},TD.vo.Column.prototype.doInfiniteScroll=function(e){if(e=(0,p.default)(e||{},{fromScrollbarDrag:!1}),!this.isFetchingOlderUpdates&&"polling"===this.state){this.isFetchingOlderUpdates=!0,this.ui.addInfiniteScrollSpinner();var t=this.fillAggregateCursor(this.calculateInfiniteScrollCursor(this.updateArray));return t.addCallbackWith(this,function(e){this.mergeAndRenderChirps(e.chirps)}),t.addBothWith(this,function(){this.isFetchingOlderUpdates=!1,this.ui.removeInfiniteScrollSpinner()}),e.fromScrollbarDrag||t.addBoth(this.removeOffscreen.bind(this,"down")),t}},TD.vo.Column.prototype.fillGap=function(e){var t=this.findChirp(e);if(t){var i=this.fillAggregateCursor(t.gapCursor);i.addCallbackWith(this,TD.util.effect(this.trackFillGap)),i.addCallbackWith(this,function(e){return e.possibleGapSize=t.gapSize-e.chirps.length,e}),i.addCallbackWith(this,this.extractChirpsWithGap),i.addCallbackWith(this,function(e){return this.removeFromIndex(null,[t],!0),this.mergeAndRenderChirps(e)}),i.addCallback(TD.core.defer.timeout.bind(null,200)),i.addCallback(this.removeOffscreen.bind(this,"up"))}},TD.vo.Column.prototype.fillAggregateCursor=function(e,t){return this.fillAggregateCursorWithRetries(e,t).addCallback(function(e){return e.emptyPageRetriesMade>0&&TD.util.metric("column:fetch:retry-fill:retries-made",[e.emptyPageRetriesMade],"metric"),e.data})},TD.vo.Column.prototype.fillAggregateCursorWithRetries=function(e,t){t=(0,p.default)(t||{},{emptyPageRetriesAllowed:5,emptyPageRetriesMade:0,bypassCache:!1});var i=e.getCursors().map(function(e){return TD.controller.feedManager.getPoller(e.feedKey).fillCursor(e,{forceFetch:!0,bypassCache:t.bypassCache})}),n=TD.core.defer.gatherResults(i);return n.addCallbackWith(this,this.extractUsableBlock),n.addCallbackWith(this,function(i){var n=i.reduce(function(e,t){return e.concat(t.chirps)},[]);n.sort(TD.util.chirpColumnSort);var s=this.INFINITE_SCROLL_CHIRP_BLOCK_SIZE;e.interval.from!==F.default.negInf&&(s=this.UPWARD_SCROLL_CHIRP_BLOCK_SIZE),n.length>s&&(n=n.slice(0,s),i=i.map(function(e){return TD.controller.feedManager.getPoller(e.requestCursor.feedKey).recalculateResult(e,n)}));var r=this.makeAggregateCursor(new Date,i.map(function(e){return e.remainderCursor}));return{data:{requestCursor:e,chirps:n,remainderCursor:r},emptyPageRetriesAllowed:t.emptyPageRetriesAllowed,emptyPageRetriesMade:t.emptyPageRetriesMade}}),TD.decider.get("throttle_column_fill_retry")||n.addCallbackWith(this,this.maybeRetryFillAggregateCursor),n},TD.vo.Column.prototype.maybeRetryFillAggregateCursor=function(e){var t=0===e.data.chirps.length,i=e.emptyPageRetriesMade<e.emptyPageRetriesAllowed,n=e.data.remainderCursor.interval.empty;return t&&i&&!n?TD.core.defer.timeout(this.RETRY_FILL_TIMEOUT).addCallbackWith(this,function(){return this.fillAggregateCursorWithRetries(e.data.remainderCursor,{emptyPageRetriesAllowed:e.emptyPageRetriesAllowed,emptyPageRetriesMade:e.emptyPageRetriesMade+1})}):TD.core.defer.succeed(e)},TD.vo.Column.prototype.extractUsableBlock=function(e){var t=e.reduce(function(e,t){return e.hull(t.remainderCursor.interval)},F.default.empty);return e.map(function(e){var i=e.chirps.filter(function(e){return!t.contains(e)});return e=TD.controller.feedManager.getPoller(e.requestCursor.feedKey).recalculateResult(e,i),e.chirps=this.filterAllowedChirps(e.chirps),e}.bind(this))},TD.vo.Column.prototype.mergeAndRenderChirps=function(e){this.ui.hideIsUpdatingMessage(),this._isUpdating&&(this.ui.getChirpContainer().trigger("dataColumnFeedUpdated"),this.ui.hideChirpContainer(),this._isUpdating=!1),0===this.updateArray.length&&this.ui.removeInfiniteScrollSpinner();var t=this.addItemsToIndex(e);return 0===this.updateArray.length?this.ui.showNoResultsMessage(this.temporary,this.isOwnCustomTimeline()):this.ui.hideNoResultsMessage(),this.isMessageColumn()&&$(document).trigger("uiMessageUnreadCount",{columnKey:this.model.getKey(),count:this.unreadMessageCount()}),this.updateHighWaterMarkChirp(this.updateArray[0]),$(document).trigger("uiColumnChirpsChanged",{id:this.model.getKey()}),t},TD.vo.Column.prototype.getRenderOptions=function(){return{mediaPreviewSize:this.getMediaPreviewSize(),isOwnCustomTimeline:this.isOwnCustomTimeline(),isOwnReorderableCustomTimeline:this.isOwnReorderableCustomTimeline(),isTemporaryColumn:this.temporary}},TD.vo.Column.prototype.addItemsToIndex=function(e){var t,i,n=[];e.sort(TD.util.chirpColumnSort);var s={};e=e.filter(function(e){var t=!s[e.id];return s[e.id]=!0,t});for(var r=0;r<e.length;r++)i=e[r],this.updateIndex[i.id]?this.reRenderChirp(i):(n.push(i),this.updateIndex[i.id]=i);if(t=n.length){for(var o="",a=[],c=this.updateArray,l=this.getRenderOptions();n.length>0||c.length>0;)if(0===n.length)a=a.concat(c),c=[];else if(0===c.length)a=a.concat(n),this.addToView(o,n,l,{insertAtTop:!o,insertAtBottom:!0}),n=[];else{for(var u=[],d=c[0],h=n[0];TD.util.chirpColumnSort(d,h)>0&&n.length>0;)i=n.shift(),u.push(i),n.length>0&&(h=n[0]);u.length>0?(this.addToView(o,u,l,{insertAtTop:!o,insertAtBottom:!1}),a=a.concat(u)):(i=c.shift(),a.push(i),i.passFilters(this.filters)&&(o=i.id))}this.updateArray=a}return t},TD.vo.Column.prototype.reRenderChirp=function(e){var t=this,i=this.updateIndex[e.id],n=this.ui.getChirpContainer(),s=$(this.ui.renderChirps([e],this.getRenderOptions())),r=n.children('[data-key="'+e.id+'"]'),o=this.updateArray.indexOf(i),a=TD.decider.get("non_destructive_chirp_rerender");this.updateIndex[e.id]=e,this.updateArray[o]=e,this.updateArray.sort(TD.util.chirpColumnSort),this.detailViewComponent&&this.detailViewComponent.changed(e);var c=this.updateArray.indexOf(e);if(c>0)var l=this.updateArray[c-1].id;TD.ui.columns.alterColumnContents(this.model.getKey(),r,function(){var e=i.quotedTweet&&i.quotedTweet.hasAnimatedGif();if((i.hasAnimatedGif()||e)&&t.ui.unloadVideos(r),a&&!t.isMessageColumn()){[".js-tweet-header",".js-tweet-text"].forEach(function(e){var t=s.find(e).first();r.find(e).first().replaceWith(t)})}else r.remove(),0===c?n.prepend(s):n.children('[data-key="'+l+'"]').after(s)})},TD.vo.Column.prototype.removeFromIndex=function(e,t,i){for(var n=0;n<t.length;n++){var s=t[n];this.removeChirp(s),i&&this.detailViewComponent&&this.detailViewComponent.deleted(s)}},TD.vo.Column.prototype.removeChirp=function(e){var t=this.updateIndex[e.id];if(t){for(var i=0;i<this.updateArray.length;i++)if((e=this.updateArray[i])===t){this.updateArray.splice(i,1);break}delete this.updateIndex[e.id],this.ui.removeChirp(e.id),$(document).trigger("uiColumnChirpsChanged",{id:this.model.getKey()})}0===this.updateArray.length&&this.ui.showIsUpdatingMessage()},TD.vo.Column.prototype.clear=function(){if(0!==this.updateArray.length){var e=this.updateArray[0].created.getTime();this.model.setClearedTimestamp(e),this.truncate(0)}},TD.vo.Column.prototype.calculateUpwardScrollCursor=function(e){var t=this.getPollers().map(function(t){return{feedKey:t.feed.getKey(),interval:new F.default(0===e.length?F.default.negInf:F.default.excEnd(e[0]),F.default.posInf),bounds:{}}},this);return this.makeAggregateCursor(new Date,t)},TD.vo.Column.prototype.calculateInfiniteScrollCursor=function(e){var t={interval:F.default.whole,bounds:{}},i=this.getPollers().map(function(i){return i.getCacheResult(t,e).remainderCursor},this);return this.makeAggregateCursor(new Date,i)},TD.vo.Column.prototype.boundedRefreshCustomTimelineFeed=function(e){var t=this,i=this.findChirp(e.relativeToId),n=this.updateArray.indexOf(i),s={};if(-1===n)s={upper:null,lower:null};else if(e.placeAbove){var r=this.updateArray[n-1];s={upper:void 0!==r?r:null,lower:i}}else{var o=this.updateArray[n+1];s={upper:i,lower:void 0!==o?o:null}}var a=this.getChirpBoundedCursor(s.upper,s.lower),c=TD.decider.get("slow_collection_refresh")?2e3:100,l="move"===e.actionType?c:0,u=TD.core.defer.timeout(l,a);return u.addCallback(function(e){return t.fillAggregateCursor(e,{bypassCache:!0})}),u.addCallback(function(e){return t.mergeAndRenderChirps(e.chirps)}),u},TD.vo.Column.prototype.getChirpBoundedCursor=function(e,t){var i=this.getPollers().map(function(i){return i.getCursor({upper:e,lower:t})},this);return this.makeAggregateCursor(new Date,i)},TD.vo.Column.prototype.makeAggregateCursor=function(e,t){return new R.default(e,t||[])},TD.vo.Column.prototype.getPollers=function(){return this.getFeeds().map(function(e){return TD.controller.feedManager.getPoller(e.getKey())})},TD.vo.Column.prototype.removeOffscreen=function(e,t){"number"!=typeof t&&(t=0);var i=this.TARGET_COLUMN_CHIRP_LIMIT,n=TD.ui.columns.isScrolledToTop(this.model.getKey()),s=this.ui.state.animationQueue.length;return("up"===e||n)&&this.discardTweetsNotInRange(0,i+s+(n?0:t)),"down"===e&&this.discardTweetsNotInRange(this.updateArray.length-i,this.updateArray.length),t},TD.vo.Column.prototype.discardTweetsNotInRange=function(e,t){e=Math.max(0,e);var i=this.updateArray.slice(0,e).map(TD.util.getChirpId),n=this.updateArray.slice(t).map(TD.util.getChirpId);this.annihilateChirps(i,{willBreakScrollPosition:!0}),this.annihilateChirps(n,{willBreakScrollPosition:!1}),this.updateArray=this.updateArray.slice(e,t),this.updateArray.length||this.reset()},TD.vo.Column.prototype.truncate=function(e){this.discardTweetsNotInRange(0,e)},TD.vo.Column.prototype.annihilateChirps=function(e,t){e.length&&(e.forEach(function(e){delete this.updateIndex[e]},this),this.ui.removeChirps(e,t))},TD.vo.Column.prototype.trackFillGap=function(e){TD.util.metric("column:fetch:gap:fill:result",[e.chirps.length],"metric")},TD.vo.Column.prototype.addToView=function(e,t,i,n){var s=this;if(0!==t.length){var r=this.ui.getChirpContainer(),o=n.insertAtBottom&&n.insertAtTop;i.doRenderMinimalist=this.updateArray.length>0&&this.tpm>this.COLUMN_MINIMALIST_TWEET_TPM_THRESHOLD;var a=t[t.length-1],c=t.map(function(e,n){var r=t.length-1-n,o=s.calculateTimeGap(e,a),c=150*r-100*Math.random(),l=Math.min(s.ui.chirpDelayMaximum,Math.max(c,o));return{chirp:e,$node:$(s.ui.renderChirps([e],i)),deliverAtTime:Date.now()+l}}),l=c.reduce(function(e,t){return e.add(t.$node)},$());""===e?o?r.html(l):r.prepend(l):r.children('[data-key="'+e+'"]').after(l),n.containsNewChirps=!this.highWaterMarkChirp||t[0].belongsAbove(this.highWaterMarkChirp),o?this.ui.fadeInChirpContainer():this.ui.slideInChirps(c,this.temporary,this.streamRate,this.tpm,n)}},TD.vo.Column.prototype.calculateTimeGap=function(e,t){if(!e||!t)return 0;var i=e.getSortIndex(),n=t.getSortIndex();return"milliseconds"===i.type&&"milliseconds"===n.type?i.value-n.value:e.created&&t.created&&(0,d.default)(i,{type:"numericString",value:e.id})&&(0,d.default)(n,{type:"numericString",value:t.id})?e.created.getTime()-t.created.getTime():0},TD.vo.Column.prototype.getMediaPreviewSize=function(){var e,t=this.model.getMediaPreviewSize();return t||(this.isMessageColumn()&&(t=TD.vo.Column.MEDIA_PREVIEW_OFF),e=this.getSearchFilter(),t=e.content.hasActiveMediaFilter()?TD.vo.Column.MEDIA_PREVIEW_SIZE_LARGE:this.getColumnType()===P.default.columnMetaTypes.INTERACTIONS?TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL:TD.vo.Column.MEDIA_PREVIEW_SIZE_MEDIUM),t},TD.vo.Column.prototype.setMediaPreviewSize=function(e){e!==this.getMediaPreviewSize()&&this.model.setMediaPreviewSize(e),this.reloadTweets()},TD.vo.Column.prototype.hasEditableTitle=function(){return!!this.isSearchColumn()},TD.vo.Column.prototype.getColumnType=function(){return P.default.getColumnType(this)},TD.vo.Column.prototype.isEventColumn=function(){return"col_event"===P.default.getColumnType(this)},TD.vo.Column.prototype.getIconClass=function(){return P.default.getColumnIconClassByColumnType(this.getColumnType())},TD.vo.Column.prototype.getClass=function(){return P.default.getColumnClassByColumnType(this.getColumnType())},TD.vo.Column.prototype.isOfType=function(e){return this.getColumnType()===e},TD.vo.Column.prototype.isMessageColumn=function(){return P.default.isMessageColumn(this)},TD.vo.Column.prototype.isSearchColumn=function(){return this.isOfType(P.default.columnMetaTypes.SEARCH)},TD.vo.Column.prototype.isActionsColumn=function(){return P.default.actionColumnTypes.indexOf(this.getColumnType())>-1},TD.vo.Column.prototype.canFilterByUsersIFollow=function(){return["col_interactions","col_mentions","col_followers"].includes(this.getColumnType())},TD.vo.Column.prototype.isSingleActionTypeColumn=function(){return P.default.singleActionColumnTypes.indexOf(this.getColumnType())>-1},TD.vo.Column.prototype.isActivityColumn=function(){return this.isOfType(P.default.columnMetaTypes.ACTIVITY)},TD.vo.Column.prototype.isCustomTimeline=function(){return this.isOfType(P.default.columnMetaTypes.CUSTOMTIMELINE)},TD.vo.Column.prototype.isDataminr=function(){return this.isOfType(P.default.columnMetaTypes.DATAMINR)},TD.vo.Column.prototype.isEmbeddable=function(){return(0,l.default)(P.default.embeddableColumnTypes,this.getColumnType())},TD.vo.Column.prototype.isShareable=function(){var e=P.default.shareableColumnTypes;return TD.decider.get("sac_enable_share")&&(e=e.concat(P.default.columnMetaTypes.FAVORITES,P.default.columnMetaTypes.USERTWEETS,P.default.columnMetaTypes.LIST,P.default.columnMetaTypes.SEARCH)),(0,l.default)(e,this.getColumnType())},TD.vo.Column.prototype.isViewable=function(){return(0,l.default)(P.default.viewableColumnTypes,this.getColumnType())},TD.vo.Column.prototype.isClearable=function(){var e=this.getColumnType();return e!==P.default.columnMetaTypes.SCHEDULED&&e!==P.default.columnMetaTypes.CUSTOMTIMELINE},TD.vo.Column.prototype.getOwnList=function(){var e=null;return(0,v.default)(this.getFeeds(),function(t){if("list"===t.getType()){var i=t.getMetadata();e=TD.cache.lists.find(i.listId,i.screenName,i.slug,!0)}return Boolean(e)}),e},TD.vo.Column.prototype.isOwnCustomTimeline=function(){return this.getFeedsByType(P.default.feedTypes.CUSTOMTIMELINE).some(function(e){var t=e.getMetadata();return TD.storage.Account.generateKeyFor("twitter",t.ownerId)===e.getAccountKey()})},TD.vo.Column.prototype.isOwnReorderableCustomTimeline=function(){var e=this.getCustomTimeline(),t=!!e&&e.isCurationOrdering();return this.isOwnCustomTimeline()&&t},TD.vo.Column.prototype.deleteCustomTimeline=function(e,t){this.getFeedsByType(P.default.feedTypes.CUSTOMTIMELINE).forEach(function(i){var n=i.getMetadata().id,s=TD.controller.clients.getClient(i.getAccountKey()),r=i.getKey();s.deleteCustomTimeline(n,function(){TD.controller.feedManager.deleteFeedsWhere(function(e){return e.getKey()===r}),e&&e()},function(){(0,j.showErrorNotification)({message:TD.i("Error deleting collection")}),t&&t()})})},TD.vo.Column.prototype.getCustomTimeline=function(){var e,t=this.getCustomTimelineFeed();if(t){var i=t.getMetadata().id;e=TD.controller.clients.getClient(t.getAccountKey()).customTimelines.filter(function(e){return e.id===i})[0]}return e},TD.vo.Column.prototype.getCustomTimelineFeed=function(){return this.getFeedsByType(P.default.feedTypes.CUSTOMTIMELINE)[0]},TD.vo.Column.prototype.updateMetadata=function(e){var t,i=this.getFeeds()[0];this._isUpdating=!0,this.ui.showIsUpdatingMessage(),e.term=null,t=TD.storage.feedController.getOrCreateFeed(i.getType(),i.getService(),i.getAccountKey(),e),this.ui.getChirpContainer().trigger("dataColumnUpdatingFeed",{column:this,oldFeed:i,newFeed:t}),TD.controller.feedManager.replaceFeed(i,t,[this.model.getKey()])},TD.vo.Column.prototype.loadFilters=function(){var e=new TD.vo.SearchFilter(this.model.getFilters()),t=e.getFilters();(0,d.default)((0,I.default)(this.filters,"id"),(0,I.default)(t,"id"))||(this.filters=t,this.reloadTweets())},TD.vo.Column.prototype.isFilterable=function(){return-1!==P.default.filterableColumnTypes.indexOf(this.getColumnType())},TD.vo.Column.prototype.reloadTweets=function(){this._isUpdating||(this.truncate(0),this.backfill())},TD.vo.Column.prototype.getBaseQuery=function(){var e=null,t=this.getFeeds();if((this.isSearchColumn()||this.isEventColumn())&&t&&t.length>0){var i=t[0].getMetadata();i&&(e=i.baseQuery?i.baseQuery:i.term)}return e},TD.vo.Column.prototype.updateSearchFilter=function(e){var t,i,n,s,r;if(e){if(this.isSearchColumn()||this.isEventColumn())return void this.updateSearchFeedFilter(e);if((n=this.getFeeds()[0])&&this.isActionsColumn()&&!this.isActivityColumn()){i=n.getType(),t=P.default.inferFeedTypeFromActionFilter(e.action);var o=Boolean(n.getMetadata().usersIFollowFilter),c="following"===e.user.from_type;t===i&&o===c||(r=(0,a.default)(n.getMetadata()),r.usersIFollowFilter=Boolean(c),s=TD.storage.feedController.getOrCreateFeed(t,n.getService(),n.getAccountKey(),r),this.ui.getChirpContainer().trigger("dataColumnUpdatingFeed",{column:this,oldFeed:n,newFeed:s}),TD.controller.feedManager.replaceFeed(n,s,[this.model.getKey()]))}this.model.setFilters(e.toJSONObject()),this.ui.getChirpContainer().trigger("dataColumnFiltersUpdated")}},TD.vo.Column.prototype.updateSearchFeedFilter=function(e){var t=!1,i=this.getFeeds()[0],n=(0,a.default)(i.getMetadata());n.baseQuery||(n.baseQuery=n.term),e.content&&e.content.matching&&e.content.matching!==n.baseQuery&&(t=!0,n.baseQuery=e.content.matching);var s=new TD.vo.SearchFilter(n.searchFilterData);(t||s.getQueryString()!==e.getQueryString())&&(n.searchFilterData=e.toJSONObject(),this.updateMetadata(n))},TD.vo.Column.prototype.setMatchingFilter=function(e){var t=this.getSearchFilter();t.content.setMatching(e),this.updateSearchFilter(t)},TD.vo.Column.prototype.getSearchFilter=function(){var e,t;return this.isSearchColumn()||this.isEventColumn()?(t=this.getFeeds()[0].getMetadata(),e=new TD.vo.SearchFilter(t.searchFilterData),e.content.matching||e.content.setMatching(t.baseQuery||t.term)):e=new TD.vo.SearchFilter(this.model.getFilters()),e},TD.vo.Column.prototype.hasActiveSearchFilters=function(){var e=this.getSearchFilter(),t=!this.isSingleActionTypeColumn()&&!this.isSearchColumn(),i=this.hasActiveUserFilters()||this.hasActiveContentFilters()||this.hasActiveLocationFilters()||this.hasActiveEngagementFilters()||this.hasActiveActionFilters()&&t;return this.isSearchColumn()||(i=e.content.matching||i),Boolean(i)},TD.vo.Column.prototype.hasActiveContentFilters=function(){var e,t=this.getSearchFilter();return e=this.isSearchColumn()||this.isEventColumn()?t.content.getQueryString():t.content.matching||t.content.getQueryString()||t.content.type!==TD.vo.ContentFilter.TYPE_ANYTHING,Boolean(e)},TD.vo.Column.prototype.hasActiveLocationFilters=function(){var e=this.getSearchFilter(),t=e.location.getQueryString();return Boolean(t)},TD.vo.Column.prototype.hasActiveUserFilters=function(){var e=this.getSearchFilter(),t=e.user.getQueryString(),i="following"===e.user.from_type;return Boolean(t||i)},TD.vo.Column.prototype.hasActiveActionFilters=function(){var e=this.getSearchFilter(),t=this.getColumnType(),i=e.action.getMaxFacets(t);return e.action.getActiveFacetCount(t)<i},TD.vo.Column.prototype.hasActiveEngagementFilters=function(){var e=this.getSearchFilter(),t=e.engagement.getQueryString();return Boolean(t)},TD.vo.Column.prototype.hasFilterError=function(){return this.getSearchFilter().action.hasFilterError(this.getColumnType())},TD.vo.Column.prototype.markAllMessagesAsRead=function(){this.isMessageColumn()&&this.getFeeds().forEach(function(e){var t=e.getAccountKey();TD.controller.clients.getClient(t).conversations.markAllRead()},this)},TD.vo.Column.prototype.hasUnreadMessages=function(){var e=!1;return this.isMessageColumn()&&(e=this.updateArray.some(function(e){return e.unread})),e},TD.vo.Column.prototype.unreadMessageCount=function(){var e=0;return this.isMessageColumn()&&(e=this.getFeeds().map(function(e){return TD.controller.clients.getClient(e.getAccountKey())}).reduce(function(e,t){return e+t.conversations.getUnreadCount()},0)),e>20&&(e=TD.i("20+")),e.toString()},TD.vo.Column.prototype.getChirpIndex=function(e){return this.updateArray.indexOf(this.updateIndex[e])},TD.vo.Column.prototype.isEmpty=function(){return(0,r.default)(this.updateArray)}},function(e,t,i){"use strict";TD.vo.Filter=function(e,t,i){switch(this.type=e,this.value=t,this.positive=i,_.isString(t)&&(this.value=t.toLowerCase()),this.type){case TD.vo.Filter.PHRASE:this.exact=!1;break;case TD.vo.Filter.SENDER:this.exact=!0,this.fuzzy=!0,this.filterTarget="parent";break;case TD.vo.Filter.SOURCE:this.exact=!0,this.fuzzy=!1;break;case TD.vo.Filter.FOLLOWERS:this.exact=!1,this.range=!0;break;case TD.vo.Filter.IS_RETWEET:this.exact=!0;break;case TD.vo.Filter.IS_FROM_VERIFIED:case TD.vo.Filter.CHIRP_TYPE:this.exact=!0,this.filterTarget="parent"}this.id=this.generateLocalID()},TD.vo.Filter.PHRASE="phrase",TD.vo.Filter.SENDER="sender",TD.vo.Filter.SOURCE="source",TD.vo.Filter.FOLLOWERS="followers",TD.vo.Filter.IS_RETWEET="is_retweet",TD.vo.Filter.IS_MENTION="is_mention",TD.vo.Filter.IS_FAVORITE="is_favorite",TD.vo.Filter.IS_FOLLOW="is_follow",TD.vo.Filter.IS_ACTION_ON_RETWEET="is_action_on_retweet",TD.vo.Filter.IS_QUOTED="is_quoted",TD.vo.Filter.HAS_IMAGE="has_image",TD.vo.Filter.HAS_VIDEO="has_video",TD.vo.Filter.HAS_GIF="has_gif",TD.vo.Filter.HAS_VINE="has_vine",TD.vo.Filter.HAS_MEDIA="has_media",TD.vo.Filter.HAS_LINK="has_link",TD.vo.Filter.IS_FROM_VERIFIED="verified",TD.vo.Filter.CHIRP_TYPE="chirp_type",TD.vo.Filter.LOCATION="location",TD.vo.Filter.SINCE_TIME="since_time",TD.vo.Filter.UNTIL_TIME="until_time",TD.vo.Filter.prototype.id=null,TD.vo.Filter.prototype.value=null,TD.vo.Filter.prototype.type=TD.vo.Filter.PHRASE,TD.vo.Filter.prototype.positive=!0,TD.vo.Filter.prototype.exact=!0,TD.vo.Filter.prototype.fuzzy=!1,TD.vo.Filter.prototype.range=!1,TD.vo.Filter.prototype.filterTarget="child",TD.vo.Filter.prototype.generateLocalID=function(){return"filter"+TD.util.deterministicObjectHash(this.toBackendState())},TD.vo.Filter.prototype.pass=function(e){var t=this;e=this._getFilterTarget(e);var i=e.getFilterableText();i=i?i.toLowerCase():null;var n=e.getSenders();n=n?_.map(n,function(e){return e.toLowerCase()}):null;var s=e.sourceNoHTML;s=s?s.toLowerCase():null;switch(this.type){case TD.vo.Filter.PHRASE:return this._testString(i);case TD.vo.Filter.SENDER:return this.positive?_.any(n,function(e){return t._testString(e)}):_.every(n,function(e){return t._testString(e)});case TD.vo.Filter.SOURCE:return this._testString(s);case TD.vo.Filter.FOLLOWERS:return this._testNumber(void 0);case TD.vo.Filter.IS_RETWEET:return this._testBoolean(e.isRetweetedStatus());case TD.vo.Filter.IS_FROM_VERIFIED:return this._testBoolean(e.isFromVerifiedUser());case TD.vo.Filter.HAS_IMAGE:return this._testBoolean(e.hasImage());case TD.vo.Filter.HAS_VIDEO:return this._testBoolean(e.hasVideo());case TD.vo.Filter.HAS_GIF:return this._testBoolean(e.hasAnimatedGif());case TD.vo.Filter.HAS_VINE:return this._testBoolean(e.hasVine());case TD.vo.Filter.HAS_MEDIA:return this._testBoolean(e.hasImage()||e.hasVideo());case TD.vo.Filter.HAS_LINK:return this._testBoolean(e.hasLink());case TD.vo.Filter.CHIRP_TYPE:return this._testString(e.getChirpType())}return!0},TD.vo.Filter.prototype.getDisplayType=function(){switch(this.type){case TD.vo.Filter.PHRASE:return"";case TD.vo.Filter.SENDER:return TD.i("user");case TD.vo.Filter.SOURCE:return TD.i("source");case TD.vo.Filter.FOLLOWERS:return TD.i("followers");case TD.vo.Filter.IS_RETWEET:return TD.i("retweets");case TD.vo.Filter.HAS_MEDIA:return TD.i("media");case TD.vo.Filter.HAS_LINK:return TD.i("links");case TD.vo.Filter.IS_FROM_VERIFIED:return TD.i("verified")}return""},TD.vo.Filter.prototype._getFilterTarget=function(e){return"parent"!==this.filterTarget&&e.targetTweet?e.targetTweet:e},TD.vo.Filter.prototype._testString=function(e){if(!e||!this.value)return!0;if(this.exact){if(e===this.value)return this.positive;if(this.fuzzy&&"@"+e===this.value)return this.positive}else if(-1!==e.indexOf(this.value))return this.positive;return!this.positive},TD.vo.Filter.prototype._testNumber=function(e){if(!_.isNumber(e)||!_.isNumber(this.value))return!0;if(this.exact){if(e===this.value)return this.positive}else if(this.range&&e>=this.value)return this.positive;return!this.positive},TD.vo.Filter.prototype._testBoolean=function(e){return!_.isBoolean(e)||!_.isBoolean(this.value)||(e===this.value?this.positive:!this.positive)},TD.vo.Filter.prototype.toBackendState=function(){return{type:this.type,value:this.value,positive:this.positive,exact:this.exact,fuzzy:this.fuzzy,range:this.range}},TD.vo.Filter.prototype.fromBackendState=function(e){this.type=e.type,this.value=e.value,this.positive=e.positive,this.exact=e.exact,this.fuzzy=e.fuzzy,this.range=e.range,this.id=this.generateLocalID()}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s,r,o,a=i(27),c=n(a),l=i(15),u=n(l),d=i(152),h=n(d),p=i(20),f=n(p),m=(s={},(0,h.default)(s,"showMentions",!0),(0,h.default)(s,"showRetweets",!0),(0,h.default)(s,"showFavorites",!0),(0,h.default)(s,"showFollowers",!0),(0,h.default)(s,"showLists",!0),(0,h.default)(s,"showActionsOnRetweets",!0),(0,h.default)(s,"showQuoted",!0),(0,h.default)(s,"showInteractionsOnMentioned",!0),(0,h.default)(s,"showInteractionsOnTagged",!0),s),g=(r={},(0,h.default)(r,"showFavorites",!0),(0,h.default)(r,"showFollowers",!0),(0,h.default)(r,"showLists",!0),r),v=(0,u.default)({},g,m),T=(o={},(0,h.default)(o,"showMentions",!0),(0,h.default)(o,"showRetweets",!0),(0,h.default)(o,"showFavorites",!0),(0,h.default)(o,"showFollowers",!0),(0,h.default)(o,"showLists",!0),(0,h.default)(o,"showActionsOnRetweets",!0),(0,h.default)(o,"showQuoted",!0),(0,h.default)(o,"showInteractionsOnMentioned",!0),(0,h.default)(o,"showInteractionsOnTagged",!0),o),_=(0,c.default)(v).reduce(function(e,t){return(0,u.default)({},e,(0,h.default)({},t,!1))},{});TD.vo.ActionFilter=function(e){this.fromJSONObject(e)},TD.vo.ActionFilter.prototype.toJSONObject=function(){return(0,u.default)({},T,this.state)},TD.vo.ActionFilter.prototype.fromJSONObject=function(e){e&&(this.state=this.mergeState({},(0,u.default)({},_,e)))},TD.vo.ActionFilter.prototype.mergeState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.default)(t).filter(function(e){return v[e]}).reduce(function(e,i){return(0,u.default)({},e,(0,h.default)({},i,Boolean(t[i])))},e)},TD.vo.ActionFilter.prototype.getActiveFacetCount=function(e){var t=this.toJSONObject(),i=this.getAvailableFacets(e);return(0,c.default)(i).reduce(function(e,i){return e+(t[i]?1:0)},0)},TD.vo.ActionFilter.prototype.hasFilterError=function(e){return 0===this.getActiveFacetCount(e)},TD.vo.ActionFilter.prototype.isNotificationsColumn=function(e){return e===f.default.columnMetaTypes.INTERACTIONS||(e===f.default.columnMetaTypes.FOLLOWERS||e===f.default.columnMetaTypes.MENTIONS)},TD.vo.ActionFilter.prototype.getAvailableFacets=function(e){var t,i=this.isNotificationsColumn(e),n=(t={},(0,h.default)(t,"showActionsOnRetweets",TD.decider.get("action_retweeted_retweet")||TD.decider.get("action_favorited_retweet")),(0,h.default)(t,"showLists",!TD.decider.get("notification_disable_list_events")),(0,h.default)(t,"showQuoted",TD.decider.get("action_quoted_tweet")),t),s=i?(0,u.default)({},m,n):(0,u.default)({},g);return(0,c.default)(s).filter(function(e){return Boolean(s[e])}).reduce(function(e,t){return(0,u.default)({},e,(0,h.default)({},t,!0))},{})},TD.vo.ActionFilter.prototype.getMaxFacets=function(e){var t=this.getAvailableFacets(e);return(0,c.default)(t).length},TD.vo.ActionFilter.prototype.getSummaryText=function(e){var t,i,n=[],s=this.getMaxFacets(e),r=this.getActiveFacetCount(e),o=this.getAvailableFacets(e),a=this.toJSONObject();return 0===r?t=TD.i("Filter error"):r===s?t="":r===s-1&&e!==f.default.columnMetaTypes.ACTIVITY?(!a.showMentions&&o.showMentions&&(t=TD.i("All except mentions")),!a.showRetweets&&o.showRetweets&&(t=TD.i("All except Retweets")),!a.showFavorites&&o.showFavorites&&(t=TD.i("All except likes")),!a.showFollowers&&o.showFollowers&&(t=TD.i("All except followers")),!a.showLists&&o.showLists&&(t=TD.i("All except lists")),!a.showActionsOnRetweets&&o.showActionsOnRetweets&&(t=TD.i("All except actions on my Retweets")),!a.showQuoted&&o.showQuoted&&(t=TD.i("All except quoted Tweets")),!a.showInteractionsOnMentioned&&o.showInteractionsOnMentioned&&(t=TD.i("All except Tweets mentioning me")),!a.showInteractionsOnTagged&&o.showInteractionsOnTagged&&(t=TD.i("All except Tweets tagging me"))):(a.showMentions&&o.showMentions&&n.push(TD.i("mentions")),a.showQuoted&&o.showQuoted&&n.push(TD.i("quoted Tweets")),a.showInteractionsOnMentioned&&o.showInteractionsOnMentioned&&n.push(TD.i("including Tweets mentioning me")),a.showInteractionsOnTagged&&o.showInteractionsOnTagged&&n.push(TD.i("including Tweets tagging me")),a.showRetweets&&o.showRetweets&&n.push(TD.i("Retweets")),a.showFavorites&&o.showFavorites&&n.push(TD.i("likes")),a.showFollowers&&o.showFollowers&&n.push(TD.i("followers")),a.showLists&&o.showLists&&n.push(TD.i("lists")),a.showActionsOnRetweets&&o.showActionsOnRetweets&&n.push(TD.i("actions on my Retweets")),i=n.pop(),1===r?t=TD.i("{{{actionType}}} only",{actionType:i}):(n=n.join(", "),t=TD.i("{{{actionTypes}}} and {{{lastActionType}}}",{actionTypes:n,lastActionType:i}))),t},TD.vo.ActionFilter.prototype.getFilters=function(){var e,t=[],i=this.toJSONObject();return i.showMentions||(e=new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.MENTION,!1),t.push(e)),i.showRetweets||(e=new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.RETWEET,!1),t.push(e)),i.showFavorites||(e=new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.FAVORITE,!1),t.push(e)),i.showFollowers||(e=new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.FOLLOW,!1),t.push(e)),i.showLists||(e=new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.LIST_CREATED,!1),t.push(e),e=new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.LIST_MEMBER_ADDED,!1),t.push(e)),i.showActionsOnRetweets||(TD.decider.get("action_retweeted_retweet")&&(e=new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.RETWEETED_RETWEET,!1),t.push(e)),TD.decider.get("action_favorited_retweet")&&(e=new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.FAVORITED_RETWEET,!1),t.push(e))),i.showInteractionsOnMentioned||(e=new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.FAVORITED_MENTION,!1),t.push(e),e=new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.RETWEETED_MENTION,!1),t.push(e)),i.showInteractionsOnTagged||(e=new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.FAVORITED_MEDIA,!1),t.push(e),e=new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.RETWEETED_MEDIA,!1),t.push(e)),!i.showQuoted&&TD.decider.get("action_quoted_tweet")&&(e=new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.QUOTE,!1),t.push(e),e=new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.QUOTED_TWEET,!1),t.push(e)),t}},function(e,t,i){"use strict";var n=i(60);TD.vo.ContentFilter=function(e){this.fromJSONObject(e)},TD.vo.ContentFilter.TYPE_ANYTHING="anything",TD.vo.ContentFilter.TYPE_IMG="img",TD.vo.ContentFilter.TYPE_VID="vid",TD.vo.ContentFilter.TYPE_GIF="gif",TD.vo.ContentFilter.TYPE_VINE="vine",TD.vo.ContentFilter.TYPE_PERISCOPE="periscope",TD.vo.ContentFilter.TYPE_IMG_AND_VID="img_vid",TD.vo.ContentFilter.TYPE_LINKS="links",TD.vo.ContentFilter.LANG_ANY="any",TD.vo.ContentFilter.prototype.matching="",TD.vo.ContentFilter.prototype.excluding="",TD.vo.ContentFilter.prototype.type="anything",TD.vo.ContentFilter.prototype.lang="any",TD.vo.ContentFilter.prototype.includeRTs=!0,TD.vo.ContentFilter.prototype.sinceTimeInSec="",TD.vo.ContentFilter.prototype.untilTimeInSec="",TD.vo.ContentFilter.prototype.setMatching=function(e){this.matching=e||""},TD.vo.ContentFilter.prototype.setExcluding=function(e){this.excluding=e||""},TD.vo.ContentFilter.prototype.setType=function(e){this.type=e||TD.vo.ContentFilter.TYPE_ANYTHING},TD.vo.ContentFilter.prototype.setLanguage=function(e){this.lang=e||TD.vo.ContentFilter.LANG_ANY},TD.vo.ContentFilter.prototype.setIncludeRTs=function(e){this.includeRTs=void 0===e||Boolean(e)},TD.vo.ContentFilter.prototype.setSinceTimeInSec=function(e){this.sinceTimeInSec=n.unix(e).isValid()?e:""},TD.vo.ContentFilter.prototype.setUntilTimeInSec=function(e){this.untilTimeInSec=n.unix(e).isValid()?e:""},TD.vo.ContentFilter.prototype.toJSONObject=function(){return{matching:this.matching,excluding:this.excluding,type:this.type,lang:this.lang,includeRTs:this.includeRTs,sinceTimeInSec:this.sinceTimeInSec,untilTimeInSec:this.untilTimeInSec}},TD.vo.ContentFilter.prototype.fromJSONObject=function(e){e&&(this.setMatching(e.matching),this.setExcluding(e.excluding),this.setType(e.type),this.setLanguage(e.lang),this.setIncludeRTs(e.includeRTs),this.setSinceTimeInSec(e.sinceTimeInSec),this.setUntilTimeInSec(e.untilTimeInSec))},TD.vo.ContentFilter.prototype.getQueryString=function(){var e=[];switch(this.type){case TD.vo.ContentFilter.TYPE_IMG:e.push("filter:images");break;case TD.vo.ContentFilter.TYPE_VID:e.push("filter:videos");break;case TD.vo.ContentFilter.TYPE_GIF:e.push("card_name:animated_gif");break;case TD.vo.ContentFilter.TYPE_VINE:e.push("filter:vine");break;case TD.vo.ContentFilter.TYPE_PERISCOPE:e.push("(card_domain:pscp.tv OR card_domain:periscope.tv)");break;case TD.vo.ContentFilter.TYPE_IMG_AND_VID:e.push("(filter:images OR filter:videos)");break;case TD.vo.ContentFilter.TYPE_LINKS:e.push("filter:links")}return this.lang!==TD.vo.ContentFilter.LANG_ANY&&e.push("lang:"+this.lang),this.includeRTs||e.push("exclude:nativeretweets exclude:retweets"),this.excluding&&e.push(this.getExcludingQuery()),this.sinceTimeInSec&&e.push("since_time:"+this.sinceTimeInSec),this.untilTimeInSec&&e.push("until_time:"+this.untilTimeInSec),e.join(" ")},TD.vo.ContentFilter.prototype.getSummaryText=function(){var e=[];switch(this.type){case TD.vo.ContentFilter.TYPE_IMG:e.push(TD.i("showing images"));break;case TD.vo.ContentFilter.TYPE_VID:e.push(TD.i("showing videos"));break;case TD.vo.ContentFilter.TYPE_GIF:e.push(TD.i("showing GIFs"));break;case TD.vo.ContentFilter.TYPE_VINE:e.push(TD.i("showing Vines"));break;case TD.vo.ContentFilter.TYPE_PERISCOPE:e.push(TD.i("showing Periscopes"));break;case TD.vo.ContentFilter.TYPE_IMG_AND_VID:e.push(TD.i("showing images and videos"));break;case TD.vo.ContentFilter.TYPE_LINKS:e.push(TD.i("showing links"))}if(this.matching&&e.push(TD.i("matching ‘{{{matching}}}’",{matching:this.matching})),this.excluding&&e.push(TD.i("excluding ‘{{{excluding}}}’",{excluding:this.excluding})),this.lang!==TD.vo.ContentFilter.LANG_ANY){var t=TD.languages.getLanguageFromISOCode(this.lang);e.push(TD.i("written in {{{lang}}}",{lang:t.localized_name}))}return this.includeRTs||e.push(TD.i("Retweets excluded")),this.sinceTimeInSec&&e.push(TD.i("from {{sinceDatePretty}}",{sinceDatePretty:TD.util.prettyDateFromUnixTimestamp(this.sinceTimeInSec)})),this.untilTimeInSec&&e.push(TD.i("to {{untilDatePretty}}",{untilDatePretty:TD.util.prettyDateFromUnixTimestamp(this.untilTimeInSec)})),0===e.length?"":e.join(", ")},TD.vo.ContentFilter.prototype.getExcludingQuery=function(){if(!this.excluding)return"";var e=TD.services.TwitterSearchParser.extractPhrases(this.excluding,!0);return e=e.map(function(e){return"-"+e}),e.join(" ")},TD.vo.ContentFilter.prototype.getFilters=function(){var e,t,i=[];switch(this.type){case TD.vo.ContentFilter.TYPE_IMG:e=new TD.vo.Filter(TD.vo.Filter.HAS_IMAGE,!0,!0),i.push(e);break;case TD.vo.ContentFilter.TYPE_VID:e=new TD.vo.Filter(TD.vo.Filter.HAS_VIDEO,!0,!0),i.push(e);break;case TD.vo.ContentFilter.TYPE_GIF:e=new TD.vo.Filter(TD.vo.Filter.HAS_GIF,!0,!0),i.push(e);break;case TD.vo.ContentFilter.TYPE_VINE:e=new TD.vo.Filter(TD.vo.Filter.HAS_VINE,!0,!0),i.push(e);break;case TD.vo.ContentFilter.TYPE_IMG_AND_VID:e=new TD.vo.Filter(TD.vo.Filter.HAS_MEDIA,!0,!0),i.push(e);break;case TD.vo.ContentFilter.TYPE_LINKS:e=new TD.vo.Filter(TD.vo.Filter.HAS_LINK,!0,!0),i.push(e)}return this.matching&&(t=TD.services.TwitterSearchParser.extractPhrases(this.matching,!1),t.forEach(function(t){e=new TD.vo.Filter(TD.vo.Filter.PHRASE,t,!0),i.push(e)})),this.excluding&&(t=TD.services.TwitterSearchParser.extractPhrases(this.excluding,!1),t.forEach(function(t){e=new TD.vo.Filter(TD.vo.Filter.PHRASE,t,!1),i.push(e)})),this.sinceTimeInSec&&i.push(new TD.vo.Filter(TD.vo.Filter.SINCE_TIME,this.sinceTimeInSec,!0)),this.untilTimeInSec&&i.push(new TD.vo.Filter(TD.vo.Filter.UNTIL_TIME,this.untilTimeInSec,!0)),this.includeRTs||(e=new TD.vo.Filter(TD.vo.Filter.IS_RETWEET,!1,!0),i.push(e)),i},TD.vo.ContentFilter.prototype.hasActiveMediaFilter=function(){return[TD.vo.ContentFilter.TYPE_IMG,TD.vo.ContentFilter.TYPE_VID,TD.vo.ContentFilter.TYPE_GIF,TD.vo.ContentFilter.TYPE_VINE,TD.vo.ContentFilter.TYPE_PERISCOPE,TD.vo.ContentFilter.TYPE_IMG_AND_VID].indexOf(this.type)>-1}},function(e,t,i){"use strict";TD.vo.EngagementFilter=function(e){this.fromJSONObject(e)},TD.vo.EngagementFilter.prototype.minReplies=0,TD.vo.EngagementFilter.prototype.minRetweets=0,TD.vo.EngagementFilter.prototype.minFavorites=0,TD.vo.EngagementFilter.prototype.setMinReplies=function(e){this.minReplies=parseInt(e,10)},TD.vo.EngagementFilter.prototype.setMinRetweets=function(e){this.minRetweets=parseInt(e,10)},TD.vo.EngagementFilter.prototype.setMinFavorites=function(e){this.minFavorites=parseInt(e,10)},TD.vo.EngagementFilter.prototype.toJSONObject=function(){return{minReplies:this.minReplies,minRetweets:this.minRetweets,minFavorites:this.minFavorites}},TD.vo.EngagementFilter.prototype.fromJSONObject=function(e){e&&(this.setMinReplies(e.minReplies),this.setMinRetweets(e.minRetweets),this.setMinFavorites(e.minFavorites))},TD.vo.EngagementFilter.prototype.getQueryString=function(){var e=[];return this.minReplies>0&&e.push("min_replies:"+this.minReplies),this.minRetweets>0&&e.push("min_retweets:"+this.minRetweets),this.minFavorites>0&&e.push("min_faves:"+this.minFavorites),e.join(" ")},TD.vo.EngagementFilter.prototype.getSummaryText=function(){var e,t=[];switch(this.minReplies>0&&t.push({count:this.minReplies,label:TD.i("replies")}),this.minRetweets>0&&t.push({count:this.minRetweets,label:TD.i("Retweets")}),this.minFavorites>0&&t.push({count:this.minFavorites,label:TD.i("likes")}),t.length){case 0:e="";break;case 1:e=TD.i("at least {{#0}}{{count}} {{label}}{{/0}}",t);break;case 2:e=TD.i("at least {{#0}}{{count}} {{label}}{{/0}} and {{#1}}{{count}} {{label}}{{/1}}",t);break;case 3:e=TD.i("at least {{#0}}{{count}} {{label}}{{/0}}, {{#1}}{{count}} {{label}}{{/1}} and {{#2}}{{count}} {{label}}{{/2}}",t)}return e},TD.vo.EngagementFilter.prototype.getFilters=function(){return[]}},function(e,t,i){"use strict";var n=i(480);TD.vo.LocationFilter=function(e){this.fromJSONObject(e)},TD.vo.LocationFilter.prototype.toJSONObject=function(){return{lat:this.lat,lng:this.lng,radius:this.radius,zoom:this.zoom,name:this.name}},TD.vo.LocationFilter.prototype.fromJSONObject=function(e){e&&(this.setLat(e.lat),this.setLng(e.lng),this.setRadius(e.radius),this.setZoom(e.zoom),this.setName(e.name))},TD.vo.LocationFilter.prototype.setLat=function(e){this.lat=e||""},TD.vo.LocationFilter.prototype.setLng=function(e){this.lng=e||""},TD.vo.LocationFilter.prototype.setRadius=function(e){this.radius=e||""},TD.vo.LocationFilter.prototype.setZoom=function(e){this.zoom=e||""},TD.vo.LocationFilter.prototype.setName=function(e){this.name=e||""},TD.vo.LocationFilter.prototype.getQueryString=function(){return this.lat&&this.lng&&this.radius?"near:"+this.lat+","+this.lng+" within:"+this.radius:""},TD.vo.LocationFilter.prototype.getSummaryText=function(){if(this.name&&this.radius)return TD.i("Within {{radius}} of {{name}}",{radius:this.radius,name:this.name});if(this.lat&&this.lng&&this.radius){var e=(0,n.getPrettyCoordinates)(this.lat,this.lng,this.radius);return TD.i("Within {{radius}} of {{prettyCoordinates}}",{radius:this.radius,prettyCoordinates:e})}return""},TD.vo.LocationFilter.prototype.getFilters=function(){return this.lat&&this.lng&&this.radius?[new TD.vo.Filter(TD.vo.Filter.LOCATION,this.toJSONObject(),!0)]:[]}},function(e,t,i){"use strict";TD.vo.SearchFilter=function(e){this.fromJSONObject(e)},TD.vo.SearchFilter.prototype.action=null,TD.vo.SearchFilter.prototype.content=null,TD.vo.SearchFilter.prototype.location=null,TD.vo.SearchFilter.prototype.engagement=null,TD.vo.SearchFilter.prototype.user=null,TD.vo.SearchFilter.prototype.toJSONObject=function(){return{action:this.action.toJSONObject(),content:this.content.toJSONObject(),location:this.location.toJSONObject(),engagement:this.engagement.toJSONObject(),user:this.user.toJSONObject()}},TD.vo.SearchFilter.prototype.fromJSONObject=function(e){e=e||{},this.action=new TD.vo.ActionFilter(e.action),this.content=new TD.vo.ContentFilter(e.content),this.location=new TD.vo.LocationFilter(e.location),this.engagement=new TD.vo.EngagementFilter(e.engagement),this.user=new TD.vo.UserFilter(e.user)},TD.vo.SearchFilter.prototype.getQueryString=function(){return[this.content.getQueryString(),this.location.getQueryString(),this.engagement.getQueryString(),this.user.getQueryString()].join(" ").trim()},TD.vo.SearchFilter.prototype.getFilters=function(){var e=this.action.getFilters();return e=e.concat(this.content.getFilters()),e=e.concat(this.location.getFilters()),e=e.concat(this.engagement.getFilters()),e=e.concat(this.user.getFilters())}},function(e,t,i){"use strict";TD.vo.UserFilter=function(e){this.fromJSONObject(e)},TD.vo.UserFilter.FROM_ALL="all",TD.vo.UserFilter.FROM_USER="user",TD.vo.UserFilter.FROM_VERIFIED="verified",TD.vo.UserFilter.FROM_LIST="list",TD.vo.UserFilter.FROM_FOLLOWING="following",TD.vo.UserFilter.prototype.from_type=null,TD.vo.UserFilter.prototype.from_name=null,TD.vo.UserFilter.prototype.mention_name=null,TD.vo.UserFilter.prototype.setFrom=function(e,t){t&&e!==TD.vo.UserFilter.FROM_VERIFIED&&e!==TD.vo.UserFilter.FROM_ALL||(t=""),this.from_type=e,this.from_name=TD.util.deMentionify(t)},TD.vo.UserFilter.prototype.setMentioned=function(e){this.mention_name=e||"",this.mention_name=TD.util.deMentionify(this.mention_name)},TD.vo.UserFilter.prototype.toJSONObject=function(){return{from_type:this.from_type,from_name:this.from_name,mention_name:this.mention_name}},TD.vo.UserFilter.prototype.fromJSONObject=function(e){e&&(this.setFrom(e.from_type,e.from_name),this.setMentioned(e.mention_name))},TD.vo.UserFilter.prototype.getQueryString=function(){var e=[];switch(this.from_type){case TD.vo.UserFilter.FROM_USER:e.push("from:"+this.from_name);break;case TD.vo.UserFilter.FROM_VERIFIED:e.push("filter:verified");break;case TD.vo.UserFilter.FROM_LIST:e.push("list:"+this.from_name)}return this.mention_name&&e.push("+@"+this.mention_name),e.join(" ")},TD.vo.UserFilter.prototype.getSummaryText=function(){var e,t=[];switch(this.from_type){case TD.vo.UserFilter.FROM_USER:e=TD.storage.accountController.getAccountFromUsername(this.from_name).length>0,e?t.push(TD.i("by me (@{{{name}}})",{name:this.from_name})):t.push(TD.i("by @{{{name}}}",{name:this.from_name}));break;case TD.vo.UserFilter.FROM_VERIFIED:t.push(TD.i("by verified users"));break;case TD.vo.UserFilter.FROM_LIST:t.push(TD.i("by members of @{{{name}}}",{name:this.from_name}));break;case TD.vo.UserFilter.FROM_FOLLOWING:t.push(TD.i("by users I follow"))}return this.mention_name&&(e=TD.storage.accountController.getAccountFromUsername(this.mention_name).length>0,e?t.push(TD.i("mentioning me (@{{{name}}})",{name:this.mention_name})):t.push(TD.i("mentioning @{{{name}}}",{name:this.mention_name}))),t.join(", ")},TD.vo.UserFilter.prototype.getFilters=function(){var e,t=[];switch(this.mention_name&&(e=new TD.vo.Filter(TD.vo.Filter.PHRASE,TD.util.atMentionify(this.mention_name),!0),t.push(e)),this.from_type){case TD.vo.UserFilter.FROM_USER:e=new TD.vo.Filter(TD.vo.Filter.SENDER,this.from_name,!0),t.push(e);break;case TD.vo.UserFilter.FROM_VERIFIED:e=new TD.vo.Filter(TD.vo.Filter.IS_FROM_VERIFIED,!0,!0),t.push(e)}return t}},function(e,t,i){i(1097),e.exports=i(74).RegExp.escape},function(e,t,i){var n=i(16),s=i(225),r=i(21)("species");e.exports=function(e){var t;return s(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!s(t.prototype)||(t=void 0),n(t)&&null===(t=t[r])&&(t=void 0)),void 0===t?Array:t}},function(e,t,i){"use strict";var n=i(14),s=Date.prototype.getTime,r=Date.prototype.toISOString,o=function(e){return e>9?e:"0"+e};e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=r.call(new Date(-5e13-1))})||!n(function(){r.call(new Date(NaN))})?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),i=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(i>99?i:"0"+o(i))+"Z"}:r},function(e,t,i){"use strict";var n=i(11),s=i(78);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return s(n(this),"number"!=e)}},function(e,t,i){var n=i(125),s=i(229),r=i(179);e.exports=function(e){var t=n(e),i=s.f;if(i)for(var o,a=i(e),c=r.f,l=0;a.length>l;)c.call(e,o=a[l++])&&t.push(o);return t}},function(e,t){e.exports=function(e,t){var i=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,i)}}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,i){var n=i(1),s=i(1095)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(e){return s(e)}})},function(e,t,i){var n=i(1);n(n.P,"Array",{copyWithin:i(483)}),i(102)("copyWithin")},function(e,t,i){"use strict";var n=i(1),s=i(73)(4);n(n.P+n.F*!i(66)([].every,!0),"Array",{every:function(e){return s(this,e,arguments[1])}})},function(e,t,i){var n=i(1);n(n.P,"Array",{fill:i(291)}),i(102)("fill")},function(e,t,i){"use strict";var n=i(1),s=i(73)(2);n(n.P+n.F*!i(66)([].filter,!0),"Array",{filter:function(e){return s(this,e,arguments[1])}})},function(e,t,i){"use strict";var n=i(1),s=i(73)(6),r="findIndex",o=!0;r in[]&&Array(1)[r](function(){o=!1}),n(n.P+n.F*o,"Array",{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),i(102)(r)},function(e,t,i){"use strict";var n=i(1),s=i(73)(5),r=!0;"find"in[]&&Array(1).find(function(){r=!1}),n(n.P+n.F*r,"Array",{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),i(102)("find")},function(e,t,i){"use strict";var n=i(1),s=i(73)(0),r=i(66)([].forEach,!0);n(n.P+n.F*!r,"Array",{forEach:function(e){return s(this,e,arguments[1])}})},function(e,t,i){"use strict";var n=i(65),s=i(1),r=i(31),o=i(494),a=i(299),c=i(26),l=i(293),u=i(316);s(s.S+s.F*!i(227)(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,s,d,h=r(e),p="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,v=0,T=u(h);if(g&&(m=n(m,f>2?arguments[2]:void 0,2)),void 0==T||p==Array&&a(T))for(t=c(h.length),i=new p(t);t>v;v++)l(i,v,g?m(h[v],v):h[v]);else for(d=T.call(h),i=new p;!(s=d.next()).done;v++)l(i,v,g?o(d,m,[s.value,v],!0):s.value);return i.length=v,i}})},function(e,t,i){"use strict";var n=i(1),s=i(221)(!1),r=[].indexOf,o=!!r&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!i(66)(r)),"Array",{indexOf:function(e){return o?r.apply(this,arguments)||0:s(this,e,arguments[1])}})},function(e,t,i){var n=i(1);n(n.S,"Array",{isArray:i(225)})},function(e,t,i){"use strict";var n=i(1),s=i(58),r=[].join;n(n.P+n.F*(i(178)!=Object||!i(66)(r)),"Array",{join:function(e){return r.call(s(this),void 0===e?",":e)}})},function(e,t,i){"use strict";var n=i(1),s=i(58),r=i(77),o=i(26),a=[].lastIndexOf,c=!!a&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(c||!i(66)(a)),"Array",{lastIndexOf:function(e){if(c)return a.apply(this,arguments)||0;var t=s(this),i=o(t.length),n=i-1;for(arguments.length>1&&(n=Math.min(n,r(arguments[1]))),n<0&&(n=i+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}})},function(e,t,i){"use strict";var n=i(1),s=i(73)(1);n(n.P+n.F*!i(66)([].map,!0),"Array",{map:function(e){return s(this,e,arguments[1])}})},function(e,t,i){"use strict";var n=i(1),s=i(293);n(n.S+n.F*i(14)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,i=new("function"==typeof this?this:Array)(t);t>e;)s(i,e,arguments[e++]);return i.length=t,i}})},function(e,t,i){"use strict";var n=i(1),s=i(485);n(n.P+n.F*!i(66)([].reduceRight,!0),"Array",{reduceRight:function(e){return s(this,e,arguments.length,arguments[1],!0)}})},function(e,t,i){"use strict";var n=i(1),s=i(485);n(n.P+n.F*!i(66)([].reduce,!0),"Array",{reduce:function(e){return s(this,e,arguments.length,arguments[1],!1)}})},function(e,t,i){"use strict";var n=i(1),s=i(297),r=i(64),o=i(129),a=i(26),c=[].slice;n(n.P+n.F*i(14)(function(){s&&c.call(s)}),"Array",{slice:function(e,t){var i=a(this.length),n=r(this);if(t=void 0===t?i:t,"Array"==n)return c.call(this,e,t);for(var s=o(e,i),l=o(t,i),u=a(l-s),d=new Array(u),h=0;h<u;h++)d[h]="String"==n?this.charAt(s+h):this[s+h];return d}})},function(e,t,i){"use strict";var n=i(1),s=i(73)(3);n(n.P+n.F*!i(66)([].some,!0),"Array",{some:function(e){return s(this,e,arguments[1])}})},function(e,t,i){"use strict";var n=i(1),s=i(42),r=i(31),o=i(14),a=[].sort,c=[1,2,3];n(n.P+n.F*(o(function(){c.sort(void 0)})||!o(function(){c.sort(null)})||!i(66)(a)),"Array",{sort:function(e){return void 0===e?a.call(r(this)):a.call(r(this),s(e))}})},function(e,t,i){i(128)("Array")},function(e,t,i){var n=i(1);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,i){var n=i(1),s=i(1092);n(n.P+n.F*(Date.prototype.toISOString!==s),"Date",{toISOString:s})},function(e,t,i){"use strict";var n=i(1),s=i(31),r=i(78);n(n.P+n.F*i(14)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=s(this),i=r(t);return"number"!=typeof i||isFinite(i)?t.toISOString():null}})},function(e,t,i){var n=i(21)("toPrimitive"),s=Date.prototype;n in s||i(50)(s,n,i(1093))},function(e,t,i){var n=Date.prototype,s=n.toString,r=n.getTime;new Date(NaN)+""!="Invalid Date"&&i(51)(n,"toString",function(){var e=r.call(this);return e===e?s.call(this):"Invalid Date"})},function(e,t,i){var n=i(1);n(n.P,"Function",{bind:i(486)})},function(e,t,i){"use strict";var n=i(16),s=i(57),r=i(21)("hasInstance"),o=Function.prototype;r in o||i(25).f(o,r,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=s(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,i){var n=i(25).f,s=Function.prototype,r=/^\s*function ([^ (]*)/;"name"in s||i(24)&&n(s,"name",{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})},function(e,t,i){var n=i(1),s=i(497),r=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:s(e-1+r(e-1)*r(e+1))}})},function(e,t,i){function n(e){return isFinite(e=+e)&&0!=e?e<0?-n(-e):Math.log(e+Math.sqrt(e*e+1)):e}var s=i(1),r=Math.asinh;s(s.S+s.F*!(r&&1/r(0)>0),"Math",{asinh:n})},function(e,t,i){var n=i(1),s=Math.atanh;n(n.S+n.F*!(s&&1/s(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,i){var n=i(1),s=i(303);n(n.S,"Math",{cbrt:function(e){return s(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,i){var n=i(1);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,i){var n=i(1),s=Math.exp;n(n.S,"Math",{cosh:function(e){return(s(e=+e)+s(-e))/2}})},function(e,t,i){var n=i(1),s=i(302);n(n.S+n.F*(s!=Math.expm1),"Math",{expm1:s})},function(e,t,i){var n=i(1);n(n.S,"Math",{fround:i(496)})},function(e,t,i){var n=i(1),s=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var i,n,r=0,o=0,a=arguments.length,c=0;o<a;)i=s(arguments[o++]),c<i?(n=c/i,r=r*n*n+1,c=i):i>0?(n=i/c,r+=n*n):r+=i;return c===1/0?1/0:c*Math.sqrt(r)}})},function(e,t,i){var n=i(1),s=Math.imul;n(n.S+n.F*i(14)(function(){return-5!=s(4294967295,5)||2!=s.length}),"Math",{imul:function(e,t){var i=+e,n=+t,s=65535&i,r=65535&n;return 0|s*r+((65535&i>>>16)*r+s*(65535&n>>>16)<<16>>>0)}})},function(e,t,i){var n=i(1);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,i){var n=i(1);n(n.S,"Math",{log1p:i(497)})},function(e,t,i){var n=i(1);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,i){var n=i(1);n(n.S,"Math",{sign:i(303)})},function(e,t,i){var n=i(1),s=i(302),r=Math.exp;n(n.S+n.F*i(14)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(s(e)-s(-e))/2:(r(e-1)-r(-e-1))*(Math.E/2)}})},function(e,t,i){var n=i(1),s=i(302),r=Math.exp;n(n.S,"Math",{tanh:function(e){var t=s(e=+e),i=s(-e);return t==1/0?1:i==1/0?-1:(t-i)/(r(e)+r(-e))}})},function(e,t,i){var n=i(1);n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,i){"use strict";var n=i(12),s=i(49),r=i(64),o=i(298),a=i(78),c=i(14),l=i(124).f,u=i(56).f,d=i(25).f,h=i(150).trim,p=n.Number,f=p,m=p.prototype,g="Number"==r(i(123)(m)),v="trim"in String.prototype,T=function(e){var t=a(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():h(t,3);var i,n,s,r=t.charCodeAt(0);if(43===r||45===r){if(88===(i=t.charCodeAt(2))||120===i)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+t}for(var o,c=t.slice(2),l=0,u=c.length;l<u;l++)if((o=c.charCodeAt(l))<48||o>s)return NaN;return parseInt(c,n)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof p&&(g?c(function(){m.valueOf.call(i)}):"Number"!=r(i))?o(new f(T(t)),i,p):T(t)};for(var _,y=i(24)?l(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;y.length>w;w++)s(f,_=y[w])&&!s(p,_)&&d(p,_,u(f,_));p.prototype=m,m.constructor=p,i(51)(n,"Number",p)}},function(e,t,i){var n=i(1);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,i){var n=i(1),s=i(12).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&s(e)}})},function(e,t,i){var n=i(1);n(n.S,"Number",{isInteger:i(493)})},function(e,t,i){var n=i(1);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,i){var n=i(1),s=i(493),r=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return s(e)&&r(e)<=9007199254740991}})},function(e,t,i){var n=i(1);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,i){var n=i(1);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,i){var n=i(1),s=i(505);n(n.S+n.F*(Number.parseFloat!=s),"Number",{parseFloat:s})},function(e,t,i){var n=i(1),s=i(506);n(n.S+n.F*(Number.parseInt!=s),"Number",{parseInt:s})},function(e,t,i){"use strict";var n=i(1),s=i(77),r=i(482),o=i(310),a=1..toFixed,c=Math.floor,l=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",d=function(e,t){for(var i=-1,n=t;++i<6;)n+=e*l[i],l[i]=n%1e7,n=c(n/1e7)},h=function(e){for(var t=6,i=0;--t>=0;)i+=l[t],l[t]=c(i/e),i=i%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==l[e]){var i=String(l[e]);t=""===t?i:t+o.call("0",7-i.length)+i}return t},f=function(e,t,i){return 0===t?i:t%2==1?f(e,t-1,i*e):f(e*e,t/2,i)},m=function(e){for(var t=0,i=e;i>=4096;)t+=12,i/=4096;for(;i>=2;)t+=1,i/=2;return t};n(n.P+n.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(14)(function(){a.call({})})),"Number",{toFixed:function(e){var t,i,n,a,c=r(this,u),l=s(e),g="",v="0";if(l<0||l>20)throw RangeError(u);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(g="-",c=-c),c>1e-21)if(t=m(c*f(2,69,1))-69,i=t<0?c*f(2,-t,1):c/f(2,t,1),i*=4503599627370496,(t=52-t)>0){for(d(0,i),n=l;n>=7;)d(1e7,0),n-=7;for(d(f(10,n,1),0),n=t-1;n>=23;)h(1<<23),n-=23;h(1<<n),d(1,1),h(2),v=p()}else d(0,i),d(1<<-t,0),v=p()+o.call("0",l);return l>0?(a=v.length,v=g+(a<=l?"0."+o.call("0",l-a)+v:v.slice(0,a-l)+"."+v.slice(a-l))):v=g+v,v}})},function(e,t,i){"use strict";var n=i(1),s=i(14),r=i(482),o=1..toPrecision;n(n.P+n.F*(s(function(){return"1"!==o.call(1,void 0)})||!s(function(){o.call({})})),"Number",{toPrecision:function(e){var t=r(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},function(e,t,i){var n=i(1);n(n.S+n.F,"Object",{assign:i(499)})},function(e,t,i){var n=i(1);n(n.S,"Object",{create:i(123)})},function(e,t,i){var n=i(1);n(n.S+n.F*!i(24),"Object",{defineProperties:i(500)})},function(e,t,i){var n=i(1);n(n.S+n.F*!i(24),"Object",{defineProperty:i(25).f})},function(e,t,i){var n=i(16),s=i(103).onFreeze;i(76)("freeze",function(e){return function(t){return e&&n(t)?e(s(t)):t}})},function(e,t,i){var n=i(58),s=i(56).f;i(76)("getOwnPropertyDescriptor",function(){return function(e,t){return s(n(e),t)}})},function(e,t,i){i(76)("getOwnPropertyNames",function(){return i(501).f})},function(e,t,i){var n=i(31),s=i(57);i(76)("getPrototypeOf",function(){return function(e){return s(n(e))}})},function(e,t,i){var n=i(16);i(76)("isExtensible",function(e){return function(t){return!!n(t)&&(!e||e(t))}})},function(e,t,i){var n=i(16);i(76)("isFrozen",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,t,i){var n=i(16);i(76)("isSealed",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,t,i){var n=i(1);n(n.S,"Object",{is:i(1096)})},function(e,t,i){var n=i(31),s=i(125);i(76)("keys",function(){return function(e){return s(n(e))}})},function(e,t,i){var n=i(16),s=i(103).onFreeze;i(76)("preventExtensions",function(e){return function(t){return e&&n(t)?e(s(t)):t}})},function(e,t,i){var n=i(16),s=i(103).onFreeze;i(76)("seal",function(e){return function(t){return e&&n(t)?e(s(t)):t}})},function(e,t,i){var n=i(1);n(n.S,"Object",{setPrototypeOf:i(306).set})},function(e,t,i){"use strict";var n=i(177),s={};s[i(21)("toStringTag")]="z",s+""!="[object z]"&&i(51)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(e,t,i){var n=i(1),s=i(505);n(n.G+n.F*(parseFloat!=s),{parseFloat:s})},function(e,t,i){var n=i(1),s=i(506);n(n.G+n.F*(parseInt!=s),{parseInt:s})},function(e,t,i){"use strict";var n,s,r,o,a=i(122),c=i(12),l=i(65),u=i(177),d=i(1),h=i(16),p=i(42),f=i(120),m=i(121),g=i(233),v=i(312).set,T=i(304)(),_=i(305),y=i(507),w=i(508),b=c.TypeError,D=c.process,C=c.Promise,S="process"==u(D),E=function(){},I=s=_.f,A=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[i(21)("species")]=function(e){e(E,E)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(E)instanceof t}catch(e){}}(),x=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},k=function(e,t){if(!e._n){e._n=!0;var i=e._c;T(function(){for(var n=e._v,s=1==e._s,r=0;i.length>r;)!function(t){var i,r,o=s?t.ok:t.fail,a=t.resolve,c=t.reject,l=t.domain;try{o?(s||(2==e._h&&R(e),e._h=1),!0===o?i=n:(l&&l.enter(),i=o(n),l&&l.exit()),i===t.promise?c(b("Promise-chain cycle")):(r=x(i))?r.call(i,a,c):a(i)):c(n)}catch(e){c(e)}}(i[r++]);e._c=[],e._n=!1,t&&!e._h&&M(e)})}},M=function(e){v.call(c,function(){var t,i,n,s=e._v,r=O(e);if(r&&(t=y(function(){S?D.emit("unhandledRejection",s,e):(i=c.onunhandledrejection)?i({promise:e,reason:s}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",s)}),e._h=S||O(e)?2:1),e._a=void 0,r&&t.e)throw t.v})},O=function(e){return 1!==e._h&&0===(e._a||e._c).length},R=function(e){v.call(c,function(){var t;S?D.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),k(t,!0))},F=function(e){var t,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw b("Promise can't be resolved itself");(t=x(e))?T(function(){var n={_w:i,_d:!1};try{t.call(e,l(F,n,1),l(L,n,1))}catch(e){L.call(n,e)}}):(i._v=e,i._s=1,k(i,!1))}catch(e){L.call({_w:i,_d:!1},e)}}};A||(C=function(e){f(this,C,"Promise","_h"),p(e),n.call(this);try{e(l(F,this,1),l(L,this,1))}catch(e){L.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=i(127)(C.prototype,{then:function(e,t){var i=I(g(this,C));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=S?D.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&k(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new n;this.promise=e,this.resolve=l(F,e,1),this.reject=l(L,e,1)},_.f=I=function(e){return e===C||e===o?new r(e):s(e)}),d(d.G+d.W+d.F*!A,{Promise:C}),i(149)(C,"Promise"),i(128)("Promise"),o=i(74).Promise,d(d.S+d.F*!A,"Promise",{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(a||!A),"Promise",{resolve:function(e){return w(a&&this===o?C:this,e)}}),d(d.S+d.F*!(A&&i(227)(function(e){C.all(e).catch(E)})),"Promise",{all:function(e){var t=this,i=I(t),n=i.resolve,s=i.reject,r=y(function(){var i=[],r=0,o=1;m(e,!1,function(e){var a=r++,c=!1;i.push(void 0),o++,t.resolve(e).then(function(e){c||(c=!0,i[a]=e,--o||n(i))},s)}),--o||n(i)});return r.e&&s(r.v),i.promise},race:function(e){var t=this,i=I(t),n=i.reject,s=y(function(){m(e,!1,function(e){t.resolve(e).then(i.resolve,n)})});return s.e&&n(s.v),i.promise}})},function(e,t,i){var n=i(1),s=i(42),r=i(11),o=(i(12).Reflect||{}).apply,a=Function.apply;n(n.S+n.F*!i(14)(function(){o(function(){})}),"Reflect",{apply:function(e,t,i){var n=s(e),c=r(i);return o?o(n,t,c):a.call(n,t,c)}})},function(e,t,i){var n=i(1),s=i(123),r=i(42),o=i(11),a=i(16),c=i(14),l=i(486),u=(i(12).Reflect||{}).construct,d=c(function(){function e(){}return!(u(function(){},[],e)instanceof e)}),h=!c(function(){u(function(){})});n(n.S+n.F*(d||h),"Reflect",{construct:function(e,t){r(e),o(t);var i=arguments.length<3?e:r(arguments[2]);if(h&&!d)return u(e,t,i);if(e==i){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(l.apply(e,n))}var c=i.prototype,p=s(a(c)?c:Object.prototype),f=Function.apply.call(e,p,t);return a(f)?f:p}})},function(e,t,i){var n=i(25),s=i(1),r=i(11),o=i(78);s(s.S+s.F*i(14)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,i){r(e),t=o(t,!0),r(i);try{return n.f(e,t,i),!0}catch(e){return!1}}})},function(e,t,i){var n=i(1),s=i(56).f,r=i(11);n(n.S,"Reflect",{deleteProperty:function(e,t){var i=s(r(e),t);return!(i&&!i.configurable)&&delete e[t]}})},function(e,t,i){"use strict";var n=i(1),s=i(11),r=function(e){this._t=s(e),this._i=0;var t,i=this._k=[];for(t in e)i.push(t)};i(300)(r,"Object",function(){var e,t=this,i=t._k;do{if(t._i>=i.length)return{value:void 0,done:!0}}while(!((e=i[t._i++])in t._t));return{value:e,done:!1}}),n(n.S,"Reflect",{enumerate:function(e){return new r(e)}})},function(e,t,i){var n=i(56),s=i(1),r=i(11);s(s.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(r(e),t)}})},function(e,t,i){var n=i(1),s=i(57),r=i(11);n(n.S,"Reflect",{getPrototypeOf:function(e){return s(r(e))}})},function(e,t,i){function n(e,t){var i,a,u=arguments.length<3?e:arguments[2];return l(e)===u?e[t]:(i=s.f(e,t))?o(i,"value")?i.value:void 0!==i.get?i.get.call(u):void 0:c(a=r(e))?n(a,t,u):void 0}var s=i(56),r=i(57),o=i(49),a=i(1),c=i(16),l=i(11);a(a.S,"Reflect",{get:n})},function(e,t,i){var n=i(1);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,i){var n=i(1),s=i(11),r=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return s(e),!r||r(e)}})},function(e,t,i){var n=i(1);n(n.S,"Reflect",{ownKeys:i(504)})},function(e,t,i){var n=i(1),s=i(11),r=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){s(e);try{return r&&r(e),!0}catch(e){return!1}}})},function(e,t,i){var n=i(1),s=i(306);s&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){s.check(e,t);try{return s.set(e,t),!0}catch(e){return!1}}})},function(e,t,i){function n(e,t,i){var c,h,p=arguments.length<4?e:arguments[3],f=r.f(u(e),t);if(!f){if(d(h=o(e)))return n(h,t,i,p);f=l(0)}return a(f,"value")?!(!1===f.writable||!d(p))&&(c=r.f(p,t)||l(0),c.value=i,s.f(p,t,c),!0):void 0!==f.set&&(f.set.call(p,i),!0)}var s=i(25),r=i(56),o=i(57),a=i(49),c=i(1),l=i(126),u=i(11),d=i(16);c(c.S,"Reflect",{set:n})},function(e,t,i){var n=i(12),s=i(298),r=i(25).f,o=i(124).f,a=i(226),c=i(224),l=n.RegExp,u=l,d=l.prototype,h=/a/g,p=/a/g,f=new l(h)!==h;if(i(24)&&(!f||i(14)(function(){return p[i(21)("match")]=!1,l(h)!=h||l(p)==p||"/a/i"!=l(h,"i")}))){l=function(e,t){var i=this instanceof l,n=a(e),r=void 0===t;return!i&&n&&e.constructor===l&&r?e:s(f?new u(n&&!r?e.source:e,t):u((n=e instanceof l)?e.source:e,n&&r?c.call(e):t),i?this:d,l)};for(var m=o(u),g=0;m.length>g;)!function(e){e in l||r(l,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})}(m[g++]);d.constructor=l,l.prototype=d,i(51)(n,"RegExp",l)}i(128)("RegExp")},function(e,t,i){i(223)("match",1,function(e,t,i){return[function(i){"use strict";var n=e(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,n):new RegExp(i)[t](String(n))},i]})},function(e,t,i){i(223)("replace",2,function(e,t,i){return[function(n,s){"use strict";var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r,s):i.call(String(r),n,s)},i]})},function(e,t,i){i(223)("search",1,function(e,t,i){return[function(i){"use strict";var n=e(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,n):new RegExp(i)[t](String(n))},i]})},function(e,t,i){i(223)("split",2,function(e,t,n){"use strict";var s=i(226),r=n,o=[].push,a="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[a]||2!="ab".split(/(?:ab)*/)[a]||4!=".".split(/(.?)(.?)/)[a]||".".split(/()()/)[a]>1||"".split(/.?/)[a]){var c=void 0===/()??/.exec("")[1];n=function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!s(e))return r.call(i,e,t);var n,l,u,d,h,p=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,g=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,f+"g");for(c||(n=new RegExp("^"+v.source+"$(?!\\s)",f));(l=v.exec(i))&&!((u=l.index+l[0][a])>m&&(p.push(i.slice(m,l.index)),!c&&l[a]>1&&l[0].replace(n,function(){for(h=1;h<arguments[a]-2;h++)void 0===arguments[h]&&(l[h]=void 0)}),l[a]>1&&l.index<i[a]&&o.apply(p,l.slice(1)),d=l[0][a],m=u,p[a]>=g));)v.lastIndex===l.index&&v.lastIndex++;return m===i[a]?!d&&v.test("")||p.push(""):p.push(i.slice(m)),p[a]>g?p.slice(0,g):p}}else"0".split(void 0,0)[a]&&(n=function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)});return[function(i,s){var r=e(this),o=void 0==i?void 0:i[t];return void 0!==o?o.call(i,r,s):n.call(String(r),i,s)},n]})},function(e,t,i){"use strict";i(513);var n=i(11),s=i(224),r=i(24),o=/./.toString,a=function(e){i(51)(RegExp.prototype,"toString",e,!0)};i(14)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?a(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?s.call(e):void 0)}):"toString"!=o.name&&a(function(){return o.call(this)})},function(e,t,i){"use strict";i(52)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,i){"use strict";i(52)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,i){"use strict";i(52)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,i){"use strict";i(52)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,i){"use strict";var n=i(1),s=i(308)(!1);n(n.P,"String",{codePointAt:function(e){return s(this,e)}})},function(e,t,i){"use strict";var n=i(1),s=i(26),r=i(309),o="".endsWith;n(n.P+n.F*i(296)("endsWith"),"String",{endsWith:function(e){var t=r(this,e,"endsWith"),i=arguments.length>1?arguments[1]:void 0,n=s(t.length),a=void 0===i?n:Math.min(s(i),n),c=String(e);return o?o.call(t,c,a):t.slice(a-c.length,a)===c}})},function(e,t,i){"use strict";i(52)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,i){"use strict";i(52)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,i){"use strict";i(52)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,i){var n=i(1),s=i(129),r=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,i=[],n=arguments.length,o=0;n>o;){if(t=+arguments[o++],s(t,1114111)!==t)throw RangeError(t+" is not a valid code point");i.push(t<65536?r(t):r(55296+((t-=65536)>>10),t%1024+56320))}return i.join("")}})},function(e,t,i){"use strict";var n=i(1),s=i(309);n(n.P+n.F*i(296)("includes"),"String",{includes:function(e){return!!~s(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,i){"use strict";i(52)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,i){"use strict";var n=i(308)(!0);i(301)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})})},function(e,t,i){"use strict";i(52)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,i){var n=i(1),s=i(58),r=i(26);n(n.S,"String",{raw:function(e){for(var t=s(e.raw),i=r(t.length),n=arguments.length,o=[],a=0;i>a;)o.push(String(t[a++])),a<n&&o.push(String(arguments[a]));return o.join("")}})},function(e,t,i){var n=i(1);n(n.P,"String",{repeat:i(310)})},function(e,t,i){"use strict";i(52)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,i){"use strict";var n=i(1),s=i(26),r=i(309),o="".startsWith;n(n.P+n.F*i(296)("startsWith"),"String",{startsWith:function(e){var t=r(this,e,"startsWith"),i=s(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return o?o.call(t,n,i):t.slice(i,i+n.length)===n}})},function(e,t,i){"use strict";i(52)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,i){"use strict";i(52)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,i){"use strict";i(52)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,i){"use strict";i(150)("trim",function(e){return function(){return e(this,3)}})},function(e,t,i){"use strict";var n=i(12),s=i(49),r=i(24),o=i(1),a=i(51),c=i(103).KEY,l=i(14),u=i(232),d=i(149),h=i(130),p=i(21),f=i(511),m=i(315),g=i(1094),v=i(225),T=i(11),_=i(16),y=i(58),w=i(78),b=i(126),D=i(123),C=i(501),S=i(56),E=i(25),I=i(125),A=S.f,x=E.f,k=C.f,M=n.Symbol,O=n.JSON,R=O&&O.stringify,L=p("_hidden"),F=p("toPrimitive"),N={}.propertyIsEnumerable,P=u("symbol-registry"),j=u("symbols"),U=u("op-symbols"),$=Object.prototype,B="function"==typeof M,H=n.QObject,z=!H||!H.prototype||!H.prototype.findChild,W=r&&l(function(){return 7!=D(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=A($,t);n&&delete $[t],x(e,t,i),n&&e!==$&&x($,t,n)}:x,K=function(e){var t=j[e]=D(M.prototype);return t._k=e,t},V=B&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},G=function(e,t,i){return e===$&&G(U,t,i),T(e),t=w(t,!0),T(i),s(j,t)?(i.enumerable?(s(e,L)&&e[L][t]&&(e[L][t]=!1),i=D(i,{enumerable:b(0,!1)})):(s(e,L)||x(e,L,b(1,{})),e[L][t]=!0),W(e,t,i)):x(e,t,i)},q=function(e,t){T(e);for(var i,n=g(t=y(t)),s=0,r=n.length;r>s;)G(e,i=n[s++],t[i]);return e},Y=function(e,t){return void 0===t?D(e):q(D(e),t)},Q=function(e){var t=N.call(this,e=w(e,!0));return!(this===$&&s(j,e)&&!s(U,e))&&(!(t||!s(this,e)||!s(j,e)||s(this,L)&&this[L][e])||t)},J=function(e,t){if(e=y(e),t=w(t,!0),e!==$||!s(j,t)||s(U,t)){var i=A(e,t);return!i||!s(j,t)||s(e,L)&&e[L][t]||(i.enumerable=!0),i}},X=function(e){for(var t,i=k(y(e)),n=[],r=0;i.length>r;)s(j,t=i[r++])||t==L||t==c||n.push(t);return n},Z=function(e){for(var t,i=e===$,n=k(i?U:y(e)),r=[],o=0;n.length>o;)!s(j,t=n[o++])||i&&!s($,t)||r.push(j[t]);return r};B||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(i){this===$&&t.call(U,i),s(this,L)&&s(this[L],e)&&(this[L][e]=!1),W(this,e,b(1,i))};return r&&z&&W($,e,{configurable:!0,set:t}),K(e)},a(M.prototype,"toString",function(){return this._k}),S.f=J,E.f=G,i(124).f=C.f=X,i(179).f=Q,i(229).f=Z,r&&!i(122)&&a($,"propertyIsEnumerable",Q,!0),f.f=function(e){return K(p(e))}),o(o.G+o.W+o.F*!B,{Symbol:M});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ie=I(p.store),ne=0;ie.length>ne;)m(ie[ne++]);o(o.S+o.F*!B,"Symbol",{for:function(e){return s(P,e+="")?P[e]:P[e]=M(e)},keyFor:function(e){if(!V(e))throw TypeError(e+" is not a symbol!");for(var t in P)if(P[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),o(o.S+o.F*!B,"Object",{create:Y,defineProperty:G,defineProperties:q,getOwnPropertyDescriptor:J,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),O&&o(o.S+o.F*(!B||l(function(){var e=M();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){for(var t,i,n=[e],s=1;arguments.length>s;)n.push(arguments[s++]);if(i=t=n[1],(_(t)||void 0!==e)&&!V(e))return v(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!V(t))return t}),n[1]=t,R.apply(O,n)}}),M.prototype[F]||i(50)(M.prototype,F,M.prototype.valueOf),d(M,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(e,t,i){"use strict";var n=i(1),s=i(234),r=i(313),o=i(11),a=i(129),c=i(26),l=i(16),u=i(12).ArrayBuffer,d=i(233),h=r.ArrayBuffer,p=r.DataView,f=s.ABV&&u.isView,m=h.prototype.slice,g=s.VIEW;n(n.G+n.W+n.F*(u!==h),{ArrayBuffer:h}),n(n.S+n.F*!s.CONSTR,"ArrayBuffer",{isView:function(e){return f&&f(e)||l(e)&&g in e}}),n(n.P+n.U+n.F*i(14)(function(){return!new h(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(o(this),e);for(var i=o(this).byteLength,n=a(e,i),s=a(void 0===t?i:t,i),r=new(d(this,h))(c(s-n)),l=new p(this),u=new p(r),f=0;n<s;)u.setUint8(f++,l.getUint8(n++));return r}}),i(128)("ArrayBuffer")},function(e,t,i){var n=i(1);n(n.G+n.W+n.F*!i(234).ABV,{DataView:i(313).DataView})},function(e,t,i){i(92)("Float32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(92)("Float64",8,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(92)("Int16",2,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(92)("Int32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(92)("Int8",1,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(92)("Uint16",2,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(92)("Uint32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(92)("Uint8",1,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(92)("Uint8",1,function(e){return function(t,i,n){return e(this,t,i,n)}},!0)},function(e,t,i){"use strict";var n=i(489),s=i(151);i(222)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(s(this,"WeakSet"),e,!0)}},n,!1,!0)},function(e,t,i){"use strict";var n=i(1),s=i(490),r=i(31),o=i(26),a=i(42),c=i(292);n(n.P,"Array",{flatMap:function(e){var t,i,n=r(this);return a(e),t=o(n.length),i=c(n,0),s(i,n,n,t,0,1,e,arguments[1]),i}}),i(102)("flatMap")},function(e,t,i){"use strict";var n=i(1),s=i(490),r=i(31),o=i(26),a=i(77),c=i(292);n(n.P,"Array",{flatten:function(){var e=arguments[0],t=r(this),i=o(t.length),n=c(t,0);return s(n,t,t,i,0,void 0===e?1:a(e)),n}}),i(102)("flatten")},function(e,t,i){"use strict";var n=i(1),s=i(221)(!0);n(n.P,"Array",{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),i(102)("includes")},function(e,t,i){var n=i(1),s=i(304)(),r=i(12).process,o="process"==i(64)(r);n(n.G,{asap:function(e){var t=o&&r.domain;s(t?t.bind(e):e)}})},function(e,t,i){var n=i(1),s=i(64);n(n.S,"Error",{isError:function(e){return"Error"===s(e)}})},function(e,t,i){var n=i(1);n(n.G,{global:i(12)})},function(e,t,i){i(230)("Map")},function(e,t,i){i(231)("Map")},function(e,t,i){var n=i(1);n(n.P+n.R,"Map",{toJSON:i(488)("Map")})},function(e,t,i){var n=i(1);n(n.S,"Math",{clamp:function(e,t,i){return Math.min(i,Math.max(t,e))}})},function(e,t,i){var n=i(1);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,i){var n=i(1),s=180/Math.PI;n(n.S,"Math",{degrees:function(e){return e*s}})},function(e,t,i){var n=i(1),s=i(498),r=i(496);n(n.S,"Math",{fscale:function(e,t,i,n,o){return r(s(e,t,i,n,o))}})},function(e,t,i){var n=i(1);n(n.S,"Math",{iaddh:function(e,t,i,n){var s=e>>>0,r=t>>>0,o=i>>>0;return r+(n>>>0)+((s&o|(s|o)&~(s+o>>>0))>>>31)|0}})},function(e,t,i){var n=i(1);n(n.S,"Math",{imulh:function(e,t){var i=+e,n=+t,s=65535&i,r=65535&n,o=i>>16,a=n>>16,c=(o*r>>>0)+(s*r>>>16);return o*a+(c>>16)+((s*a>>>0)+(65535&c)>>16)}})},function(e,t,i){var n=i(1);n(n.S,"Math",{isubh:function(e,t,i,n){var s=e>>>0,r=t>>>0,o=i>>>0;return r-(n>>>0)-((~s&o|~(s^o)&s-o>>>0)>>>31)|0}})},function(e,t,i){var n=i(1);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,i){var n=i(1),s=Math.PI/180;n(n.S,"Math",{radians:function(e){return e*s}})},function(e,t,i){var n=i(1);n(n.S,"Math",{scale:i(498)})},function(e,t,i){var n=i(1);n(n.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,i){var n=i(1);n(n.S,"Math",{umulh:function(e,t){var i=+e,n=+t,s=65535&i,r=65535&n,o=i>>>16,a=n>>>16,c=(o*r>>>0)+(s*r>>>16);return o*a+(c>>>16)+((s*a>>>0)+(65535&c)>>>16)}})},function(e,t,i){"use strict";var n=i(1),s=i(31),r=i(42),o=i(25);i(24)&&n(n.P+i(228),"Object",{__defineGetter__:function(e,t){o.f(s(this),e,{get:r(t),enumerable:!0,configurable:!0})}})},function(e,t,i){"use strict";var n=i(1),s=i(31),r=i(42),o=i(25);i(24)&&n(n.P+i(228),"Object",{__defineSetter__:function(e,t){o.f(s(this),e,{set:r(t),enumerable:!0,configurable:!0})}})},function(e,t,i){var n=i(1),s=i(503)(!0);n(n.S,"Object",{entries:function(e){return s(e)}})},function(e,t,i){var n=i(1),s=i(504),r=i(58),o=i(56),a=i(293);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,i,n=r(e),c=o.f,l=s(n),u={},d=0;l.length>d;)void 0!==(i=c(n,t=l[d++]))&&a(u,t,i);return u}})},function(e,t,i){"use strict";var n=i(1),s=i(31),r=i(78),o=i(57),a=i(56).f;i(24)&&n(n.P+i(228),"Object",{__lookupGetter__:function(e){var t,i=s(this),n=r(e,!0);do{if(t=a(i,n))return t.get}while(i=o(i))}})},function(e,t,i){"use strict";var n=i(1),s=i(31),r=i(78),o=i(57),a=i(56).f;i(24)&&n(n.P+i(228),"Object",{__lookupSetter__:function(e){var t,i=s(this),n=r(e,!0);do{if(t=a(i,n))return t.set}while(i=o(i))}})},function(e,t,i){var n=i(1),s=i(503)(!1);n(n.S,"Object",{values:function(e){return s(e)}})},function(e,t,i){"use strict";var n=i(1),s=i(12),r=i(74),o=i(304)(),a=i(21)("observable"),c=i(42),l=i(11),u=i(120),d=i(127),h=i(50),p=i(121),f=p.RETURN,m=function(e){return null==e?void 0:c(e)},g=function(e){var t=e._c;t&&(e._c=void 0,t())},v=function(e){return void 0===e._o},T=function(e){v(e)||(e._o=void 0,g(e))},_=function(e,t){l(e),this._c=void 0,this._o=e,e=new y(this);try{var i=t(e),n=i;null!=i&&("function"==typeof i.unsubscribe?i=function(){n.unsubscribe()}:c(i),this._c=i)}catch(t){return void e.error(t)}v(this)&&g(this)};_.prototype=d({},{unsubscribe:function(){T(this)}});var y=function(e){this._s=e};y.prototype=d({},{next:function(e){var t=this._s;if(!v(t)){var i=t._o;try{var n=m(i.next);if(n)return n.call(i,e)}catch(e){try{T(t)}finally{throw e}}}},error:function(e){var t=this._s;if(v(t))throw e;var i=t._o;t._o=void 0;try{var n=m(i.error);if(!n)throw e;e=n.call(i,e)}catch(e){try{g(t)}finally{throw e}}return g(t),e},complete:function(e){var t=this._s;if(!v(t)){var i=t._o;t._o=void 0;try{var n=m(i.complete);e=n?n.call(i,e):void 0}catch(e){try{g(t)}finally{throw e}}return g(t),e}}});var w=function(e){u(this,w,"Observable","_f")._f=c(e)};d(w.prototype,{subscribe:function(e){return new _(e,this._f)},forEach:function(e){var t=this;return new(r.Promise||s.Promise)(function(i,n){c(e);var s=t.subscribe({next:function(t){try{return e(t)}catch(e){n(e),s.unsubscribe()}},error:n,complete:i})})}}),d(w,{from:function(e){var t="function"==typeof this?this:w,i=m(l(e)[a]);if(i){var n=l(i.call(e));return n.constructor===t?n:new t(function(e){return n.subscribe(e)})}return new t(function(t){var i=!1;return o(function(){if(!i){try{if(p(e,!1,function(e){if(t.next(e),i)return f})===f)return}catch(e){if(i)throw e;return void t.error(e)}t.complete()}}),function(){i=!0}})},of:function(){for(var e=0,t=arguments.length,i=new Array(t);e<t;)i[e]=arguments[e++];return new("function"==typeof this?this:w)(function(e){var t=!1;return o(function(){if(!t){for(var n=0;n<i.length;++n)if(e.next(i[n]),t)return;e.complete()}}),function(){t=!0}})}}),h(w.prototype,a,function(){return this}),n(n.G,{Observable:w}),i(128)("Observable")},function(e,t,i){"use strict";var n=i(1),s=i(74),r=i(12),o=i(233),a=i(508);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,s.Promise||r.Promise),i="function"==typeof e;return this.then(i?function(i){return a(t,e()).then(function(){return i})}:e,i?function(i){return a(t,e()).then(function(){throw i})}:e)}})},function(e,t,i){"use strict";var n=i(1),s=i(305),r=i(507);n(n.S,"Promise",{try:function(e){var t=s.f(this),i=r(e);return(i.e?t.reject:t.resolve)(i.v),t.promise}})},function(e,t,i){var n=i(91),s=i(11),r=n.key,o=n.set;n.exp({defineMetadata:function(e,t,i,n){o(e,t,s(i),r(n))}})},function(e,t,i){var n=i(91),s=i(11),r=n.key,o=n.map,a=n.store;n.exp({deleteMetadata:function(e,t){var i=arguments.length<3?void 0:r(arguments[2]),n=o(s(t),i,!1);if(void 0===n||!n.delete(e))return!1;if(n.size)return!0;var c=a.get(t);return c.delete(i),!!c.size||a.delete(t)}})},function(e,t,i){var n=i(514),s=i(484),r=i(91),o=i(11),a=i(57),c=r.keys,l=r.key,u=function(e,t){var i=c(e,t),r=a(e);if(null===r)return i;var o=u(r,t);return o.length?i.length?s(new n(i.concat(o))):o:i};r.exp({getMetadataKeys:function(e){return u(o(e),arguments.length<2?void 0:l(arguments[1]))}})},function(e,t,i){var n=i(91),s=i(11),r=i(57),o=n.has,a=n.get,c=n.key,l=function(e,t,i){if(o(e,t,i))return a(e,t,i);var n=r(t);return null!==n?l(e,n,i):void 0};n.exp({getMetadata:function(e,t){return l(e,s(t),arguments.length<3?void 0:c(arguments[2]))}})},function(e,t,i){var n=i(91),s=i(11),r=n.keys,o=n.key;n.exp({getOwnMetadataKeys:function(e){return r(s(e),arguments.length<2?void 0:o(arguments[1]))}})},function(e,t,i){var n=i(91),s=i(11),r=n.get,o=n.key;n.exp({getOwnMetadata:function(e,t){return r(e,s(t),arguments.length<3?void 0:o(arguments[2]))}})},function(e,t,i){var n=i(91),s=i(11),r=i(57),o=n.has,a=n.key,c=function(e,t,i){if(o(e,t,i))return!0;var n=r(t);return null!==n&&c(e,n,i)};n.exp({hasMetadata:function(e,t){return c(e,s(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,i){var n=i(91),s=i(11),r=n.has,o=n.key;n.exp({hasOwnMetadata:function(e,t){return r(e,s(t),arguments.length<3?void 0:o(arguments[2]))}})},function(e,t,i){var n=i(91),s=i(11),r=i(42),o=n.key,a=n.set;n.exp({metadata:function(e,t){return function(i,n){a(e,t,(void 0!==n?s:r)(i),o(n))}}})},function(e,t,i){i(230)("Set")},function(e,t,i){i(231)("Set")},function(e,t,i){var n=i(1);n(n.P+n.R,"Set",{toJSON:i(488)("Set")})},function(e,t,i){"use strict";var n=i(1),s=i(308)(!0);n(n.P,"String",{at:function(e){return s(this,e)}})},function(e,t,i){"use strict";var n=i(1),s=i(75),r=i(26),o=i(226),a=i(224),c=RegExp.prototype,l=function(e,t){this._r=e,this._s=t};i(300)(l,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),n(n.P,"String",{matchAll:function(e){if(s(this),!o(e))throw TypeError(e+" is not a regexp!");var t=String(this),i="flags"in c?String(e.flags):a.call(e),n=new RegExp(e.source,~i.indexOf("g")?i:"g"+i);return n.lastIndex=r(e.lastIndex),new l(n,t)}})},function(e,t,i){"use strict";var n=i(1),s=i(509),r=i(314);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(r),"String",{padEnd:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,i){"use strict";var n=i(1),s=i(509),r=i(314);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(r),"String",{padStart:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,i){"use strict";i(150)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,i){"use strict";i(150)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,i){i(315)("asyncIterator")},function(e,t,i){i(315)("observable")},function(e,t,i){var n=i(1);n(n.S,"System",{global:i(12)})},function(e,t,i){i(230)("WeakMap")},function(e,t,i){i(231)("WeakMap")},function(e,t,i){i(230)("WeakSet")},function(e,t,i){i(231)("WeakSet")},function(e,t,i){for(var n=i(317),s=i(125),r=i(51),o=i(12),a=i(50),c=i(148),l=i(21),u=l("iterator"),d=l("toStringTag"),h=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=s(p),m=0;m<f.length;m++){var g,v=f[m],T=p[v],_=o[v],y=_&&_.prototype;if(y&&(y[u]||a(y,u,h),y[d]||a(y,d,v),c[v]=h,T))for(g in n)y[g]||r(y,g,n[g],!0)}},function(e,t,i){var n=i(1),s=i(312);n(n.G+n.B,{setImmediate:s.set,clearImmediate:s.clear})},function(e,t,i){var n=i(12),s=i(1),r=i(314),o=[].slice,a=/MSIE .\./.test(r),c=function(e){return function(t,i){var n=arguments.length>2,s=!!n&&o.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,s)}:t,i)}};s(s.G+s.B+s.F*a,{setTimeout:c(n.setTimeout),setInterval:c(n.setInterval)})},function(e,t,i){i(1217),i(1156),i(1158),i(1157),i(1160),i(1162),i(1167),i(1161),i(1159),i(1169),i(1168),i(1164),i(1165),i(1163),i(1155),i(1166),i(1170),i(1171),i(1123),i(1125),i(1124),i(1173),i(1172),i(1143),i(1153),i(1154),i(1144),i(1145),i(1146),i(1147),i(1148),i(1149),i(1150),i(1151),i(1152),i(1126),i(1127),i(1128),i(1129),i(1130),i(1131),i(1132),i(1133),i(1134),i(1135),i(1136),i(1137),i(1138),i(1139),i(1140),i(1141),i(1142),i(1204),i(1209),i(1216),i(1207),i(1199),i(1200),i(1205),i(1210),i(1212),i(1195),i(1196),i(1197),i(1198),i(1201),i(1202),i(1203),i(1206),i(1208),i(1211),i(1213),i(1214),i(1215),i(1118),i(1120),i(1119),i(1122),i(1121),i(1107),i(1105),i(1111),i(1108),i(1114),i(1116),i(1104),i(1110),i(1101),i(1115),i(1099),i(1113),i(1112),i(1106),i(1109),i(1098),i(1100),i(1103),i(1102),i(1117),i(317),i(1189),i(1194),i(513),i(1190),i(1191),i(1192),i(1193),i(1174),i(512),i(514),i(515),i(1229),i(1218),i(1219),i(1224),i(1227),i(1228),i(1222),i(1225),i(1223),i(1226),i(1220),i(1221),i(1175),i(1176),i(1177),i(1178),i(1179),i(1182),i(1180),i(1181),i(1183),i(1184),i(1185),i(1186),i(1188),i(1187),i(1232),i(1230),i(1231),i(1273),i(1276),i(1275),i(1277),i(1278),i(1274),i(1279),i(1280),i(1254),i(1257),i(1253),i(1251),i(1252),i(1255),i(1256),i(1238),i(1272),i(1237),i(1271),i(1283),i(1285),i(1236),i(1270),i(1282),i(1284),i(1235),i(1281),i(1234),i(1239),i(1240),i(1241),i(1242),i(1243),i(1245),i(1244),i(1246),i(1247),i(1248),i(1250),i(1249),i(1259),i(1260),i(1261),i(1262),i(1264),i(1263),i(1266),i(1265),i(1267),i(1268),i(1269),i(1233),i(1258),i(1288),i(1287),i(1286),e.exports=i(74)},function(e,t,i){e.exports={default:i(1304),__esModule:!0}},function(e,t,i){e.exports={default:i(1305),__esModule:!0}},function(e,t,i){e.exports={default:i(1308),__esModule:!0}},function(e,t,i){e.exports={default:i(1309),__esModule:!0}},function(e,t,i){e.exports={default:i(1311),__esModule:!0}},function(e,t,i){e.exports={default:i(1313),__esModule:!0}},function(e,t,i){e.exports={default:i(1317),__esModule:!0}},,,function(e,t,i){e.exports={default:i(1320),__esModule:!0}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=i(1295),r=n(s),o=i(1293),a=n(o),c=i(105),l=n(c);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){var i={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}},function(e,t,i){"use strict";t.__esModule=!0;var n=i(105),s=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}},,function(e,t,i){i(133),i(132),e.exports=i(1337)},function(e,t,i){i(133),i(132),e.exports=i(1338)},function(e,t,i){var n=i(23),s=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}},function(e,t,i){i(187),i(132),i(133),i(1341),i(1355),i(1354),i(1353),e.exports=i(23).Map},function(e,t,i){i(1342),e.exports=i(23).Object.assign},function(e,t,i){i(1343);var n=i(23).Object;e.exports=function(e,t){return n.create(e,t)}},,function(e,t,i){i(1345),e.exports=i(23).Object.getPrototypeOf},,function(e,t,i){i(1347),e.exports=i(23).Object.setPrototypeOf},function(e,t,i){i(1356),e.exports=i(23).Object.values},,function(e,t,i){i(187),i(132),i(133),i(1349),i(1361),i(1360),i(1359),e.exports=i(23).Set},function(e,t,i){i(1350),e.exports=i(23).String.fromCodePoint},,,function(e,t,i){i(187),i(133),i(1352),i(1365),i(1364),e.exports=i(23).WeakMap},,function(e,t,i){var n=i(153);e.exports=function(e,t){var i=[];return n(e,!1,i.push,i,t),i}},,function(e,t,i){var n=i(53),s=i(525),r=i(44)("species");e.exports=function(e){var t;return s(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!s(t.prototype)||(t=void 0),n(t)&&null===(t=t[r])&&(t=void 0)),void 0===t?Array:t}},function(e,t,i){var n=i(1324);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,i){"use strict";var n=i(241),s=i(182).getWeak,r=i(67),o=i(53),a=i(237),c=i(153),l=i(318),u=i(107),d=i(186),h=l(5),p=l(6),f=0,m=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},v=function(e,t){return h(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var i=v(this,e);i?i[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,i,r){var l=e(function(e,n){a(e,l,t,"_i"),e._t=t,e._i=f++,e._l=void 0,void 0!=n&&c(n,i,e[r],e)});return n(l.prototype,{delete:function(e){if(!o(e))return!1;var i=s(e);return!0===i?m(d(this,t)).delete(e):i&&u(i,this._i)&&delete i[this._i]},has:function(e){if(!o(e))return!1;var i=s(e);return!0===i?m(d(this,t)).has(e):i&&u(i,this._i)}}),l},def:function(e,t,i){var n=s(r(t),!0);return!0===n?m(e).set(t,i):n[e._i]=i,e},ufstore:m}},,,,,,,,function(e,t,i){var n=i(155),s=i(131),r=i(183).f;e.exports=function(e){return function(t){for(var i,o=s(t),a=n(o),c=a.length,l=0,u=[];c>l;)r.call(o,i=a[l++])&&u.push(e?[i,o[i]]:o[i]);return u}}},function(e,t,i){var n=i(53),s=i(67),r=function(e,t){if(s(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=i(93)(Function.call,i(530).f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,i){return r(e,i),t?e.__proto__=i:n(e,i),e}}({},!1):void 0),check:r}},,function(e,t,i){var n=i(67),s=i(336);e.exports=i(23).getIterator=function(e){var t=s(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,i){var n=i(238),s=i(44)("iterator"),r=i(154);e.exports=i(23).isIterable=function(e){var t=Object(e);return void 0!==t[s]||"@@iterator"in t||r.hasOwnProperty(n(t))}},,,function(e,t,i){"use strict";var n=i(520),s=i(186);e.exports=i(319)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(s(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(s(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,i){var n=i(32);n(n.S+n.F,"Object",{assign:i(529)})},function(e,t,i){var n=i(32);n(n.S,"Object",{create:i(240)})},,function(e,t,i){var n=i(156),s=i(532);i(534)("getPrototypeOf",function(){return function(e){return s(n(e))}})},,function(e,t,i){var n=i(32);n(n.S,"Object",{setPrototypeOf:i(1335).set})},,function(e,t,i){"use strict";var n=i(520),s=i(186);e.exports=i(319)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(s(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,i){var n=i(32),s=i(540),r=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,i=[],n=arguments.length,o=0;n>o;){if(t=+arguments[o++],s(t,1114111)!==t)throw RangeError(t+" is not a valid code point");i.push(t<65536?r(t):r(55296+((t-=65536)>>10),t%1024+56320))}return i.join("")}})},,function(e,t,i){"use strict";var n,s=i(318)(0),r=i(327),o=i(182),a=i(529),c=i(1326),l=i(53),u=i(106),d=i(186),h=o.getWeak,p=Object.isExtensible,f=c.ufstore,m={},g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(e){if(l(e)){var t=h(e);return!0===t?f(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(d(this,"WeakMap"),e,t)}},T=e.exports=i(319)("WeakMap",g,v,c,!0,!0);u(function(){return 7!=(new T).set((Object.freeze||Object)(m),7).get(m)})&&(n=c.getConstructor(g,"WeakMap"),a(n.prototype,v),o.NEED=!0,s(["delete","has","get","set"],function(e){var t=T.prototype,i=t[e];r(t,e,function(t,s){if(l(t)&&!p(t)){this._f||(this._f=new n);var r=this._f[e](t,s);return"set"==e?this:r}return i.call(this,t,s)})}))},function(e,t,i){i(328)("Map")},function(e,t,i){i(329)("Map")},function(e,t,i){var n=i(32);n(n.P+n.R,"Map",{toJSON:i(521)("Map")})},function(e,t,i){var n=i(32),s=i(1334)(!1);n(n.S,"Object",{values:function(e){return s(e)}})},,,function(e,t,i){i(328)("Set")},function(e,t,i){i(329)("Set")},function(e,t,i){var n=i(32);n(n.P+n.R,"Set",{toJSON:i(521)("Set")})},,,function(e,t,i){i(328)("WeakMap")},function(e,t,i){i(329)("WeakMap")},,,function(e,t,i){var n=i(1370);t=e.exports=i(1369)(!1),t.push([e.i,"/* general typography */\n.leaflet-container {\n  background:#fff;\n  font:12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n  color:#404040;\n  color:rgba(0,0,0,0.75);\n  outline:0;\n  overflow:hidden;\n  -ms-touch-action:none;\n  }\n\n.leaflet-container *,\n.leaflet-container *:after,\n.leaflet-container *:before {\n  -webkit-box-sizing:border-box;\n     -moz-box-sizing:border-box;\n          box-sizing:border-box;\n  }\n\n.leaflet-container h1,\n.leaflet-container h2,\n.leaflet-container h3,\n.leaflet-container h4,\n.leaflet-container h5,\n.leaflet-container h6,\n.leaflet-container p {\n  font-size:15px;\n  line-height:20px;\n  margin:0 0 10px;\n  }\n\n.leaflet-container .marker-description img {\n  margin-bottom: 10px;\n  }\n\n.leaflet-container a {\n  color:#3887BE;\n  font-weight:normal;\n  text-decoration:none;\n  }\n  .leaflet-container a:hover      { color:#63b6e5; }\n  .leaflet-container.dark a       { color:#63b6e5; }\n  .leaflet-container.dark a:hover { color:#8fcaec; }\n\n.leaflet-container.dark .mapbox-button,\n.leaflet-container .mapbox-button {\n  background-color:#3887be;\n  display:inline-block;\n  height:40px;\n  line-height:40px;\n  text-decoration:none;\n  color:#fff;\n  font-size:12px;\n  white-space:nowrap;\n  text-overflow:ellipsis;\n  }\n  .leaflet-container.dark .mapbox-button:hover,\n  .leaflet-container .mapbox-button:hover {\n    color:#fff;\n    background-color:#3bb2d0;\n    }\n\n/* Base Leaflet\n------------------------------------------------------- */\n.leaflet-map-pane,\n.leaflet-tile,\n.leaflet-marker-icon,\n.leaflet-marker-shadow,\n.leaflet-tile-pane,\n.leaflet-tile-container,\n.leaflet-overlay-pane,\n.leaflet-shadow-pane,\n.leaflet-marker-pane,\n.leaflet-popup-pane,\n.leaflet-overlay-pane svg,\n.leaflet-zoom-box,\n.leaflet-image-layer,\n.leaflet-layer {\n  position:absolute;\n  left:0;\n  top:0;\n  }\n\n.leaflet-tile,\n.leaflet-marker-icon,\n.leaflet-marker-shadow {\n  -webkit-user-drag:none;\n  -webkit-user-select:none;\n     -moz-user-select:none;\n          user-select:none;\n  }\n.leaflet-marker-icon,\n.leaflet-marker-shadow {\n  display: block;\n  }\n\n.leaflet-tile {\n  filter:inherit;\n  visibility:hidden;\n  }\n.leaflet-tile-loaded {\n  visibility:inherit;\n  }\n.leaflet-zoom-box {\n  width:0;\n  height:0;\n  }\n\n.leaflet-tile-pane    { z-index:2; }\n.leaflet-objects-pane { z-index:3; }\n.leaflet-overlay-pane { z-index:4; }\n.leaflet-shadow-pane  { z-index:5; }\n.leaflet-marker-pane  { z-index:6; }\n.leaflet-popup-pane   { z-index:7; }\n\n.leaflet-control {\n  position:relative;\n  z-index:7;\n  pointer-events:auto;\n  float:left;\n  clear:both;\n  }\n  .leaflet-right .leaflet-control   { float:right; }\n  .leaflet-top .leaflet-control     { margin-top:10px; }\n  .leaflet-bottom .leaflet-control  { margin-bottom:10px; }\n  .leaflet-left .leaflet-control    { margin-left:10px; }\n  .leaflet-right .leaflet-control   { margin-right:10px; }\n\n.leaflet-top,\n.leaflet-bottom {\n  position:absolute;\n  z-index:1000;\n  pointer-events:none;\n  }\n  .leaflet-top    { top:0; }\n  .leaflet-right  { right:0; }\n  .leaflet-bottom { bottom:0; }\n  .leaflet-left   { left:0; }\n\n/* zoom and fade animations */\n.leaflet-fade-anim .leaflet-tile,\n.leaflet-fade-anim .leaflet-popup {\n  opacity:0;\n  -webkit-transition:opacity 0.2s linear;\n     -moz-transition:opacity 0.2s linear;\n       -o-transition:opacity 0.2s linear;\n          transition:opacity 0.2s linear;\n  }\n  .leaflet-fade-anim .leaflet-tile-loaded,\n  .leaflet-fade-anim .leaflet-map-pane .leaflet-popup {\n    opacity:1;\n    }\n\n.leaflet-zoom-anim .leaflet-zoom-animated {\n  -webkit-transition:-webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\n     -moz-transition:   -moz-transform 0.25s cubic-bezier(0,0,0.25,1);\n       -o-transition:     -o-transform 0.25s cubic-bezier(0,0,0.25,1);\n          transition:        transform 0.25s cubic-bezier(0,0,0.25,1);\n  }\n.leaflet-zoom-anim .leaflet-tile,\n.leaflet-pan-anim .leaflet-tile,\n.leaflet-touching .leaflet-zoom-animated {\n  -webkit-transition:none;\n     -moz-transition:none;\n       -o-transition:none;\n          transition:none;\n  }\n.leaflet-zoom-anim .leaflet-zoom-hide { visibility: hidden; }\n\n/* cursors */\n.leaflet-container {\n  cursor:-webkit-grab;\n  cursor:   -moz-grab;\n  }\n.leaflet-overlay-pane path,\n.leaflet-marker-icon,\n.leaflet-container.map-clickable,\n.leaflet-container.leaflet-clickable {\n  cursor:pointer;\n  }\n.leaflet-popup-pane,\n.leaflet-control {\n  cursor:auto;\n  }\n.leaflet-dragging,\n.leaflet-dragging .map-clickable,\n.leaflet-dragging .leaflet-clickable,\n.leaflet-dragging .leaflet-container {\n  cursor:move;\n  cursor:-webkit-grabbing;\n  cursor:   -moz-grabbing;\n  }\n\n.leaflet-zoom-box {\n  background:#fff;\n  border:2px dotted #202020;\n  opacity:0.5;\n  }\n\n/* general toolbar styles */\n.leaflet-control-layers,\n.leaflet-bar {\n  background-color:#fff;\n  border:1px solid #999;\n  border-color:rgba(0,0,0,0.4);\n  border-radius:3px;\n  box-shadow:none;\n  }\n.leaflet-bar a,\n.leaflet-bar a:hover {\n  color:#404040;\n  color:rgba(0,0,0,0.75);\n  border-bottom:1px solid #ddd;\n  border-bottom-color:rgba(0,0,0,0.10);\n  }\n  .leaflet-bar a:hover,\n  .leaflet-bar a:active {\n    background-color:#f8f8f8;\n    cursor:pointer;\n    }\n  .leaflet-bar a:hover:first-child {\n    border-radius:3px 3px 0 0;\n    }\n  .leaflet-bar a:hover:last-child {\n    border-bottom:none;\n    border-radius:0 0 3px 3px;\n    }\n  .leaflet-bar a:hover:only-of-type {\n    border-radius:3px;\n    }\n\n.leaflet-bar .leaflet-disabled {\n  cursor:default;\n  opacity:0.75;\n  }\n.leaflet-control-zoom-in,\n.leaflet-control-zoom-out {\n  display:block;\n  content:'';\n  text-indent:-999em;\n  }\n\n.leaflet-control-layers .leaflet-control-layers-list,\n.leaflet-control-layers-expanded .leaflet-control-layers-toggle {\n  display:none;\n  }\n  .leaflet-control-layers-expanded .leaflet-control-layers-list {\n    display:block;\n    position:relative;\n    }\n\n.leaflet-control-layers-expanded {\n  background:#fff;\n  padding:6px 10px 6px 6px;\n  color:#404040;\n  color:rgba(0,0,0,0.75);\n  }\n.leaflet-control-layers-selector {\n  margin-top:2px;\n  position:relative;\n  top:1px;\n  }\n.leaflet-control-layers label {\n  display: block;\n  }\n.leaflet-control-layers-separator {\n  height:0;\n  border-top:1px solid #ddd;\n  border-top-color:rgba(0,0,0,0.10);\n  margin:5px -10px 5px -6px;\n  }\n\n.leaflet-container .leaflet-control-attribution {\n  background-color:rgba(255,255,255,0.5);\n  margin:0;\n  box-shadow:none;\n  }\n  .leaflet-container .leaflet-control-attribution a,\n  .leaflet-container .map-info-container a {\n    color:#404040;\n    }\n    .leaflet-control-attribution a:hover,\n    .map-info-container a:hover {\n      color:inherit;\n      text-decoration:underline;\n      }\n\n.leaflet-control-attribution,\n.leaflet-control-scale-line {\n  padding:0 5px;\n  }\n  .leaflet-left .leaflet-control-scale    { margin-left:5px; }\n  .leaflet-bottom .leaflet-control-scale  { margin-bottom:5px; }\n\n/* Used for smaller map containers & triggered by container size */\n.leaflet-container .leaflet-control-attribution.leaflet-compact-attribution { margin:10px; }\n.leaflet-container .leaflet-control-attribution.leaflet-compact-attribution {\n  background:#fff;\n  border-radius:3px 13px 13px 3px;\n  padding:3px 31px 3px 3px;\n  visibility:hidden;\n  }\n  .leaflet-control-attribution.leaflet-compact-attribution:hover {\n    visibility:visible;\n    }\n\n.leaflet-control-attribution.leaflet-compact-attribution:after {\n  content:'';\n  background-color:#fff;\n  background-color:rgba(255,255,255,0.5);\n  background-position:0 -78px;\n  border-radius:50%;\n  position:absolute;\n  display:inline-block;\n  width:26px;\n  height:26px;\n  vertical-align:middle;\n  bottom:0;\n  z-index:1;\n  visibility:visible;\n  cursor:pointer;\n  }\n  .leaflet-control-attribution.leaflet-compact-attribution:hover:after { background-color:#fff; }\n\n.leaflet-right .leaflet-control-attribution.leaflet-compact-attribution:after { right:0; }\n.leaflet-left .leaflet-control-attribution.leaflet-compact-attribution:after { left:0; }\n\n.leaflet-control-scale-line {\n  background-color:rgba(255,255,255,0.5);\n  border:1px solid #999;\n  border-color:rgba(0,0,0,0.4);\n  border-top:none;\n  padding:2px 5px 1px;\n  white-space:nowrap;\n  overflow:hidden;\n  }\n  .leaflet-control-scale-line:not(:first-child) {\n    border-top:2px solid #ddd;\n    border-top-color:rgba(0,0,0,0.10);\n    border-bottom:none;\n    margin-top:-2px;\n    }\n  .leaflet-control-scale-line:not(:first-child):not(:last-child) {\n    border-bottom:2px solid #777;\n    }\n\n/* popup */\n.leaflet-popup {\n  position:absolute;\n  text-align:center;\n  pointer-events:none;\n  }\n.leaflet-popup-content-wrapper {\n  padding:1px;\n  text-align:left;\n  pointer-events:all;\n  }\n.leaflet-popup-content {\n  padding:10px 10px 15px;\n  margin:0;\n  line-height:inherit;\n  }\n  .leaflet-popup-close-button + .leaflet-popup-content-wrapper .leaflet-popup-content {\n    padding-top:15px;\n    }\n\n.leaflet-popup-tip-container {\n  width:20px;\n  height:20px;\n  margin:0 auto;\n  position:relative;\n  }\n.leaflet-popup-tip {\n  width:0;\n\theight:0;\n  margin:0;\n\tborder-left:10px solid transparent;\n\tborder-right:10px solid transparent;\n\tborder-top:10px solid #fff;\n  box-shadow:none;\n  }\n.leaflet-popup-close-button {\n  text-indent:-999em;\n  position:absolute;\n  top:0;right:0;\n  pointer-events:all;\n  }\n  .leaflet-popup-close-button:hover {\n    background-color:#f8f8f8;\n    }\n\n.leaflet-popup-scrolled {\n  overflow:auto;\n  border-bottom:1px solid #ddd;\n  border-top:1px solid #ddd;\n  }\n\n/* div icon */\n.leaflet-div-icon {\n  background:#fff;\n  border:1px solid #999;\n  border-color:rgba(0,0,0,0.4);\n  }\n.leaflet-editing-icon {\n  border-radius:3px;\n  }\n\n/* Leaflet + Mapbox\n------------------------------------------------------- */\n.leaflet-bar a,\n.mapbox-icon,\n.map-tooltip.closable .close,\n.leaflet-control-layers-toggle,\n.leaflet-popup-close-button,\n.mapbox-button-icon:before {\n  content:'';\n  display:inline-block;\n  width:26px;\n  height:26px;\n  vertical-align:middle;\n  background-repeat:no-repeat;\n  }\n.leaflet-bar a {\n  display:block;\n  }\n\n.leaflet-control-attribution:after,\n.leaflet-control-zoom-in,\n.leaflet-control-zoom-out,\n.leaflet-popup-close-button,\n.leaflet-control-layers-toggle,\n.leaflet-container.dark .map-tooltip .close,\n.map-tooltip .close,\n.mapbox-icon {\n  opacity: .75;\n  background-image:url("+n(i(2062))+");\n  background-repeat:no-repeat;\n  background-size:26px 260px;\n  }\n  .leaflet-container.dark .leaflet-control-attribution:after,\n  .mapbox-button-icon:before,\n  .leaflet-container.dark .leaflet-control-zoom-in,\n  .leaflet-container.dark .leaflet-control-zoom-out,\n  .leaflet-container.dark .leaflet-control-layers-toggle,\n  .leaflet-container.dark .mapbox-icon {\n    opacity: 1;\n    background-image:url("+n(i(2063))+");\n    background-size:26px 260px;\n    }\n  .leaflet-bar .leaflet-control-zoom-in                 { background-position:0 0; }\n  .leaflet-bar .leaflet-control-zoom-out                { background-position:0 -26px; }\n  .map-tooltip.closable .close,\n  .leaflet-popup-close-button {\n    background-position:-3px -55px;\n    width:20px;\n    height:20px;\n    border-radius:0 3px 0 0;\n    }\n  .mapbox-icon-info                                     { background-position:0 -78px; }\n  .leaflet-control-layers-toggle                        { background-position:0 -104px; }\n  .mapbox-icon.mapbox-icon-share:before, .mapbox-icon.mapbox-icon-share         { background-position:0 -130px; }\n  .mapbox-icon.mapbox-icon-geocoder:before, .mapbox-icon.mapbox-icon-geocoder   { background-position:0 -156px; }\n  .mapbox-icon-facebook:before, .mapbox-icon-facebook   { background-position:0 -182px; }\n  .mapbox-icon-twitter:before, .mapbox-icon-twitter     { background-position:0 -208px; }\n  .mapbox-icon-pinterest:before, .mapbox-icon-pinterest { background-position:0 -234px; }\n\n.leaflet-popup-content-wrapper,\n.map-legends,\n.map-tooltip {\n  background:#fff;\n  border-radius:3px;\n  box-shadow:0 1px 2px rgba(0,0,0,0.10);\n  }\n.map-legends,\n.map-tooltip {\n  max-width:300px;\n  }\n.map-legends .map-legend {\n  padding:10px;\n  }\n.map-tooltip {\n  z-index:999999;\n  padding:10px;\n  min-width:180px;\n  max-height:400px;\n  overflow:auto;\n  opacity:1;\n  -webkit-transition:opacity 150ms;\n     -moz-transition:opacity 150ms;\n       -o-transition:opacity 150ms;\n          transition:opacity 150ms;\n  }\n\n.map-tooltip .close {\n  text-indent:-999em;\n  overflow:hidden;\n  display:none;\n  }\n  .map-tooltip.closable .close {\n    position:absolute;\n    top:0;right:0;\n    border-radius:3px;\n    }\n    .map-tooltip.closable .close:active  {\n      background-color:#f8f8f8;\n      }\n\n.leaflet-control-interaction {\n  position:absolute;\n  top:10px;\n  right:10px;\n  width:300px;\n  }\n.leaflet-popup-content .marker-title {\n  font-weight:bold;\n  }\n.leaflet-control .mapbox-button {\n  background-color:#fff;\n  border:1px solid #ddd;\n  border-color:rgba(0,0,0,0.10);\n  padding:5px 10px;\n  border-radius:3px;\n  }\n\n/* Share modal\n------------------------------------------------------- */\n.mapbox-modal > div {\n  position:absolute;\n  top:0;\n  left:0;\n  width:100%;\n  height:100%;\n  z-index:-1;\n  overflow-y:auto;\n  }\n  .mapbox-modal.active > div {\n    z-index:99999;\n    transition:all .2s, z-index 0 0;\n    }\n\n.mapbox-modal .mapbox-modal-mask {\n  background:rgba(0,0,0,0.5);\n  opacity:0;\n  }\n  .mapbox-modal.active .mapbox-modal-mask { opacity:1; }\n\n.mapbox-modal .mapbox-modal-content {\n  -webkit-transform:translateY(-100%);\n     -moz-transform:translateY(-100%);\n      -ms-transform:translateY(-100%);\n          transform:translateY(-100%);\n  }\n  .mapbox-modal.active .mapbox-modal-content {\n    -webkit-transform:translateY(0);\n       -moz-transform:translateY(0);\n        -ms-transform:translateY(0);\n            transform:translateY(0);\n    }\n\n.mapbox-modal-body {\n  position:relative;\n  background:#fff;\n  padding:20px;\n  z-index:1000;\n  width:50%;\n  margin:20px 0 20px 25%;\n  }\n.mapbox-share-buttons {\n  margin:0 0 20px;\n  }\n.mapbox-share-buttons a {\n  width:33.3333%;\n  border-left:1px solid #fff;\n  text-align:center;\n  border-radius:0;\n  }\n  .mapbox-share-buttons a:last-child  { border-radius:0 3px 3px 0; }\n  .mapbox-share-buttons a:first-child { border:none; border-radius:3px 0 0 3px; }\n\n.mapbox-modal input {\n  width:100%;\n  height:40px;\n  padding:10px;\n  border:1px solid #ddd;\n  border-color:rgba(0,0,0,0.10);\n  color:rgba(0,0,0,0.5);\n  }\n\n/* Info Control\n------------------------------------------------------- */\n.leaflet-control.mapbox-control-info {\n  margin:5px 30px 10px 10px;\n  min-height:26px;\n  }\n  .leaflet-right .leaflet-control.mapbox-control-info {\n    margin:5px 10px 10px 30px;\n    }\n\n.mapbox-info-toggle {\n  background-color:#fff;\n  background-color:rgba(255,255,255,0.5);\n  border-radius:50%;\n  position:absolute;\n  bottom:0;left:0;\n  z-index:1;\n  }\n  .leaflet-right .mapbox-control-info .mapbox-info-toggle  { left:auto; right:0; }\n  .mapbox-info-toggle:hover { background-color:#fff; }\n\n.map-info-container {\n  background:#fff;\n  padding:3px 5px 3px 27px;\n  display:none;\n  position:relative;\n  bottom:0;left:0;\n  border-radius:13px 3px 3px 13px;\n  }\n  .leaflet-right .map-info-container {\n    left:auto;\n    right:0;\n    padding:3px 27px 3px 5px;\n    border-radius:3px 13px 13px 3px;\n    }\n\n.mapbox-control-info.active .map-info-container { display:inline-block; }\n.leaflet-container .mapbox-improve-map { font-weight:bold; }\n\n/* Geocoder\n------------------------------------------------------- */\n.leaflet-control-mapbox-geocoder {\n  position:relative;\n  }\n.leaflet-control-mapbox-geocoder.searching {\n  opacity:0.75;\n  }\n.leaflet-control-mapbox-geocoder .leaflet-control-mapbox-geocoder-wrap {\n  background:#fff;\n  position:absolute;\n  border:1px solid #999;\n  border-color:rgba(0,0,0,0.4);\n  overflow:hidden;\n  left:26px;\n  height:28px;\n  width:0;\n  top:-1px;\n  border-radius:0 3px 3px 0;\n  opacity:0;\n  -webkit-transition:opacity 100ms;\n     -moz-transition:opacity 100ms;\n       -o-transition:opacity 100ms;\n          transition:opacity 100ms;\n  }\n.leaflet-control-mapbox-geocoder.active .leaflet-control-mapbox-geocoder-wrap {\n  width:180px;\n  opacity:1;\n  }\n.leaflet-bar .leaflet-control-mapbox-geocoder-toggle,\n.leaflet-bar .leaflet-control-mapbox-geocoder-toggle:hover {\n  border-bottom:none;\n  }\n.leaflet-control-mapbox-geocoder-toggle {\n  border-radius:3px;\n  }\n.leaflet-control-mapbox-geocoder.active,\n.leaflet-control-mapbox-geocoder.active .leaflet-control-mapbox-geocoder-toggle {\n  border-top-right-radius:0;\n  border-bottom-right-radius:0;\n  }\n.leaflet-control-mapbox-geocoder .leaflet-control-mapbox-geocoder-form input {\n  background:transparent;\n  border:0;\n  width:180px;\n  padding:0 0 0 10px;\n  height:26px;\n  outline:none;\n  }\n.leaflet-control-mapbox-geocoder-results {\n  width:180px;\n  position:absolute;\n  left:26px;\n  top:25px;\n  border-radius:0 0 3px 3px;\n  }\n  .leaflet-control-mapbox-geocoder.active .leaflet-control-mapbox-geocoder-results {\n    background:#fff;\n    border:1px solid #999;\n    border-color:rgba(0,0,0,0.4);\n    }\n.leaflet-control-mapbox-geocoder-results a,\n.leaflet-control-mapbox-geocoder-results span {\n  padding:0 10px;\n  text-overflow:ellipsis;\n  white-space:nowrap;\n  display:block;\n  width:100%;\n  font-size:12px;\n  line-height:26px;\n  text-align:left;\n  overflow:hidden;\n  }\n  .leaflet-container.dark .leaflet-control .leaflet-control-mapbox-geocoder-results a:hover,\n  .leaflet-control-mapbox-geocoder-results a:hover {\n    background:#f8f8f8;\n    opacity:1;\n    }\n\n.leaflet-right .leaflet-control-mapbox-geocoder-wrap,\n.leaflet-right .leaflet-control-mapbox-geocoder-results {\n  left:auto;\n  right:26px;\n  }\n.leaflet-right .leaflet-control-mapbox-geocoder-wrap {\n  border-radius:3px 0 0 3px;\n  }\n.leaflet-right .leaflet-control-mapbox-geocoder.active,\n.leaflet-right .leaflet-control-mapbox-geocoder.active .leaflet-control-mapbox-geocoder-toggle {\n  border-radius:0 3px 3px 0;\n  }\n\n.leaflet-bottom .leaflet-control-mapbox-geocoder-results {\n  top:auto;\n  bottom:25px;\n  border-radius:3px 3px 0 0;\n  }\n\n/* Mapbox Logo\n------------------------------------------------------- */\n.mapbox-logo-true:before {\n  content:'';\n  display:inline-block;\n  width:61px;\n  height:19px;\n  vertical-align:middle;\n}\n.mapbox-logo-true {\n  background-repeat:no-repeat;\n  background-size:61px 19px;\n  background-image:url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI2NSIgaGVpZ2h0PSIyMCI+PGRlZnMvPjxtZXRhZGF0YT48cmRmOlJERj48Y2M6V29yayByZGY6YWJvdXQ9IiI+PGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+PGRjOnR5cGUgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIvPjxkYzp0aXRsZS8+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNjEuODQ4MywtOTguNTAzOTUpIj48ZyB0cmFuc2Zvcm09Im1hdHJpeCgwLjE3NDQxODM2LDAsMCwwLjE3NDQxODM2LDIyMC41MjI4MiwyOS4yMjkzNDIpIiBzdHlsZT0ib3BhY2l0eTowLjI1O2ZpbGw6I2ZmZmZmZjtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTcuMjAwMDIzNjU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLW9wYWNpdHk6MTtzdHJva2UtZGFzaGFycmF5Om5vbmUiPjxwYXRoIGQ9Ik0gNS4yOCAxLjUgQyA0LjU0IDEuNTYgMy45IDIuMjUgMy45MSAzIGwgMCAxMS44OCBjIDAuMDIgMC43NyAwLjcyIDEuNDcgMS41IDEuNDcgbCAxLjc1IDAgYyAwLjc4IDAgMS40OCAtMC42OSAxLjUgLTEuNDcgbCAwIC00LjI4IDAuNzIgMS4xOSBjIDAuNTMgMC44NyAyLjAzIDAuODcgMi41NiAwIGwgMC43MiAtMS4xOSAwIDQuMjggYyAwLjAyIDAuNzYgMC43IDEuNDUgMS40NyAxLjQ3IGwgMS43NSAwIGMgMC43OCAwIDEuNDggLTAuNjkgMS41IC0xLjQ3IGwgMCAtMC4xNiBjIDEuMDIgMS4xMiAyLjQ2IDEuODEgNC4wOSAxLjgxIGwgNC4wOSAwIDAgMS40NyBjIC0wIDAuNzggMC42OSAxLjQ4IDEuNDcgMS41IGwgMS43NSAwIGMgMC43OSAtMCAxLjUgLTAuNzEgMS41IC0xLjUgbCAwLjAyIC0xLjQ3IGMgMS43MiAwIDMuMDggLTAuNjQgNC4xNCAtMS42OSBsIDAgMC4xOSBjIDAgMC4zOSAwLjE2IDAuNzkgMC40NCAxLjA2IDAuMjggMC4yOCAwLjY3IDAuNDQgMS4wNiAwLjQ0IGwgMy4zMSAwIGMgMi4wMyAwIDMuODUgLTEuMDYgNC45MSAtMi42OSAxLjA1IDEuNjEgMi44NCAyLjY5IDQuODggMi42OSAxLjAzIDAgMS45OCAtMC4yNyAyLjgxIC0wLjc1IDAuMjggMC4zNSAwLjczIDAuNTcgMS4xOSAwLjU2IGwgMi4xMiAwIGMgMC40OCAwLjAxIDAuOTcgLTAuMjMgMS4yNSAtMC42MiBsIDAuOTEgLTEuMjggMC45MSAxLjI4IGMgMC4yOCAwLjM5IDAuNzQgMC42MyAxLjIyIDAuNjIgbCAyLjE2IDAgQyA2Mi42NyAxNi4zMyA2My40MiAxNC44OSA2Mi44MSAxNCBMIDYwLjIyIDEwLjM4IDYyLjYyIDcgQyA2My4yNiA2LjExIDYyLjUgNC42MiA2MS40MSA0LjYyIGwgLTIuMTYgMCBDIDU4Ljc4IDQuNjIgNTguMzEgNC44NiA1OC4wMyA1LjI1IEwgNTcuMzEgNi4yOCA1Ni41NiA1LjI1IEMgNTYuMjkgNC44NiA1NS44MiA0LjYyIDU1LjM0IDQuNjIgbCAtMi4xNiAwIGMgLTAuNDkgLTAgLTAuOTcgMC4yNSAtMS4yNSAwLjY2IC0wLjg2IC0wLjUxIC0xLjg0IC0wLjgxIC0yLjkxIC0wLjgxIC0yLjAzIDAgLTMuODMgMS4wOCAtNC44OCAyLjY5IEMgNDMuMSA1LjUzIDQxLjI3IDQuNDcgMzkuMTkgNC40NyBMIDM5LjE5IDMgQyAzOS4xOSAyLjYxIDM5LjAzIDIuMjEgMzguNzUgMS45NCAzOC40NyAxLjY2IDM4LjA4IDEuNSAzNy42OSAxLjUgbCAtMS43NSAwIGMgLTAuNzEgMCAtMS41IDAuODMgLTEuNSAxLjUgbCAwIDMuMTYgQyAzMy4zOCA1LjEgMzEuOTYgNC40NyAzMC4zOCA0LjQ3IGwgLTMuMzQgMCBjIC0wLjc3IDAuMDIgLTEuNDcgMC43MiAtMS40NyAxLjUgbCAwIDAuMzEgYyAtMS4wMiAtMS4xMiAtMi40NiAtMS44MSAtNC4wOSAtMS44MSAtMS42MyAwIC0zLjA3IDAuNyAtNC4wOSAxLjgxIEwgMTcuMzggMyBjIC0wIC0wLjc5IC0wLjcxIC0xLjUgLTEuNSAtMS41IEwgMTQuNSAxLjUgQyAxMy41NSAxLjUgMTIuMjggMS44NyAxMS42NiAyLjk0IGwgLTEgMS42OSAtMSAtMS42OSBDIDkuMDMgMS44NyA3Ljc3IDEuNSA2LjgxIDEuNSBsIC0xLjQxIDAgQyA1LjM2IDEuNSA1LjMyIDEuNSA1LjI4IDEuNSB6IG0gMTYuMTkgNy43MiBjIDAuNTMgMCAwLjk0IDAuMzUgMC45NCAxLjI4IGwgMCAxLjI4IC0wLjk0IDAgYyAtMC41MiAwIC0wLjk0IC0wLjM4IC0wLjk0IC0xLjI4IC0wIC0wLjkgMC40MiAtMS4yOCAwLjk0IC0xLjI4IHogbSA4LjgxIDAgYyAwLjgzIDAgMS4xOCAwLjY4IDEuMTkgMS4yOCAwLjAxIDAuOTQgLTAuNjIgMS4yOCAtMS4xOSAxLjI4IHogbSA4LjcyIDAgYyAwLjcyIDAgMS4zNyAwLjYgMS4zNyAxLjI4IDAgMC43NyAtMC41MSAxLjI4IC0xLjM3IDEuMjggeiBtIDEwLjAzIDAgYyAwLjU4IDAgMS4wOSAwLjUgMS4wOSAxLjI4IDAgMC43OCAtMC41MSAxLjI4IC0xLjA5IDEuMjggLTAuNTggMCAtMS4xMiAtMC41IC0xLjEyIC0xLjI4IDAgLTAuNzggMC41NCAtMS4yOCAxLjEyIC0xLjI4IHoiIHRyYW5zZm9ybT0ibWF0cml4KDUuNzMzMzQxNCwwLDAsNS43MzMzNDE0LDIzNi45MzMwOCwzOTcuMTc0OTgpIiBzdHlsZT0iZm9udC1zaXplOm1lZGl1bTtmb250LXN0eWxlOm5vcm1hbDtmb250LXZhcmlhbnQ6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXN0cmV0Y2g6bm9ybWFsO3RleHQtaW5kZW50OjA7dGV4dC1hbGlnbjpzdGFydDt0ZXh0LWRlY29yYXRpb246bm9uZTtsaW5lLWhlaWdodDpub3JtYWw7bGV0dGVyLXNwYWNpbmc6bm9ybWFsO3dvcmQtc3BhY2luZzpub3JtYWw7dGV4dC10cmFuc2Zvcm06bm9uZTtkaXJlY3Rpb246bHRyO2Jsb2NrLXByb2dyZXNzaW9uOnRiO3dyaXRpbmctbW9kZTpsci10Yjt0ZXh0LWFuY2hvcjpzdGFydDtiYXNlbGluZS1zaGlmdDpiYXNlbGluZTtjb2xvcjojMDAwMDAwO2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MTcuMjAwMDIzNjU7bWFya2VyOm5vbmU7dmlzaWJpbGl0eTp2aXNpYmxlO2Rpc3BsYXk6aW5saW5lO292ZXJmbG93OnZpc2libGU7ZW5hYmxlLWJhY2tncm91bmQ6YWNjdW11bGF0ZTtmb250LWZhbWlseTpTYW5zOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246U2FucyIvPjwvZz48ZyB0cmFuc2Zvcm09Im1hdHJpeCgwLjE3NDQxODM2LDAsMCwwLjE3NDQxODM2LDIyMC41MjI4MiwyOS4yMjkzNDIpIiBzdHlsZT0iZmlsbDojZmZmZmZmIj48cGF0aCBkPSJtIDUuNDEgMyAwIDEyIDEuNzUgMCAwIC05LjkxIDMuNSA1Ljk0IDMuNDcgLTUuOTQgMCA5LjkxIDEuNzUgMCAwIC0xMiBMIDE0LjUgMyBDIDEzLjggMyAxMy4yNSAzLjE2IDEyLjk0IDMuNjkgTCAxMC42NiA3LjU5IDguMzggMy42OSBDIDguMDcgMy4xNiA3LjUxIDMgNi44MSAzIHogTSAzNiAzIGwgMCAxMi4wMyAzLjI1IDAgYyAyLjQ0IDAgNC4zOCAtMS45MSA0LjM4IC00LjUzIDAgLTIuNjIgLTEuOTMgLTQuNDcgLTQuMzggLTQuNDcgQyAzOC43IDYuMDMgMzguMzIgNiAzNy43NSA2IGwgMCAtMyB6IE0gMjEuNDcgNS45NyBjIC0yLjQ0IDAgLTQuMTkgMS45MSAtNC4xOSA0LjUzIDAgMi42MiAxLjc1IDQuNTMgNC4xOSA0LjUzIGwgNC4xOSAwIDAgLTQuNTMgYyAwIC0yLjYyIC0xLjc1IC00LjUzIC00LjE5IC00LjUzIHogbSAyNy41NiAwIGMgLTIuNDEgMCAtNC4zOCAyLjAzIC00LjM4IDQuNTMgMCAyLjUgMS45NyA0LjUzIDQuMzggNC41MyAyLjQxIDAgNC4zNCAtMi4wMyA0LjM0IC00LjUzIDAgLTIuNSAtMS45NCAtNC41MyAtNC4zNCAtNC41MyB6IG0gLTIyIDAuMDMgMCAxMiAxLjc1IDAgMCAtMi45NyBjIDAuNTcgMCAxLjA0IC0wIDEuNTkgMCAyLjQ0IDAgNC4zNCAtMS45MSA0LjM0IC00LjUzIDAgLTIuNjIgLTEuOSAtNC41IC00LjM0IC00LjUgeiBtIDI2LjE2IDAgMy4wMyA0LjM4IC0zLjE5IDQuNjIgMi4xMiAwIEwgNTcuMzEgMTEuOTEgNTkuNDQgMTUgNjEuNTkgMTUgNTguMzggMTAuMzggNjEuNDEgNiA1OS4yNSA2IDU3LjMxIDguODEgNTUuMzQgNiB6IE0gMjEuNDcgNy43MiBjIDEuNCAwIDIuNDQgMS4xOSAyLjQ0IDIuNzggbCAwIDIuNzggLTIuNDQgMCBjIC0xLjQgMCAtMi40NCAtMS4yMSAtMi40NCAtMi43OCAtMCAtMS41NyAxLjA0IC0yLjc4IDIuNDQgLTIuNzggeiBtIDI3LjU2IDAgYyAxLjQ0IDAgMi41OSAxLjI0IDIuNTkgMi43OCAwIDEuNTQgLTEuMTUgMi43OCAtMi41OSAyLjc4IC0xLjQ0IDAgLTIuNjIgLTEuMjQgLTIuNjIgLTIuNzggMCAtMS41NCAxLjE4IC0yLjc4IDIuNjIgLTIuNzggeiBtIC0yMC4yNSAwLjAzIDEuNTkgMCBjIDEuNTkgMCAyLjU5IDEuMjggMi41OSAyLjc1IDAgMS40NyAtMS4xMyAyLjc4IC0yLjU5IDIuNzggbCAtMS41OSAwIHogbSA4Ljk3IDAgMS41IDAgYyAxLjQ3IDAgMi42MiAxLjI4IDIuNjIgMi43NSAwIDEuNDcgLTEuMDQgMi43OCAtMi42MiAyLjc4IGwgLTEuNSAwIHoiIHRyYW5zZm9ybT0ibWF0cml4KDUuNzMzMzQxNCwwLDAsNS43MzMzNDE0LDIzNi45MzMwOCwzOTcuMTc0OTgpIiBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lIi8+PC9nPjwvZz48L3N2Zz4=');\n}\n\n/* Dark Theme\n------------------------------------------------------- */\n.leaflet-container.dark .leaflet-bar {\n  background-color:#404040;\n  border-color:#202020;\n  border-color:rgba(0,0,0,0.75);\n  }\n  .leaflet-container.dark .leaflet-bar a {\n    color:#404040;\n    border-color:rgba(0,0,0,0.5);\n    }\n  .leaflet-container.dark .leaflet-bar a:active,\n  .leaflet-container.dark .leaflet-bar a:hover {\n    background-color:#505050;\n    }\n\n.leaflet-container.dark .leaflet-control-attribution:after,\n.leaflet-container.dark .mapbox-info-toggle,\n.leaflet-container.dark .map-info-container,\n.leaflet-container.dark .leaflet-control-attribution {\n  background-color:rgba(0,0,0,0.5);\n  color:#f8f8f8;\n  }\n  .leaflet-container.dark .leaflet-control-attribution a,\n  .leaflet-container.dark .leaflet-control-attribution a:hover,\n  .leaflet-container.dark .map-info-container a,\n  .leaflet-container.dark .map-info-container a:hover {\n    color:#fff;\n    }\n\n.leaflet-container.dark .leaflet-control-attribution:hover:after {\n  background-color:#000;\n  }\n.leaflet-container.dark .leaflet-control-layers-list span {\n  color:#f8f8f8;\n  }\n.leaflet-container.dark .leaflet-control-layers-separator {\n  border-top-color:rgba(255,255,255,0.10);\n  }\n.leaflet-container.dark .leaflet-bar a.leaflet-disabled,\n.leaflet-container.dark .leaflet-control .mapbox-button.disabled {\n  background-color:#252525;\n  color:#404040;\n  }\n.leaflet-container.dark .leaflet-control-mapbox-geocoder > div {\n  border-color:#202020;\n  border-color:rgba(0,0,0,0.75);\n  }\n  .leaflet-container.dark .leaflet-control .leaflet-control-mapbox-geocoder-results a {\n    border-color:#ddd #202020;\n    border-color:rgba(0,0,0,0.10) rgba(0,0,0,0.75);\n    }\n  .leaflet-container.dark .leaflet-control .leaflet-control-mapbox-geocoder-results span {\n    border-color:#202020;\n    border-color:rgba(0,0,0,0.75);\n    }\n\n/* Larger Screens\n------------------------------------------------------- */\n@media only screen and (max-width:800px) {\n.mapbox-modal-body {\n  width:83.3333%;\n  margin-left:8.3333%;\n  }\n}\n\n/* Smaller Screens\n------------------------------------------------------- */\n@media only screen and (max-width:640px) {\n.mapbox-modal-body {\n  width:100%;\n  height:100%;\n  margin:0;\n  }\n}\n\n/* Print\n------------------------------------------------------- */\n@media print { .mapbox-improve-map { display:none; } }\n\n/* Browser Fixes\n------------------------------------------------------- */\n/* VML support for IE8 */\n.leaflet-vml-shape { width:1px; height:1px; }\n.lvml { behavior:url(#default#VML); display:inline-block; position:absolute; }\n/* Map is broken in FF if you have max-width: 100% on tiles */\n.leaflet-container img.leaflet-tile { max-width:none !important; }\n/* Markers are broken in FF/IE if you have max-width: 100% on marker images */\n.leaflet-container img.leaflet-marker-icon { max-width:none; }\n/* Stupid Android 2 doesn't understand \"max-width: none\" properly */\n.leaflet-container img.leaflet-image-layer { max-width:15000px !important; }\n/* workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=888319 */\n.leaflet-overlay-pane svg { -moz-user-select:none; }\n/* Older IEs don't support the translateY property for display animation */\n.leaflet-oldie .mapbox-modal .mapbox-modal-content        { display:none; }\n.leaflet-oldie .mapbox-modal.active .mapbox-modal-content { display:block; }\n.map-tooltip { width:280px\\8; /* < IE9 */ }\n\n/* < IE8 */\n.leaflet-oldie .leaflet-control-zoom-in,\n.leaflet-oldie .leaflet-control-zoom-out,\n.leaflet-oldie .leaflet-popup-close-button,\n.leaflet-oldie .leaflet-control-layers-toggle,\n.leaflet-oldie .leaflet-container.dark .map-tooltip .close,\n.leaflet-oldie .map-tooltip .close,\n.leaflet-oldie .mapbox-icon {\n  background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAEECAYAAAA24SSRAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAXnSURBVHic7ZxfiFVFGMB/33pRUQsKto002DY3McJ6yBYkESQxpYTypaB66KEXYRWLYOlhr9RTRGWRUkk9RyEU+Y9ClECJVTKlPybWBilqkYuWrqBOD/NdPV7PmTPn3NPtat/AcO6ZP9/vfN/Mmfl2Zs6Kc452hK62UAxkIANdEURkVERGC9crOjKIiANwzkmRep1lOjWXa2ijaU7jaGWgKsL110a1EnV+LQMqbLqyobO6t4EMZCADGchABrqmQUlPNSWOVgaqIpi7ZSADGchABjKQga49kIjURaQem14apGE4KVR/D0fXds5FRaAOOL1e+h1dP7ZgE6wQxDnXvs7QWaZLE1wUVmRNdY1zrp6wRF0kfqHYnHwDGchABjJQIETNRyIyFVgBzAPmavIIsAt4xzn3d66QiNl1PnCYy05JczwMzG9pKlfIhQCkES/kwUKQqRma9GpM02xqGXdrBdCXZm2NzaFP66SGUGeYl5E+WqJO0HRHSG+PXtJN54AjVbhbjQcbBSjiakH4hR0p+hChOiHQrhKg7Drt6t7//Qtb9RAU5XtXMaiak28gAxnIQO0Gicg0EXlMRDaIyFGNGzRtWhQpMA/1A6uAL4BzZM9H57TMKqC/8HyUPFhZJLiMI4sh0/UDK4FtwHig3LiWWal1UkPsDDsFWAgsBZZo8hZgM7DdOXcmV0igjQ4Ba4HFwORAuclaZi1wqNU2OgNsVw22aNoS1XAhMCXx4OkubOBJZwKDwFbgLNm97qyWGQRmtuoFWRsV0ujabCPzVA1kIAMZqBNAIjIgImPNRxUzK+SsmtRJn4Pqmj8AjCXzsmTlaTSck/8zcDRX/QiNMp8S6Ab2a5nvG5plyioDaoLs1/sBYKwyUBokkTdQJeiVZgi6UR+UVQI0QWHdoXKFvKDYz7RiynXctk7LPlmeRmsKyAqWNQfSQAYykIGuS5CI1ERkSET2ishpvQ6JSLE93ByfoQbsRHeNgfe4vOO8E6iF6hdxToZU6OqGUIWv1vShqkB7VYNaU3pN0/fGgvLa6C5gk3PufJO5zwObgDuraqM8jbZWpdEnwG3AYKOX6XVQ07+sSqNQr3P4QxS9LXeGBGxIzTiGXwR8QSHRsCj7ZjxAbxFYaVAKbMe/BkrAduRpZJ6qgQxkoP8DKDRY1sk/s5W6YFhoUG3nFnZeOIJfxLgXWB7zBFmmyzPT44my9zXSC098OZCTwCQttzOZVzVoX1a5LHmdtYyWDM29yjknItKF3xSelFWvKo1mhCClQLo1sC95T8T/ebr+xrqOABVZT82tY56qgQxkIAN1CkhEulsGiUi3iCzKyJsjIpuBYyLyo4isFpHXReTuTFLAr1sOnAeeT8nbzNW+3rfAM2UcyAcSQj4FngR68Ot0F1NA24CuMqBu4PMUgYdS0hzwYqlFJ+AeNV3s30aLSoEUtjEScoHE3nkZ0Ay1fR7o3ZCcGNAEYHcO5A/g5pZACpsMPEf6UexTwCN5MvI6w2zgaeBt4HQK5BsC57ubY+jPll/wHzn1Ayc07QD+u6MR4GPn3LlA/SuCOZAGMpCBDFRhiF50EpFl+PP49wOzgIPAHmCLc+6zXAERE18P+b7DRqAnJCfvfF0P/mTgLZr0l97vB27CL3HO0rwTwBzn3PHCGiU0uQisA6bhzT0T/T4ZeAr4s6FZmal8WcI0LwETgdfwHzY1XKz3teyjibLLioLWa8UDeG/oZbxD+QHwdULwg1r+K71fXxQ0ohXfAgS/Mvyh5i1MgNZp2qt6P5ImL/QezdbrSeAG4EbVJJkH8LteJ+p1FikhBPpNr3Odc6fUNHdo2oJEucbX8Y2zDQeLgr7T62IReRb4AX9mGGC6Xo8Bu0VkOvCQpu1JlRZoo6Vc/WL2ad4C4A28CWvAR5TtdU0dwqH/ewHvHi8HbgUexh+euDRCFH6PVOh0/FKzw3um4M8zpA1DxwkMQzFjXR9+d/9N1WI8BZI71kU56Aq8HXgC+Ak/5o3gX+rUNmmO5nsbqP2gfwCyvJzPNoKXiAAAAABJRU5ErkJggg==');\n}\n.leaflet-oldie .mapbox-button-icon:before,\n.leaflet-oldie .leaflet-container.dark .leaflet-control-zoom-in,\n.leaflet-oldie .leaflet-container.dark .leaflet-control-zoom-out,\n.leaflet-oldie .leaflet-container.dark .leaflet-control-layers-toggle,\n.leaflet-oldie .leaflet-container.dark .mapbox-icon {\n  background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAEECAYAAAA24SSRAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAXYSURBVHic7ZxfiFVFHMc/a4uKWtDDtqJGZprYgwX5ByTdkkLbSgghCiKih14EBYtg6aEr9RRREKRUUs9hGEVtChKaYMkq2VqWmnUX2tKiNDNZY/Xbw/wue7x7zsw559626zY/GM6df7/P+c3MPfO7M3NumyTGQiaMCSWCIiiC6qVqoZC0lXgy1Cq0FanUck1XxVmSNL8WrzYT1LCMvz5qL1FnoAyoTNOVkpYb3hEUQREUQREUQRF0RYOqjHim9aHaTFDDEt2tCIqgCIqgCIqgCLoiQRULedNLgwCeq1NasbR8IilvqMhJpe5zrvpFQElYIYiksRsMLdd0aYoLwYqsqW5i9KjLLdHJj6AIiqAIiiCP5J2PpgLrgGXAYkvrA/YBrwF/BTXkmB2XSzqhbDlhZRqaypdLuuiB1ORiCOaDTM2wZLaFNMumZunzDYZ1wJy01ubyPfOazLE6qeIbDMsy0qsl6ngtWpyRfqOFInVKbWFXS9TxWtRXQl9mHR9oXwlQdp2xGt4t8YVt6iMor+/d8EM1OvkRFEERFEH/AWga8CCwFfjJwlZLm5ZHge/pPQ+4z8IKYGJGub+BT4GPLBwvCio7f6QeWfQ13TxgA7ATGPKUG7IyG6xOOj3nxDcFWAl0A/da2sdAL/AJcD6kwAc6bop6gT1kWzUZ6LKb6CbDqrx9dB535704S8BZ1o2zdEpSZ1HQ3MRddtmdp8kQzuKa9d8VBSUl9lEh0Pjro6ZKy00TERRBERRBLQZaCpxh9FHFUqBKiiJZ+n5gFfBHnrsKgUKb7t/j/PCwBNZwapKW1yGp3/KPSDrjKVsalIT0W3ypwZoGSoPU8pY2E/RCCqSiwJ55GdBVBusIlCu0Xpf3Na1guZbb1mnYJwtZtKmALm/Z6EBGUARFUASNV1A70AMcBP60aw9F93ADPkO7pD3mDwxKesOusvT2QP3czkmPKd2YUNpucVl+LlBo4jsITAduAIbrmnMAOAncnqflQn10M26JebgufdjSb8oDyQM6hlv3ru/4dkv/vFmgd4EZwPoErN3iM4BdeUGNjDpJqsrtmzc86mqwHkkH5X4t7JD0tEFyw3INzYwwuwisEVA9bPe/CarBdocsip5qBEVQBP3fQRWyX4jOCpUsZS2xhR2SQdwixq3A2lDhMkcTa7Ie2G6fwzfsmax8clrSJCu3py4vVV/ZphsALtjnFXkqtNwyWlLqR1Ub7obPA5OyKjXLolk+SFmQgEN18eD/PLXEI2j8gYqspwbrRE81giIogiKohUAdzQB1APdk5C3Ends6CXwLbAReBm7J1OZxINdKGpb0VEpeb4pT+aWkx8os0SxJKHlf0iOSOiXNkHQpBbRT0oQyoA5JH6YoPJ6SJknPeHR5+6gTWJ2SPjej/BceXV7QV8AHvsoJucTlvt5o8ZkraZa1fUheD+gJfo9+Bq4JlPkNt4Xgl9CdSJos6UlJF1IsOSvp/hw6vL8mFgCLgCXA44w+730IeIiM89314gP9ACzHHXD9xdIO49476gO2MfJjLCjRgYygCIqgCGqiFFl0WoM7j78ImA8cBQ7gzuaHp/wck1anpO2BqXy7lSu9I9YJ9APXWfycxfuBa4HbzDpwc9ZC4FQZi2qWXJK0WdI0ue3SuRp5P/lRSb8nLCvsQK5JNM2zkiZKeknSkKVdlPSmlX0gUXZNUdAWq3hY7tzj83K++FuS9icU32Hl91p8S1FQn1V8VVKb3Mrw25a3MgHabGkvWrwvTZ/ve7TArqeBq3H+3f66PIBf7VrzkuaTIj7Qj3ZdDJwF9jLy5wJdiXK1t+NrZxuOFgV9bddVwBPAN8ARS5tp15PAZxa/29IOpGrz9FG3Rsscy+uS9IqkBXLD/Z1GRl1yQEjuHANy7vFaSdMlrZa0K1Gm1PcISTMlDZiSbZa2I8VSSTolz2Mo9PQeBO7CvTE1iDtRc2dKuffwPX4CfVQfrpf0sKRjks5Zs27J6pP6EH3vCBp70D8db2VXFPfIagAAAABJRU5ErkJggg==');\n}\n\n.leaflet-oldie .mapbox-logo-true {\n  background-image: none;\n}\n",""])},function(e,t){function i(e,t){var i=e[1]||"",s=e[3];if(!s)return i;if(t&&"function"==typeof btoa){var r=n(s);return[i].concat(s.sources.map(function(e){return"/*# sourceURL="+s.sourceRoot+e+" */"})).concat([r]).join("\n")}return[i].join("\n")}function n(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=i(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var r=this[s][0];"number"==typeof r&&(n[r]=!0)}for(s=0;s<e.length;s++){var o=e[s];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){function i(e){for(var t=-1,i=e?e.length:0,n=-1,s=[];++t<i;){var r=e[t];r&&(s[++n]=r)}return s}e.exports=i},function(e,t){function i(e){return e?e[0]:void 0}e.exports=i},function(e,t,i){function n(e,t,i){var n=e?e.length:0;return i&&r(e,t,i)&&(t=!1),n?s(e,t):[]}var s=i(387),r=i(113);e.exports=n},function(e,t,i){var n=i(633),s=i(72),r=i(139),o=r(function(e,t){return s(e)?n(e,t):[]});e.exports=o},function(e,t,i){function n(e){if(c(e)&&!a(e)&&!(e instanceof s)){if(e instanceof r)return e;if(d.call(e,"__chain__")&&d.call(e,"__wrapped__"))return l(e)}return new r(e)}var s=i(384),r=i(629),o=i(392),a=i(28),c=i(59),l=i(1743),u=Object.prototype,d=u.hasOwnProperty;n.prototype=o.prototype,e.exports=n},function(e,t,i){var n=i(393),s=Object.prototype,r=s.hasOwnProperty,o=n(function(e,t,i){r.call(e,i)?++e[i]:e[i]=1});e.exports=o},function(e,t,i){var n=i(385),s=i(140),r=i(1718),o=r(n,s);e.exports=o},function(e,t,i){var n=i(393),s=Object.prototype,r=s.hasOwnProperty,o=n(function(e,t,i){r.call(e,i)?e[i].push(t):e[i]=[t]});e.exports=o},function(e,t,i){var n=i(393),s=n(function(e,t,i){e[i]=t});e.exports=s},function(e,t,i){e.exports=i(1749)},function(e,t,i){var n=i(1724),s=i(396),r=i(139),o=r(function(e,t,i){var r=1;if(i.length){var a=s(i,o.placeholder);r|=32}return n(e,r,t,i,a)});o.placeholder={},e.exports=o},function(e,t,i){(function(t){function n(e){var t=e?e.length:0;for(this.data={hash:a(null),set:new o};t--;)this.push(e[t])}var s=i(1710),r=i(165),o=r(t,"Set"),a=r(Object,"create");n.prototype.push=s,e.exports=n}).call(t,i(29))},function(e,t){function i(e,t,i,n){for(var s=-1,r=e.length,o=n,a=o;++s<r;){var c=e[s],l=+t(c);i(l,o)&&(o=l,a=c)}return a}e.exports=i},function(e,t){function i(e,t){for(var i=-1,n=e.length,s=-1,r=[];++i<n;){var o=e[i];t(o,i,e)&&(r[++s]=o)}return r}e.exports=i},function(e,t){function i(e,t){for(var i=-1,n=e.length,s=Array(n);++i<n;)s[i]=t(e[i],i,e);return s}e.exports=i},function(e,t){function i(e,t){for(var i=-1,n=t.length,s=e.length;++i<n;)e[s+i]=t[i];return e}e.exports=i},function(e,t){function i(e,t){return void 0===e?t:e}e.exports=i},function(e,t,i){function n(e,t,i){for(var n=-1,r=s(t),o=r.length;++n<o;){var a=r[n],c=e[a],l=i(c,t[a],a,e,t);(l===l?l===c:c!==c)&&(void 0!==c||a in e)||(e[a]=l)}return e}var s=i(114);e.exports=n},function(e,t,i){function n(e,t,i,v,_,y,w){var b;if(i&&(b=_?i(e,v,_):i(e)),void 0!==b)return b;if(!h(e))return e;var D=d(e);if(D){if(b=c(e),!t)return s(e,b)}else{var C=T.call(e),S=C==f;if(C!=m&&C!=p&&(!S||_))return g[C]?l(e,C,t):_?e:{};if(b=u(S?{}:e),!t)return o(b,e)}y||(y=[]),w||(w=[]);for(var E=y.length;E--;)if(y[E]==e)return w[E];return y.push(e),w.push(b),(D?r:a)(e,function(s,r){b[r]=n(s,t,i,r,e,y,w)}),b}var s=i(163),r=i(385),o=i(631),a=i(388),c=i(1731),l=i(1732),u=i(1733),d=i(28),h=i(35),p="[object Arguments]",f="[object Function]",m="[object Object]",g={};g[p]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object Date]"]=g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Number]"]=g[m]=g["[object RegExp]"]=g["[object String]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g["[object Error]"]=g[f]=g["[object Map]"]=g["[object Set]"]=g["[object WeakMap]"]=!1;var v=Object.prototype,T=v.toString;e.exports=n},function(e,t){function i(e,t){if(e!==t){var i=null===e,n=void 0===e,s=e===e,r=null===t,o=void 0===t,a=t===t;if(e>t&&!r||!s||i&&!o&&a||n&&a)return 1;if(e<t&&!i||!a||r&&!n&&s||o&&s)return-1}return 0}e.exports=i},function(e,t){function i(e,t,i){if("function"!=typeof e)throw new TypeError(n);return setTimeout(function(){e.apply(void 0,i)},t)}var n="Expected a function";e.exports=i},function(e,t,i){function n(e,t,i,n){var r=n,o=r;return s(e,function(e,s,a){var c=+t(e,s,a);(i(c,r)||c===n&&c===o)&&(r=c,o=e)}),o}var s=i(140);e.exports=n},function(e,t,i){function n(e,t){var i=[];return s(e,function(e,n,s){t(e,n,s)&&i.push(e)}),i}var s=i(140);e.exports=n},function(e,t){function i(e,t,i,n){var s;return i(e,function(e,i,r){if(t(e,i,r))return s=n?i:e,!1}),s}e.exports=i},function(e,t){function i(e,t,i){for(var n=e.length,s=i?n:-1;i?s--:++s<n;)if(t(e[s],s,e))return s;return-1}e.exports=i},function(e,t,i){function n(e,t,i,n,h,m,g){var v=a(e),T=a(t),_=u,y=u;v||(_=f.call(e),_==l?_=d:_!=d&&(v=c(e))),T||(y=f.call(t),y==l?y=d:y!=d&&(T=c(t)));var w=_==d,b=y==d,D=_==y;if(D&&!v&&!w)return r(e,t,_);if(!h){var C=w&&p.call(e,"__wrapped__"),S=b&&p.call(t,"__wrapped__");if(C||S)return i(C?e.value():e,S?t.value():t,n,h,m,g)}if(!D)return!1;m||(m=[]),g||(g=[]);for(var E=m.length;E--;)if(m[E]==e)return g[E]==t;m.push(e),g.push(t);var I=(v?s:o)(e,t,i,n,h,m,g);return m.pop(),g.pop(),I}var s=i(1725),r=i(1726),o=i(1727),a=i(28),c=i(400),l="[object Arguments]",u="[object Array]",d="[object Object]",h=Object.prototype,p=h.hasOwnProperty,f=h.toString;e.exports=n},function(e,t,i){function n(e,t,i){var n=t.length,o=n,a=!i;if(null==e)return!o;for(e=r(e);n--;){var c=t[n];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++n<o;){c=t[n];var l=c[0],u=e[l],d=c[1];if(a&&c[2]){if(void 0===u&&!(l in e))return!1}else{var h=i?i(u,d,l):void 0;if(!(void 0===h?s(d,u,i,!0):h))return!1}}return!0}var s=i(391),r=i(96);e.exports=n},function(e,t,i){function n(e){var t=r(e);if(1==t.length&&t[0][2]){var i=t[0][0],n=t[0][1];return function(e){return null!=e&&(e[i]===n&&(void 0!==n||i in o(e)))}}return function(e){return s(e,t)}}var s=i(1698),r=i(1729),o=i(96);e.exports=n},function(e,t,i){function n(e,t){var i=a(e),n=c(e)&&l(t),p=e+"";return e=h(e),function(a){if(null==a)return!1;var c=p;if(a=d(a),(i||!n)&&!(c in a)){if(null==(a=1==e.length?a:s(a,o(e,0,-1))))return!1;c=u(e),a=d(a)}return a[c]===t?void 0!==t||c in a:r(t,a[c],void 0,!0)}}var s=i(389),r=i(391),o=i(1704),a=i(28),c=i(645),l=i(646),u=i(623),d=i(96),h=i(397);e.exports=n},function(e,t,i){function n(e,t,i,h,p){if(!c(e))return e;var f=a(t)&&(o(t)||u(t)),m=f?void 0:d(t);return s(m||t,function(s,o){if(m&&(o=s,s=t[o]),l(s))h||(h=[]),p||(p=[]),r(e,t,o,n,i,h,p);else{var a=e[o],c=i?i(a,s,o,e,t):void 0,u=void 0===c;u&&(c=s),void 0===c&&(!f||o in e)||!u&&(c===c?c===a:a!==a)||(e[o]=c)}}),e}var s=i(385),r=i(1702),o=i(28),a=i(72),c=i(35),l=i(59),u=i(400),d=i(114);e.exports=n},function(e,t,i){function n(e,t,i,n,d,h,p){for(var f=h.length,m=t[i];f--;)if(h[f]==m)return void(e[i]=p[f]);var g=e[i],v=d?d(g,m,i,e,t):void 0,T=void 0===v;T&&(v=m,a(m)&&(o(m)||l(m))?v=o(g)?g:a(g)?s(g):[]:c(m)||r(m)?v=r(g)?u(g):c(g)?g:{}:T=!1),h.push(m),p.push(v),T?e[i]=n(v,m,d,h,p):(v===v?v!==g:g===g)&&(e[i]=v)}var s=i(163),r=i(166),o=i(28),a=i(72),c=i(1746),l=i(400),u=i(1748);e.exports=n},function(e,t,i){function n(e){var t=e+"";return e=r(e),function(i){return s(i,e,t)}}var s=i(389),r=i(397);e.exports=n},function(e,t){function i(e,t,i){var n=-1,s=e.length;t=null==t?0:+t||0,t<0&&(t=-t>s?0:s+t),i=void 0===i||i>s?s:+i||0,i<0&&(i+=s),s=t>i?0:i-t>>>0,t>>>=0;for(var r=Array(s);++n<s;)r[n]=e[n+t];return r}e.exports=i},function(e,t,i){function n(e,t){var i;return s(e,function(e,n,s){return!(i=t(e,n,s))}),!!i}var s=i(140);e.exports=n},function(e,t){function i(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}e.exports=i},function(e,t,i){function n(e,t){var i=-1,n=s,c=e.length,l=!0,u=l&&c>=a,d=u?o():null,h=[];d?(n=r,l=!1):(u=!1,d=t?[]:h);e:for(;++i<c;){var p=e[i],f=t?t(p,i,e):p;if(l&&p===p){for(var m=d.length;m--;)if(d[m]===f)continue e;t&&d.push(f),h.push(p)}else n(d,f,0)<0&&((t||u)&&d.push(f),h.push(p))}return h}var s=i(390),r=i(639),o=i(643),a=200;e.exports=n},function(e,t){function i(e,t){for(var i=-1,n=t.length,s=Array(n);++i<n;)s[i]=e[t[i]];return s}e.exports=i},function(e,t,i){(function(t){function i(e){var t=new n(e.byteLength);return new s(t).set(new s(e)),t}var n=t.ArrayBuffer,s=t.Uint8Array;e.exports=i}).call(t,i(29))},function(e,t,i){function n(e){var t=this.data;"string"==typeof e||s(e)?t.set.add(e):t.hash[e]=!0}var s=i(35);e.exports=n},function(e,t,i){function n(e,t){return s(e.criteria,t.criteria)||e.index-t.index}var s=i(1691);e.exports=n},function(e,t,i){function n(e,t){return function(i,n){var a=i?s(i):0;if(!r(a))return e(i,n);for(var c=t?a:-1,l=o(i);(t?c--:++c<a)&&!1!==n(l[c],c,l););return i}}var s=i(395),r=i(141),o=i(96);e.exports=n},function(e,t,i){function n(e){return function(t,i,n){for(var r=s(t),o=n(t),a=o.length,c=e?a:-1;e?c--:++c<a;){var l=o[c];if(!1===i(r[l],l,r))break}return t}}var s=i(96);e.exports=n},function(e,t,i){(function(t){function n(e,i){function n(){return(this&&this!==t&&this instanceof n?r:e).apply(i,arguments)}var r=s(e);return n}var s=i(394);e.exports=n}).call(t,i(29))},function(e,t,i){function n(e,t){return s(function(i){var n=i[0];return null==n?n:(i.push(t),e.apply(void 0,i))})}var s=i(139);e.exports=n},function(e,t,i){function n(e,t){return function(i,n,u){if(u&&c(i,n,u)&&(n=void 0),n=r(n,u,3),1==n.length){i=a(i)?i:l(i);var d=s(i,n,e,t);if(!i.length||d!==t)return d}return o(i,n,e,t)}}var s=i(1684),r=i(95),o=i(1693),a=i(28),c=i(113),l=i(1742);e.exports=n},function(e,t,i){function n(e,t){return function(i,n,c){if(n=s(n,c,3),a(i)){var l=o(i,n,t);return l>-1?i[l]:void 0}return r(i,n,e)}}var s=i(95),r=i(1695),o=i(1696),a=i(28);e.exports=n},function(e,t,i){function n(e,t){return function(i,n,o){return"function"==typeof n&&void 0===o&&r(i)?e(i,n):t(i,s(n,o,3))}}var s=i(164),r=i(28);e.exports=n},function(e,t,i){(function(t){function n(e,i,w,b,D,C,S,E,I,A){function x(){for(var f=arguments.length,m=f,g=Array(f);m--;)g[m]=arguments[m];if(b&&(g=r(g,b,D)),C&&(g=o(g,C,S)),R||F){var _=x.placeholder,P=u(g,_);if((f-=P.length)<A){var j=E?s(E):void 0,U=y(A-f,0),$=R?P:void 0,B=R?void 0:P,H=R?g:void 0,z=R?void 0:g;i|=R?v:T,i&=~(R?T:v),L||(i&=~(h|p));var W=[e,i,w,H,$,z,B,j,I,U],K=n.apply(void 0,W);return c(e)&&d(K,W),K.placeholder=_,K}}var V=M?w:this,G=O?V[e]:e;return E&&(g=l(g,E)),k&&I<g.length&&(g.length=I),this&&this!==t&&this instanceof x&&(G=N||a(e)),G.apply(V,g)}var k=i&_,M=i&h,O=i&p,R=i&m,L=i&f,F=i&g,N=O?void 0:a(e);return x}var s=i(163),r=i(640),o=i(641),a=i(394),c=i(1734),l=i(1739),u=i(396),d=i(648),h=1,p=2,f=4,m=8,g=16,v=32,T=64,_=128,y=Math.max;e.exports=n}).call(t,i(29))},function(e,t,i){function n(e){return function(t,i,n){var o={};return i=s(i,n,3),r(t,function(t,n,s){var r=i(t,n,s);n=e?r:n,t=e?t:r,o[n]=t}),o}}var s=i(95),r=i(388);e.exports=n},function(e,t,i){function n(e){return function(t,i,n){return t=s(t),(e?t:"")+r(t,i,n)+(e?"":t)}}var s=i(201),r=i(1722);e.exports=n},function(e,t,i){(function(t){function n(e,t,i){var n=e.length;if(t=+t,n>=t||!o(t))return"";var a=t-n;return i=null==i?" ":i+"",s(i,r(a/i.length)).slice(0,a)}var s=i(1755),r=Math.ceil,o=t.isFinite;e.exports=n}).call(t,i(29))},function(e,t,i){(function(t){function n(e,i,n,o){function a(){for(var i=-1,s=arguments.length,r=-1,u=o.length,d=Array(u+s);++r<u;)d[r]=o[r];for(;s--;)d[r++]=arguments[++i];return(this&&this!==t&&this instanceof a?l:e).apply(c?n:this,d)}var c=i&r,l=s(e);return a}var s=i(394),r=1;e.exports=n}).call(t,i(29))},function(e,t,i){function n(e,t,i,n,v,T,_,y){var w=t&h;if(!w&&"function"!=typeof e)throw new TypeError(m);var b=n?n.length:0;if(b||(t&=~(p|f),n=v=void 0),b-=v?v.length:0,t&f){var D=n,C=v;n=v=void 0}var S=w?void 0:c(e),E=[e,t,i,n,v,D,C,T,_,y];if(S&&(l(E,S),t=E[1],y=E[9]),E[9]=null==y?w?0:e.length:g(y-b,0)||0,t==d)var I=r(E[0],E[2]);else I=t!=p&&t!=(d|p)||E[4].length?o.apply(void 0,E):a.apply(void 0,E);return(S?s:u)(I,E)}var s=i(638),r=i(1714),o=i(1719),a=i(1723),c=i(644),l=i(1735),u=i(648),d=1,h=2,p=32,f=64,m="Expected a function",g=Math.max;e.exports=n},function(e,t,i){function n(e,t,i,n,r,o,a){var c=-1,l=e.length,u=t.length;if(l!=u&&!(r&&u>l))return!1;for(;++c<l;){var d=e[c],h=t[c],p=n?n(r?h:d,r?d:h,c):void 0;if(void 0!==p){if(p)continue;return!1}if(r){if(!s(t,function(e){return d===e||i(d,e,n,r,o,a)}))return!1}else if(d!==h&&!i(d,h,n,r,o,a))return!1}return!0}var s=i(630);e.exports=n},function(e,t){function i(e,t,i){switch(i){case n:case s:return+e==+t;case r:return e.name==t.name&&e.message==t.message;case o:return e!=+e?t!=+t:e==+t;case a:case c:return e==t+""}return!1}var n="[object Boolean]",s="[object Date]",r="[object Error]",o="[object Number]",a="[object RegExp]",c="[object String]";e.exports=i},function(e,t,i){function n(e,t,i,n,r,a,c){var l=s(e),u=l.length;if(u!=s(t).length&&!r)return!1;for(var d=u;d--;){var h=l[d];if(!(r?h in t:o.call(t,h)))return!1}for(var p=r;++d<u;){h=l[d];var f=e[h],m=t[h],g=n?n(r?m:f,r?f:m,h):void 0;if(!(void 0===g?i(f,m,n,r,a,c):g))return!1;p||(p="constructor"==h)}if(!p){var v=e.constructor,T=t.constructor;if(v!=T&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof T&&T instanceof T))return!1}return!0}var s=i(114),r=Object.prototype,o=r.hasOwnProperty;e.exports=n},function(e,t,i){function n(e){for(var t=e.name+"",i=s[t],n=i?i.length:0;n--;){var r=i[n],o=r.func;if(null==o||o==e)return r.name}return t}var s=i(1738);e.exports=n},function(e,t,i){function n(e){for(var t=r(e),i=t.length;i--;)t[i][2]=s(t[i][1]);return t}var s=i(646),r=i(1752);e.exports=n},function(e,t){function i(e,t,i){for(var n=e.length,s=t+(i?0:-1);i?s--:++s<n;){var r=e[s];if(r!==r)return s}return-1}e.exports=i},function(e,t){function i(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&s.call(e,"index")&&(i.index=e.index,i.input=e.input),i}var n=Object.prototype,s=n.hasOwnProperty;e.exports=i},function(e,t,i){function n(e,t,i){var n=e.constructor;switch(t){case u:return s(e);case r:case o:return new n(+e);case d:case h:case p:case f:case m:case g:case v:case T:case _:var w=e.buffer;return new n(i?s(w):w,e.byteOffset,e.length);case a:case l:return new n(e);case c:var b=new n(e.source,y.exec(e));b.lastIndex=e.lastIndex}return b}var s=i(1709),r="[object Boolean]",o="[object Date]",a="[object Number]",c="[object RegExp]",l="[object String]",u="[object ArrayBuffer]",d="[object Float32Array]",h="[object Float64Array]",p="[object Int8Array]",f="[object Int16Array]",m="[object Int32Array]",g="[object Uint8Array]",v="[object Uint8ClampedArray]",T="[object Uint16Array]",_="[object Uint32Array]",y=/\w*$/;e.exports=n},function(e,t){function i(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Object),new t}e.exports=i},function(e,t,i){function n(e){var t=o(e),i=a[t];if("function"!=typeof i||!(t in s.prototype))return!1;if(e===i)return!0;var n=r(i);return!!n&&e===n[0]}var s=i(384),r=i(644),o=i(1728),a=i(1676);e.exports=n},function(e,t,i){function n(e,t){var i=e[1],n=t[1],m=i|n,g=m<d,v=n==d&&i==u||n==d&&i==h&&e[7].length<=t[8]||n==(d|h)&&i==u;if(!g&&!v)return e;n&c&&(e[2]=t[2],m|=i&c?0:l);var T=t[3];if(T){var _=e[3];e[3]=_?r(_,T,t[4]):s(T),e[4]=_?a(e[3],p):s(t[4])}return T=t[5],T&&(_=e[5],e[5]=_?o(_,T,t[6]):s(T),e[6]=_?a(e[5],p):s(t[6])),T=t[7],T&&(e[7]=s(T)),n&d&&(e[8]=null==e[8]?t[8]:f(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=m,e}var s=i(163),r=i(640),o=i(641),a=i(396),c=1,l=4,u=8,d=128,h=256,p="__lodash_placeholder__",f=Math.min;e.exports=n},function(e,t,i){function n(e,t){e=s(e);for(var i=-1,n=t.length,r={};++i<n;){var o=t[i];o in e&&(r[o]=e[o])}return r}var s=i(96);e.exports=n},function(e,t,i){function n(e,t){var i={};return s(e,function(e,n,s){t(e,n,s)&&(i[n]=e)}),i}var s=i(635);e.exports=n},function(e,t){var i={};e.exports=i},function(e,t,i){function n(e,t){for(var i=e.length,n=o(t.length,i),a=s(e);n--;){var c=t[n];e[n]=r(c,i)?a[c]:void 0}return e}var s=i(163),r=i(262),o=Math.min;e.exports=n},function(e,t,i){function n(e){for(var t=c(e),i=t.length,n=i&&e.length,l=!!n&&a(n)&&(r(e)||s(e)),d=-1,h=[];++d<i;){var p=t[d];(l&&o(p,n)||u.call(e,p))&&h.push(p)}return h}var s=i(166),r=i(28),o=i(262),a=i(141),c=i(402),l=Object.prototype,u=l.hasOwnProperty;e.exports=n},function(e,t){function i(e,t){for(var i,n=-1,s=e.length,r=-1,o=[];++n<s;){var a=e[n],c=t?t(a,n,e):a;n&&i===c||(i=c,o[++r]=a)}return o}e.exports=i},function(e,t,i){function n(e){return null==e?[]:s(e)?r(e)?e:Object(e):o(e)}var s=i(72),r=i(35),o=i(167);e.exports=n},function(e,t,i){function n(e){return e instanceof s?e.clone():new r(e.__wrapped__,e.__chain__,o(e.__actions__))}var s=i(384),r=i(629),o=i(163);e.exports=n},function(e,t,i){function n(e){return null!=e&&(s(e)?u.test(c.call(e)):r(e)&&o.test(e))}var s=i(399),r=i(59),o=/^\[object .+?Constructor\]$/,a=Object.prototype,c=Function.prototype.toString,l=a.hasOwnProperty,u=RegExp("^"+c.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,t){function i(e){return null===e}e.exports=i},function(e,t,i){function n(e){var t;if(!o(e)||u.call(e)!=a||r(e)||!l.call(e,"constructor")&&"function"==typeof(t=e.constructor)&&!(t instanceof t))return!1;var i;return s(e,function(e,t){i=t}),void 0===i||l.call(e,i)}var s=i(635),r=i(166),o=i(59),a="[object Object]",c=Object.prototype,l=c.hasOwnProperty,u=c.toString;e.exports=n},function(e,t){function i(e,t){return e<t}e.exports=i},function(e,t,i){function n(e){return s(e,r(e))}var s=i(632),r=i(402);e.exports=n},function(e,t,i){var n=i(1716),s=i(1747),r=Number.POSITIVE_INFINITY,o=n(s,r);e.exports=o},function(e,t,i){var n=i(1720),s=n();e.exports=s},function(e,t,i){var n=i(1701),s=i(642),r=s(n);e.exports=r},function(e,t,i){function n(e){e=r(e);for(var t=-1,i=s(e),n=i.length,o=Array(n);++t<n;){var a=i[t];o[t]=[a,e[a]]}return o}var s=i(114),r=i(96);e.exports=n},function(e,t,i){var n=i(387),s=i(164),r=i(1736),o=i(1737),a=i(139),c=a(function(e,t){return null==e?{}:"function"==typeof t[0]?o(e,s(t[0],t[1],3)):r(e,n(t))});e.exports=c},function(e,t,i){var n=i(1721),s=n();e.exports=s},function(e,t,i){(function(t){function n(e,t){var i="";if(e=s(e),(t=+t)<1||!e||!o(t))return i;do{t%2&&(i+=e),t=r(t/2),e+=e}while(t);return i}var s=i(201),r=Math.floor,o=t.isFinite;e.exports=n}).call(t,i(29))},function(e,t){function i(){}e.exports=i},,,,,,,,function(e,t,i){function n(e){return i(s(e))}function s(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./en-au":664,"./en-au.js":664,"./en-ca":665,"./en-ca.js":665,"./en-gb":666,"./en-gb.js":666,"./en-ie":667,"./en-ie.js":667,"./en-nz":668,"./en-nz.js":668};n.keys=function(){return Object.keys(r)},n.resolve=s,e.exports=n,n.id=1764},,,function(e,t,i){(function(t){!function(t){"use strict";function i(e,t,i,n){var r=t&&t.prototype instanceof s?t:s,o=Object.create(r.prototype),a=new p(n||[]);return o._invoke=l(e,i,a),o}function n(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function s(){}function r(){}function o(){}function a(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(e){function i(t,s,r,o){var a=n(e[t],e,s);if("throw"!==a.type){var c=a.arg,l=c.value;return l&&"object"==typeof l&&T.call(l,"__await")?Promise.resolve(l.__await).then(function(e){i("next",e,r,o)},function(e){i("throw",e,r,o)}):Promise.resolve(l).then(function(e){c.value=e,r(c)},o)}o(a.arg)}function s(e,t){function n(){return new Promise(function(n,s){i(e,t,n,s)})}return r=r?r.then(n,n):n()}"object"==typeof t.process&&t.process.domain&&(i=t.process.domain.bind(i));var r;this._invoke=s}function l(e,t,i){var s=S;return function(r,o){if(s===I)throw new Error("Generator is already running");if(s===A){if("throw"===r)throw o;return m()}for(i.method=r,i.arg=o;;){var a=i.delegate;if(a){var c=u(a,i);if(c){if(c===x)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(s===S)throw s=A,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);s=I;var l=n(e,t,i);if("normal"===l.type){if(s=i.done?A:E,l.arg===x)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(s=A,i.method="throw",i.arg=l.arg)}}}function u(e,t){var i=e.iterator[t.method];if(i===g){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=g,u(e,t),"throw"===t.method))return x;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}var s=n(i,e.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,x;var r=s.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,x):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,x)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function f(e){if(e){var t=e[y];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(T.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=g,t.done=!0,t};return n.next=n}}return{next:m}}function m(){return{value:g,done:!0}}var g,v=Object.prototype,T=v.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},y=_.iterator||"@@iterator",w=_.asyncIterator||"@@asyncIterator",b=_.toStringTag||"@@toStringTag",D="object"==typeof e,C=t.regeneratorRuntime;if(C)return void(D&&(e.exports=C));C=t.regeneratorRuntime=D?e.exports:{},C.wrap=i;var S="suspendedStart",E="suspendedYield",I="executing",A="completed",x={},k={};k[y]=function(){return this};var M=Object.getPrototypeOf,O=M&&M(M(f([])));O&&O!==v&&T.call(O,y)&&(k=O);var R=o.prototype=s.prototype=Object.create(k);r.prototype=R.constructor=o,o.constructor=r,o[b]=r.displayName="GeneratorFunction",C.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))},C.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,b in e||(e[b]="GeneratorFunction")),e.prototype=Object.create(R),e},C.awrap=function(e){return{__await:e}},a(c.prototype),c.prototype[w]=function(){return this},C.AsyncIterator=c,C.async=function(e,t,n,s){var r=new c(i(e,t,n,s));return C.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},a(R),R[b]="Generator",R[y]=function(){return this},R.toString=function(){return"[object Generator]"},C.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},C.values=f,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&T.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return r.type="throw",r.arg=e,i.next=t,n&&(i.method="next",i.arg=g),!!n}if(this.done)throw e;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n],r=s.completion;if("root"===s.tryLoc)return t("end");if(s.tryLoc<=this.prev){var o=T.call(s,"catchLoc"),a=T.call(s,"finallyLoc");if(o&&a){if(this.prev<s.catchLoc)return t(s.catchLoc,!0);if(this.prev<s.finallyLoc)return t(s.finallyLoc)}else if(o){if(this.prev<s.catchLoc)return t(s.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return t(s.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&T.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var r=s?s.completion:{};return r.type=e,r.arg=t,s?(this.method="next",this.next=s.finallyLoc,x):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),x},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),h(i),x}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var s=n.arg;h(i)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:f(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=g),x}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,i(29))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n=i(1368);"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0};s.transform=void 0;i(2053)(n,s);n.locals&&(e.exports=n.locals)},function(e,t,i){function n(e,t){for(var i=0;i<e.length;i++){var n=e[i],s=f[n.id];if(s){s.refs++;for(var r=0;r<s.parts.length;r++)s.parts[r](n.parts[r]);for(;r<n.parts.length;r++)s.parts.push(u(n.parts[r],t))}else{for(var o=[],r=0;r<n.parts.length;r++)o.push(u(n.parts[r],t));f[n.id]={id:n.id,refs:1,parts:o}}}}function s(e,t){for(var i=[],n={},s=0;s<e.length;s++){var r=e[s],o=t.base?r[0]+t.base:r[0],a=r[1],c=r[2],l=r[3],u={css:a,media:c,sourceMap:l};n[o]?n[o].parts.push(u):i.push(n[o]={id:o,parts:[u]})}return i}function r(e,t){var i=g(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=_[_.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),_.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=g(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,s)}}function o(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=_.indexOf(e);t>=0&&_.splice(t,1)}function a(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),r(e,t),t}function c(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),r(e,t),t}function l(e,t){Object.keys(t).forEach(function(i){e.setAttribute(i,t[i])})}function u(e,t){var i,n,s,r;if(t.transform&&e.css){if(!(r=t.transform(e.css)))return function(){};e.css=r}if(t.singleton){var l=T++;i=v||(v=a(t)),n=d.bind(null,i,l,!1),s=d.bind(null,i,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=c(t),n=p.bind(null,i,t),s=function(){o(i),i.href&&URL.revokeObjectURL(i.href)}):(i=a(t),n=h.bind(null,i),s=function(){o(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}function d(e,t,i,n){var s=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,s);else{var r=document.createTextNode(s),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function h(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function p(e,t,i){var n=i.css,s=i.sourceMap,r=void 0===t.convertToAbsoluteUrls&&s;(t.convertToAbsoluteUrls||r)&&(n=y(n)),s&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var o=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}var f={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(i){if(void 0===t[i]){var n=e.call(this,i);if(n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[i]=n}return t[i]}}(function(e){return document.querySelector(e)}),v=null,T=0,_=[],y=i(2054);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=s(e,t);return n(i,t),function(e){for(var r=[],o=0;o<i.length;o++){var a=i[o],c=f[a.id];c.refs--,r.push(c)}if(e){n(s(e,t),t)}for(var o=0;o<r.length;o++){var c=r[o];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete f[c.id]}}}};var w=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var s=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(s))return e;var r;return r=0===s.indexOf("//")?s:0===s.indexOf("/")?i+s:n+s.replace(/^\.\//,""),"url("+JSON.stringify(r)+")"})}},,,,,,function(e,t,i){/*!
 * URI.js - Mutating URLs
 * URI Template Support - http://tools.ietf.org/html/rfc6570
 *
 * Version: 1.17.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(t,n){"use strict";e.exports=n(i(55))}(0,function(e,t){"use strict";function i(e){return i._cache[e]?i._cache[e]:this instanceof i?(this.expression=e,i._cache[e]=this,this):new i(e)}function n(e){this.data=e,this.cache={}}var s=t&&t.URITemplate,r=Object.prototype.hasOwnProperty,o=i.prototype,a={"":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encode"},"+":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},"#":{prefix:"#",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},".":{prefix:".",separator:".",named:!1,empty_name_separator:!1,encode:"encode"},"/":{prefix:"/",separator:"/",named:!1,empty_name_separator:!1,encode:"encode"},";":{prefix:";",separator:";",named:!0,empty_name_separator:!1,encode:"encode"},"?":{prefix:"?",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"},"&":{prefix:"&",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"}};return i._cache={},i.EXPRESSION_PATTERN=/\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g,i.VARIABLE_PATTERN=/^([^*:]+)((\*)|:(\d+))?$/,i.VARIABLE_NAME_PATTERN=/[^a-zA-Z0-9%_]/,i.expand=function(e,t){var n,s,r,o=a[e.operator],c=o.named?"Named":"Unnamed",l=e.variables,u=[];for(r=0;s=l[r];r++)n=t.get(s.name),n.val.length?u.push(i["expand"+c](n,o,s.explode,s.explode&&o.separator||",",s.maxlength,s.name)):n.type&&u.push("");return u.length?o.prefix+u.join(o.separator):""},i.expandNamed=function(t,i,n,s,r,o){var a,c,l,u="",d=i.encode,h=i.empty_name_separator,p=!t[d].length,f=2===t.type?"":e[d](o);for(c=0,l=t.val.length;c<l;c++)r?(a=e[d](t.val[c][1].substring(0,r)),2===t.type&&(f=e[d](t.val[c][0].substring(0,r)))):p?(a=e[d](t.val[c][1]),2===t.type?(f=e[d](t.val[c][0]),t[d].push([f,a])):t[d].push([void 0,a])):(a=t[d][c][1],2===t.type&&(f=t[d][c][0])),u&&(u+=s),n?u+=f+(h||a?"=":"")+a:(c||(u+=e[d](o)+(h||a?"=":"")),2===t.type&&(u+=f+","),u+=a);return u},i.expandUnnamed=function(t,i,n,s,r){var o,a,c,l,u="",d=i.encode,h=i.empty_name_separator,p=!t[d].length;for(c=0,l=t.val.length;c<l;c++)r?a=e[d](t.val[c][1].substring(0,r)):p?(a=e[d](t.val[c][1]),t[d].push([2===t.type?e[d](t.val[c][0]):void 0,a])):a=t[d][c][1],u&&(u+=s),2===t.type&&(o=r?e[d](t.val[c][0].substring(0,r)):t[d][c][0],u+=o,u+=n?h||a?"=":"":","),u+=a;return u},i.noConflict=function(){return t.URITemplate===i&&(t.URITemplate=s),i},o.expand=function(e){var t="";this.parts&&this.parts.length||this.parse(),e instanceof n||(e=new n(e));for(var s=0,r=this.parts.length;s<r;s++)t+="string"==typeof this.parts[s]?this.parts[s]:i.expand(this.parts[s],e);return t},o.parse=function(){var e,t,n,s=this.expression,r=i.EXPRESSION_PATTERN,o=i.VARIABLE_PATTERN,c=i.VARIABLE_NAME_PATTERN,l=[],u=0;for(r.lastIndex=0;;){if(null===(t=r.exec(s))){l.push(s.substring(u));break}if(l.push(s.substring(u,t.index)),u=t.index+t[0].length,!a[t[1]])throw new Error('Unknown Operator "'+t[1]+'" in "'+t[0]+'"');if(!t[3])throw new Error('Unclosed Expression "'+t[0]+'"');e=t[2].split(",");for(var d=0,h=e.length;d<h;d++){if(null===(n=e[d].match(o)))throw new Error('Invalid Variable "'+e[d]+'" in "'+t[0]+'"');if(n[1].match(c))throw new Error('Invalid Variable Name "'+n[1]+'" in "'+t[0]+'"');e[d]={name:n[1],explode:!!n[3],maxlength:n[4]&&parseInt(n[4],10)}}if(!e.length)throw new Error('Expression Missing Variable(s) "'+t[0]+'"');l.push({expression:t[0],operator:t[1],variables:e})}return l.length||l.push(s),this.parts=l,this},n.prototype.get=function(e){var t,i,n,s=this.data,o={type:0,val:[],encode:[],encodeReserved:[]};if(void 0!==this.cache[e])return this.cache[e];if(this.cache[e]=o,void 0===(n="[object Function]"===String(Object.prototype.toString.call(s))?s(e):"[object Function]"===String(Object.prototype.toString.call(s[e]))?s[e](e):s[e])||null===n)return o;if("[object Array]"===String(Object.prototype.toString.call(n))){for(t=0,i=n.length;t<i;t++)void 0!==n[t]&&null!==n[t]&&o.val.push([void 0,String(n[t])]);o.val.length&&(o.type=3)}else if("[object Object]"===String(Object.prototype.toString.call(n))){for(t in n)r.call(n,t)&&void 0!==n[t]&&null!==n[t]&&o.val.push([t,String(n[t])]);o.val.length&&(o.type=2)}else o.type=1,o.val.push([void 0,String(n)]);return o},e.expand=function(t,n){var s=new i(t),r=s.expand(n);return new e(r)},i})},,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAIICAMAAAAWgT0mAAAAYFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD6T+iNAAAAIHRSTlMAt/+ANr7Y9FEgxEDr+0cCF12ufA2Z4yhyCEyMZ1Wgzz2snYUAAASxSURBVHgB7dyH0qLMFoXh5aIFRVoQAUUE7v8uj5R+dMmRZmuN9U/YT4WJL2EDPRGhlPqbrMgV3sWbfzxa0aF0hpz4ViQ/PL24gkdDKaWUUr81pb+H/d0ppZRSSgXB5OuShgwmXxdFDKZflVeukVeukVeyZlLJG1e55quRO7zvDkI+cvnFld9G37hhpY/G55RSSikTrMMoCteBgdQm5CjcQGIb80m8xaJdwolkt9hYcsouVNuELyRb+Ljz2QN7d17euXGEG458MwznohCzDPl8eI7BnICzAsxZc9Zackru8JZOKuLcIBj92iicj0LRIHAjGkQwiUQjN/OR+bW3kfyG/fzRkD+E8sf9CwuLbAmTL5ZfWJbllFJKpSnelB3yJMkPGcTMMbYc0MZHg2XFpqz4pCo3BTxO57XlC3Z9PmEOPX5ttD2vIr4Qrc5beNSX/x/EpYbjn8dkAsLJe2fthM2+xgv1vgl904tW1+1kOtdVJBh52Ozqxy52TSi/TlF+3W6veaTXSa/Tf3adfh9KKaWKmKOPKngEHAVPlaRx1XLEaYSDOHJNa2URHNfIItfYQyyNXNOiiKWRazBUwsg1QyWLXDMoRNHeNUEAxxsV8diQgSwaqnsD3kgjFHu8ETl/TTT1nSjgSwGE1aT5+ymllDLHvKryo4Fc0fGhKyBkKo4qA5FiaMpLll3KoSog0ZHVDhjsKrKDgCE5NPeKpMGyI1liVJJHLMvJC0YXMseyiswwysjqkyj55PD6TwZRfmvk04sbfnAbkcHbN6yr5I9G6CrZQ5j0pUHgKrk/pZJHrpI3rnpqlFJKBZwRyBtRRY9vR/1xs9uU70XnFDftW1EHvB3Z4oMoxM2hf28QOW5CiiN3SvyLIjioPohqfhCdPokuf8HINQrmI/ES6yJfo5RS6vdWmPaUYkFdPH2rsSSTA+pDV2PWJS7gmp53ccQr5jV0FRqOmrbFrDVZ7XFXW/6wdl379nTTZRgYOr4GFw7sapMCLZ0TPOqYd1Gfd3QyeLQm5As2hceKEV+o4HPkSzl8ioqvXOFlkheNzeC37SJOdVgQxAkn7AkLjOVUiUXttOprLDvlER1GJ4i0CUeJgUC6i+lUy/sxQddHdGxTSM6ntBxF3Qky2bXJ+ygJV+WlhlJKqd9Dapr7e6mNSSFTnxOOknMNgU3FJ9Xmo78qDrCg4wudaD+2L68mM9emF+xrwwF7gx/XaOlF6rrijT2mALJ9a2oA2zVvqhpzzhxchh3c86b4+a3ZGTPS5HHW2YoPYfF4tzpJfW+hVwWQk4zc4Drfe+jN4zhasjLYJxxkwIE3je/N+h3QkwcAJR/fPvnerQ9J2gJpRJv9XLMhT63nlfeIZAWcyHjcMfdA4fu8gOR+Dtl9s3XEwQkwvih+bLmiHSbNwfC1lp7D6x632YEsgOM48qNvEEfeJMPxhQDyn1NKK9/I9xz0pwvLIfrZ0ZW+i4ueA2uHOcP0tF16v4s9txEOfNhiYDIAxYreGxZp5f4Y0xQYbEMuPBrYWA5yoLDh2ZhzHgk+zeD8cyybd5aW5nGTlpKFxVWWPCGtJPtxTM8CB9li6aRnIBQvy05x7OLE/QKg1G/ifyZmTPT8xDL0AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAIICAMAAAAWgT0mAAAAYFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////98JRy6AAAAIHRSTlMAt/+ANr7Y9FEgxEDr+0cCF12ufA2Z4yhyCEyMZ1Wgzz2snYUAAASxSURBVHgB7dyH0qLMFoXh5aIFRVoQAUUE7v8uj5R+dMmRZmuN9U/YT4WJL2EDPRGhlPqbrMgV3sWbfzxa0aF0hpz4ViQ/PL24gkdDKaWUUr81pb+H/d0ppZRSSgXB5OuShgwmXxdFDKZflVeukVeukVeyZlLJG1e55quRO7zvDkI+cvnFld9G37hhpY/G55RSSikTrMMoCteBgdQm5CjcQGIb80m8xaJdwolkt9hYcsouVNuELyRb+Ljz2QN7d17euXGEG458MwznohCzDPl8eI7BnICzAsxZc9Zackru8JZOKuLcIBj92iicj0LRIHAjGkQwiUQjN/OR+bW3kfyG/fzRkD+E8sf9CwuLbAmTL5ZfWJbllFJKpSnelB3yJMkPGcTMMbYc0MZHg2XFpqz4pCo3BTxO57XlC3Z9PmEOPX5ttD2vIr4Qrc5beNSX/x/EpYbjn8dkAsLJe2fthM2+xgv1vgl904tW1+1kOtdVJBh52Ozqxy52TSi/TlF+3W6veaTXSa/Tf3adfh9KKaWKmKOPKngEHAVPlaRx1XLEaYSDOHJNa2URHNfIItfYQyyNXNOiiKWRazBUwsg1QyWLXDMoRNHeNUEAxxsV8diQgSwaqnsD3kgjFHu8ETl/TTT1nSjgSwGE1aT5+ymllDLHvKryo4Fc0fGhKyBkKo4qA5FiaMpLll3KoSog0ZHVDhjsKrKDgCE5NPeKpMGyI1liVJJHLMvJC0YXMseyiswwysjqkyj55PD6TwZRfmvk04sbfnAbkcHbN6yr5I9G6CrZQ5j0pUHgKrk/pZJHrpI3rnpqlFJKBZwRyBtRRY9vR/1xs9uU70XnFDftW1EHvB3Z4oMoxM2hf28QOW5CiiN3SvyLIjioPohqfhCdPokuf8HINQrmI/ES6yJfo5RS6vdWmPaUYkFdPH2rsSSTA+pDV2PWJS7gmp53ccQr5jV0FRqOmrbFrDVZ7XFXW/6wdl379nTTZRgYOr4GFw7sapMCLZ0TPOqYd1Gfd3QyeLQm5As2hceKEV+o4HPkSzl8ioqvXOFlkheNzeC37SJOdVgQxAkn7AkLjOVUiUXttOprLDvlER1GJ4i0CUeJgUC6i+lUy/sxQddHdGxTSM6ntBxF3Qky2bXJ+ygJV+WlhlJKqd9Dapr7e6mNSSFTnxOOknMNgU3FJ9Xmo78qDrCg4wudaD+2L68mM9emF+xrwwF7gx/XaOlF6rrijT2mALJ9a2oA2zVvqhpzzhxchh3c86b4+a3ZGTPS5HHW2YoPYfF4tzpJfW+hVwWQk4zc4Drfe+jN4zhasjLYJxxkwIE3je/N+h3QkwcAJR/fPvnerQ9J2gJpRJv9XLMhT63nlfeIZAWcyHjcMfdA4fu8gOR+Dtl9s3XEwQkwvih+bLmiHSbNwfC1lp7D6x632YEsgOM48qNvEEfeJMPxhQDyn1NKK9/I9xz0pwvLIfrZ0ZW+i4ueA2uHOcP0tF16v4s9txEOfNhiYDIAxYreGxZp5f4Y0xQYbEMuPBrYWA5yoLDh2ZhzHgk+zeD8cyybd5aW5nGTlpKFxVWWPCGtJPtxTM8CB9li6aRnIBQvy05x7OLE/QKg1G/ifyZmTPT8xDL0AAAAAElFTkSuQmCC"},,,function(e,t,i){i(704),e.exports=i(703)}],[2066]);